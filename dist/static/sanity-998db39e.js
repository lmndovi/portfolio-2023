function Qv(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Uu(e){return Qv(e)&&typeof e._ref=="string"}function C$e(e){return Qv(e)&&Uu(e.asset)&&e.asset._ref.startsWith("image-")}function ege(e){return Qv(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function OPn(e){return Qv(e)&&typeof e._id=="string"&&typeof e._type=="string"}function U4(e){return Qv(e)&&typeof e._type=="string"}function bl(e){return Qv(e)&&typeof e._key=="string"}function _$e(e){return e.level==="error"}const S$e=/_key\s*==\s*['"](.*)['"]/,E$e=/^\d*:\d*$/;function pc(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Pr(e){return typeof e=="string"?S$e.test(e.trim()):typeof e=="object"&&"_key"in e}function Cp(e){if(typeof e=="string"&&E$e.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function i2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Wu(e){return i2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>i2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>i2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Gs(e){return i2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function k$e(e){return Wu(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function Xp(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ua(e){return Xp(e)?e.jsonType==="object":!1}function Al(e){return Xp(e)?e.jsonType==="array":!1}function W4(e){return Al(e)&&e.of.every(t=>Ua(t))}function j$e(e){return Al(e)&&e.of.every(t=>nge(t))}function Rx(e){return Xp(e)?e.jsonType==="boolean":!1}function tge(e){return Xp(e)?e.jsonType==="string":!1}function _p(e){return Xp(e)?e.jsonType==="number":!1}function nge(e){return Rx(e)||tge(e)||_p(e)}function gf(e){return Xp(e)&&(e.name==="reference"||gf(e.type))}function Y4(e){return Xp(e)&&(e.name==="crossDatasetReference"||Y4(e.type))}function q4(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function Mx(e,t){return e}function An(e,t){return e}function T$e(e,t){return e}function A$e(e){return e.level==="error"}function D$e(e){return e.level==="warning"}var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I$e(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var rge={exports:{}},vk={},oge={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=Symbol.for("react.element"),P$e=Symbol.for("react.portal"),O$e=Symbol.for("react.fragment"),$$e=Symbol.for("react.strict_mode"),R$e=Symbol.for("react.profiler"),M$e=Symbol.for("react.provider"),F$e=Symbol.for("react.context"),L$e=Symbol.for("react.forward_ref"),B$e=Symbol.for("react.suspense"),N$e=Symbol.for("react.memo"),z$e=Symbol.for("react.lazy"),ez=Symbol.iterator;function V$e(e){return e===null||typeof e!="object"?null:(e=ez&&e[ez]||e["@@iterator"],typeof e=="function"?e:null)}var ige={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sge=Object.assign,age={};function Jv(e,t,n){this.props=e,this.context=t,this.refs=age,this.updater=n||ige}Jv.prototype.isReactComponent={};Jv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lge(){}lge.prototype=Jv.prototype;function G4(e,t,n){this.props=e,this.context=t,this.refs=age,this.updater=n||ige}var K4=G4.prototype=new lge;K4.constructor=G4;sge(K4,Jv.prototype);K4.isPureReactComponent=!0;var tz=Array.isArray,cge=Object.prototype.hasOwnProperty,Z4={current:null},uge={key:!0,ref:!0,__self:!0,__source:!0};function dge(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)cge.call(t,r)&&!uge.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Fx,type:e,key:i,ref:s,props:o,_owner:Z4.current}}function H$e(e,t){return{$$typeof:Fx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function X4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fx}function U$e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nz=/\/+/g;function eD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U$e(""+e.key):t.toString(36)}function s2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Fx:case P$e:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+eD(s,0):r,tz(o)?(n="",e!=null&&(n=e.replace(nz,"$&/")+"/"),s2(o,t,n,"",function(u){return u})):o!=null&&(X4(o)&&(o=H$e(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(nz,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",tz(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+eD(i,a);s+=s2(i,t,n,l,o)}else if(l=V$e(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+eD(i,a++),s+=s2(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function uC(e,t,n){if(e==null)return e;var r=[],o=0;return s2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function W$e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gi={current:null},a2={transition:null},Y$e={ReactCurrentDispatcher:Gi,ReactCurrentBatchConfig:a2,ReactCurrentOwner:Z4};Vt.Children={map:uC,forEach:function(e,t,n){uC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uC(e,function(){t++}),t},toArray:function(e){return uC(e,function(t){return t})||[]},only:function(e){if(!X4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=Jv;Vt.Fragment=O$e;Vt.Profiler=R$e;Vt.PureComponent=G4;Vt.StrictMode=$$e;Vt.Suspense=B$e;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y$e;Vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sge({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Z4.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)cge.call(t,l)&&!uge.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fx,type:e.type,key:o,ref:i,props:r,_owner:s}};Vt.createContext=function(e){return e={$$typeof:F$e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M$e,_context:e},e.Consumer=e};Vt.createElement=dge;Vt.createFactory=function(e){var t=dge.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:L$e,render:e}};Vt.isValidElement=X4;Vt.lazy=function(e){return{$$typeof:z$e,_payload:{_status:-1,_result:e},_init:W$e}};Vt.memo=function(e,t){return{$$typeof:N$e,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=a2.transition;a2.transition={};try{e()}finally{a2.transition=t}};Vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vt.useCallback=function(e,t){return Gi.current.useCallback(e,t)};Vt.useContext=function(e){return Gi.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return Gi.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return Gi.current.useEffect(e,t)};Vt.useId=function(){return Gi.current.useId()};Vt.useImperativeHandle=function(e,t,n){return Gi.current.useImperativeHandle(e,t,n)};Vt.useInsertionEffect=function(e,t){return Gi.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return Gi.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return Gi.current.useMemo(e,t)};Vt.useReducer=function(e,t,n){return Gi.current.useReducer(e,t,n)};Vt.useRef=function(e){return Gi.current.useRef(e)};Vt.useState=function(e){return Gi.current.useState(e)};Vt.useSyncExternalStore=function(e,t,n){return Gi.current.useSyncExternalStore(e,t,n)};Vt.useTransition=function(){return Gi.current.useTransition()};Vt.version="18.2.0";oge.exports=Vt;var h=oge.exports;const se=Ie(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q$e=h,G$e=Symbol.for("react.element"),K$e=Symbol.for("react.fragment"),Z$e=Object.prototype.hasOwnProperty,X$e=q$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q$e={key:!0,ref:!0,__self:!0,__source:!0};function fge(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Z$e.call(t,r)&&!Q$e.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:G$e,type:e,key:i,ref:s,props:o,_owner:X$e.current}}vk.Fragment=K$e;vk.jsx=fge;vk.jsxs=fge;rge.exports=vk;var c=rge.exports;const J$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eRe=/_key\s*==\s*['"](.*)['"]/,hge=[],pge="$";function e0(e,t,n){const r=typeof t=="string"?vf(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(pc(s)){if(!Array.isArray(o))return n;o=o[s]}if(Pr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const tD=new Map;function Qp(e){if(e.length===0)return hge;const t=vr(e);return tD.has(t)?tD.get(t):(tD.set(t,e),Object.freeze(e),e)}function xn(e,t){return e.length===t.length&&e.every((n,r)=>yk(n,t[r]))}function tRe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!yk(e[r],t[r]))return r;return n}function yk(e,t){return Pr(e)&&Pr(t)?e._key===t._key:pc(e)?Number(e)===Number(t):Cp(e)&&Cp(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function hi(e,t){return e.every((n,r)=>yk(n,t[r]))}function ky(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return yk(n,o)?Qp(ky(r,i)):t}function Q4(e,t){return hi(e,t)?ky(e,t):hge}function vr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function u3(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...u3(i,r)]}const o=e0(e,[n]);return[n,...u3(o,r)]}function nRe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return Qp(u3(e,t))}function vf(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(J$e);if(!t)throw new Error("Invalid path string");return t.map(rRe)}function rRe(e){return pc(e)?oRe(e):Pr(e)?iRe(e):Cp(e)?sRe(e):e}function oRe(e){return Number(e.replace(/[^\d]/g,""))}function iRe(e){return{_key:e.match(eRe)[1]}}function sRe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var aRe=typeof Element<"u",lRe=typeof Map=="function",cRe=typeof Set=="function",uRe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!l2(e[r],t[r]))return!1;return!0}var i;if(lRe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!l2(r.value[1],t.get(r.value[0])))return!1;return!0}if(cRe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(uRe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(aRe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!l2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var dRe=function(t,n){try{return l2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const J4=Ie(dRe);function fRe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wa=fRe;const Lx=Ie(Wa);var hRe=typeof gs=="object"&&gs&&gs.Object===Object&&gs,mge=hRe,pRe=mge,mRe=typeof self=="object"&&self&&self.Object===Object&&self,gRe=pRe||mRe||Function("return this")(),Dl=gRe,vRe=Dl,yRe=function(){return vRe.Date.now()},bRe=yRe,xRe=/\s/;function wRe(e){for(var t=e.length;t--&&xRe.test(e.charAt(t)););return t}var CRe=wRe,_Re=CRe,SRe=/^\s+/;function ERe(e){return e&&e.slice(0,_Re(e)+1).replace(SRe,"")}var gge=ERe,kRe=Dl,jRe=kRe.Symbol,t0=jRe,rz=t0,vge=Object.prototype,TRe=vge.hasOwnProperty,ARe=vge.toString,a1=rz?rz.toStringTag:void 0;function DRe(e){var t=TRe.call(e,a1),n=e[a1];try{e[a1]=void 0;var r=!0}catch{}var o=ARe.call(e);return r&&(t?e[a1]=n:delete e[a1]),o}var IRe=DRe,PRe=Object.prototype,ORe=PRe.toString;function $Re(e){return ORe.call(e)}var RRe=$Re,oz=t0,MRe=IRe,FRe=RRe,LRe="[object Null]",BRe="[object Undefined]",iz=oz?oz.toStringTag:void 0;function NRe(e){return e==null?e===void 0?BRe:LRe:iz&&iz in Object(e)?MRe(e):FRe(e)}var Nf=NRe;function zRe(e){return e!=null&&typeof e=="object"}var Ya=zRe,VRe=Nf,HRe=Ya,URe="[object Symbol]";function WRe(e){return typeof e=="symbol"||HRe(e)&&VRe(e)==URe}var Jp=WRe,YRe=gge,sz=Wa,qRe=Jp,az=0/0,GRe=/^[-+]0x[0-9a-f]+$/i,KRe=/^0b[01]+$/i,ZRe=/^0o[0-7]+$/i,XRe=parseInt;function QRe(e){if(typeof e=="number")return e;if(qRe(e))return az;if(sz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=YRe(e);var n=KRe.test(e);return n||ZRe.test(e)?XRe(e.slice(2),n?2:8):GRe.test(e)?az:+e}var yge=QRe,JRe=Wa,nD=bRe,lz=yge,eMe="Expected a function",tMe=Math.max,nMe=Math.min;function rMe(e,t,n){var r,o,i,s,a,l,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(eMe);t=lz(t)||0,JRe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?tMe(lz(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-l,j=S-u,k=t-E;return f?nMe(k,i-j):k}function y(S){var E=S-l,j=S-u;return l===void 0||E>=t||E<0||f&&j>=i}function x(){var S=nD();if(y(S))return b(S);a=setTimeout(x,g(S))}function b(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=o=a=void 0}function C(){return a===void 0?s:b(nD())}function _(){var S=nD(),E=y(S);if(r=arguments,o=this,l=S,E){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(x,t),m(l)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var bge=rMe;const Bx=Ie(bge);function eF(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var xge={exports:{}},En={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF=Symbol.for("react.element"),nF=Symbol.for("react.portal"),bk=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),wk=Symbol.for("react.profiler"),Ck=Symbol.for("react.provider"),_k=Symbol.for("react.context"),oMe=Symbol.for("react.server_context"),Sk=Symbol.for("react.forward_ref"),Ek=Symbol.for("react.suspense"),kk=Symbol.for("react.suspense_list"),jk=Symbol.for("react.memo"),Tk=Symbol.for("react.lazy"),iMe=Symbol.for("react.offscreen"),wge;wge=Symbol.for("react.module.reference");function qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tF:switch(e=e.type,e){case bk:case wk:case xk:case Ek:case kk:return e;default:switch(e=e&&e.$$typeof,e){case oMe:case _k:case Sk:case Tk:case jk:case Ck:return e;default:return t}}case nF:return t}}}En.ContextConsumer=_k;En.ContextProvider=Ck;En.Element=tF;En.ForwardRef=Sk;En.Fragment=bk;En.Lazy=Tk;En.Memo=jk;En.Portal=nF;En.Profiler=wk;En.StrictMode=xk;En.Suspense=Ek;En.SuspenseList=kk;En.isAsyncMode=function(){return!1};En.isConcurrentMode=function(){return!1};En.isContextConsumer=function(e){return qa(e)===_k};En.isContextProvider=function(e){return qa(e)===Ck};En.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tF};En.isForwardRef=function(e){return qa(e)===Sk};En.isFragment=function(e){return qa(e)===bk};En.isLazy=function(e){return qa(e)===Tk};En.isMemo=function(e){return qa(e)===jk};En.isPortal=function(e){return qa(e)===nF};En.isProfiler=function(e){return qa(e)===wk};En.isStrictMode=function(e){return qa(e)===xk};En.isSuspense=function(e){return qa(e)===Ek};En.isSuspenseList=function(e){return qa(e)===kk};En.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bk||e===wk||e===xk||e===Ek||e===kk||e===iMe||typeof e=="object"&&e!==null&&(e.$$typeof===Tk||e.$$typeof===jk||e.$$typeof===Ck||e.$$typeof===_k||e.$$typeof===Sk||e.$$typeof===wge||e.getModuleId!==void 0)};En.typeOf=qa;xge.exports=En;var sr=xge.exports;const sMe=Ie(sr);function aMe(e){function t(H,Q,F,G,z){for(var Z=0,K=0,J=0,X=0,ee,re,de=0,ie=0,fe,xe=fe=ee=0,be=0,ve=0,qe=0,Le=0,ot=F.length,Qe=ot-1,lt,_e="",me="",We="",Ge="",$e;be<ot;){if(re=F.charCodeAt(be),be===Qe&&K+X+J+Z!==0&&(K!==0&&(re=K===47?10:47),X=J=Z=0,ot++,Qe++),K+X+J+Z===0){if(be===Qe&&(0<ve&&(_e=_e.replace(p,"")),0<_e.trim().length)){switch(re){case 32:case 9:case 59:case 13:case 10:break;default:_e+=F.charAt(be)}re=59}switch(re){case 123:for(_e=_e.trim(),ee=_e.charCodeAt(0),fe=1,Le=++be;be<ot;){switch(re=F.charCodeAt(be)){case 123:fe++;break;case 125:fe--;break;case 47:switch(re=F.charCodeAt(be+1)){case 42:case 47:e:{for(xe=be+1;xe<Qe;++xe)switch(F.charCodeAt(xe)){case 47:if(re===42&&F.charCodeAt(xe-1)===42&&be+2!==xe){be=xe+1;break e}break;case 10:if(re===47){be=xe+1;break e}}be=xe}}break;case 91:re++;case 40:re++;case 34:case 39:for(;be++<Qe&&F.charCodeAt(be)!==re;);}if(fe===0)break;be++}switch(fe=F.substring(Le,be),ee===0&&(ee=(_e=_e.replace(f,"").trim()).charCodeAt(0)),ee){case 64:switch(0<ve&&(_e=_e.replace(p,"")),re=_e.charCodeAt(1),re){case 100:case 109:case 115:case 45:ve=Q;break;default:ve=$}if(fe=t(Q,ve,fe,re,z+1),Le=fe.length,0<L&&(ve=n($,_e,qe),$e=a(3,fe,ve,Q,I,D,Le,re,z,G),_e=ve.join(""),$e!==void 0&&(Le=(fe=$e.trim()).length)===0&&(re=0,fe="")),0<Le)switch(re){case 115:_e=_e.replace(S,s);case 100:case 109:case 45:fe=_e+"{"+fe+"}";break;case 107:_e=_e.replace(b,"$1 $2"),fe=_e+"{"+fe+"}",fe=R===1||R===2&&i("@"+fe,3)?"@-webkit-"+fe+"@"+fe:"@"+fe;break;default:fe=_e+fe,G===112&&(fe=(me+=fe,""))}else fe="";break;default:fe=t(Q,n(Q,_e,qe),fe,G,z+1)}We+=fe,fe=qe=ve=xe=ee=0,_e="",re=F.charCodeAt(++be);break;case 125:case 59:if(_e=(0<ve?_e.replace(p,""):_e).trim(),1<(Le=_e.length))switch(xe===0&&(ee=_e.charCodeAt(0),ee===45||96<ee&&123>ee)&&(Le=(_e=_e.replace(" ",":")).length),0<L&&($e=a(1,_e,Q,H,I,D,me.length,G,z,G))!==void 0&&(Le=(_e=$e.trim()).length)===0&&(_e="\0\0"),ee=_e.charCodeAt(0),re=_e.charCodeAt(1),ee){case 0:break;case 64:if(re===105||re===99){Ge+=_e+F.charAt(be);break}default:_e.charCodeAt(Le-1)!==58&&(me+=o(_e,ee,re,_e.charCodeAt(2)))}qe=ve=xe=ee=0,_e="",re=F.charCodeAt(++be)}}switch(re){case 13:case 10:K===47?K=0:1+ee===0&&G!==107&&0<_e.length&&(ve=1,_e+="\0"),0<L*Y&&a(0,_e,Q,H,I,D,me.length,G,z,G),D=1,I++;break;case 59:case 125:if(K+X+J+Z===0){D++;break}default:switch(D++,lt=F.charAt(be),re){case 9:case 32:if(X+Z+K===0)switch(de){case 44:case 58:case 9:case 32:lt="";break;default:re!==32&&(lt=" ")}break;case 0:lt="\\0";break;case 12:lt="\\f";break;case 11:lt="\\v";break;case 38:X+K+Z===0&&(ve=qe=1,lt="\f"+lt);break;case 108:if(X+K+Z+P===0&&0<xe)switch(be-xe){case 2:de===112&&F.charCodeAt(be-3)===58&&(P=de);case 8:ie===111&&(P=ie)}break;case 58:X+K+Z===0&&(xe=be);break;case 44:K+J+X+Z===0&&(ve=1,lt+="\r");break;case 34:case 39:K===0&&(X=X===re?0:X===0?re:X);break;case 91:X+K+J===0&&Z++;break;case 93:X+K+J===0&&Z--;break;case 41:X+K+Z===0&&J--;break;case 40:if(X+K+Z===0){if(ee===0)switch(2*de+3*ie){case 533:break;default:ee=1}J++}break;case 64:K+J+X+Z+xe+fe===0&&(fe=1);break;case 42:case 47:if(!(0<X+Z+J))switch(K){case 0:switch(2*re+3*F.charCodeAt(be+1)){case 235:K=47;break;case 220:Le=be,K=42}break;case 42:re===47&&de===42&&Le+2!==be&&(F.charCodeAt(Le+2)===33&&(me+=F.substring(Le,be+1)),lt="",K=0)}}K===0&&(_e+=lt)}ie=de,de=re,be++}if(Le=me.length,0<Le){if(ve=Q,0<L&&($e=a(2,me,ve,H,I,D,Le,G,z,G),$e!==void 0&&(me=$e).length===0))return Ge+me+We;if(me=ve.join(",")+"{"+me+"}",R*P!==0){switch(R!==2||i(me,2)||(P=0),P){case 111:me=me.replace(C,":-moz-$1")+me;break;case 112:me=me.replace(w,"::-webkit-input-$1")+me.replace(w,"::-moz-$1")+me.replace(w,":-ms-input-$1")+me}P=0}}return Ge+me+We}function n(H,Q,F){var G=Q.trim().split(y);Q=G;var z=G.length,Z=H.length;switch(Z){case 0:case 1:var K=0;for(H=Z===0?"":H[0]+" ";K<z;++K)Q[K]=r(H,Q[K],F).trim();break;default:var J=K=0;for(Q=[];K<z;++K)for(var X=0;X<Z;++X)Q[J++]=r(H[X]+" ",G[K],F).trim()}return Q}function r(H,Q,F){var G=Q.charCodeAt(0);switch(33>G&&(G=(Q=Q.trim()).charCodeAt(0)),G){case 38:return Q.replace(x,"$1"+H.trim());case 58:return H.trim()+Q.replace(x,"$1"+H.trim());default:if(0<1*F&&0<Q.indexOf("\f"))return Q.replace(x,(H.charCodeAt(0)===58?"":"$1")+H.trim())}return H+Q}function o(H,Q,F,G){var z=H+";",Z=2*Q+3*F+4*G;if(Z===944){H=z.indexOf(":",9)+1;var K=z.substring(H,z.length-1).trim();return K=z.substring(0,H).trim()+K+";",R===1||R===2&&i(K,1)?"-webkit-"+K+K:K}if(R===0||R===2&&!i(z,1))return z;switch(Z){case 1015:return z.charCodeAt(10)===97?"-webkit-"+z+z:z;case 951:return z.charCodeAt(3)===116?"-webkit-"+z+z:z;case 963:return z.charCodeAt(5)===110?"-webkit-"+z+z:z;case 1009:if(z.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+z+z;case 978:return"-webkit-"+z+"-moz-"+z+z;case 1019:case 983:return"-webkit-"+z+"-moz-"+z+"-ms-"+z+z;case 883:if(z.charCodeAt(8)===45)return"-webkit-"+z+z;if(0<z.indexOf("image-set(",11))return z.replace(A,"$1-webkit-$2")+z;break;case 932:if(z.charCodeAt(4)===45)switch(z.charCodeAt(5)){case 103:return"-webkit-box-"+z.replace("-grow","")+"-webkit-"+z+"-ms-"+z.replace("grow","positive")+z;case 115:return"-webkit-"+z+"-ms-"+z.replace("shrink","negative")+z;case 98:return"-webkit-"+z+"-ms-"+z.replace("basis","preferred-size")+z}return"-webkit-"+z+"-ms-"+z+z;case 964:return"-webkit-"+z+"-ms-flex-"+z+z;case 1023:if(z.charCodeAt(8)!==99)break;return K=z.substring(z.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+K+"-webkit-"+z+"-ms-flex-pack"+K+z;case 1005:return v.test(z)?z.replace(m,":-webkit-")+z.replace(m,":-moz-")+z:z;case 1e3:switch(K=z.substring(13).trim(),Q=K.indexOf("-")+1,K.charCodeAt(0)+K.charCodeAt(Q)){case 226:K=z.replace(_,"tb");break;case 232:K=z.replace(_,"tb-rl");break;case 220:K=z.replace(_,"lr");break;default:return z}return"-webkit-"+z+"-ms-"+K+z;case 1017:if(z.indexOf("sticky",9)===-1)break;case 975:switch(Q=(z=H).length-10,K=(z.charCodeAt(Q)===33?z.substring(0,Q):z).substring(H.indexOf(":",7)+1).trim(),Z=K.charCodeAt(0)+(K.charCodeAt(7)|0)){case 203:if(111>K.charCodeAt(8))break;case 115:z=z.replace(K,"-webkit-"+K)+";"+z;break;case 207:case 102:z=z.replace(K,"-webkit-"+(102<Z?"inline-":"")+"box")+";"+z.replace(K,"-webkit-"+K)+";"+z.replace(K,"-ms-"+K+"box")+";"+z}return z+";";case 938:if(z.charCodeAt(5)===45)switch(z.charCodeAt(6)){case 105:return K=z.replace("-items",""),"-webkit-"+z+"-webkit-box-"+K+"-ms-flex-"+K+z;case 115:return"-webkit-"+z+"-ms-flex-item-"+z.replace(j,"")+z;default:return"-webkit-"+z+"-ms-flex-line-pack"+z.replace("align-content","").replace(j,"")+z}break;case 973:case 989:if(z.charCodeAt(3)!==45||z.charCodeAt(4)===122)break;case 931:case 953:if(T.test(H)===!0)return(K=H.substring(H.indexOf(":")+1)).charCodeAt(0)===115?o(H.replace("stretch","fill-available"),Q,F,G).replace(":fill-available",":stretch"):z.replace(K,"-webkit-"+K)+z.replace(K,"-moz-"+K.replace("fill-",""))+z;break;case 962:if(z="-webkit-"+z+(z.charCodeAt(5)===102?"-ms-"+z:"")+z,F+G===211&&z.charCodeAt(13)===105&&0<z.indexOf("transform",10))return z.substring(0,z.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+z}return z}function i(H,Q){var F=H.indexOf(Q===1?":":"{"),G=H.substring(0,Q!==3?F:10);return F=H.substring(F+1,H.length-1),W(Q!==2?G:G.replace(k,"$1"),F,Q)}function s(H,Q){var F=o(Q,Q.charCodeAt(0),Q.charCodeAt(1),Q.charCodeAt(2));return F!==Q+";"?F.replace(E," or ($1)").substring(4):"("+Q+")"}function a(H,Q,F,G,z,Z,K,J,X,ee){for(var re=0,de=Q,ie;re<L;++re)switch(ie=U[re].call(d,H,de,F,G,z,Z,K,J,X,ee)){case void 0:case!1:case!0:case null:break;default:de=ie}if(de!==Q)return de}function l(H){switch(H){case void 0:case null:L=U.length=0;break;default:if(typeof H=="function")U[L++]=H;else if(typeof H=="object")for(var Q=0,F=H.length;Q<F;++Q)l(H[Q]);else Y=!!H|0}return l}function u(H){return H=H.prefix,H!==void 0&&(W=null,H?typeof H!="function"?R=1:(R=2,W=H):R=0),u}function d(H,Q){var F=H;if(33>F.charCodeAt(0)&&(F=F.trim()),V=F,F=[V],0<L){var G=a(-1,Q,F,F,I,D,0,0,0,0);G!==void 0&&typeof G=="string"&&(Q=G)}var z=t($,F,Q,0,0);return 0<L&&(G=a(-2,z,F,F,I,D,z.length,0,0,0),G!==void 0&&(z=G)),V="",P=0,D=I=1,z}var f=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,v=/zoo|gra/,g=/([,: ])(transform)/g,y=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,C=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,j=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,D=1,I=1,P=0,R=1,$=[],U=[],L=0,W=null,Y=0,V="";return d.use=l,d.set=u,e!==void 0&&u(e),d}var lMe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function cMe(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var uMe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cz=cMe(function(e){return uMe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Cge={exports:{}},kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=typeof Symbol=="function"&&Symbol.for,rF=Lo?Symbol.for("react.element"):60103,oF=Lo?Symbol.for("react.portal"):60106,Ak=Lo?Symbol.for("react.fragment"):60107,Dk=Lo?Symbol.for("react.strict_mode"):60108,Ik=Lo?Symbol.for("react.profiler"):60114,Pk=Lo?Symbol.for("react.provider"):60109,Ok=Lo?Symbol.for("react.context"):60110,iF=Lo?Symbol.for("react.async_mode"):60111,$k=Lo?Symbol.for("react.concurrent_mode"):60111,Rk=Lo?Symbol.for("react.forward_ref"):60112,Mk=Lo?Symbol.for("react.suspense"):60113,dMe=Lo?Symbol.for("react.suspense_list"):60120,Fk=Lo?Symbol.for("react.memo"):60115,Lk=Lo?Symbol.for("react.lazy"):60116,fMe=Lo?Symbol.for("react.block"):60121,hMe=Lo?Symbol.for("react.fundamental"):60117,pMe=Lo?Symbol.for("react.responder"):60118,mMe=Lo?Symbol.for("react.scope"):60119;function oa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rF:switch(e=e.type,e){case iF:case $k:case Ak:case Ik:case Dk:case Mk:return e;default:switch(e=e&&e.$$typeof,e){case Ok:case Rk:case Lk:case Fk:case Pk:return e;default:return t}}case oF:return t}}}function _ge(e){return oa(e)===$k}kn.AsyncMode=iF;kn.ConcurrentMode=$k;kn.ContextConsumer=Ok;kn.ContextProvider=Pk;kn.Element=rF;kn.ForwardRef=Rk;kn.Fragment=Ak;kn.Lazy=Lk;kn.Memo=Fk;kn.Portal=oF;kn.Profiler=Ik;kn.StrictMode=Dk;kn.Suspense=Mk;kn.isAsyncMode=function(e){return _ge(e)||oa(e)===iF};kn.isConcurrentMode=_ge;kn.isContextConsumer=function(e){return oa(e)===Ok};kn.isContextProvider=function(e){return oa(e)===Pk};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rF};kn.isForwardRef=function(e){return oa(e)===Rk};kn.isFragment=function(e){return oa(e)===Ak};kn.isLazy=function(e){return oa(e)===Lk};kn.isMemo=function(e){return oa(e)===Fk};kn.isPortal=function(e){return oa(e)===oF};kn.isProfiler=function(e){return oa(e)===Ik};kn.isStrictMode=function(e){return oa(e)===Dk};kn.isSuspense=function(e){return oa(e)===Mk};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ak||e===$k||e===Ik||e===Dk||e===Mk||e===dMe||typeof e=="object"&&e!==null&&(e.$$typeof===Lk||e.$$typeof===Fk||e.$$typeof===Pk||e.$$typeof===Ok||e.$$typeof===Rk||e.$$typeof===hMe||e.$$typeof===pMe||e.$$typeof===mMe||e.$$typeof===fMe)};kn.typeOf=oa;Cge.exports=kn;var gMe=Cge.exports,sF=gMe,vMe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yMe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bMe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sge={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aF={};aF[sF.ForwardRef]=bMe;aF[sF.Memo]=Sge;function uz(e){return sF.isMemo(e)?Sge:aF[e.$$typeof]||vMe}var xMe=Object.defineProperty,wMe=Object.getOwnPropertyNames,dz=Object.getOwnPropertySymbols,CMe=Object.getOwnPropertyDescriptor,_Me=Object.getPrototypeOf,fz=Object.prototype;function Ege(e,t,n){if(typeof t!="string"){if(fz){var r=_Me(t);r&&r!==fz&&Ege(e,r,n)}var o=wMe(t);dz&&(o=o.concat(dz(t)));for(var i=uz(e),s=uz(t),a=0;a<o.length;++a){var l=o[a];if(!yMe[l]&&!(n&&n[l])&&!(s&&s[l])&&!(i&&i[l])){var u=CMe(t,l);try{xMe(e,l,u)}catch{}}}}return e}var SMe=Ege;const EMe=Ie(SMe);function ul(){return(ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var hz=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},d3=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!sr.typeOf(e)},ES=Object.freeze([]),Zd=Object.freeze({});function gv(e){return typeof e=="function"}function pz(e){return e.displayName||e.name||"Component"}function lF(e){return e&&typeof e.styledComponentId=="string"}var vv=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",cF=typeof window<"u"&&"HTMLElement"in window,kMe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),jMe={};function Sp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var TMe=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,i=o.length,s=i;n>=s;)(s<<=1)<0&&Sp(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),i=o+r;this.groupSizes[n]=0;for(var s=o;s<i;s++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],i=this.indexOfGroup(n),s=i+o,a=i;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},e}(),c2=new Map,kS=new Map,rD=1,dC=function(e){if(c2.has(e))return c2.get(e);for(;kS.has(rD);)rD++;var t=rD++;return c2.set(e,t),kS.set(t,e),t},AMe=function(e){return kS.get(e)},DMe=function(e,t){c2.set(e,t),kS.set(t,e)},IMe="style["+vv+'][data-styled-version="5.2.3"]',PMe=new RegExp("^"+vv+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),OMe=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},$Me=function(e,t){for(var n=t.innerHTML.split(`/*!sc*/
`),r=[],o=0,i=n.length;o<i;o++){var s=n[o].trim();if(s){var a=s.match(PMe);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(DMe(u,l),OMe(e,u,a[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(s)}}},RMe=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},kge=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var d=l[u];if(d&&d.nodeType===1&&d.hasAttribute(vv))return d}}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(vv,"active"),r.setAttribute("data-styled-version","5.2.3");var s=RMe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},MMe=function(){function e(n){var r=this.element=kge(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var l=i[s];if(l.ownerNode===o)return l}Sp(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),FMe=function(){function e(n){var r=this.element=kge(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),i=this.nodes[n];return this.element.insertBefore(o,i||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),LMe=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),mz=cF,BMe={isServer:!cF,useCSSOMInjection:!kMe},jS=function(){function e(n,r,o){n===void 0&&(n=Zd),r===void 0&&(r={}),this.options=ul({},BMe,{},n),this.gs=r,this.names=new Map(o),!this.options.isServer&&cF&&mz&&(mz=!1,function(i){for(var s=document.querySelectorAll(IMe),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(vv)!=="active"&&($Me(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(n){return dC(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(ul({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,i=r.useCSSOMInjection,s=r.target,n=o?new LMe(s):i?new MMe(s):new FMe(s),new TMe(n)));var n,r,o,i,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(dC(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(dC(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(dC(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,i="",s=0;s<o;s++){var a=AMe(s);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(s);if(l!==void 0&&u.length!==0){var d=vv+".g"+s+'[id="'+a+'"]',f="";l!==void 0&&l.forEach(function(p){p.length>0&&(f+=p+",")}),i+=""+u+d+'{content:"'+f+`"}/*!sc*/
`}}}return i}(this)},e}(),NMe=/(a)(d)/gi,gz=function(e){return String.fromCharCode(e+(e>25?39:97))};function f3(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=gz(t%52)+n;return(gz(t%52)+n).replace(NMe,"$1-$2")}var fg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},jge=function(e){return fg(5381,e)};function Tge(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(gv(n)&&!lF(n))return!1}return!0}var zMe=jge("5.2.3"),VMe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Tge(t),this.componentId=n,this.baseHash=fg(zMe,n),this.baseStyle=r,jS.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))i.push(this.staticRulesId);else{var s=Ep(this.rules,t,n,r).join(""),a=f3(fg(this.baseHash,s.length)>>>0);if(!n.hasNameForId(o,a)){var l=r(s,"."+a,void 0,o);n.insertRules(o,a,l)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=fg(this.baseHash,r.hash),f="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var v=Ep(m,t,n,r),g=Array.isArray(v)?v.join(""):v;d=fg(d,g+p),f+=g}}if(f){var y=f3(d>>>0);if(!n.hasNameForId(o,y)){var x=r(f,"."+y,void 0,o);n.insertRules(o,y,x)}i.push(y)}}return i.join(" ")},e}(),HMe=/^\s*\/\/.*$/gm,UMe=[":","[",".","#"];function WMe(e){var t,n,r,o,i=e===void 0?Zd:e,s=i.options,a=s===void 0?Zd:s,l=i.plugins,u=l===void 0?ES:l,d=new aMe(a),f=[],p=function(g){function y(x){if(x)try{g(x+"}")}catch{}}return function(x,b,w,C,_,S,E,j,k,T){switch(x){case 1:if(k===0&&b.charCodeAt(0)===64)return g(b+";"),"";break;case 2:if(j===0)return b+"/*|*/";break;case 3:switch(j){case 102:case 112:return g(w[0]+b),"";default:return b+(T===0?"/*|*/":"")}case-2:b.split("/*|*/}").forEach(y)}}}(function(g){f.push(g)}),m=function(g,y,x){return y===0&&UMe.indexOf(x[n.length])!==-1||x.match(o)?g:"."+t};function v(g,y,x,b){b===void 0&&(b="&");var w=g.replace(HMe,""),C=y&&x?x+" "+y+" { "+w+" }":w;return t=b,n=y,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(x||!y?"":y,C)}return d.use([].concat(u,[function(g,y,x){g===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(r,m))},p,function(g){if(g===-2){var y=f;return f=[],y}}])),v.hash=u.length?u.reduce(function(g,y){return y.name||Sp(15),fg(g,y.name)},5381).toString():"",v}var Age=se.createContext();Age.Consumer;var Dge=se.createContext(),YMe=(Dge.Consumer,new jS),h3=WMe();function Ige(){return h.useContext(Age)||YMe}function Pge(){return h.useContext(Dge)||h3}var Oge=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=h3);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.toString=function(){return Sp(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=h3),this.name+t.hash},e}(),qMe=/([A-Z])/,GMe=/([A-Z])/g,KMe=/^ms-/,ZMe=function(e){return"-"+e.toLowerCase()};function vz(e){return qMe.test(e)?e.replace(GMe,ZMe).replace(KMe,"-ms-"):e}var yz=function(e){return e==null||e===!1||e===""};function Ep(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],s=0,a=e.length;s<a;s+=1)(o=Ep(e[s],t,n,r))!==""&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}if(yz(e))return"";if(lF(e))return"."+e.styledComponentId;if(gv(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var l=e(t);return Ep(l,t,n,r)}var u;return e instanceof Oge?n?(e.inject(n,r),e.getName(r)):e:d3(e)?function d(f,p){var m,v,g=[];for(var y in f)f.hasOwnProperty(y)&&!yz(f[y])&&(d3(f[y])?g.push.apply(g,d(f[y],y)):gv(f[y])?g.push(vz(y)+":",f[y],";"):g.push(vz(y)+": "+(m=y,(v=f[y])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||m in lMe?String(v).trim():v+"px")+";"));return p?[p+" {"].concat(g,["}"]):g}(e):e.toString()}function he(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gv(e)||d3(e)?Ep(hz(ES,[e].concat(n))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:Ep(hz(e,n))}var $ge=function(e,t,n){return n===void 0&&(n=Zd),e.theme!==n.theme&&e.theme||t||n.theme},XMe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,QMe=/(^-|-$)/g;function oD(e){return e.replace(XMe,"-").replace(QMe,"")}var uF=function(e){return f3(jge(e)>>>0)};function fC(e){return typeof e=="string"&&!0}var p3=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},JMe=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function e4e(e,t,n){var r=e[n];p3(t)&&p3(r)?Rge(r,t):e[n]=t}function Rge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];if(p3(s))for(var a in s)JMe(a)&&e4e(e,s[a],a)}return e}var yv=se.createContext();yv.Consumer;function t4e(e){var t=h.useContext(yv),n=h.useMemo(function(){return function(r,o){if(!r)return Sp(14);if(gv(r)){var i=r(o);return i}return Array.isArray(r)||typeof r!="object"?Sp(8):o?ul({},o,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?se.createElement(yv.Provider,{value:n},e.children):null}var iD={};function Mge(e,t,n){var r=lF(e),o=!fC(e),i=t.attrs,s=i===void 0?ES:i,a=t.componentId,l=a===void 0?function(b,w){var C=typeof b!="string"?"sc":oD(b);iD[C]=(iD[C]||0)+1;var _=C+"-"+uF("5.2.3"+C+iD[C]);return w?w+"-"+_:_}(t.displayName,t.parentComponentId):a,u=t.displayName,d=u===void 0?function(b){return fC(b)?"styled."+b:"Styled("+pz(b)+")"}(e):u,f=t.displayName&&t.componentId?oD(t.displayName)+"-"+t.componentId:t.componentId||l,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(b,w){return e.shouldForwardProp(b,w)&&t.shouldForwardProp(b,w)}:e.shouldForwardProp);var v,g=new VMe(n,f,r?e.componentStyle:void 0),y=g.isStatic&&s.length===0,x=function(b,w){return function(C,_,S,E){var j=C.attrs,k=C.componentStyle,T=C.defaultProps,A=C.foldedComponentIds,D=C.shouldForwardProp,I=C.styledComponentId,P=C.target,R=function(G,z,Z){G===void 0&&(G=Zd);var K=ul({},z,{theme:G}),J={};return Z.forEach(function(X){var ee,re,de,ie=X;for(ee in gv(ie)&&(ie=ie(K)),ie)K[ee]=J[ee]=ee==="className"?(re=J[ee],de=ie[ee],re&&de?re+" "+de:re||de):ie[ee]}),[K,J]}($ge(_,h.useContext(yv),T)||Zd,_,j),$=R[0],U=R[1],L=function(G,z,Z,K){var J=Ige(),X=Pge(),ee=z?G.generateAndInjectStyles(Zd,J,X):G.generateAndInjectStyles(Z,J,X);return ee}(k,E,$),W=S,Y=U.$as||_.$as||U.as||_.as||P,V=fC(Y),H=U!==_?ul({},_,{},U):_,Q={};for(var F in H)F[0]!=="$"&&F!=="as"&&(F==="forwardedAs"?Q.as=H[F]:(D?D(F,cz):!V||cz(F))&&(Q[F]=H[F]));return _.style&&U.style!==_.style&&(Q.style=ul({},_.style,{},U.style)),Q.className=Array.prototype.concat(A,I,L!==I?L:null,_.className,U.className).filter(Boolean).join(" "),Q.ref=W,h.createElement(Y,Q)}(v,b,w,y)};return x.displayName=d,(v=se.forwardRef(x)).attrs=p,v.componentStyle=g,v.displayName=d,v.shouldForwardProp=m,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ES,v.styledComponentId=f,v.target=r?e.target:e,v.withComponent=function(b){var w=t.componentId,C=function(S,E){if(S==null)return{};var j,k,T={},A=Object.keys(S);for(k=0;k<A.length;k++)j=A[k],E.indexOf(j)>=0||(T[j]=S[j]);return T}(t,["componentId"]),_=w&&w+"-"+(fC(b)?b:oD(pz(b)));return Mge(b,ul({},C,{attrs:p,componentId:_}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?Rge({},e.defaultProps,b):b}}),v.toString=function(){return"."+v.styledComponentId},o&&EMe(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var m3=function(e){return function t(n,r,o){if(o===void 0&&(o=Zd),!sr.isValidElementType(r))return Sp(1,String(r));var i=function(){return n(r,o,he.apply(void 0,arguments))};return i.withConfig=function(s){return t(n,r,ul({},o,{},s))},i.attrs=function(s){return t(n,r,ul({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},i}(Mge,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){m3[e]=m3(e)});var n4e=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=Tge(n),jS.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,o,i){var s=i(Ep(this.rules,r,o,i).join(""),""),a=this.componentId+n;o.insertRules(a,a,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,o,i){n>2&&jS.registerId(this.componentId+n),this.removeStyles(n,o),this.createStyles(n,r,o,i)},e}();function Fge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)),i="sc-global-"+uF(JSON.stringify(o)),s=new n4e(o,i);function a(u){var d=Ige(),f=Pge(),p=h.useContext(yv),m=h.useRef(d.allocateGSInstance(i)).current;return h.useLayoutEffect(function(){return l(m,u,d,p,f),function(){return s.removeStyles(m,d)}},[m,u,d,p,f]),null}function l(u,d,f,p,m){if(s.isStatic)s.renderStyles(u,jMe,f,m);else{var v=ul({},d,{theme:$ge(d,p,a.defaultProps)});s.renderStyles(u,v,f,m)}}return se.memo(a)}function Bk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)).join(""),i=uF(o);return new Oge(i,o)}var Lge=function(){return h.useContext(yv)};const O=m3,r4e="#101112",o4e="#fff",u2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},Q1={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},i4e={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},s4e={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},g3={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},a4e={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},v3={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},y3={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},l4e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},pe={gray:u2,blue:Q1,purple:i4e,magenta:s4e,red:g3,orange:a4e,yellow:v3,green:y3,cyan:l4e},Bge=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],ec={title:"Black",hex:r4e},ba={title:"White",hex:o4e},yf=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b3=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ks=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),c.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),d4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Nge=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),dF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zge=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),f4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),h4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),p4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n0=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),Vge=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),c.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),Hge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),b4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),c.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),Nk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),hg=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ra=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Il=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yu=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Wge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ia=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hk=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Gge=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Kge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),up=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_u=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Zge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Xge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kp=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),B4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),N4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),z4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),V4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),H4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qge=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Jge=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),c.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),Y4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),eve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),q4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Su=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Bo=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),K4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Q4e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),J4e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),sa=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),eFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),tFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),nFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),oFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),c.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),c.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),iFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bv=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),em=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),ove=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),ive=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),hFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r0=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M14 6.5H5.5V19.5H18.5V11M20.5 4.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 4.5H20.5V9",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M15.5 15V18.5H5.5V6.5H15.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 9.5L21.5 12.5L18.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bf=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),bFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),sve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),vF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ave=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),c.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),c.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),c.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),wFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_Fe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),jFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),TFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),AFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nx=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),IFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),PFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),OFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Eu=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),bF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$Fe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),RFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xF=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vi=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M15.0355 15.0355L19 19M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pl=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M15 9.5H18.5V19.5H6.5L6.5 9.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 6.5L12.5 3.5L15.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),Wk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),HFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fve=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),c.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),c.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),Jm=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),c.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),CF=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yk=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),GFe=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),KFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ZFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),QFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),JFe=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),t6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),lo=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o6e=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),jy=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pve=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),c.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),TS=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ml=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),AS=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Gk=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[c.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Kk=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Zr=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f6e=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:c.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),h6e={"access-denied":yf,activity:c4e,"add-circle":b3,add:Ks,api:u4e,archive:d4e,"arrow-down":Nge,"arrow-left":dF,"arrow-right":zge,"arrow-top-right":f4e,"arrow-up":h4e,"bar-chart":p4e,basket:m4e,bell:g4e,bill:v4e,"binary-document":n0,"block-content":Vge,"block-element":Hge,blockquote:y4e,bold:Uge,book:b4e,bottle:x4e,"bulb-filled":w4e,"bulb-outline":Nk,calendar:hg,case:C4e,"chart-upward":_4e,"checkmark-circle":zk,checkmark:Ra,"chevron-down":Il,"chevron-left":Vk,"chevron-right":Yu,"chevron-up":Wge,circle:S4e,clipboard:E4e,"clipboard-image":k4e,clock:Yge,"close-circle":j4e,close:ia,"code-block":T4e,code:qge,cog:Hk,collapse:Gge,"color-wheel":A4e,comment:Kge,component:D4e,compose:up,controls:Uk,copy:_u,"credit-card":I4e,crop:Zge,cube:P4e,dashboard:O4e,database:$4e,desktop:Xge,document:kp,"document-pdf":R4e,"document-remove":M4e,"document-sheet":F4e,"document-text":L4e,"document-video":B4e,"document-word":N4e,"document-zip":z4e,documents:fF,dot:V4e,"double-chevron-down":H4e,"double-chevron-left":U4e,"double-chevron-right":Qge,"double-chevron-up":W4e,download:hF,"drag-handle":Jge,drop:Y4e,"earth-americas":eve,"earth-globe":q4e,edit:Su,"ellipsis-horizontal":G4e,"ellipsis-vertical":Bo,enter:K4e,"enter-right":Z4e,envelope:X4e,equal:Q4e,"error-filled":J4e,"error-outline":sa,expand:tve,"eye-closed":eFe,"eye-open":pF,filter:tFe,folder:nFe,generate:rFe,groq:oFe,"heart-filled":iFe,heart:sFe,"help-circle":bv,home:aFe,"ice-cream":lFe,image:xl,"image-remove":cFe,images:uFe,"info-filled":dFe,"info-outline":em,"inline-element":nve,inline:fFe,"insert-above":rve,"insert-below":ove,italic:ive,joystick:hFe,json:pFe,launch:r0,leave:mF,lemon:mFe,link:bf,"link-removed":gFe,lock:vFe,"logo-js":yFe,"logo-ts":bFe,"master-detail":sve,menu:gF,"mobile-device":xFe,moon:vF,number:ave,"ok-hand":wFe,olist:lve,overage:CFe,package:_Fe,"panel-left":SFe,"panel-right":EFe,pause:kFe,pin:jFe,"pin-removed":TFe,play:AFe,plug:cve,presentation:DFe,publish:Nx,"read-only":yF,redo:IFe,refresh:PFe,"remove-circle":OFe,remove:uve,reset:Eu,restore:bF,retrieve:$Fe,retry:RFe,revert:xF,robot:MFe,rocket:FFe,schema:LFe,search:Vi,select:Pl,share:BFe,sort:wF,sparkle:NFe,sparkles:zFe,spinner:Wk,"split-horizontal":VFe,"split-vertical":HFe,square:UFe,"stack-compact":dve,stack:fve,star:WFe,stop:YFe,strikethrough:hve,string:Jm,sun:CF,sync:Yk,"tablet-device":qFe,tag:GFe,tags:KFe,terminal:ZFe,text:XFe,"th-large":QFe,"th-list":JFe,tiers:e6e,"toggle-arrow-right":qk,token:t6e,transfer:n6e,translate:r6e,trash:lo,"trend-upward":o6e,"triangle-outline":i6e,trolley:s6e,truncate:a6e,twitter:l6e,ulist:jy,underline:pve,undo:TS,unknown:ml,unlock:c6e,unpublish:AS,upload:Gk,user:u6e,users:Kk,"warning-filled":d6e,"warning-outline":Zr,wrench:f6e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=h6e[r];return i?h.createElement(i,{...o,ref:n}):null});var mve={exports:{}},p6e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m6e=p6e,g6e=m6e;function gve(){}function vve(){}vve.resetWarningCache=gve;var v6e=function(){function e(r,o,i,s,a,l){if(l!==g6e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:vve,resetWarningCache:gve};return n.PropTypes=n,n};mve.exports=v6e();var yve=mve.exports;const $Pn=Ie(yve);var y6e=x6e,b6e=Object.prototype.hasOwnProperty;function x6e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)b6e.call(n,r)&&(e[r]=n[r])}return e}var bve=xve,_F=xve.prototype;_F.space=null;_F.normal={};_F.property={};function xve(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var bz=y6e,w6e=bve,C6e=_6e;function _6e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new w6e(bz.apply(null,n),bz.apply(null,r),s)}var SF=S6e;function S6e(e){return e.toLowerCase()}var wve=Cve,Ga=Cve.prototype;Ga.space=null;Ga.attribute=null;Ga.property=null;Ga.boolean=!1;Ga.booleanish=!1;Ga.overloadedBoolean=!1;Ga.number=!1;Ga.commaSeparated=!1;Ga.spaceSeparated=!1;Ga.commaOrSpaceSeparated=!1;Ga.mustUseProperty=!1;Ga.defined=!1;function Cve(e,t){this.property=e,this.attribute=t}var Ac={},E6e=0;Ac.boolean=tm();Ac.booleanish=tm();Ac.overloadedBoolean=tm();Ac.number=tm();Ac.spaceSeparated=tm();Ac.commaSeparated=tm();Ac.commaOrSpaceSeparated=tm();function tm(){return Math.pow(2,++E6e)}var _ve=wve,xz=Ac,Sve=EF;EF.prototype=new _ve;EF.prototype.defined=!0;var Eve=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],k6e=Eve.length;function EF(e,t,n,r){var o=-1,i;for(wz(this,"space",r),_ve.call(this,e,t);++o<k6e;)i=Eve[o],wz(this,i,(n&xz[i])===xz[i])}function wz(e,t,n){n&&(e[t]=n)}var Cz=SF,j6e=bve,T6e=Sve,zx=A6e;function A6e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},l,u;for(l in o)u=new T6e(l,i(r,l),o[l],t),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),s[l]=u,a[Cz(l)]=l,a[Cz(u.attribute)]=l;return new j6e(s,a,t)}var D6e=zx,I6e=D6e({space:"xlink",transform:P6e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function P6e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var O6e=zx,$6e=O6e({space:"xml",transform:R6e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function R6e(e,t){return"xml:"+t.slice(3).toLowerCase()}var M6e=F6e;function F6e(e,t){return t in e?e[t]:t}var L6e=M6e,kve=B6e;function B6e(e,t){return L6e(e,t.toLowerCase())}var N6e=zx,z6e=kve,V6e=N6e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:z6e,properties:{xmlns:null,xmlnsXLink:null}}),kF=Ac,H6e=zx,rs=kF.booleanish,ha=kF.number,uh=kF.spaceSeparated,U6e=H6e({transform:W6e,properties:{ariaActiveDescendant:null,ariaAtomic:rs,ariaAutoComplete:null,ariaBusy:rs,ariaChecked:rs,ariaColCount:ha,ariaColIndex:ha,ariaColSpan:ha,ariaControls:uh,ariaCurrent:null,ariaDescribedBy:uh,ariaDetails:null,ariaDisabled:rs,ariaDropEffect:uh,ariaErrorMessage:null,ariaExpanded:rs,ariaFlowTo:uh,ariaGrabbed:rs,ariaHasPopup:null,ariaHidden:rs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:uh,ariaLevel:ha,ariaLive:null,ariaModal:rs,ariaMultiLine:rs,ariaMultiSelectable:rs,ariaOrientation:null,ariaOwns:uh,ariaPlaceholder:null,ariaPosInSet:ha,ariaPressed:rs,ariaReadOnly:rs,ariaRelevant:null,ariaRequired:rs,ariaRoleDescription:uh,ariaRowCount:ha,ariaRowIndex:ha,ariaRowSpan:ha,ariaSelected:rs,ariaSetSize:ha,ariaSort:null,ariaValueMax:ha,ariaValueMin:ha,ariaValueNow:ha,ariaValueText:null,role:null}});function W6e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var o0=Ac,Y6e=zx,q6e=kve,$t=o0.boolean,G6e=o0.overloadedBoolean,l1=o0.booleanish,Jn=o0.number,Di=o0.spaceSeparated,hC=o0.commaSeparated,K6e=Y6e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:q6e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hC,acceptCharset:Di,accessKey:Di,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:Di,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:Di,cols:Jn,colSpan:null,content:null,contentEditable:l1,controls:$t,controlsList:Di,coords:Jn|hC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:G6e,draggable:l1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:Di,height:Jn,hidden:$t,high:Jn,href:null,hrefLang:null,htmlFor:Di,httpEquiv:Di,id:null,imageSizes:null,imageSrcSet:hC,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:Di,itemRef:Di,itemScope:$t,itemType:Di,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:Jn,manifest:null,max:null,maxLength:Jn,media:null,method:null,min:null,minLength:Jn,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:Jn,pattern:null,ping:Di,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:Di,required:$t,reversed:$t,rows:Jn,rowSpan:Jn,sandbox:Di,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:Jn,sizes:null,slot:null,span:Jn,spellCheck:l1,src:null,srcDoc:null,srcLang:null,srcSet:hC,start:Jn,step:null,style:null,tabIndex:Jn,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:l1,width:Jn,wrap:null,align:null,aLink:null,archive:Di,axis:null,background:null,bgColor:null,border:Jn,borderColor:null,bottomMargin:Jn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:Jn,leftMargin:Jn,link:null,longDesc:null,lowSrc:null,marginHeight:Jn,marginWidth:Jn,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:Jn,rules:null,scheme:null,scrolling:l1,standby:null,summary:null,text:null,topMargin:Jn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Jn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:Jn,security:null,unselectable:null}}),Z6e=C6e,X6e=I6e,Q6e=$6e,J6e=V6e,eLe=U6e,tLe=K6e,nLe=Z6e([Q6e,X6e,J6e,eLe,tLe]),rLe=SF,oLe=Sve,iLe=wve,jF="data",sLe=cLe,aLe=/^data[-\w.:]+$/i,jve=/-[a-z]/g,lLe=/[A-Z]/g;function cLe(e,t){var n=rLe(t),r=t,o=iLe;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===jF&&aLe.test(t)&&(t.charAt(4)==="-"?r=uLe(t):t=dLe(t),o=oLe),new o(r,t))}function uLe(e){var t=e.slice(5).replace(jve,hLe);return jF+t.charAt(0).toUpperCase()+t.slice(1)}function dLe(e){var t=e.slice(4);return jve.test(t)?e:(t=t.replace(lLe,fLe),t.charAt(0)!=="-"&&(t="-"+t),jF+t)}function fLe(e){return"-"+e.toLowerCase()}function hLe(e){return e.charAt(1).toUpperCase()}var pLe=mLe,_z=/[#.]/g;function mLe(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,l;i<n.length;)_z.lastIndex=i,l=_z.exec(n),s=n.slice(i,l?l.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),l&&(a=l[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var TF={};TF.parse=yLe;TF.stringify=bLe;var Sz="",gLe=" ",vLe=/[ \t\n\r\f]+/g;function yLe(e){var t=String(e||Sz).trim();return t===Sz?[]:t.split(vLe)}function bLe(e){return e.join(gLe).trim()}var AF={};AF.parse=xLe;AF.stringify=wLe;var x3=",",Ez=" ",J1="";function xLe(e){for(var t=[],n=String(e||J1),r=n.indexOf(x3),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(x3,o);return t}function wLe(e,t){var n=t||{},r=n.padLeft===!1?J1:Ez,o=n.padRight?Ez:J1;return e[e.length-1]===J1&&(e=e.concat(J1)),e.join(o+x3+r).trim()}var CLe=sLe,kz=SF,_Le=pLe,jz=TF.parse,Tz=AF.parse,SLe=kLe,ELe={}.hasOwnProperty;function kLe(e,t,n){var r=n?ILe(n):null;return o;function o(s,a){var l=_Le(s,t),u=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),f;if(l.tagName=r&&ELe.call(r,d)?r[d]:d,a&&jLe(a,l)&&(u.unshift(a),a=null),a)for(f in a)i(l.properties,f,a[f]);return Tve(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function i(s,a,l){var u,d,f;l==null||l!==l||(u=CLe(e,a),d=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=jz(f):u.commaSeparated?f=Tz(f):u.commaOrSpaceSeparated&&(f=jz(Tz(f).join(" ")))),d==="style"&&typeof l!="string"&&(f=DLe(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=ALe(u,d,f))}}function jLe(e,t){return typeof e=="string"||"length"in e||TLe(t.tagName,e)}function TLe(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function Tve(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)Tve(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function ALe(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return Az(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=Az(e,t,n[r]);return i}function Az(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||kz(n)===kz(t))&&(r=!0),r}function DLe(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function ILe(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var PLe=nLe,OLe=SLe,Ave=OLe(PLe,"div");Ave.displayName="html";var $Le=Ave,RLe=$Le;const MLe="",FLe="&",LLe="",BLe="",NLe="",zLe="",VLe="",HLe="",ULe="",WLe="",YLe="",qLe="",GLe="",KLe="",ZLe="",XLe=">",QLe="",JLe="",e8e="",t8e="",n8e="<",r8e="",o8e="",i8e="",s8e="",a8e="",l8e="",c8e="",u8e='"',d8e="",f8e="",h8e="",p8e="",m8e="",g8e="",v8e="",y8e="",b8e="",x8e="",w8e="",C8e="",_8e="&",S8e="",E8e="",k8e="",j8e="",T8e="",A8e="",D8e="",I8e="",P8e="",O8e="",$8e="",R8e="",M8e="",F8e="",L8e="",B8e="",N8e="",z8e="",V8e="",H8e=">",U8e="",W8e="",Y8e="",q8e="",G8e="",K8e="",Z8e="",X8e="<",Q8e="",J8e="",e9e="",t9e="",n9e="",r9e="",o9e="",i9e="",s9e="",a9e="",l9e="",c9e="",u9e="",d9e="",f9e="",h9e="",p9e="",m9e='"',g9e="",v9e="",y9e="",b9e="",x9e="",w9e="",C9e="",_9e="",S9e="",E9e="",k9e="",j9e="",T9e="",A9e="",D9e="",I9e="",P9e="",O9e="",$9e={AElig:MLe,AMP:FLe,Aacute:LLe,Acirc:BLe,Agrave:NLe,Aring:zLe,Atilde:VLe,Auml:HLe,COPY:ULe,Ccedil:WLe,ETH:YLe,Eacute:qLe,Ecirc:GLe,Egrave:KLe,Euml:ZLe,GT:XLe,Iacute:QLe,Icirc:JLe,Igrave:e8e,Iuml:t8e,LT:n8e,Ntilde:r8e,Oacute:o8e,Ocirc:i8e,Ograve:s8e,Oslash:a8e,Otilde:l8e,Ouml:c8e,QUOT:u8e,REG:d8e,THORN:f8e,Uacute:h8e,Ucirc:p8e,Ugrave:m8e,Uuml:g8e,Yacute:v8e,aacute:y8e,acirc:b8e,acute:x8e,aelig:w8e,agrave:C8e,amp:_8e,aring:S8e,atilde:E8e,auml:k8e,brvbar:j8e,ccedil:T8e,cedil:A8e,cent:D8e,copy:I8e,curren:P8e,deg:O8e,divide:$8e,eacute:R8e,ecirc:M8e,egrave:F8e,eth:L8e,euml:B8e,frac12:N8e,frac14:z8e,frac34:V8e,gt:H8e,iacute:U8e,icirc:W8e,iexcl:Y8e,igrave:q8e,iquest:G8e,iuml:K8e,laquo:Z8e,lt:X8e,macr:Q8e,micro:J8e,middot:e9e,nbsp:t9e,not:n9e,ntilde:r9e,oacute:o9e,ocirc:i9e,ograve:s9e,ordf:a9e,ordm:l9e,oslash:c9e,otilde:u9e,ouml:d9e,para:f9e,plusmn:h9e,pound:p9e,quot:m9e,raquo:g9e,reg:v9e,sect:y9e,shy:b9e,sup1:x9e,sup2:w9e,sup3:C9e,szlig:_9e,thorn:S9e,times:E9e,uacute:k9e,ucirc:j9e,ugrave:T9e,uml:A9e,uuml:D9e,yacute:I9e,yen:P9e,yuml:O9e},R9e={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var Dve=M9e;function M9e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var F9e=L9e;function L9e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var B9e=N9e;function N9e(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var z9e=B9e,V9e=Dve,H9e=U9e;function U9e(e){return z9e(e)||V9e(e)}var pC,W9e=59,Y9e=q9e;function q9e(e){var t="&"+e+";",n;return pC=pC||document.createElement("i"),pC.innerHTML=t,n=pC.textContent,n.charCodeAt(n.length-1)===W9e&&e!=="semi"||n===t?!1:n}var Dz=$9e,Iz=R9e,G9e=Dve,K9e=F9e,Ive=H9e,Z9e=Y9e,X9e=u7e,Q9e={}.hasOwnProperty,Om=String.fromCharCode,J9e=Function.prototype,Pz={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},e7e=9,Oz=10,t7e=12,n7e=32,$z=38,r7e=59,o7e=60,i7e=61,s7e=35,a7e=88,l7e=120,c7e=65533,eg="named",DF="hexadecimal",IF="decimal",PF={};PF[DF]=16;PF[IF]=10;var Zk={};Zk[eg]=Ive;Zk[IF]=G9e;Zk[DF]=K9e;var Pve=1,Ove=2,$ve=3,Rve=4,Mve=5,w3=6,Fve=7,zf={};zf[Pve]="Named character references must be terminated by a semicolon";zf[Ove]="Numeric character references must be terminated by a semicolon";zf[$ve]="Named character references cannot be empty";zf[Rve]="Numeric character references cannot be empty";zf[Mve]="Named character references must be known";zf[w3]="Numeric character references cannot be disallowed";zf[Fve]="Numeric character references cannot be outside the permissible Unicode range";function u7e(e,t){var n={},r,o;t||(t={});for(o in Pz)r=t[o],n[o]=r??Pz[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),d7e(e,n)}function d7e(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,l=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,y=d.line||1,x="",b=[],w,C,_,S,E,j,k,T,A,D,I,P,R,$,U,L,W,Y,V;for(typeof n=="string"&&(n=n.charCodeAt(0)),L=H(),T=s?Q:J9e,m--,p++;++m<p;)if(E===Oz&&(g=f[v]||1),E=e.charCodeAt(m),E===$z){if(k=e.charCodeAt(m+1),k===e7e||k===Oz||k===t7e||k===n7e||k===$z||k===o7e||k!==k||n&&k===n){x+=Om(E),g++;continue}for(R=m+1,P=R,V=R,k===s7e?(V=++P,k=e.charCodeAt(V),k===a7e||k===l7e?($=DF,V=++P):$=IF):$=eg,w="",I="",S="",U=Zk[$],V--;++V<p&&(k=e.charCodeAt(V),!!U(k));)S+=Om(k),$===eg&&Q9e.call(Dz,S)&&(w=S,I=Dz[S]);_=e.charCodeAt(V)===r7e,_&&(V++,C=$===eg?Z9e(S):!1,C&&(w=S,I=C)),Y=1+V-R,!_&&!r||(S?$===eg?(_&&!I?T(Mve,1):(w!==S&&(V=P+w.length,Y=1+V-P,_=!1),_||(A=w?Pve:$ve,t.attribute?(k=e.charCodeAt(V),k===i7e?(T(A,Y),I=null):Ive(k)?I=null:T(A,Y)):T(A,Y))),j=I):(_||T(Ove,Y),j=parseInt(S,PF[$]),f7e(j)?(T(Fve,Y),j=Om(c7e)):j in Iz?(T(w3,Y),j=Iz[j]):(D="",h7e(j)&&T(w3,Y),j>65535&&(j-=65536,D+=Om(j>>>10|55296),j=56320|j&1023),j=D+Om(j))):$!==eg&&T(Rve,Y)),j?(F(),L=H(),m=V-1,g+=V-R+1,b.push(j),W=H(),W.offset++,i&&i.call(l,j,{start:L,end:W},e.slice(R-1,V)),L=W):(S=e.slice(R-1,V),x+=S,g+=S.length,m=V-1)}else E===10&&(y++,v++,g=0),E===E?(x+=Om(E),g++):F();return b.join("");function H(){return{line:y,column:g,offset:m+(d.offset||0)}}function Q(G,z){var Z=H();Z.column+=z,Z.offset+=z,s.call(u,zf[G],Z,G)}function F(){x&&(b.push(x),o&&o.call(a,x,{start:L,end:H()}),x="")}}function f7e(e){return e>=55296&&e<=57343||e>1114111}function h7e(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var Lve={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(w){return w instanceof l?new l(w.type,b(w.content),w.alias):Array.isArray(w)?w.map(b):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++i}),b.__id},clone:function b(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=b(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=b(j,C)}),_);default:return w}},getLanguage:function(b){for(;b;){var w=o.exec(b.className);if(w)return w[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,w){b.className=b.className.replace(RegExp(o,"gi"),""),b.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(b){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==b)return w[C]}return null}},isActive:function(b,w,C){for(var _="no-"+w;b;){var S=b.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;b=b.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(b,w){var C=a.util.clone(a.languages[b]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(b,w,C,_){_=_||a.languages;var S=_[b],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[b];return _[b]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=b&&(this[A]=E)}),E},DFS:function b(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,b(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,b(k,C,j,S))}}},plugins:{},highlightAll:function(b,w){a.highlightAllUnder(document,b,w)},highlightAllUnder:function(b,w,C){var _={callback:C,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(b,w,C){var _=a.util.getLanguage(b),S=a.languages[_];a.util.setLanguage(b,_);var E=b.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=b.textContent,k={element:b,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(b,w,C){var _={code:b,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),l.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(b,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,b),d(b,S,w,S.head,0),v(S)},hooks:{all:{},add:function(b,w){var C=a.hooks.all;C[b]=C[b]||[],C[b].push(w)},run:function(b,w){var C=a.hooks.all[b];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:l};r.Prism=a;function l(b,w,C,_){this.type=b,this.content=w,this.alias=C,this.length=(_||"").length|0}l.stringify=function b(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=b(T,C)}),_}var S={type:w.type,content:b(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(b,w,C,_){b.lastIndex=w;var S=b.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(b,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,P=!!A.greedy,R=A.alias;if(P&&!A.pattern.global){var $=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,$+"g")}for(var U=A.pattern||A,L=_.next,W=S;L!==w.tail&&!(E&&W>=E.reach);W+=L.value.length,L=L.next){var Y=L.value;if(w.length>b.length)return;if(!(Y instanceof l)){var V=1,H;if(P){if(H=u(U,W,b,I),!H||H.index>=b.length)break;var z=H.index,Q=H.index+H[0].length,F=W;for(F+=L.value.length;z>=F;)L=L.next,F+=L.value.length;if(F-=L.value.length,W=F,L.value instanceof l)continue;for(var G=L;G!==w.tail&&(F<Q||typeof G.value=="string");G=G.next)V++,F+=G.value.length;V--,Y=b.slice(W,F),H.index-=W}else if(H=u(U,0,Y,I),!H)continue;var z=H.index,Z=H[0],K=Y.slice(0,z),J=Y.slice(z+Z.length),X=W+Y.length;E&&X>E.reach&&(E.reach=X);var ee=L.prev;K&&(ee=p(w,ee,K),W+=K.length),m(w,ee,V);var re=new l(j,D?a.tokenize(Z,D):Z,R,Z);if(L=p(w,ee,re),J&&p(w,L,J),V>1){var de={cause:j+","+T,reach:X};d(b,w,C,L.prev,W,de),E&&de.reach>E.reach&&(E.reach=de.reach)}}}}}}function f(){var b={value:null,prev:null,next:null},w={value:null,prev:b,next:null};b.next=w,this.head=b,this.tail=w,this.length=0}function p(b,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,b.length++,S}function m(b,w,C){for(var _=w.next,S=0;S<C&&_!==b.tail;S++)_=_.next;w.next=_,_.prev=w,b.length-=S}function v(b){for(var w=[],C=b.head.next;C!==b.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(b){var w=JSON.parse(b.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(t);e.exports&&(e.exports=n),typeof gs<"u"&&(gs.Prism=n)})(Lve);var p7e=Lve.exports,m7e=OF;OF.displayName="markup";OF.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function OF(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var g7e=$F;$F.displayName="css";$F.aliases=[];function $F(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var v7e=RF;RF.displayName="clike";RF.aliases=[];function RF(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var Bve=MF;MF.displayName="javascript";MF.aliases=["js"];function MF(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const y7e=Ie(Bve);var ey=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof gs=="object"?gs:{},b7e=R7e();ey.Prism={manual:!0,disableWorkerMessageHandler:!0};var x7e=RLe,w7e=X9e,Nve=p7e,C7e=m7e,_7e=g7e,S7e=v7e,E7e=Bve;b7e();var FF={}.hasOwnProperty;function zve(){}zve.prototype=Nve;var so=new zve,k7e=so;so.highlight=T7e;so.register=Vx;so.alias=j7e;so.registered=A7e;so.listLanguages=D7e;Vx(C7e);Vx(_7e);Vx(S7e);Vx(E7e);so.util.encode=O7e;so.Token.stringify=I7e;function Vx(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");so.languages[e.displayName]===void 0&&e(so)}function j7e(e,t){var n=so.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function T7e(e,t){var n=Nve.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(so.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(FF.call(so.languages,t))r=so.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function A7e(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return FF.call(so.languages,e)}function D7e(){var e=so.languages,t=[],n;for(n in e)FF.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function I7e(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:so.util.type(e)==="Array"?P7e(e,t):(r={type:e.type,content:so.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),so.hooks.run("wrap",r),x7e(r.tag+"."+r.classes.join("."),$7e(r.attributes),r.content))}function P7e(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=so.Token.stringify(i,t,n);return n}function O7e(e){return e}function $7e(e){var t;for(t in e)e[t]=w7e(e[t]);return e}function R7e(){var e="Prism"in ey,t=e?ey.Prism:void 0;return n;function n(){e?ey.Prism=t:delete ey.Prism,e=void 0,t=void 0}}var Vve={},M7e=h;function F7e(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return M7e.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(Hve(n+1)))}return e.value}function Hve(e){return function(n,r){return F7e(n,r,e)}}Vve.depth=Hve;var Uve=Wve;function Wve(e){if(e==null)return z7e;if(typeof e=="string")return N7e(e);if(typeof e=="object")return"length"in e?B7e(e):L7e(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function L7e(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function B7e(e){for(var t=[],n=-1;++n<e.length;)t[n]=Wve(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function N7e(e){return t;function t(n){return!!(n&&n.type===e)}}function z7e(){return!0}var V7e=Uve,H7e=W7e,U7e={}.hasOwnProperty;function W7e(e,t,n){var r=V7e(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,l){var u,d,f,p,m;if(!r(s,a,l))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)U7e.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var Y7e=q7e;function q7e(e){return e}var G7e=Xk,K7e=Uve,Z7e=Y7e,Yve=!0,qve="skip",C3=!1;Xk.CONTINUE=Yve;Xk.SKIP=qve;Xk.EXIT=C3;function Xk(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=K7e(t),o=r?-1:1,s(e,null,[])();function s(a,l,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+Z7e(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,y;if((!t||i(a,l,u[u.length-1]||null))&&(v=X7e(n(a,u)),v[0]===C3))return v;if(a.children&&v[0]!==qve)for(y=(r?a.children.length:-1)+o;y>-1&&y<a.children.length;){if(g=s(a.children[y],y,m)(),g[0]===C3)return g;y=typeof g[1]=="number"?g[1]:y+o}return v}}}function X7e(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[Yve,e]:[e]}var Q7e=typeof WeakMap=="function"?Hx:Ux;function Hx(){this.map=new WeakMap}Hx.prototype.has=function(e){return this.map.has(e)};Hx.prototype.set=function(e,t){return this.map.set(e,t),this};Hx.prototype.get=function(e){return this.map.get(e)};Hx.prototype.clear=function(){};function Ux(){this.keys=[],this.values=[]}Ux.prototype.has=function(e){return this.keys.indexOf(e)!==-1};Ux.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};Ux.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};Ux.prototype.clear=function(){this.keys=[],this.values=[]};var J7e=H7e,Rz=G7e,sD=Q7e;function Gve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var l=Gve(r.children,t),u=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function eBe(e,t){var n={type:"root",children:t},r=new sD,o=new sD,i=new sD,s=[];function a(f,p,m){s.push(p),m.forEach(function(b){f.has(b)||(f.set(b,Object.assign({},b,{children:[]})),b!==n&&s.push(b))});for(var v=m.length;v--;){var g=f.get(m[v]),y=m[v+1],x=f.get(y)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}Rz(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var l=J7e(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(Rz(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(y){y.lineStart=Math.max(y.lineStart,v.lineStart),y.lineEnd=Math.max(y.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),l?l.children:[]);return r.clear(),o.clear(),i.clear(),d}function tBe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function nBe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return eBe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],l=r[i];l&&l.lineEnd<a.line;l=r[++i])o.push(l);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(tBe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function rBe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=Gve(e).nodes;return nBe(r,n,t)}var oBe=rBe,iBe=h,Is=yve,LF=k7e,sBe=Vve,aBe=oBe,Mz=iBe.createElement;function Wx(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=LF.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=aBe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(sBe.depth(0)),s=Mz("code",n,i);return e.inline?s:Mz("pre",r,s)}Wx.propTypes={className:Is.string,inline:Is.bool,language:Is.string.isRequired,value:Is.string.isRequired,markers:Is.arrayOf(Is.oneOfType([Is.number,Is.shape({line:Is.number.isRequired,className:Is.string,component:Is.oneOfType([Is.node,Is.func])})]))};Wx.defaultProps={className:"refractor",inline:!1};Wx.registerLanguage=function(e){return LF.register(e)};Wx.hasLanguage=function(e){return LF.registered(e)};var lBe=Wx;const jp=Ie(lBe),cBe=["top","right","bottom","left"],xf=Math.min,Us=Math.max,DS=Math.round,mC=Math.floor,wf=e=>({x:e,y:e}),uBe={left:"right",right:"left",bottom:"top",top:"bottom"},dBe={start:"end",end:"start"};function _3(e,t,n){return Us(e,xf(t,n))}function nm(e,t){return typeof e=="function"?e(t):e}function Cf(e){return e.split("-")[0]}function i0(e){return e.split("-")[1]}function Kve(e){return e==="x"?"y":"x"}function BF(e){return e==="y"?"height":"width"}function Yx(e){return["top","bottom"].includes(Cf(e))?"y":"x"}function NF(e){return Kve(Yx(e))}function fBe(e,t,n){n===void 0&&(n=!1);const r=i0(e),o=NF(e),i=BF(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=IS(s)),[s,IS(s)]}function hBe(e){const t=IS(e);return[S3(e),t,S3(t)]}function S3(e){return e.replace(/start|end/g,t=>dBe[t])}function pBe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function mBe(e,t,n,r){const o=i0(e);let i=pBe(Cf(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(S3)))),i}function IS(e){return e.replace(/left|right|bottom|top/g,t=>uBe[t])}function gBe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zve(e){return typeof e!="number"?gBe(e):{top:e,right:e,bottom:e,left:e}}function PS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Fz(e,t,n){let{reference:r,floating:o}=e;const i=Yx(t),s=NF(t),a=BF(s),l=Cf(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(i0(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const vBe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=Fz(u,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:b,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=b??d,f=w??f,m={...m,[y]:{...m[y],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=Fz(u,p,l)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function xv(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=nm(t,e),v=Zve(m),y=a[p?f==="floating"?"reference":"floating":f],x=PS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=PS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:l}):b);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const Lz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=nm(e,t)||{};if(u==null)return{};const f=Zve(d),p={x:n,y:r},m=NF(o),v=BF(m),g=await s.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=xf(f[x],k),A=xf(f[b],k),D=T,I=E-g[v]-A,P=E/2-g[v]/2+j,R=_3(D,P,I),$=!l.arrow&&i0(o)!=null&&P!=R&&i.reference[v]/2-(P<D?T:A)-g[v]/2<0,U=$?P<D?P-D:P-I:0;return{[m]:p[m]+U,data:{[m]:R,centerOffset:P-R-U,...$&&{alignmentOffset:U}},reset:$}}}),Xve=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=nm(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Cf(o),b=Cf(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=p||(b||!g?[IS(a)]:hBe(a));!p&&v!=="none"&&C.push(...mBe(a,g,v,w));const _=[a,...C],S=await xv(t,y),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=fBe(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let P=(T=j.filter(R=>R.overflows[0]<=0).sort((R,$)=>R.overflows[1]-$.overflows[1])[0])==null?void 0:T.placement;if(!P)switch(m){case"bestFit":{var A;const R=(A=j.map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,L)=>U+L,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:A[0];R&&(P=R);break}case"initialPlacement":P=a;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function Bz(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nz(e){return cBe.some(t=>e[t]>=0)}const yBe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=nm(e,t);switch(r){case"referenceHidden":{const i=await xv(t,{...o,elementContext:"reference"}),s=Bz(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Nz(s)}}}case"escaped":{const i=await xv(t,{...o,altBoundary:!0}),s=Bz(i,n.floating);return{data:{escapedOffsets:s,escaped:Nz(s)}}}default:return{}}}}};async function bBe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Cf(n),a=i0(n),l=Yx(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,f=nm(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const Qve=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await bBe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},Jve=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...l}=nm(e,t),u={x:n,y:r},d=await xv(t,l),f=Yx(Cf(o)),p=Kve(f);let m=u[p],v=u[f];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=m+d[y],w=m-d[x];m=_3(b,m,w)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=_3(b,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},xBe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...a}=nm(e,t),l=await xv(t,a),u=Cf(n),d=i0(n),f=Yx(n)==="y",{width:p,height:m}=r.floating;let v,g;u==="top"||u==="bottom"?(v=u,g=d===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=u,v=d==="end"?"top":"bottom");const y=m-l[v],x=p-l[g],b=!t.middlewareData.shift;let w=y,C=x;if(f){const S=p-l.left-l.right;C=d||b?xf(x,S):S}else{const S=m-l.top-l.bottom;w=d||b?xf(y,S):S}if(b&&!d){const S=Us(l.left,0),E=Us(l.right,0),j=Us(l.top,0),k=Us(l.bottom,0);f?C=p-2*(S!==0||E!==0?S+E:Us(l.left,l.right)):w=m-2*(j!==0||k!==0?j+k:Us(l.top,l.bottom))}await s({...t,availableWidth:C,availableHeight:w});const _=await o.getDimensions(i.floating);return p!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function _f(e){return e0e(e)?(e.nodeName||"").toLowerCase():"#document"}function Zs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qu(e){var t;return(t=(e0e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function e0e(e){return e instanceof Node||e instanceof Zs(e).Node}function ku(e){return e instanceof Element||e instanceof Zs(e).Element}function _c(e){return e instanceof HTMLElement||e instanceof Zs(e).HTMLElement}function zz(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zs(e).ShadowRoot}function qx(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function wBe(e){return["table","td","th"].includes(_f(e))}function zF(e){const t=VF(),n=Ma(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function CBe(e){let t=wv(e);for(;_c(t)&&!Qk(t);){if(zF(t))return t;t=wv(t)}return null}function VF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qk(e){return["html","body","#document"].includes(_f(e))}function Ma(e){return Zs(e).getComputedStyle(e)}function Jk(e){return ku(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wv(e){if(_f(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zz(e)&&e.host||qu(e);return zz(t)?t.host:t}function t0e(e){const t=wv(e);return Qk(t)?e.ownerDocument?e.ownerDocument.body:e.body:_c(t)&&qx(t)?t:t0e(t)}function vb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=t0e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Zs(o);return i?t.concat(s,s.visualViewport||[],qx(o)?o:[],s.frameElement&&n?vb(s.frameElement):[]):t.concat(o,vb(o,[],n))}function n0e(e){const t=Ma(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=_c(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=DS(n)!==i||DS(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function HF(e){return ku(e)?e:e.contextElement}function Lg(e){const t=HF(e);if(!_c(t))return wf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=n0e(t);let s=(i?DS(n.width):n.width)/r,a=(i?DS(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const _Be=wf(0);function r0e(e){const t=Zs(e);return!VF()||!t.visualViewport?_Be:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SBe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zs(e)?!1:t}function Tp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=HF(e);let s=wf(1);t&&(r?ku(r)&&(s=Lg(r)):s=Lg(e));const a=SBe(i,n,r)?r0e(i):wf(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=Zs(i),m=r&&ku(r)?Zs(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Lg(v),y=v.getBoundingClientRect(),x=Ma(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=b,u+=w,v=Zs(v).frameElement}}return PS({width:d,height:f,x:l,y:u})}function EBe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=_c(n),i=qu(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=wf(1);const l=wf(0);if((o||!o&&r!=="fixed")&&((_f(n)!=="body"||qx(i))&&(s=Jk(n)),_c(n))){const u=Tp(n);a=Lg(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}}function kBe(e){return Array.from(e.getClientRects())}function o0e(e){return Tp(qu(e)).left+Jk(e).scrollLeft}function jBe(e){const t=qu(e),n=Jk(e),r=e.ownerDocument.body,o=Us(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Us(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+o0e(e);const a=-n.scrollTop;return Ma(r).direction==="rtl"&&(s+=Us(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function TBe(e,t){const n=Zs(e),r=qu(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=VF();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function ABe(e,t){const n=Tp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=_c(e)?Lg(e):wf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function Vz(e,t,n){let r;if(t==="viewport")r=TBe(e,n);else if(t==="document")r=jBe(qu(e));else if(ku(t))r=ABe(t,n);else{const o=r0e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return PS(r)}function i0e(e,t){const n=wv(e);return n===t||!ku(n)||Qk(n)?!1:Ma(n).position==="fixed"||i0e(n,t)}function DBe(e,t){const n=t.get(e);if(n)return n;let r=vb(e,[],!1).filter(a=>ku(a)&&_f(a)!=="body"),o=null;const i=Ma(e).position==="fixed";let s=i?wv(e):e;for(;ku(s)&&!Qk(s);){const a=Ma(s),l=zF(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||qx(s)&&!l&&i0e(e,s))?r=r.filter(d=>d!==s):o=a,s=wv(s)}return t.set(e,r),r}function IBe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?DBe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=Vz(t,d,o);return u.top=Us(f.top,u.top),u.right=xf(f.right,u.right),u.bottom=xf(f.bottom,u.bottom),u.left=Us(f.left,u.left),u},Vz(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function PBe(e){return n0e(e)}function OBe(e,t,n){const r=_c(t),o=qu(t),i=n==="fixed",s=Tp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=wf(0);if(r||!r&&!i)if((_f(t)!=="body"||qx(o))&&(a=Jk(t)),r){const u=Tp(t,!0,i,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else o&&(l.x=o0e(o));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Hz(e,t){return!_c(e)||Ma(e).position==="fixed"?null:t?t(e):e.offsetParent}function s0e(e,t){const n=Zs(e);if(!_c(e))return n;let r=Hz(e,t);for(;r&&wBe(r)&&Ma(r).position==="static";)r=Hz(r,t);return r&&(_f(r)==="html"||_f(r)==="body"&&Ma(r).position==="static"&&!zF(r))?n:r||CBe(e)||n}const $Be=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||s0e,i=this.getDimensions;return{reference:OBe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function RBe(e){return Ma(e).direction==="rtl"}const MBe={convertOffsetParentRelativeRectToViewportRelativeRect:EBe,getDocumentElement:qu,getClippingRect:IBe,getOffsetParent:s0e,getElementRects:$Be,getClientRects:kBe,getDimensions:PBe,getScale:Lg,isElement:ku,isRTL:RBe};function FBe(e,t){let n=null,r;const o=qu(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=mC(d),v=mC(o.clientWidth-(u+f)),g=mC(o.clientHeight-(d+p)),y=mC(u),b={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:Us(0,xf(1,l))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==l){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return s(!0),i}function a0e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=HF(e),d=o||i?[...u?vb(u):[],...vb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?FBe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let v,g=l?Tp(e):null;l&&y();function y(){const x=Tp(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(y)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const LBe=(e,t,n)=>{const r=new Map,o={platform:MBe,...n},i={...o.platform,_c:r};return vBe(e,t,{...o,platform:i})};var l0e={exports:{}},aa={},c0e={exports:{}},u0e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,W){var Y=L.length;L.push(W);e:for(;0<Y;){var V=Y-1>>>1,H=L[V];if(0<o(H,W))L[V]=W,L[Y]=H,Y=V;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],Y=L.pop();if(Y!==W){L[0]=Y;e:for(var V=0,H=L.length,Q=H>>>1;V<Q;){var F=2*(V+1)-1,G=L[F],z=F+1,Z=L[z];if(0>o(G,Y))z<H&&0>o(Z,G)?(L[V]=Z,L[z]=Y,V=z):(L[V]=G,L[F]=Y,V=F);else if(z<H&&0>o(Z,Y))L[V]=Z,L[z]=Y,V=z;else break e}}return W}function o(L,W){var Y=L.sortIndex-W.sortIndex;return Y!==0?Y:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function C(L){if(g=!1,w(L),!v)if(n(l)!==null)v=!0,$(_);else{var W=n(u);W!==null&&U(C,W.startTime-L)}}function _(L,W){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var Y=p;try{for(w(W),f=n(l);f!==null&&(!(f.expirationTime>W)||L&&!A());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var H=V(f.expirationTime<=W);W=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),w(W)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var F=n(u);F!==null&&U(C,F.startTime-W),Q=!1}return Q}finally{f=null,p=Y,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var L=e.unstable_now();T=L;var W=!0;try{W=E(!0,L)}finally{W?I():(S=!1,E=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,R=P.port2;P.port1.onmessage=D,I=function(){R.postMessage(null)}}else I=function(){y(D,0)};function $(L){E=L,S||(S=!0,I())}function U(L,W){j=y(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(_))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var Y=p;p=W;try{return L()}finally{p=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=p;p=L;try{return W()}finally{p=Y}},e.unstable_scheduleCallback=function(L,W,Y){var V=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?V+Y:V):Y=V,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Y+H,L={id:d++,callback:W,priorityLevel:L,startTime:Y,expirationTime:H,sortIndex:-1},Y>V?(L.sortIndex=Y,t(u,L),n(l)===null&&L===n(u)&&(g?(x(j),j=-1):g=!0,U(C,Y-V))):(L.sortIndex=H,t(l,L),v||m||(v=!0,$(_))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var W=p;return function(){var Y=p;p=W;try{return L.apply(this,arguments)}finally{p=Y}}}})(u0e);c0e.exports=u0e;var BBe=c0e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0e=h,Js=BBe;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f0e=new Set,yb={};function rm(e,t){Cv(e,t),Cv(e+"Capture",t)}function Cv(e,t){for(yb[e]=t,e=0;e<t.length;e++)f0e.add(t[e])}var ju=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E3=Object.prototype.hasOwnProperty,NBe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uz={},Wz={};function zBe(e){return E3.call(Wz,e)?!0:E3.call(Uz,e)?!1:NBe.test(e)?Wz[e]=!0:(Uz[e]=!0,!1)}function VBe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HBe(e,t,n,r){if(t===null||typeof t>"u"||VBe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ki(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ko={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ko[e]=new Ki(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ko[t]=new Ki(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ko[e]=new Ki(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ko[e]=new Ki(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ko[e]=new Ki(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ko[e]=new Ki(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ko[e]=new Ki(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ko[e]=new Ki(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ko[e]=new Ki(e,5,!1,e.toLowerCase(),null,!1,!1)});var UF=/[\-:]([a-z])/g;function WF(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(UF,WF);Ko[t]=new Ki(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(UF,WF);Ko[t]=new Ki(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(UF,WF);Ko[t]=new Ki(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ko[e]=new Ki(e,1,!1,e.toLowerCase(),null,!1,!1)});Ko.xlinkHref=new Ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ko[e]=new Ki(e,1,!1,e.toLowerCase(),null,!0,!0)});function YF(e,t,n,r){var o=Ko.hasOwnProperty(t)?Ko[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HBe(t,n,o,r)&&(n=null),r||o===null?zBe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gu=d0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gC=Symbol.for("react.element"),pg=Symbol.for("react.portal"),mg=Symbol.for("react.fragment"),qF=Symbol.for("react.strict_mode"),k3=Symbol.for("react.profiler"),h0e=Symbol.for("react.provider"),p0e=Symbol.for("react.context"),GF=Symbol.for("react.forward_ref"),j3=Symbol.for("react.suspense"),T3=Symbol.for("react.suspense_list"),KF=Symbol.for("react.memo"),xd=Symbol.for("react.lazy"),m0e=Symbol.for("react.offscreen"),Yz=Symbol.iterator;function c1(e){return e===null||typeof e!="object"?null:(e=Yz&&e[Yz]||e["@@iterator"],typeof e=="function"?e:null)}var Or=Object.assign,aD;function ty(e){if(aD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);aD=t&&t[1]||""}return`
`+aD+e}var lD=!1;function cD(e,t){if(!e||lD)return"";lD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{lD=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ty(e):""}function UBe(e){switch(e.tag){case 5:return ty(e.type);case 16:return ty("Lazy");case 13:return ty("Suspense");case 19:return ty("SuspenseList");case 0:case 2:case 15:return e=cD(e.type,!1),e;case 11:return e=cD(e.type.render,!1),e;case 1:return e=cD(e.type,!0),e;default:return""}}function A3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mg:return"Fragment";case pg:return"Portal";case k3:return"Profiler";case qF:return"StrictMode";case j3:return"Suspense";case T3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p0e:return(e.displayName||"Context")+".Consumer";case h0e:return(e._context.displayName||"Context")+".Provider";case GF:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KF:return t=e.displayName||null,t!==null?t:A3(e.type)||"Memo";case xd:t=e._payload,e=e._init;try{return A3(e(t))}catch{}}return null}function WBe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A3(t);case 8:return t===qF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function g0e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YBe(e){var t=g0e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vC(e){e._valueTracker||(e._valueTracker=YBe(e))}function v0e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=g0e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function OS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function D3(e,t){var n=t.checked;return Or({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qz(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function y0e(e,t){t=t.checked,t!=null&&YF(e,"checked",t,!1)}function I3(e,t){y0e(e,t);var n=Sf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P3(e,t.type,n):t.hasOwnProperty("defaultValue")&&P3(e,t.type,Sf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gz(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function P3(e,t,n){(t!=="number"||OS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ny=Array.isArray;function Bg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sf(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function O3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Or({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kz(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(ny(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sf(n)}}function b0e(e,t){var n=Sf(t.value),r=Sf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x0e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x0e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yC,w0e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yC=yC||document.createElement("div"),yC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ty={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qBe=["Webkit","ms","Moz","O"];Object.keys(Ty).forEach(function(e){qBe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ty[t]=Ty[e]})});function C0e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ty.hasOwnProperty(e)&&Ty[e]?(""+t).trim():t+"px"}function _0e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=C0e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var GBe=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R3(e,t){if(t){if(GBe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function M3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F3=null;function ZF(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var L3=null,Ng=null,zg=null;function Xz(e){if(e=Zx(e)){if(typeof L3!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=oj(t),L3(e.stateNode,e.type,t))}}function S0e(e){Ng?zg?zg.push(e):zg=[e]:Ng=e}function E0e(){if(Ng){var e=Ng,t=zg;if(zg=Ng=null,Xz(e),t)for(e=0;e<t.length;e++)Xz(t[e])}}function k0e(e,t){return e(t)}function j0e(){}var uD=!1;function T0e(e,t,n){if(uD)return e(t,n);uD=!0;try{return k0e(e,t,n)}finally{uD=!1,(Ng!==null||zg!==null)&&(j0e(),E0e())}}function xb(e,t){var n=e.stateNode;if(n===null)return null;var r=oj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var B3=!1;if(ju)try{var u1={};Object.defineProperty(u1,"passive",{get:function(){B3=!0}}),window.addEventListener("test",u1,u1),window.removeEventListener("test",u1,u1)}catch{B3=!1}function KBe(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ay=!1,$S=null,RS=!1,N3=null,ZBe={onError:function(e){Ay=!0,$S=e}};function XBe(e,t,n,r,o,i,s,a,l){Ay=!1,$S=null,KBe.apply(ZBe,arguments)}function QBe(e,t,n,r,o,i,s,a,l){if(XBe.apply(this,arguments),Ay){if(Ay){var u=$S;Ay=!1,$S=null}else throw Error(Te(198));RS||(RS=!0,N3=u)}}function om(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function A0e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qz(e){if(om(e)!==e)throw Error(Te(188))}function JBe(e){var t=e.alternate;if(!t){if(t=om(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Qz(o),e;if(i===r)return Qz(o),t;i=i.sibling}throw Error(Te(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function D0e(e){return e=JBe(e),e!==null?I0e(e):null}function I0e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=I0e(e);if(t!==null)return t;e=e.sibling}return null}var P0e=Js.unstable_scheduleCallback,Jz=Js.unstable_cancelCallback,eNe=Js.unstable_shouldYield,tNe=Js.unstable_requestPaint,Yr=Js.unstable_now,nNe=Js.unstable_getCurrentPriorityLevel,XF=Js.unstable_ImmediatePriority,O0e=Js.unstable_UserBlockingPriority,MS=Js.unstable_NormalPriority,rNe=Js.unstable_LowPriority,$0e=Js.unstable_IdlePriority,ej=null,mc=null;function oNe(e){if(mc&&typeof mc.onCommitFiberRoot=="function")try{mc.onCommitFiberRoot(ej,e,void 0,(e.current.flags&128)===128)}catch{}}var gl=Math.clz32?Math.clz32:aNe,iNe=Math.log,sNe=Math.LN2;function aNe(e){return e>>>=0,e===0?32:31-(iNe(e)/sNe|0)|0}var bC=64,xC=4194304;function ry(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function FS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ry(a):(i&=s,i!==0&&(r=ry(i)))}else s=n&~o,s!==0?r=ry(s):i!==0&&(r=ry(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gl(t),o=1<<n,r|=e[n],t&=~o;return r}function lNe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cNe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-gl(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=lNe(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function z3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function R0e(){var e=bC;return bC<<=1,!(bC&4194240)&&(bC=64),e}function dD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gx(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gl(t),e[t]=n}function uNe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-gl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function QF(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Cn=0;function M0e(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F0e,JF,L0e,B0e,N0e,V3=!1,wC=[],Xd=null,Qd=null,Jd=null,wb=new Map,Cb=new Map,Ad=[],dNe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eV(e,t){switch(e){case"focusin":case"focusout":Xd=null;break;case"dragenter":case"dragleave":Qd=null;break;case"mouseover":case"mouseout":Jd=null;break;case"pointerover":case"pointerout":wb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cb.delete(t.pointerId)}}function d1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Zx(t),t!==null&&JF(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fNe(e,t,n,r,o){switch(t){case"focusin":return Xd=d1(Xd,e,t,n,r,o),!0;case"dragenter":return Qd=d1(Qd,e,t,n,r,o),!0;case"mouseover":return Jd=d1(Jd,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return wb.set(i,d1(wb.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Cb.set(i,d1(Cb.get(i)||null,e,t,n,r,o)),!0}return!1}function z0e(e){var t=Gh(e.target);if(t!==null){var n=om(t);if(n!==null){if(t=n.tag,t===13){if(t=A0e(n),t!==null){e.blockedOn=t,N0e(e.priority,function(){L0e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function d2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=H3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);F3=r,n.target.dispatchEvent(r),F3=null}else return t=Zx(n),t!==null&&JF(t),e.blockedOn=n,!1;t.shift()}return!0}function tV(e,t,n){d2(e)&&n.delete(t)}function hNe(){V3=!1,Xd!==null&&d2(Xd)&&(Xd=null),Qd!==null&&d2(Qd)&&(Qd=null),Jd!==null&&d2(Jd)&&(Jd=null),wb.forEach(tV),Cb.forEach(tV)}function f1(e,t){e.blockedOn===t&&(e.blockedOn=null,V3||(V3=!0,Js.unstable_scheduleCallback(Js.unstable_NormalPriority,hNe)))}function _b(e){function t(o){return f1(o,e)}if(0<wC.length){f1(wC[0],e);for(var n=1;n<wC.length;n++){var r=wC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xd!==null&&f1(Xd,e),Qd!==null&&f1(Qd,e),Jd!==null&&f1(Jd,e),wb.forEach(t),Cb.forEach(t),n=0;n<Ad.length;n++)r=Ad[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ad.length&&(n=Ad[0],n.blockedOn===null);)z0e(n),n.blockedOn===null&&Ad.shift()}var Vg=Gu.ReactCurrentBatchConfig,LS=!0;function pNe(e,t,n,r){var o=Cn,i=Vg.transition;Vg.transition=null;try{Cn=1,e6(e,t,n,r)}finally{Cn=o,Vg.transition=i}}function mNe(e,t,n,r){var o=Cn,i=Vg.transition;Vg.transition=null;try{Cn=4,e6(e,t,n,r)}finally{Cn=o,Vg.transition=i}}function e6(e,t,n,r){if(LS){var o=H3(e,t,n,r);if(o===null)wD(e,t,r,BS,n),eV(e,r);else if(fNe(o,e,t,n,r))r.stopPropagation();else if(eV(e,r),t&4&&-1<dNe.indexOf(e)){for(;o!==null;){var i=Zx(o);if(i!==null&&F0e(i),i=H3(e,t,n,r),i===null&&wD(e,t,r,BS,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else wD(e,t,r,null,n)}}var BS=null;function H3(e,t,n,r){if(BS=null,e=ZF(r),e=Gh(e),e!==null)if(t=om(e),t===null)e=null;else if(n=t.tag,n===13){if(e=A0e(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return BS=e,null}function V0e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nNe()){case XF:return 1;case O0e:return 4;case MS:case rNe:return 16;case $0e:return 536870912;default:return 16}default:return 16}}var $d=null,t6=null,f2=null;function H0e(){if(f2)return f2;var e,t=t6,n=t.length,r,o="value"in $d?$d.value:$d.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return f2=o.slice(e,1<r?1-r:void 0)}function h2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function CC(){return!0}function nV(){return!1}function la(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?CC:nV,this.isPropagationStopped=nV,this}return Or(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=CC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=CC)},persist:function(){},isPersistent:CC}),t}var s0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n6=la(s0),Kx=Or({},s0,{view:0,detail:0}),gNe=la(Kx),fD,hD,h1,tj=Or({},Kx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==h1&&(h1&&e.type==="mousemove"?(fD=e.screenX-h1.screenX,hD=e.screenY-h1.screenY):hD=fD=0,h1=e),fD)},movementY:function(e){return"movementY"in e?e.movementY:hD}}),rV=la(tj),vNe=Or({},tj,{dataTransfer:0}),yNe=la(vNe),bNe=Or({},Kx,{relatedTarget:0}),pD=la(bNe),xNe=Or({},s0,{animationName:0,elapsedTime:0,pseudoElement:0}),wNe=la(xNe),CNe=Or({},s0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_Ne=la(CNe),SNe=Or({},s0,{data:0}),oV=la(SNe),ENe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kNe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jNe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TNe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jNe[e])?!!t[e]:!1}function r6(){return TNe}var ANe=Or({},Kx,{key:function(e){if(e.key){var t=ENe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=h2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kNe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r6,charCode:function(e){return e.type==="keypress"?h2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?h2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DNe=la(ANe),INe=Or({},tj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iV=la(INe),PNe=Or({},Kx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r6}),ONe=la(PNe),$Ne=Or({},s0,{propertyName:0,elapsedTime:0,pseudoElement:0}),RNe=la($Ne),MNe=Or({},tj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FNe=la(MNe),LNe=[9,13,27,32],o6=ju&&"CompositionEvent"in window,Dy=null;ju&&"documentMode"in document&&(Dy=document.documentMode);var BNe=ju&&"TextEvent"in window&&!Dy,U0e=ju&&(!o6||Dy&&8<Dy&&11>=Dy),sV=String.fromCharCode(32),aV=!1;function W0e(e,t){switch(e){case"keyup":return LNe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y0e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gg=!1;function NNe(e,t){switch(e){case"compositionend":return Y0e(t);case"keypress":return t.which!==32?null:(aV=!0,sV);case"textInput":return e=t.data,e===sV&&aV?null:e;default:return null}}function zNe(e,t){if(gg)return e==="compositionend"||!o6&&W0e(e,t)?(e=H0e(),f2=t6=$d=null,gg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U0e&&t.locale!=="ko"?null:t.data;default:return null}}var VNe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VNe[e.type]:t==="textarea"}function q0e(e,t,n,r){S0e(r),t=NS(t,"onChange"),0<t.length&&(n=new n6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Iy=null,Sb=null;function HNe(e){o1e(e,0)}function nj(e){var t=bg(e);if(v0e(t))return e}function UNe(e,t){if(e==="change")return t}var G0e=!1;if(ju){var mD;if(ju){var gD="oninput"in document;if(!gD){var cV=document.createElement("div");cV.setAttribute("oninput","return;"),gD=typeof cV.oninput=="function"}mD=gD}else mD=!1;G0e=mD&&(!document.documentMode||9<document.documentMode)}function uV(){Iy&&(Iy.detachEvent("onpropertychange",K0e),Sb=Iy=null)}function K0e(e){if(e.propertyName==="value"&&nj(Sb)){var t=[];q0e(t,Sb,e,ZF(e)),T0e(HNe,t)}}function WNe(e,t,n){e==="focusin"?(uV(),Iy=t,Sb=n,Iy.attachEvent("onpropertychange",K0e)):e==="focusout"&&uV()}function YNe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nj(Sb)}function qNe(e,t){if(e==="click")return nj(t)}function GNe(e,t){if(e==="input"||e==="change")return nj(t)}function KNe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wl=typeof Object.is=="function"?Object.is:KNe;function Eb(e,t){if(wl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!E3.call(t,o)||!wl(e[o],t[o]))return!1}return!0}function dV(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fV(e,t){var n=dV(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dV(n)}}function Z0e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z0e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function X0e(){for(var e=window,t=OS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=OS(e.document)}return t}function i6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZNe(e){var t=X0e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Z0e(n.ownerDocument.documentElement,n)){if(r!==null&&i6(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=fV(n,i);var s=fV(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XNe=ju&&"documentMode"in document&&11>=document.documentMode,vg=null,U3=null,Py=null,W3=!1;function hV(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;W3||vg==null||vg!==OS(r)||(r=vg,"selectionStart"in r&&i6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Py&&Eb(Py,r)||(Py=r,r=NS(U3,"onSelect"),0<r.length&&(t=new n6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vg)))}function _C(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yg={animationend:_C("Animation","AnimationEnd"),animationiteration:_C("Animation","AnimationIteration"),animationstart:_C("Animation","AnimationStart"),transitionend:_C("Transition","TransitionEnd")},vD={},Q0e={};ju&&(Q0e=document.createElement("div").style,"AnimationEvent"in window||(delete yg.animationend.animation,delete yg.animationiteration.animation,delete yg.animationstart.animation),"TransitionEvent"in window||delete yg.transitionend.transition);function rj(e){if(vD[e])return vD[e];if(!yg[e])return e;var t=yg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Q0e)return vD[e]=t[n];return e}var J0e=rj("animationend"),e1e=rj("animationiteration"),t1e=rj("animationstart"),n1e=rj("transitionend"),r1e=new Map,pV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vf(e,t){r1e.set(e,t),rm(t,[e])}for(var yD=0;yD<pV.length;yD++){var bD=pV[yD],QNe=bD.toLowerCase(),JNe=bD[0].toUpperCase()+bD.slice(1);Vf(QNe,"on"+JNe)}Vf(J0e,"onAnimationEnd");Vf(e1e,"onAnimationIteration");Vf(t1e,"onAnimationStart");Vf("dblclick","onDoubleClick");Vf("focusin","onFocus");Vf("focusout","onBlur");Vf(n1e,"onTransitionEnd");Cv("onMouseEnter",["mouseout","mouseover"]);Cv("onMouseLeave",["mouseout","mouseover"]);Cv("onPointerEnter",["pointerout","pointerover"]);Cv("onPointerLeave",["pointerout","pointerover"]);rm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rm("onBeforeInput",["compositionend","keypress","textInput","paste"]);rm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eze=new Set("cancel close invalid load scroll toggle".split(" ").concat(oy));function mV(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QBe(r,t,void 0,e),e.currentTarget=null}function o1e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;mV(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;mV(o,a,u),i=l}}}if(RS)throw e=N3,RS=!1,N3=null,e}function er(e,t){var n=t[Z3];n===void 0&&(n=t[Z3]=new Set);var r=e+"__bubble";n.has(r)||(i1e(t,e,2,!1),n.add(r))}function xD(e,t,n){var r=0;t&&(r|=4),i1e(n,e,r,t)}var SC="_reactListening"+Math.random().toString(36).slice(2);function kb(e){if(!e[SC]){e[SC]=!0,f0e.forEach(function(n){n!=="selectionchange"&&(eze.has(n)||xD(n,!1,e),xD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[SC]||(t[SC]=!0,xD("selectionchange",!1,t))}}function i1e(e,t,n,r){switch(V0e(t)){case 1:var o=pNe;break;case 4:o=mNe;break;default:o=e6}n=o.bind(null,t,n,e),o=void 0,!B3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function wD(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Gh(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}T0e(function(){var u=i,d=ZF(n),f=[];e:{var p=r1e.get(e);if(p!==void 0){var m=n6,v=e;switch(e){case"keypress":if(h2(n)===0)break e;case"keydown":case"keyup":m=DNe;break;case"focusin":v="focus",m=pD;break;case"focusout":v="blur",m=pD;break;case"beforeblur":case"afterblur":m=pD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yNe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ONe;break;case J0e:case e1e:case t1e:m=wNe;break;case n1e:m=RNe;break;case"scroll":m=gNe;break;case"wheel":m=FNe;break;case"copy":case"cut":case"paste":m=_Ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iV}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=xb(b,x),C!=null&&g.push(jb(b,C,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==F3&&(v=n.relatedTarget||n.fromElement)&&(Gh(v)||v[Tu]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Gh(v):null,v!==null&&(y=om(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=rV,C="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=iV,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:bg(m),w=v==null?p:bg(v),p=new g(C,b+"leave",m,n,d),p.target=y,p.relatedTarget=w,C=null,Gh(d)===u&&(g=new g(x,b+"enter",v,n,d),g.target=w,g.relatedTarget=y,C=g),y=C,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=$m(w))b++;for(w=0,C=x;C;C=$m(C))w++;for(;0<b-w;)g=$m(g),b--;for(;0<w-b;)x=$m(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=$m(g),x=$m(x)}g=null}else g=null;m!==null&&gV(f,p,m,g,!1),v!==null&&y!==null&&gV(f,y,v,g,!0)}}e:{if(p=u?bg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=UNe;else if(lV(p))if(G0e)_=GNe;else{_=YNe;var S=WNe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=qNe);if(_&&(_=_(e,u))){q0e(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&P3(p,"number",p.value)}switch(S=u?bg(u):window,e){case"focusin":(lV(S)||S.contentEditable==="true")&&(vg=S,U3=u,Py=null);break;case"focusout":Py=U3=vg=null;break;case"mousedown":W3=!0;break;case"contextmenu":case"mouseup":case"dragend":W3=!1,hV(f,n,d);break;case"selectionchange":if(XNe)break;case"keydown":case"keyup":hV(f,n,d)}var E;if(o6)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else gg?W0e(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(U0e&&n.locale!=="ko"&&(gg||j!=="onCompositionStart"?j==="onCompositionEnd"&&gg&&(E=H0e()):($d=d,t6="value"in $d?$d.value:$d.textContent,gg=!0)),S=NS(u,j),0<S.length&&(j=new oV(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=Y0e(n),E!==null&&(j.data=E)))),(E=BNe?NNe(e,n):zNe(e,n))&&(u=NS(u,"onBeforeInput"),0<u.length&&(d=new oV("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}o1e(f,t)})}function jb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function NS(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=xb(e,n),i!=null&&r.unshift(jb(e,i,o)),i=xb(e,t),i!=null&&r.push(jb(e,i,o))),e=e.return}return r}function $m(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gV(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=xb(n,i),l!=null&&s.unshift(jb(n,l,a))):o||(l=xb(n,i),l!=null&&s.push(jb(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var tze=/\r\n?/g,nze=/\u0000|\uFFFD/g;function vV(e){return(typeof e=="string"?e:""+e).replace(tze,`
`).replace(nze,"")}function EC(e,t,n){if(t=vV(t),vV(e)!==t&&n)throw Error(Te(425))}function zS(){}var Y3=null,q3=null;function G3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var K3=typeof setTimeout=="function"?setTimeout:void 0,rze=typeof clearTimeout=="function"?clearTimeout:void 0,yV=typeof Promise=="function"?Promise:void 0,oze=typeof queueMicrotask=="function"?queueMicrotask:typeof yV<"u"?function(e){return yV.resolve(null).then(e).catch(ize)}:K3;function ize(e){setTimeout(function(){throw e})}function CD(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),_b(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);_b(t)}function ef(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var a0=Math.random().toString(36).slice(2),oc="__reactFiber$"+a0,Tb="__reactProps$"+a0,Tu="__reactContainer$"+a0,Z3="__reactEvents$"+a0,sze="__reactListeners$"+a0,aze="__reactHandles$"+a0;function Gh(e){var t=e[oc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tu]||n[oc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bV(e);e!==null;){if(n=e[oc])return n;e=bV(e)}return t}e=n,n=e.parentNode}return null}function Zx(e){return e=e[oc]||e[Tu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function oj(e){return e[Tb]||null}var X3=[],xg=-1;function Hf(e){return{current:e}}function or(e){0>xg||(e.current=X3[xg],X3[xg]=null,xg--)}function Hn(e,t){xg++,X3[xg]=e.current,e.current=t}var Ef={},bi=Hf(Ef),xs=Hf(!1),Ap=Ef;function _v(e,t){var n=e.type.contextTypes;if(!n)return Ef;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ws(e){return e=e.childContextTypes,e!=null}function VS(){or(xs),or(bi)}function xV(e,t,n){if(bi.current!==Ef)throw Error(Te(168));Hn(bi,t),Hn(xs,n)}function s1e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Te(108,WBe(e)||"Unknown",o));return Or({},n,r)}function HS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ef,Ap=bi.current,Hn(bi,e),Hn(xs,xs.current),!0}function wV(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=s1e(e,t,Ap),r.__reactInternalMemoizedMergedChildContext=e,or(xs),or(bi),Hn(bi,e)):or(xs),Hn(xs,n)}var ou=null,ij=!1,_D=!1;function a1e(e){ou===null?ou=[e]:ou.push(e)}function lze(e){ij=!0,a1e(e)}function Uf(){if(!_D&&ou!==null){_D=!0;var e=0,t=Cn;try{var n=ou;for(Cn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ou=null,ij=!1}catch(o){throw ou!==null&&(ou=ou.slice(e+1)),P0e(XF,Uf),o}finally{Cn=t,_D=!1}}return null}var wg=[],Cg=0,US=null,WS=0,wa=[],Ca=0,Dp=null,lu=1,cu="";function Eh(e,t){wg[Cg++]=WS,wg[Cg++]=US,US=e,WS=t}function l1e(e,t,n){wa[Ca++]=lu,wa[Ca++]=cu,wa[Ca++]=Dp,Dp=e;var r=lu;e=cu;var o=32-gl(r)-1;r&=~(1<<o),n+=1;var i=32-gl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,lu=1<<32-gl(t)+o|n<<o|r,cu=i+e}else lu=1<<i|n<<o|r,cu=e}function s6(e){e.return!==null&&(Eh(e,1),l1e(e,1,0))}function a6(e){for(;e===US;)US=wg[--Cg],wg[Cg]=null,WS=wg[--Cg],wg[Cg]=null;for(;e===Dp;)Dp=wa[--Ca],wa[Ca]=null,cu=wa[--Ca],wa[Ca]=null,lu=wa[--Ca],wa[Ca]=null}var Xs=null,Ys=null,yr=!1,il=null;function c1e(e,t){var n=Ta(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function CV(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xs=e,Ys=ef(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xs=e,Ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dp!==null?{id:lu,overflow:cu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ta(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xs=e,Ys=null,!0):!1;default:return!1}}function Q3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J3(e){if(yr){var t=Ys;if(t){var n=t;if(!CV(e,t)){if(Q3(e))throw Error(Te(418));t=ef(n.nextSibling);var r=Xs;t&&CV(e,t)?c1e(r,n):(e.flags=e.flags&-4097|2,yr=!1,Xs=e)}}else{if(Q3(e))throw Error(Te(418));e.flags=e.flags&-4097|2,yr=!1,Xs=e}}}function _V(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xs=e}function kC(e){if(e!==Xs)return!1;if(!yr)return _V(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!G3(e.type,e.memoizedProps)),t&&(t=Ys)){if(Q3(e))throw u1e(),Error(Te(418));for(;t;)c1e(e,t),t=ef(t.nextSibling)}if(_V(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ys=ef(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ys=null}}else Ys=Xs?ef(e.stateNode.nextSibling):null;return!0}function u1e(){for(var e=Ys;e;)e=ef(e.nextSibling)}function Sv(){Ys=Xs=null,yr=!1}function l6(e){il===null?il=[e]:il.push(e)}var cze=Gu.ReactCurrentBatchConfig;function rl(e,t){if(e&&e.defaultProps){t=Or({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var YS=Hf(null),qS=null,_g=null,c6=null;function u6(){c6=_g=qS=null}function d6(e){var t=YS.current;or(YS),e._currentValue=t}function e$(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hg(e,t){qS=e,c6=_g=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vs=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(c6!==e)if(e={context:e,memoizedValue:t,next:null},_g===null){if(qS===null)throw Error(Te(308));_g=e,qS.dependencies={lanes:0,firstContext:e}}else _g=_g.next=e;return t}var Kh=null;function f6(e){Kh===null?Kh=[e]:Kh.push(e)}function d1e(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,f6(t)):(n.next=o.next,o.next=n),t.interleaved=n,Au(e,r)}function Au(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wd=!1;function h6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f1e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,en&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Au(e,n)}return o=r.interleaved,o===null?(t.next=t,f6(r)):(t.next=o.next,o.next=t),r.interleaved=t,Au(e,n)}function p2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,QF(e,n)}}function SV(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function GS(e,t,n,r){var o=e.updateQueue;wd=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,d=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Or({},f,p);break e;case 2:wd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Pp|=s,e.lanes=s,e.memoizedState=f}}function EV(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Te(191,o));o.call(r)}}}var h1e=new d0e.Component().refs;function t$(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Or({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sj={isMounted:function(e){return(e=e._reactInternals)?om(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hi(),o=rf(e),i=gu(r,o);i.payload=t,n!=null&&(i.callback=n),t=tf(e,i,o),t!==null&&(vl(t,e,o,r),p2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hi(),o=rf(e),i=gu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=tf(e,i,o),t!==null&&(vl(t,e,o,r),p2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hi(),r=rf(e),o=gu(n,r);o.tag=2,t!=null&&(o.callback=t),t=tf(e,o,r),t!==null&&(vl(t,e,r,n),p2(t,e,r))}};function kV(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Eb(n,r)||!Eb(o,i):!0}function p1e(e,t,n){var r=!1,o=Ef,i=t.contextType;return typeof i=="object"&&i!==null?i=Fa(i):(o=ws(t)?Ap:bi.current,r=t.contextTypes,i=(r=r!=null)?_v(e,o):Ef),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function jV(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sj.enqueueReplaceState(t,t.state,null)}function n$(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=h1e,h6(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Fa(i):(i=ws(t)?Ap:bi.current,o.context=_v(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(t$(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&sj.enqueueReplaceState(o,o.state,null),GS(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function p1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===h1e&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function jC(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function TV(e){var t=e._init;return t(e._payload)}function m1e(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=of(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,C){return b===null||b.tag!==6?(b=DD(w,x.mode,C),b.return=x,b):(b=o(b,w),b.return=x,b)}function l(x,b,w,C){var _=w.type;return _===mg?d(x,b,w.props.children,C,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xd&&TV(_)===b.type)?(C=o(b,w.props),C.ref=p1(x,b,w),C.return=x,C):(C=x2(w.type,w.key,w.props,null,x.mode,C),C.ref=p1(x,b,w),C.return=x,C)}function u(x,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ID(w,x.mode,C),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,C,_){return b===null||b.tag!==7?(b=fp(w,x.mode,C,_),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=DD(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gC:return w=x2(b.type,b.key,b.props,null,x.mode,w),w.ref=p1(x,null,b),w.return=x,w;case pg:return b=ID(b,x.mode,w),b.return=x,b;case xd:var C=b._init;return f(x,C(b._payload),w)}if(ny(b)||c1(b))return b=fp(b,x.mode,w,null),b.return=x,b;jC(x,b)}return null}function p(x,b,w,C){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gC:return w.key===_?l(x,b,w,C):null;case pg:return w.key===_?u(x,b,w,C):null;case xd:return _=w._init,p(x,b,_(w._payload),C)}if(ny(w)||c1(w))return _!==null?null:d(x,b,w,C,null);jC(x,w)}return null}function m(x,b,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(b,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gC:return x=x.get(C.key===null?w:C.key)||null,l(b,x,C,_);case pg:return x=x.get(C.key===null?w:C.key)||null,u(b,x,C,_);case xd:var S=C._init;return m(x,b,w,S(C._payload),_)}if(ny(C)||c1(C))return x=x.get(w)||null,d(b,x,C,_,null);jC(b,C)}return null}function v(x,b,w,C){for(var _=null,S=null,E=b,j=b=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),yr&&Eh(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(b=i(E,b,j),S===null?_=E:S.sibling=E,S=E);return yr&&Eh(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),b=i(k,b,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),yr&&Eh(x,j),_}function g(x,b,w,C){var _=c1(w);if(typeof _!="function")throw Error(Te(150));if(w=_.call(w),w==null)throw Error(Te(151));for(var S=_=null,E=b,j=b=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),b=i(A,b,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),yr&&Eh(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return yr&&Eh(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),yr&&Eh(x,j),_}function y(x,b,w,C){if(typeof w=="object"&&w!==null&&w.type===mg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gC:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===mg){if(S.tag===7){n(x,S.sibling),b=o(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xd&&TV(_)===S.type){n(x,S.sibling),b=o(S,w.props),b.ref=p1(x,S,w),b.return=x,x=b;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===mg?(b=fp(w.props.children,x.mode,C,w.key),b.return=x,x=b):(C=x2(w.type,w.key,w.props,null,x.mode,C),C.ref=p1(x,b,w),C.return=x,x=C)}return s(x);case pg:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=ID(w,x.mode,C),b.return=x,x=b}return s(x);case xd:return S=w._init,y(x,b,S(w._payload),C)}if(ny(w))return v(x,b,w,C);if(c1(w))return g(x,b,w,C);jC(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=o(b,w),b.return=x,x=b):(n(x,b),b=DD(w,x.mode,C),b.return=x,x=b),s(x)):n(x,b)}return y}var Ev=m1e(!0),g1e=m1e(!1),Xx={},gc=Hf(Xx),Ab=Hf(Xx),Db=Hf(Xx);function Zh(e){if(e===Xx)throw Error(Te(174));return e}function p6(e,t){switch(Hn(Db,t),Hn(Ab,e),Hn(gc,Xx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$3(t,e)}or(gc),Hn(gc,t)}function kv(){or(gc),or(Ab),or(Db)}function v1e(e){Zh(Db.current);var t=Zh(gc.current),n=$3(t,e.type);t!==n&&(Hn(Ab,e),Hn(gc,n))}function m6(e){Ab.current===e&&(or(gc),or(Ab))}var kr=Hf(0);function KS(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var SD=[];function g6(){for(var e=0;e<SD.length;e++)SD[e]._workInProgressVersionPrimary=null;SD.length=0}var m2=Gu.ReactCurrentDispatcher,ED=Gu.ReactCurrentBatchConfig,Ip=0,Ir=null,vo=null,Po=null,ZS=!1,Oy=!1,Ib=0,uze=0;function si(){throw Error(Te(321))}function v6(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wl(e[n],t[n]))return!1;return!0}function y6(e,t,n,r,o,i){if(Ip=i,Ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,m2.current=e===null||e.memoizedState===null?pze:mze,e=n(r,o),Oy){i=0;do{if(Oy=!1,Ib=0,25<=i)throw Error(Te(301));i+=1,Po=vo=null,t.updateQueue=null,m2.current=gze,e=n(r,o)}while(Oy)}if(m2.current=XS,t=vo!==null&&vo.next!==null,Ip=0,Po=vo=Ir=null,ZS=!1,t)throw Error(Te(300));return e}function b6(){var e=Ib!==0;return Ib=0,e}function Zl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Po===null?Ir.memoizedState=Po=e:Po=Po.next=e,Po}function La(){if(vo===null){var e=Ir.alternate;e=e!==null?e.memoizedState:null}else e=vo.next;var t=Po===null?Ir.memoizedState:Po.next;if(t!==null)Po=t,vo=e;else{if(e===null)throw Error(Te(310));vo=e,e={memoizedState:vo.memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},Po===null?Ir.memoizedState=Po=e:Po=Po.next=e}return Po}function Pb(e,t){return typeof t=="function"?t(e):t}function kD(e){var t=La(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=vo,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var d=u.lane;if((Ip&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ir.lanes|=d,Pp|=d}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,wl(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ir.lanes|=i,Pp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jD(e){var t=La(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);wl(i,t.memoizedState)||(vs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function y1e(){}function b1e(e,t){var n=Ir,r=La(),o=t(),i=!wl(r.memoizedState,o);if(i&&(r.memoizedState=o,vs=!0),r=r.queue,x6(C1e.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Po!==null&&Po.memoizedState.tag&1){if(n.flags|=2048,Ob(9,w1e.bind(null,n,r,o,t),void 0,null),Mo===null)throw Error(Te(349));Ip&30||x1e(n,t,o)}return o}function x1e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function w1e(e,t,n,r){t.value=n,t.getSnapshot=r,_1e(t)&&S1e(e)}function C1e(e,t,n){return n(function(){_1e(t)&&S1e(e)})}function _1e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wl(e,n)}catch{return!0}}function S1e(e){var t=Au(e,1);t!==null&&vl(t,e,1,-1)}function AV(e){var t=Zl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pb,lastRenderedState:e},t.queue=e,e=e.dispatch=hze.bind(null,Ir,e),[t.memoizedState,e]}function Ob(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function E1e(){return La().memoizedState}function g2(e,t,n,r){var o=Zl();Ir.flags|=e,o.memoizedState=Ob(1|t,n,void 0,r===void 0?null:r)}function aj(e,t,n,r){var o=La();r=r===void 0?null:r;var i=void 0;if(vo!==null){var s=vo.memoizedState;if(i=s.destroy,r!==null&&v6(r,s.deps)){o.memoizedState=Ob(t,n,i,r);return}}Ir.flags|=e,o.memoizedState=Ob(1|t,n,i,r)}function DV(e,t){return g2(8390656,8,e,t)}function x6(e,t){return aj(2048,8,e,t)}function k1e(e,t){return aj(4,2,e,t)}function j1e(e,t){return aj(4,4,e,t)}function T1e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A1e(e,t,n){return n=n!=null?n.concat([e]):null,aj(4,4,T1e.bind(null,t,e),n)}function w6(){}function D1e(e,t){var n=La();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&v6(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function I1e(e,t){var n=La();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&v6(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function P1e(e,t,n){return Ip&21?(wl(n,t)||(n=R0e(),Ir.lanes|=n,Pp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n)}function dze(e,t){var n=Cn;Cn=n!==0&&4>n?n:4,e(!0);var r=ED.transition;ED.transition={};try{e(!1),t()}finally{Cn=n,ED.transition=r}}function O1e(){return La().memoizedState}function fze(e,t,n){var r=rf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$1e(e))R1e(t,n);else if(n=d1e(e,t,n,r),n!==null){var o=Hi();vl(n,e,r,o),M1e(n,t,r)}}function hze(e,t,n){var r=rf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($1e(e))R1e(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,wl(a,s)){var l=t.interleaved;l===null?(o.next=o,f6(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=d1e(e,t,o,r),n!==null&&(o=Hi(),vl(n,e,r,o),M1e(n,t,r))}}function $1e(e){var t=e.alternate;return e===Ir||t!==null&&t===Ir}function R1e(e,t){Oy=ZS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function M1e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,QF(e,n)}}var XS={readContext:Fa,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},pze={readContext:Fa,useCallback:function(e,t){return Zl().memoizedState=[e,t===void 0?null:t],e},useContext:Fa,useEffect:DV,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,g2(4194308,4,T1e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return g2(4194308,4,e,t)},useInsertionEffect:function(e,t){return g2(4,2,e,t)},useMemo:function(e,t){var n=Zl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fze.bind(null,Ir,e),[r.memoizedState,e]},useRef:function(e){var t=Zl();return e={current:e},t.memoizedState=e},useState:AV,useDebugValue:w6,useDeferredValue:function(e){return Zl().memoizedState=e},useTransition:function(){var e=AV(!1),t=e[0];return e=dze.bind(null,e[1]),Zl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ir,o=Zl();if(yr){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),Mo===null)throw Error(Te(349));Ip&30||x1e(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,DV(C1e.bind(null,r,i,e),[e]),r.flags|=2048,Ob(9,w1e.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Zl(),t=Mo.identifierPrefix;if(yr){var n=cu,r=lu;n=(r&~(1<<32-gl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ib++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uze++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mze={readContext:Fa,useCallback:D1e,useContext:Fa,useEffect:x6,useImperativeHandle:A1e,useInsertionEffect:k1e,useLayoutEffect:j1e,useMemo:I1e,useReducer:kD,useRef:E1e,useState:function(){return kD(Pb)},useDebugValue:w6,useDeferredValue:function(e){var t=La();return P1e(t,vo.memoizedState,e)},useTransition:function(){var e=kD(Pb)[0],t=La().memoizedState;return[e,t]},useMutableSource:y1e,useSyncExternalStore:b1e,useId:O1e,unstable_isNewReconciler:!1},gze={readContext:Fa,useCallback:D1e,useContext:Fa,useEffect:x6,useImperativeHandle:A1e,useInsertionEffect:k1e,useLayoutEffect:j1e,useMemo:I1e,useReducer:jD,useRef:E1e,useState:function(){return jD(Pb)},useDebugValue:w6,useDeferredValue:function(e){var t=La();return vo===null?t.memoizedState=e:P1e(t,vo.memoizedState,e)},useTransition:function(){var e=jD(Pb)[0],t=La().memoizedState;return[e,t]},useMutableSource:y1e,useSyncExternalStore:b1e,useId:O1e,unstable_isNewReconciler:!1};function jv(e,t){try{var n="",r=t;do n+=UBe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function TD(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function r$(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vze=typeof WeakMap=="function"?WeakMap:Map;function F1e(e,t,n){n=gu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){JS||(JS=!0,h$=r),r$(e,t)},n}function L1e(e,t,n){n=gu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){r$(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){r$(e,t),typeof r!="function"&&(nf===null?nf=new Set([this]):nf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function IV(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vze;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ize.bind(null,e,t,n),t.then(e,e))}function PV(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function OV(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gu(-1,1),t.tag=2,tf(n,t,1))),n.lanes|=1),e)}var yze=Gu.ReactCurrentOwner,vs=!1;function Mi(e,t,n,r){t.child=e===null?g1e(t,null,n,r):Ev(t,e.child,n,r)}function $V(e,t,n,r,o){n=n.render;var i=t.ref;return Hg(t,o),r=y6(e,t,n,r,i,o),n=b6(),e!==null&&!vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Du(e,t,o)):(yr&&n&&s6(t),t.flags|=1,Mi(e,t,r,o),t.child)}function RV(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!A6(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,B1e(e,t,i,r,o)):(e=x2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eb,n(s,r)&&e.ref===t.ref)return Du(e,t,o)}return t.flags|=1,e=of(i,r),e.ref=t.ref,e.return=t,t.child=e}function B1e(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Eb(i,r)&&e.ref===t.ref)if(vs=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(vs=!0);else return t.lanes=e.lanes,Du(e,t,o)}return o$(e,t,n,r,o)}function N1e(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(Eg,Fs),Fs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(Eg,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Hn(Eg,Fs),Fs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Hn(Eg,Fs),Fs|=r;return Mi(e,t,o,n),t.child}function z1e(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function o$(e,t,n,r,o){var i=ws(n)?Ap:bi.current;return i=_v(t,i),Hg(t,o),n=y6(e,t,n,r,i,o),r=b6(),e!==null&&!vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Du(e,t,o)):(yr&&r&&s6(t),t.flags|=1,Mi(e,t,n,o),t.child)}function MV(e,t,n,r,o){if(ws(n)){var i=!0;HS(t)}else i=!1;if(Hg(t,o),t.stateNode===null)v2(e,t),p1e(t,n,r),n$(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fa(u):(u=ws(n)?Ap:bi.current,u=_v(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jV(t,s,r,u),wd=!1;var p=t.memoizedState;s.state=p,GS(t,r,s,o),l=t.memoizedState,a!==r||p!==l||xs.current||wd?(typeof d=="function"&&(t$(t,n,d,r),l=t.memoizedState),(a=wd||kV(t,n,a,r,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,f1e(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:rl(t.type,a),s.props=u,f=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fa(l):(l=ws(n)?Ap:bi.current,l=_v(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==l)&&jV(t,s,r,l),wd=!1,p=t.memoizedState,s.state=p,GS(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||xs.current||wd?(typeof m=="function"&&(t$(t,n,m,r),v=t.memoizedState),(u=wd||kV(t,n,u,r,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i$(e,t,n,r,i,o)}function i$(e,t,n,r,o,i){z1e(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&wV(t,n,!1),Du(e,t,i);r=t.stateNode,yze.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ev(t,e.child,null,i),t.child=Ev(t,null,a,i)):Mi(e,t,a,i),t.memoizedState=r.state,o&&wV(t,n,!0),t.child}function V1e(e){var t=e.stateNode;t.pendingContext?xV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xV(e,t.context,!1),p6(e,t.containerInfo)}function FV(e,t,n,r,o){return Sv(),l6(o),t.flags|=256,Mi(e,t,n,r),t.child}var s$={dehydrated:null,treeContext:null,retryLane:0};function a$(e){return{baseLanes:e,cachePool:null,transitions:null}}function H1e(e,t,n){var r=t.pendingProps,o=kr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Hn(kr,o&1),e===null)return J3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=uj(s,r,0,null),e=fp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=a$(n),t.memoizedState=s$,e):C6(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return bze(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=of(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=of(a,i):(i=fp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?a$(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=s$,r}return i=e.child,e=i.sibling,r=of(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function C6(e,t){return t=uj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function TC(e,t,n,r){return r!==null&&l6(r),Ev(t,e.child,null,n),e=C6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bze(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=TD(Error(Te(422))),TC(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=uj({mode:"visible",children:r.children},o,0,null),i=fp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ev(t,e.child,null,s),t.child.memoizedState=a$(s),t.memoizedState=s$,i);if(!(t.mode&1))return TC(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Te(419)),r=TD(i,r,void 0),TC(e,t,s,r)}if(a=(s&e.childLanes)!==0,vs||a){if(r=Mo,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Au(e,o),vl(r,e,o,-1))}return T6(),r=TD(Error(Te(421))),TC(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Pze.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ys=ef(o.nextSibling),Xs=t,yr=!0,il=null,e!==null&&(wa[Ca++]=lu,wa[Ca++]=cu,wa[Ca++]=Dp,lu=e.id,cu=e.overflow,Dp=t),t=C6(t,r.children),t.flags|=4096,t)}function LV(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),e$(e.return,t,n)}function AD(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function U1e(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Mi(e,t,r.children,n),r=kr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LV(e,n,t);else if(e.tag===19)LV(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Hn(kr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&KS(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),AD(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&KS(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}AD(t,!0,n,null,i);break;case"together":AD(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function v2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Du(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=of(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=of(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xze(e,t,n){switch(t.tag){case 3:V1e(t),Sv();break;case 5:v1e(t);break;case 1:ws(t.type)&&HS(t);break;case 4:p6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Hn(YS,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Hn(kr,kr.current&1),t.flags|=128,null):n&t.child.childLanes?H1e(e,t,n):(Hn(kr,kr.current&1),e=Du(e,t,n),e!==null?e.sibling:null);Hn(kr,kr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return U1e(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Hn(kr,kr.current),r)break;return null;case 22:case 23:return t.lanes=0,N1e(e,t,n)}return Du(e,t,n)}var W1e,l$,Y1e,q1e;W1e=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};l$=function(){};Y1e=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Zh(gc.current);var i=null;switch(n){case"input":o=D3(e,o),r=D3(e,r),i=[];break;case"select":o=Or({},o,{value:void 0}),r=Or({},r,{value:void 0}),i=[];break;case"textarea":o=O3(e,o),r=O3(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zS)}R3(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yb.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&er("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};q1e=function(e,t,n,r){n!==r&&(t.flags|=4)};function m1(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ai(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wze(e,t,n){var r=t.pendingProps;switch(a6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(t),null;case 1:return ws(t.type)&&VS(),ai(t),null;case 3:return r=t.stateNode,kv(),or(xs),or(bi),g6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,il!==null&&(g$(il),il=null))),l$(e,t),ai(t),null;case 5:m6(t);var o=Zh(Db.current);if(n=t.type,e!==null&&t.stateNode!=null)Y1e(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return ai(t),null}if(e=Zh(gc.current),kC(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[oc]=t,r[Tb]=i,e=(t.mode&1)!==0,n){case"dialog":er("cancel",r),er("close",r);break;case"iframe":case"object":case"embed":er("load",r);break;case"video":case"audio":for(o=0;o<oy.length;o++)er(oy[o],r);break;case"source":er("error",r);break;case"img":case"image":case"link":er("error",r),er("load",r);break;case"details":er("toggle",r);break;case"input":qz(r,i),er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},er("invalid",r);break;case"textarea":Kz(r,i),er("invalid",r)}R3(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&EC(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&EC(r.textContent,a,e),o=["children",""+a]):yb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&er("scroll",r)}switch(n){case"input":vC(r),Gz(r,i,!0);break;case"textarea":vC(r),Zz(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zS)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x0e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[oc]=t,e[Tb]=r,W1e(e,t,!1,!1),t.stateNode=e;e:{switch(s=M3(n,r),n){case"dialog":er("cancel",e),er("close",e),o=r;break;case"iframe":case"object":case"embed":er("load",e),o=r;break;case"video":case"audio":for(o=0;o<oy.length;o++)er(oy[o],e);o=r;break;case"source":er("error",e),o=r;break;case"img":case"image":case"link":er("error",e),er("load",e),o=r;break;case"details":er("toggle",e),o=r;break;case"input":qz(e,r),o=D3(e,r),er("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Or({},r,{value:void 0}),er("invalid",e);break;case"textarea":Kz(e,r),o=O3(e,r),er("invalid",e);break;default:o=r}R3(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_0e(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w0e(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bb(e,l):typeof l=="number"&&bb(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yb.hasOwnProperty(i)?l!=null&&i==="onScroll"&&er("scroll",e):l!=null&&YF(e,i,l,s))}switch(n){case"input":vC(e),Gz(e,r,!1);break;case"textarea":vC(e),Zz(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sf(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Bg(e,!!r.multiple,i,!1):r.defaultValue!=null&&Bg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=zS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ai(t),null;case 6:if(e&&t.stateNode!=null)q1e(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=Zh(Db.current),Zh(gc.current),kC(t)){if(r=t.stateNode,n=t.memoizedProps,r[oc]=t,(i=r.nodeValue!==n)&&(e=Xs,e!==null))switch(e.tag){case 3:EC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&EC(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oc]=t,t.stateNode=r}return ai(t),null;case 13:if(or(kr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&Ys!==null&&t.mode&1&&!(t.flags&128))u1e(),Sv(),t.flags|=98560,i=!1;else if(i=kC(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[oc]=t}else Sv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ai(t),i=!1}else il!==null&&(g$(il),il=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||kr.current&1?wo===0&&(wo=3):T6())),t.updateQueue!==null&&(t.flags|=4),ai(t),null);case 4:return kv(),l$(e,t),e===null&&kb(t.stateNode.containerInfo),ai(t),null;case 10:return d6(t.type._context),ai(t),null;case 17:return ws(t.type)&&VS(),ai(t),null;case 19:if(or(kr),i=t.memoizedState,i===null)return ai(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)m1(i,!1);else{if(wo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=KS(e),s!==null){for(t.flags|=128,m1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn(kr,kr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Yr()>Tv&&(t.flags|=128,r=!0,m1(i,!1),t.lanes=4194304)}else{if(!r)if(e=KS(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),m1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!yr)return ai(t),null}else 2*Yr()-i.renderingStartTime>Tv&&n!==1073741824&&(t.flags|=128,r=!0,m1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Yr(),t.sibling=null,n=kr.current,Hn(kr,r?n&1|2:n&1),t):(ai(t),null);case 22:case 23:return j6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fs&1073741824&&(ai(t),t.subtreeFlags&6&&(t.flags|=8192)):ai(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function Cze(e,t){switch(a6(t),t.tag){case 1:return ws(t.type)&&VS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kv(),or(xs),or(bi),g6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return m6(t),null;case 13:if(or(kr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));Sv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(kr),null;case 4:return kv(),null;case 10:return d6(t.type._context),null;case 22:case 23:return j6(),null;case 24:return null;default:return null}}var AC=!1,pi=!1,_ze=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Sg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rr(e,t,r)}else n.current=null}function c$(e,t,n){try{n()}catch(r){Rr(e,t,r)}}var BV=!1;function Sze(e,t){if(Y3=LS,e=X0e(),i6(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(q3={focusedElem:e,selectionRange:n},LS=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:rl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(C){Rr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return v=BV,BV=!1,v}function $y(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&c$(t,n,i)}o=o.next}while(o!==r)}}function lj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function u$(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function G1e(e){var t=e.alternate;t!==null&&(e.alternate=null,G1e(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[oc],delete t[Tb],delete t[Z3],delete t[sze],delete t[aze])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K1e(e){return e.tag===5||e.tag===3||e.tag===4}function NV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K1e(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zS));else if(r!==4&&(e=e.child,e!==null))for(d$(e,t,n),e=e.sibling;e!==null;)d$(e,t,n),e=e.sibling}function f$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(f$(e,t,n),e=e.sibling;e!==null;)f$(e,t,n),e=e.sibling}var zo=null,ol=!1;function cd(e,t,n){for(n=n.child;n!==null;)Z1e(e,t,n),n=n.sibling}function Z1e(e,t,n){if(mc&&typeof mc.onCommitFiberUnmount=="function")try{mc.onCommitFiberUnmount(ej,n)}catch{}switch(n.tag){case 5:pi||Sg(n,t);case 6:var r=zo,o=ol;zo=null,cd(e,t,n),zo=r,ol=o,zo!==null&&(ol?(e=zo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zo.removeChild(n.stateNode));break;case 18:zo!==null&&(ol?(e=zo,n=n.stateNode,e.nodeType===8?CD(e.parentNode,n):e.nodeType===1&&CD(e,n),_b(e)):CD(zo,n.stateNode));break;case 4:r=zo,o=ol,zo=n.stateNode.containerInfo,ol=!0,cd(e,t,n),zo=r,ol=o;break;case 0:case 11:case 14:case 15:if(!pi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&c$(n,t,s),o=o.next}while(o!==r)}cd(e,t,n);break;case 1:if(!pi&&(Sg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rr(n,t,a)}cd(e,t,n);break;case 21:cd(e,t,n);break;case 22:n.mode&1?(pi=(r=pi)||n.memoizedState!==null,cd(e,t,n),pi=r):cd(e,t,n);break;default:cd(e,t,n)}}function zV(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _ze),t.forEach(function(r){var o=Oze.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ja(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:zo=a.stateNode,ol=!1;break e;case 3:zo=a.stateNode.containerInfo,ol=!0;break e;case 4:zo=a.stateNode.containerInfo,ol=!0;break e}a=a.return}if(zo===null)throw Error(Te(160));Z1e(i,s,o),zo=null,ol=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Rr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X1e(t,e),t=t.sibling}function X1e(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ja(t,e),zl(e),r&4){try{$y(3,e,e.return),lj(3,e)}catch(g){Rr(e,e.return,g)}try{$y(5,e,e.return)}catch(g){Rr(e,e.return,g)}}break;case 1:Ja(t,e),zl(e),r&512&&n!==null&&Sg(n,n.return);break;case 5:if(Ja(t,e),zl(e),r&512&&n!==null&&Sg(n,n.return),e.flags&32){var o=e.stateNode;try{bb(o,"")}catch(g){Rr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&y0e(o,i),M3(a,s);var u=M3(a,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?_0e(o,f):d==="dangerouslySetInnerHTML"?w0e(o,f):d==="children"?bb(o,f):YF(o,d,f,u)}switch(a){case"input":I3(o,i);break;case"textarea":b0e(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Bg(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Bg(o,!!i.multiple,i.defaultValue,!0):Bg(o,!!i.multiple,i.multiple?[]:"",!1))}o[Tb]=i}catch(g){Rr(e,e.return,g)}}break;case 6:if(Ja(t,e),zl(e),r&4){if(e.stateNode===null)throw Error(Te(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Rr(e,e.return,g)}}break;case 3:if(Ja(t,e),zl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_b(t.containerInfo)}catch(g){Rr(e,e.return,g)}break;case 4:Ja(t,e),zl(e);break;case 13:Ja(t,e),zl(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(E6=Yr())),r&4&&zV(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pi=(u=pi)||d,Ja(t,e),pi=u):Ja(t,e),zl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ve=e,d=e.child;d!==null;){for(f=Ve=d;Ve!==null;){switch(p=Ve,m=p.child,p.tag){case 0:case 11:case 14:case 15:$y(4,p,p.return);break;case 1:Sg(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Rr(r,n,g)}}break;case 5:Sg(p,p.return);break;case 22:if(p.memoizedState!==null){HV(f);continue}}m!==null?(m.return=p,Ve=m):HV(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C0e("display",s))}catch(g){Rr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Rr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ja(t,e),zl(e),r&4&&zV(e);break;case 21:break;default:Ja(t,e),zl(e)}}function zl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(K1e(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(bb(o,""),r.flags&=-33);var i=NV(e);f$(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=NV(e);d$(e,a,s);break;default:throw Error(Te(161))}}catch(l){Rr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eze(e,t,n){Ve=e,Q1e(e)}function Q1e(e,t,n){for(var r=(e.mode&1)!==0;Ve!==null;){var o=Ve,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||AC;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||pi;a=AC;var u=pi;if(AC=s,(pi=l)&&!u)for(Ve=o;Ve!==null;)s=Ve,l=s.child,s.tag===22&&s.memoizedState!==null?UV(o):l!==null?(l.return=s,Ve=l):UV(o);for(;i!==null;)Ve=i,Q1e(i),i=i.sibling;Ve=o,AC=a,pi=u}VV(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ve=i):VV(e)}}function VV(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pi||lj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:rl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&EV(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}EV(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_b(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}pi||t.flags&512&&u$(t)}catch(p){Rr(t,t.return,p)}}if(t===e){Ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function HV(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function UV(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lj(4,t)}catch(l){Rr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Rr(t,o,l)}}var i=t.return;try{u$(t)}catch(l){Rr(t,i,l)}break;case 5:var s=t.return;try{u$(t)}catch(l){Rr(t,s,l)}}}catch(l){Rr(t,t.return,l)}if(t===e){Ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ve=a;break}Ve=t.return}}var kze=Math.ceil,QS=Gu.ReactCurrentDispatcher,_6=Gu.ReactCurrentOwner,Pa=Gu.ReactCurrentBatchConfig,en=0,Mo=null,io=null,Go=0,Fs=0,Eg=Hf(0),wo=0,$b=null,Pp=0,cj=0,S6=0,Ry=null,ds=null,E6=0,Tv=1/0,tu=null,JS=!1,h$=null,nf=null,DC=!1,Rd=null,e5=0,My=0,p$=null,y2=-1,b2=0;function Hi(){return en&6?Yr():y2!==-1?y2:y2=Yr()}function rf(e){return e.mode&1?en&2&&Go!==0?Go&-Go:cze.transition!==null?(b2===0&&(b2=R0e()),b2):(e=Cn,e!==0||(e=window.event,e=e===void 0?16:V0e(e.type)),e):1}function vl(e,t,n,r){if(50<My)throw My=0,p$=null,Error(Te(185));Gx(e,n,r),(!(en&2)||e!==Mo)&&(e===Mo&&(!(en&2)&&(cj|=n),wo===4&&Dd(e,Go)),Cs(e,r),n===1&&en===0&&!(t.mode&1)&&(Tv=Yr()+500,ij&&Uf()))}function Cs(e,t){var n=e.callbackNode;cNe(e,t);var r=FS(e,e===Mo?Go:0);if(r===0)n!==null&&Jz(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jz(n),t===1)e.tag===0?lze(WV.bind(null,e)):a1e(WV.bind(null,e)),oze(function(){!(en&6)&&Uf()}),n=null;else{switch(M0e(r)){case 1:n=XF;break;case 4:n=O0e;break;case 16:n=MS;break;case 536870912:n=$0e;break;default:n=MS}n=sye(n,J1e.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function J1e(e,t){if(y2=-1,b2=0,en&6)throw Error(Te(327));var n=e.callbackNode;if(Ug()&&e.callbackNode!==n)return null;var r=FS(e,e===Mo?Go:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=t5(e,r);else{t=r;var o=en;en|=2;var i=tye();(Mo!==e||Go!==t)&&(tu=null,Tv=Yr()+500,dp(e,t));do try{Aze();break}catch(a){eye(e,a)}while(1);u6(),QS.current=i,en=o,io!==null?t=0:(Mo=null,Go=0,t=wo)}if(t!==0){if(t===2&&(o=z3(e),o!==0&&(r=o,t=m$(e,o))),t===1)throw n=$b,dp(e,0),Dd(e,r),Cs(e,Yr()),n;if(t===6)Dd(e,r);else{if(o=e.current.alternate,!(r&30)&&!jze(o)&&(t=t5(e,r),t===2&&(i=z3(e),i!==0&&(r=i,t=m$(e,i))),t===1))throw n=$b,dp(e,0),Dd(e,r),Cs(e,Yr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:kh(e,ds,tu);break;case 3:if(Dd(e,r),(r&130023424)===r&&(t=E6+500-Yr(),10<t)){if(FS(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Hi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=K3(kh.bind(null,e,ds,tu),t);break}kh(e,ds,tu);break;case 4:if(Dd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-gl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kze(r/1960))-r,10<r){e.timeoutHandle=K3(kh.bind(null,e,ds,tu),r);break}kh(e,ds,tu);break;case 5:kh(e,ds,tu);break;default:throw Error(Te(329))}}}return Cs(e,Yr()),e.callbackNode===n?J1e.bind(null,e):null}function m$(e,t){var n=Ry;return e.current.memoizedState.isDehydrated&&(dp(e,t).flags|=256),e=t5(e,t),e!==2&&(t=ds,ds=n,t!==null&&g$(t)),e}function g$(e){ds===null?ds=e:ds.push.apply(ds,e)}function jze(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!wl(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dd(e,t){for(t&=~S6,t&=~cj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gl(t),r=1<<n;e[n]=-1,t&=~r}}function WV(e){if(en&6)throw Error(Te(327));Ug();var t=FS(e,0);if(!(t&1))return Cs(e,Yr()),null;var n=t5(e,t);if(e.tag!==0&&n===2){var r=z3(e);r!==0&&(t=r,n=m$(e,r))}if(n===1)throw n=$b,dp(e,0),Dd(e,t),Cs(e,Yr()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kh(e,ds,tu),Cs(e,Yr()),null}function k6(e,t){var n=en;en|=1;try{return e(t)}finally{en=n,en===0&&(Tv=Yr()+500,ij&&Uf())}}function Op(e){Rd!==null&&Rd.tag===0&&!(en&6)&&Ug();var t=en;en|=1;var n=Pa.transition,r=Cn;try{if(Pa.transition=null,Cn=1,e)return e()}finally{Cn=r,Pa.transition=n,en=t,!(en&6)&&Uf()}}function j6(){Fs=Eg.current,or(Eg)}function dp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rze(n)),io!==null)for(n=io.return;n!==null;){var r=n;switch(a6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&VS();break;case 3:kv(),or(xs),or(bi),g6();break;case 5:m6(r);break;case 4:kv();break;case 13:or(kr);break;case 19:or(kr);break;case 10:d6(r.type._context);break;case 22:case 23:j6()}n=n.return}if(Mo=e,io=e=of(e.current,null),Go=Fs=t,wo=0,$b=null,S6=cj=Pp=0,ds=Ry=null,Kh!==null){for(t=0;t<Kh.length;t++)if(n=Kh[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Kh=null}return e}function eye(e,t){do{var n=io;try{if(u6(),m2.current=XS,ZS){for(var r=Ir.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ZS=!1}if(Ip=0,Po=vo=Ir=null,Oy=!1,Ib=0,_6.current=null,n===null||n.return===null){wo=1,$b=t,io=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Go,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=PV(s);if(m!==null){m.flags&=-257,OV(m,s,a,i,t),m.mode&1&&IV(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){IV(i,u,t),T6();break e}l=Error(Te(426))}}else if(yr&&a.mode&1){var y=PV(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),OV(y,s,a,i,t),l6(jv(l,a));break e}}i=l=jv(l,a),wo!==4&&(wo=2),Ry===null?Ry=[i]:Ry.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=F1e(i,l,t);SV(i,x);break e;case 1:a=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nf===null||!nf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=L1e(i,a,t);SV(i,C);break e}}i=i.return}while(i!==null)}rye(n)}catch(_){t=_,io===n&&n!==null&&(io=n=n.return);continue}break}while(1)}function tye(){var e=QS.current;return QS.current=XS,e===null?XS:e}function T6(){(wo===0||wo===3||wo===2)&&(wo=4),Mo===null||!(Pp&268435455)&&!(cj&268435455)||Dd(Mo,Go)}function t5(e,t){var n=en;en|=2;var r=tye();(Mo!==e||Go!==t)&&(tu=null,dp(e,t));do try{Tze();break}catch(o){eye(e,o)}while(1);if(u6(),en=n,QS.current=r,io!==null)throw Error(Te(261));return Mo=null,Go=0,wo}function Tze(){for(;io!==null;)nye(io)}function Aze(){for(;io!==null&&!eNe();)nye(io)}function nye(e){var t=iye(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,t===null?rye(e):io=t,_6.current=null}function rye(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Cze(n,t),n!==null){n.flags&=32767,io=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wo=6,io=null;return}}else if(n=wze(n,t,Fs),n!==null){io=n;return}if(t=t.sibling,t!==null){io=t;return}io=t=e}while(t!==null);wo===0&&(wo=5)}function kh(e,t,n){var r=Cn,o=Pa.transition;try{Pa.transition=null,Cn=1,Dze(e,t,n,r)}finally{Pa.transition=o,Cn=r}return null}function Dze(e,t,n,r){do Ug();while(Rd!==null);if(en&6)throw Error(Te(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(uNe(e,i),e===Mo&&(io=Mo=null,Go=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||DC||(DC=!0,sye(MS,function(){return Ug(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pa.transition,Pa.transition=null;var s=Cn;Cn=1;var a=en;en|=4,_6.current=null,Sze(e,n),X1e(n,e),ZNe(q3),LS=!!Y3,q3=Y3=null,e.current=n,Eze(n),tNe(),en=a,Cn=s,Pa.transition=i}else e.current=n;if(DC&&(DC=!1,Rd=e,e5=o),i=e.pendingLanes,i===0&&(nf=null),oNe(n.stateNode),Cs(e,Yr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(JS)throw JS=!1,e=h$,h$=null,e;return e5&1&&e.tag!==0&&Ug(),i=e.pendingLanes,i&1?e===p$?My++:(My=0,p$=e):My=0,Uf(),null}function Ug(){if(Rd!==null){var e=M0e(e5),t=Pa.transition,n=Cn;try{if(Pa.transition=null,Cn=16>e?16:e,Rd===null)var r=!1;else{if(e=Rd,Rd=null,e5=0,en&6)throw Error(Te(331));var o=en;for(en|=4,Ve=e.current;Ve!==null;){var i=Ve,s=i.child;if(Ve.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ve=u;Ve!==null;){var d=Ve;switch(d.tag){case 0:case 11:case 15:$y(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ve=f;else for(;Ve!==null;){d=Ve;var p=d.sibling,m=d.return;if(G1e(d),d===u){Ve=null;break}if(p!==null){p.return=m,Ve=p;break}Ve=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ve=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ve=s;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$y(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ve=x;break e}Ve=i.return}}var b=e.current;for(Ve=b;Ve!==null;){s=Ve;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ve=w;else e:for(s=b;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lj(9,a)}}catch(_){Rr(a,a.return,_)}if(a===s){Ve=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ve=C;break e}Ve=a.return}}if(en=o,Uf(),mc&&typeof mc.onPostCommitFiberRoot=="function")try{mc.onPostCommitFiberRoot(ej,e)}catch{}r=!0}return r}finally{Cn=n,Pa.transition=t}}return!1}function YV(e,t,n){t=jv(n,t),t=F1e(e,t,1),e=tf(e,t,1),t=Hi(),e!==null&&(Gx(e,1,t),Cs(e,t))}function Rr(e,t,n){if(e.tag===3)YV(e,e,n);else for(;t!==null;){if(t.tag===3){YV(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nf===null||!nf.has(r))){e=jv(n,e),e=L1e(t,e,1),t=tf(t,e,1),e=Hi(),t!==null&&(Gx(t,1,e),Cs(t,e));break}}t=t.return}}function Ize(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Hi(),e.pingedLanes|=e.suspendedLanes&n,Mo===e&&(Go&n)===n&&(wo===4||wo===3&&(Go&130023424)===Go&&500>Yr()-E6?dp(e,0):S6|=n),Cs(e,t)}function oye(e,t){t===0&&(e.mode&1?(t=xC,xC<<=1,!(xC&130023424)&&(xC=4194304)):t=1);var n=Hi();e=Au(e,t),e!==null&&(Gx(e,t,n),Cs(e,n))}function Pze(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oye(e,n)}function Oze(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),oye(e,n)}var iye;iye=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xs.current)vs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vs=!1,xze(e,t,n);vs=!!(e.flags&131072)}else vs=!1,yr&&t.flags&1048576&&l1e(t,WS,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;v2(e,t),e=t.pendingProps;var o=_v(t,bi.current);Hg(t,n),o=y6(null,t,r,e,o,n);var i=b6();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ws(r)?(i=!0,HS(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,h6(t),o.updater=sj,t.stateNode=o,o._reactInternals=t,n$(t,r,e,n),t=i$(null,t,r,!0,i,n)):(t.tag=0,yr&&i&&s6(t),Mi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(v2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Rze(r),e=rl(r,e),o){case 0:t=o$(null,t,r,e,n);break e;case 1:t=MV(null,t,r,e,n);break e;case 11:t=$V(null,t,r,e,n);break e;case 14:t=RV(null,t,r,rl(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rl(r,o),o$(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rl(r,o),MV(e,t,r,o,n);case 3:e:{if(V1e(t),e===null)throw Error(Te(387));r=t.pendingProps,i=t.memoizedState,o=i.element,f1e(e,t),GS(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=jv(Error(Te(423)),t),t=FV(e,t,r,n,o);break e}else if(r!==o){o=jv(Error(Te(424)),t),t=FV(e,t,r,n,o);break e}else for(Ys=ef(t.stateNode.containerInfo.firstChild),Xs=t,yr=!0,il=null,n=g1e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sv(),r===o){t=Du(e,t,n);break e}Mi(e,t,r,n)}t=t.child}return t;case 5:return v1e(t),e===null&&J3(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,G3(r,o)?s=null:i!==null&&G3(r,i)&&(t.flags|=32),z1e(e,t),Mi(e,t,s,n),t.child;case 6:return e===null&&J3(t),null;case 13:return H1e(e,t,n);case 4:return p6(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ev(t,null,r,n):Mi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rl(r,o),$V(e,t,r,o,n);case 7:return Mi(e,t,t.pendingProps,n),t.child;case 8:return Mi(e,t,t.pendingProps.children,n),t.child;case 12:return Mi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Hn(YS,r._currentValue),r._currentValue=s,i!==null)if(wl(i.value,s)){if(i.children===o.children&&!xs.current){t=Du(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gu(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),e$(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),e$(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Mi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Hg(t,n),o=Fa(o),r=r(o),t.flags|=1,Mi(e,t,r,n),t.child;case 14:return r=t.type,o=rl(r,t.pendingProps),o=rl(r.type,o),RV(e,t,r,o,n);case 15:return B1e(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rl(r,o),v2(e,t),t.tag=1,ws(r)?(e=!0,HS(t)):e=!1,Hg(t,n),p1e(t,r,o),n$(t,r,o,n),i$(null,t,r,!0,e,n);case 19:return U1e(e,t,n);case 22:return N1e(e,t,n)}throw Error(Te(156,t.tag))};function sye(e,t){return P0e(e,t)}function $ze(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(e,t,n,r){return new $ze(e,t,n,r)}function A6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rze(e){if(typeof e=="function")return A6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===GF)return 11;if(e===KF)return 14}return 2}function of(e,t){var n=e.alternate;return n===null?(n=Ta(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function x2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")A6(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case mg:return fp(n.children,o,i,t);case qF:s=8,o|=8;break;case k3:return e=Ta(12,n,t,o|2),e.elementType=k3,e.lanes=i,e;case j3:return e=Ta(13,n,t,o),e.elementType=j3,e.lanes=i,e;case T3:return e=Ta(19,n,t,o),e.elementType=T3,e.lanes=i,e;case m0e:return uj(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h0e:s=10;break e;case p0e:s=9;break e;case GF:s=11;break e;case KF:s=14;break e;case xd:s=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=Ta(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function fp(e,t,n,r){return e=Ta(7,e,r,t),e.lanes=n,e}function uj(e,t,n,r){return e=Ta(22,e,r,t),e.elementType=m0e,e.lanes=n,e.stateNode={isHidden:!1},e}function DD(e,t,n){return e=Ta(6,e,null,t),e.lanes=n,e}function ID(e,t,n){return t=Ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mze(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dD(0),this.expirationTimes=dD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function D6(e,t,n,r,o,i,s,a,l){return e=new Mze(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ta(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h6(i),e}function Fze(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function aye(e){if(!e)return Ef;e=e._reactInternals;e:{if(om(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ws(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(ws(n))return s1e(e,n,t)}return t}function lye(e,t,n,r,o,i,s,a,l){return e=D6(n,r,!0,e,o,i,s,a,l),e.context=aye(null),n=e.current,r=Hi(),o=rf(n),i=gu(r,o),i.callback=t??null,tf(n,i,o),e.current.lanes=o,Gx(e,o,r),Cs(e,r),e}function dj(e,t,n,r){var o=t.current,i=Hi(),s=rf(o);return n=aye(n),t.context===null?t.context=n:t.pendingContext=n,t=gu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tf(o,t,s),e!==null&&(vl(e,o,s,i),p2(e,o,s)),s}function n5(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qV(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function I6(e,t){qV(e,t),(e=e.alternate)&&qV(e,t)}function Lze(){return null}var cye=typeof reportError=="function"?reportError:function(e){console.error(e)};function P6(e){this._internalRoot=e}fj.prototype.render=P6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));dj(e,t,null,null)};fj.prototype.unmount=P6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Op(function(){dj(null,e,null,null)}),t[Tu]=null}};function fj(e){this._internalRoot=e}fj.prototype.unstable_scheduleHydration=function(e){if(e){var t=B0e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ad.length&&t!==0&&t<Ad[n].priority;n++);Ad.splice(n,0,e),n===0&&z0e(e)}};function O6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GV(){}function Bze(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=n5(s);i.call(u)}}var s=lye(t,r,e,0,null,!1,!1,"",GV);return e._reactRootContainer=s,e[Tu]=s.current,kb(e.nodeType===8?e.parentNode:e),Op(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=n5(l);a.call(u)}}var l=D6(e,0,!1,null,null,!1,!1,"",GV);return e._reactRootContainer=l,e[Tu]=l.current,kb(e.nodeType===8?e.parentNode:e),Op(function(){dj(t,l,n,r)}),l}function pj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=n5(s);a.call(l)}}dj(t,s,e,o)}else s=Bze(n,t,e,o,r);return n5(s)}F0e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ry(t.pendingLanes);n!==0&&(QF(t,n|1),Cs(t,Yr()),!(en&6)&&(Tv=Yr()+500,Uf()))}break;case 13:Op(function(){var r=Au(e,1);if(r!==null){var o=Hi();vl(r,e,1,o)}}),I6(e,1)}};JF=function(e){if(e.tag===13){var t=Au(e,134217728);if(t!==null){var n=Hi();vl(t,e,134217728,n)}I6(e,134217728)}};L0e=function(e){if(e.tag===13){var t=rf(e),n=Au(e,t);if(n!==null){var r=Hi();vl(n,e,t,r)}I6(e,t)}};B0e=function(){return Cn};N0e=function(e,t){var n=Cn;try{return Cn=e,t()}finally{Cn=n}};L3=function(e,t,n){switch(t){case"input":if(I3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=oj(r);if(!o)throw Error(Te(90));v0e(r),I3(r,o)}}}break;case"textarea":b0e(e,n);break;case"select":t=n.value,t!=null&&Bg(e,!!n.multiple,t,!1)}};k0e=k6;j0e=Op;var Nze={usingClientEntryPoint:!1,Events:[Zx,bg,oj,S0e,E0e,k6]},g1={findFiberByHostInstance:Gh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zze={bundleType:g1.bundleType,version:g1.version,rendererPackageName:g1.rendererPackageName,rendererConfig:g1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=D0e(e),e===null?null:e.stateNode},findFiberByHostInstance:g1.findFiberByHostInstance||Lze,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var IC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!IC.isDisabled&&IC.supportsFiber)try{ej=IC.inject(zze),mc=IC}catch{}}aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nze;aa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O6(t))throw Error(Te(200));return Fze(e,t,null,n)};aa.createRoot=function(e,t){if(!O6(e))throw Error(Te(299));var n=!1,r="",o=cye;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=D6(e,1,!1,null,null,n,!1,r,o),e[Tu]=t.current,kb(e.nodeType===8?e.parentNode:e),new P6(t)};aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=D0e(t),e=e===null?null:e.stateNode,e};aa.flushSync=function(e){return Op(e)};aa.hydrate=function(e,t,n){if(!hj(t))throw Error(Te(200));return pj(null,e,t,!0,n)};aa.hydrateRoot=function(e,t,n){if(!O6(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=cye;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=lye(t,null,e,1,n??null,o,!1,i,s),e[Tu]=t.current,kb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new fj(t)};aa.render=function(e,t,n){if(!hj(t))throw Error(Te(200));return pj(null,e,t,!1,n)};aa.unmountComponentAtNode=function(e){if(!hj(e))throw Error(Te(40));return e._reactRootContainer?(Op(function(){pj(null,null,e,!1,function(){e._reactRootContainer=null,e[Tu]=null})}),!0):!1};aa.unstable_batchedUpdates=k6;aa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hj(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return pj(e,t,n,!1,r)};aa.version="18.2.0-next-9e3b772b8-20220608";function uye(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uye)}catch(e){console.error(e)}}uye(),l0e.exports=aa;var ic=l0e.exports;const Vze=Ie(ic),dye=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?Lz({element:t.current,padding:n}).fn(o):{}:t?Lz({element:t,padding:n}).fn(o):{}}}};var w2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function r5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!r5(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!r5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function fye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KV(e,t){const n=fye(e);return Math.round(t*n)/n}function ZV(e){const t=h.useRef(e);return w2(()=>{t.current=e}),t}function hye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);r5(p,r)||m(r);const[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useCallback($=>{$!=S.current&&(S.current=$,g($))},[g]),w=h.useCallback($=>{$!==E.current&&(E.current=$,x($))},[x]),C=i||v,_=s||y,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=ZV(l),T=ZV(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const $={placement:t,strategy:n,middleware:p};T.current&&($.platform=T.current),LBe(S.current,E.current,$).then(U=>{const L={...U,isPositioned:!0};D.current&&!r5(j.current,L)&&(j.current=L,ic.flushSync(()=>{f(L)}))})},[p,t,n,T]);w2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const D=h.useRef(!1);w2(()=>(D.current=!0,()=>{D.current=!1}),[]),w2(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:w}),[b,w]),P=h.useMemo(()=>({reference:C,floating:_}),[C,_]),R=h.useMemo(()=>{const $={position:n,left:0,top:0};if(!P.floating)return $;const U=KV(P.floating,d.x),L=KV(P.floating,d.y);return a?{...$,transform:"translate("+U+"px, "+L+"px)",...fye(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:L}},[n,a,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:P,floatingStyles:R}),[d,A,I,P,R])}const pye=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),mj=h.createContext({}),gj=h.createContext(null),vj=typeof document<"u",$6=vj?h.useLayoutEffect:h.useEffect,mye=h.createContext({strict:!1});function Hze(e,t,n,r){const{visualElement:o}=h.useContext(mj),i=h.useContext(mye),s=h.useContext(gj),a=h.useContext(pye).reducedMotion,l=h.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return $6(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function kg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Uze(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):kg(n)&&(n.current=r))},[t])}function Rb(e){return typeof e=="string"||Array.isArray(e)}function yj(e){return typeof e=="object"&&typeof e.start=="function"}const R6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],M6=["initial",...R6];function bj(e){return yj(e.animate)||M6.some(t=>Rb(e[t]))}function gye(e){return!!(bj(e)||e.variants)}function Wze(e,t){if(bj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Rb(n)?n:void 0,animate:Rb(r)?r:void 0}}return e.inherit!==!1?t:{}}function Yze(e){const{initial:t,animate:n}=Wze(e,h.useContext(mj));return h.useMemo(()=>({initial:t,animate:n}),[XV(t),XV(n)])}function XV(e){return Array.isArray(e)?e.join(" "):e}const QV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mb={};for(const e in QV)Mb[e]={isEnabled:t=>QV[e].some(n=>!!t[n])};function qze(e){for(const t in e)Mb[t]={...Mb[t],...e[t]}}const F6=h.createContext({}),vye=h.createContext({}),Gze=Symbol.for("motionComponentSymbol");function Kze({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&qze(e);function i(a,l){let u;const d={...h.useContext(pye),...a,layoutId:Zze(a)},{isStatic:f}=d,p=Yze(a),m=r(a,f);if(!f&&vj){p.visualElement=Hze(o,m,d,t);const v=h.useContext(vye),g=h.useContext(mye).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(mj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,Uze(m,p.visualElement,l),m,f,p.visualElement))}const s=h.forwardRef(i);return s[Gze]=o,s}function Zze({layoutId:e}){const t=h.useContext(F6).id;return t&&e!==void 0?t+"-"+e:e}function Xze(e){function t(r,o={}){return Kze(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const Qze=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function L6(e){return typeof e!="string"||e.includes("-")?!1:!!(Qze.indexOf(e)>-1||/[A-Z]/.test(e))}const o5={};function Jze(e){Object.assign(o5,e)}const Qx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],im=new Set(Qx);function yye(e,{layout:t,layoutId:n}){return im.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!o5[e]||e==="opacity")}const Ss=e=>!!(e&&e.getVelocity),eVe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tVe=Qx.length;function nVe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<tVe;s++){const a=Qx[s];if(e[a]!==void 0){const l=eVe[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const bye=e=>t=>typeof t=="string"&&t.startsWith(e),xye=bye("--"),v$=bye("var(--"),rVe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,oVe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,kf=(e,t,n)=>Math.min(Math.max(n,e),t),sm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fy={...sm,transform:e=>kf(0,1,e)},PC={...sm,default:1},Ly=e=>Math.round(e*1e5)/1e5,xj=/(-)?([\d]*\.?[\d])+/g,wye=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,iVe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jx(e){return typeof e=="string"}const ew=e=>({test:t=>Jx(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gd=ew("deg"),vc=ew("%"),it=ew("px"),sVe=ew("vh"),aVe=ew("vw"),JV={...vc,parse:e=>vc.parse(e)/100,transform:e=>vc.transform(e*100)},eH={...sm,transform:Math.round},Cye={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,size:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,rotate:gd,rotateX:gd,rotateY:gd,rotateZ:gd,scale:PC,scaleX:PC,scaleY:PC,scaleZ:PC,skew:gd,skewX:gd,skewY:gd,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Fy,originX:JV,originY:JV,originZ:it,zIndex:eH,fillOpacity:Fy,strokeOpacity:Fy,numOctaves:eH};function B6(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(xye(f)){i[f]=p;continue}const m=Cye[f],v=oVe(p,m);if(im.has(f)){if(l=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(l||r?o.transform=nVe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const N6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _ye(e,t,n){for(const r in t)!Ss(t[r])&&!yye(r,n)&&(e[r]=t[r])}function lVe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=N6();return B6(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function cVe(e,t,n){const r=e.style||{},o={};return _ye(o,r,e),Object.assign(o,lVe(e,t,n)),e.transformValues?e.transformValues(o):o}function uVe(e,t,n){const r={},o=cVe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const dVe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function i5(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||dVe.has(e)}let Sye=e=>!i5(e);function fVe(e){e&&(Sye=t=>t.startsWith("on")?!i5(t):e(t))}try{fVe(require("@emotion/is-prop-valid").default)}catch{}function hVe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Sye(o)||n===!0&&i5(o)||!t&&!i5(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function tH(e,t,n){return typeof e=="string"?e:it.transform(t+n*e)}function pVe(e,t,n){const r=tH(t,e.x,e.width),o=tH(n,e.y,e.height);return`${r} ${o}`}const mVe={offset:"stroke-dashoffset",array:"stroke-dasharray"},gVe={offset:"strokeDashoffset",array:"strokeDasharray"};function vVe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?mVe:gVe;e[i.offset]=it.transform(-r);const s=it.transform(t),a=it.transform(n);e[i.array]=`${s} ${a}`}function z6(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,f,p){if(B6(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=pVe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&vVe(m,s,a,l,!1)}const Eye=()=>({...N6(),attrs:{}}),V6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yVe(e,t,n,r){const o=h.useMemo(()=>{const i=Eye();return z6(i,t,{enableHardwareAcceleration:!1},V6(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};_ye(i,e.style,e),o.style={...i,...o.style}}return o}function bVe(e=!1){return(n,r,o,{latestValues:i},s)=>{const l=(L6(n)?yVe:uVe)(r,i,s,n),d={...hVe(r,typeof n=="string",e),...l,ref:o},{children:f}=r,p=h.useMemo(()=>Ss(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const H6=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function kye(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const jye=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tye(e,t,n,r){kye(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(jye.has(o)?o:H6(o),t.attrs[o])}function U6(e,t){const{style:n}=e,r={};for(const o in n)(Ss(n[o])||t.style&&Ss(t.style[o])||yye(o,e))&&(r[o]=n[o]);return r}function Aye(e,t){const n=U6(e,t);for(const r in e)if(Ss(e[r])||Ss(t[r])){const o=Qx.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function W6(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function Dye(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const s5=e=>Array.isArray(e),xVe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wVe=e=>s5(e)?e[e.length-1]||0:e;function C2(e){const t=Ss(e)?e.get():e;return xVe(t)?t.toValue():t}function CVe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:_Ve(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const Iye=e=>(t,n)=>{const r=h.useContext(mj),o=h.useContext(gj),i=()=>CVe(e,t,r,o);return n?i():Dye(i)};function _Ve(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=C2(i[p]);let{initial:s,animate:a}=e;const l=bj(e),u=gye(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!yj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=W6(e,m);if(!v)return;const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[b]=w)}for(const b in g)o[b]=g[b]}),o}const Mr=e=>e;class nH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function SVe(e){let t=new nH,n=new nH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(l),p.add(l)&&f&&o&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(l))}};return a}const OC=["prepare","read","update","preRender","render","postRender"],EVe=40;function kVe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=OC.reduce((f,p)=>(f[p]=SVe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,EVe),1),o.timestamp=f,o.isProcessing=!0,OC.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:OC.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,y=!1)=>(n||l(),m.schedule(v,g,y)),f},{}),cancel:f=>OC.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Un,cancel:Iu,state:Ao,steps:PD}=kVe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0),jVe={useVisualState:Iye({scrapeMotionValuesFromProps:Aye,createRenderState:Eye,onMount:(e,t,{renderState:n,latestValues:r})=>{Un.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Un.render(()=>{z6(n,r,{enableHardwareAcceleration:!1},V6(t.tagName),e.transformTemplate),Tye(t,n)})}})},TVe={useVisualState:Iye({scrapeMotionValuesFromProps:U6,createRenderState:N6})};function AVe(e,{forwardMotionProps:t=!1},n,r){return{...L6(e)?jVe:TVe,preloadedFeatures:n,useRender:bVe(t),createVisualElement:r,Component:e}}function uu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Pye=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function wj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const DVe=e=>t=>Pye(t)&&e(t,wj(t));function vu(e,t,n,r){return uu(e,t,DVe(n),r)}const IVe=(e,t)=>n=>t(e(n)),sf=(...e)=>e.reduce(IVe);function Oye(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const rH=Oye("dragHorizontal"),oH=Oye("dragVertical");function $ye(e){let t=!1;if(e==="y")t=oH();else if(e==="x")t=rH();else{const n=rH(),r=oH();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Rye(){const e=$ye(!0);return e?(e(),!1):!0}class Wf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iH(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||Rye())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Un.update(()=>a[r](i,s))};return vu(e.current,n,o,{passive:!e.getProps()[r]})}class PVe extends Wf{mount(){this.unmount=sf(iH(this.node,!0),iH(this.node,!1))}unmount(){}}class OVe extends Wf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sf(uu(this.node.current,"focus",()=>this.onFocus()),uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Mye=(e,t)=>t?e===t?!0:Mye(e,t.parentElement):!1;function OD(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,wj(n))}class $Ve extends Wf{constructor(){super(...arguments),this.removeStartListeners=Mr,this.removeEndListeners=Mr,this.removeAccessibleListeners=Mr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=vu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Un.update(()=>{Mye(this.node.current,a.target)?u&&u(a,l):d&&d(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=vu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=sf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||OD("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Un.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=uu(this.node.current,"keyup",s),OD("down",(a,l)=>{this.startPress(a,l)})},n=uu(this.node.current,"keydown",t),r=()=>{this.isPressing&&OD("cancel",(i,s)=>this.cancelPress(i,s))},o=uu(this.node.current,"blur",r);this.removeAccessibleListeners=sf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Un.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Rye()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Un.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=vu(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=uu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const y$=new WeakMap,$D=new WeakMap,RVe=e=>{const t=y$.get(e.target);t&&t(e)},MVe=e=>{e.forEach(RVe)};function FVe({root:e,...t}){const n=e||document;$D.has(n)||$D.set(n,{});const r=$D.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(MVe,{root:e,...t})),r[o]}function LVe(e,t,n){const r=FVe(t);return y$.set(e,n),r.observe(e),()=>{y$.delete(e),r.unobserve(e)}}const BVe={some:0,all:1};class NVe extends Wf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:BVe[o]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return LVe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(zVe(t,n))&&this.startObserver()}unmount(){}}function zVe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const VVe={inView:{Feature:NVe},tap:{Feature:$Ve},focus:{Feature:OVe},hover:{Feature:PVe}};function Fye(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function HVe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function UVe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Cj(e,t,n){const r=e.getProps();return W6(r,t,n!==void 0?n:r.custom,HVe(e),UVe(e))}const WVe="framerAppearId",YVe="data-"+H6(WVe);let qVe=Mr,_j=Mr;const af=e=>e*1e3,yu=e=>e/1e3,GVe={current:!1},Lye=e=>Array.isArray(e)&&typeof e[0]=="number";function Bye(e){return!!(!e||typeof e=="string"&&Nye[e]||Lye(e)||Array.isArray(e)&&e.every(Bye))}const iy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Nye={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iy([0,.65,.55,1]),circOut:iy([.55,0,1,.45]),backIn:iy([.31,.01,.66,-.59]),backOut:iy([.33,1.53,.69,.99])};function zye(e){if(e)return Lye(e)?iy(e):Array.isArray(e)?e.map(zye):Nye[e]}function KVe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=zye(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function ZVe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Vye=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,XVe=1e-7,QVe=12;function JVe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=Vye(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>XVe&&++a<QVe);return s}function tw(e,t,n,r){if(e===t&&n===r)return Mr;const o=i=>JVe(i,0,1,e,n);return i=>i===0||i===1?i:Vye(o(i),t,r)}const eHe=tw(.42,0,1,1),tHe=tw(0,0,.58,1),Hye=tw(.42,0,.58,1),nHe=e=>Array.isArray(e)&&typeof e[0]!="number",Uye=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Wye=e=>t=>1-e(1-t),Yye=e=>1-Math.sin(Math.acos(e)),Y6=Wye(Yye),rHe=Uye(Y6),qye=tw(.33,1.53,.69,.99),q6=Wye(qye),oHe=Uye(q6),iHe=e=>(e*=2)<1?.5*q6(e):.5*(2-Math.pow(2,-10*(e-1))),sHe={linear:Mr,easeIn:eHe,easeInOut:Hye,easeOut:tHe,circIn:Yye,circInOut:rHe,circOut:Y6,backIn:q6,backInOut:oHe,backOut:qye,anticipate:iHe},sH=e=>{if(Array.isArray(e)){_j(e.length===4);const[t,n,r,o]=e;return tw(t,n,r,o)}else if(typeof e=="string")return sHe[e];return e},G6=(e,t)=>n=>!!(Jx(n)&&iVe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Gye=(e,t,n)=>r=>{if(!Jx(r))return r;const[o,i,s,a]=r.match(xj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},aHe=e=>kf(0,255,e),RD={...sm,transform:e=>Math.round(aHe(e))},Xh={test:G6("rgb","red"),parse:Gye("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+RD.transform(e)+", "+RD.transform(t)+", "+RD.transform(n)+", "+Ly(Fy.transform(r))+")"};function lHe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const b$={test:G6("#"),parse:lHe,transform:Xh.transform},jg={test:G6("hsl","hue"),parse:Gye("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+vc.transform(Ly(t))+", "+vc.transform(Ly(n))+", "+Ly(Fy.transform(r))+")"},Ri={test:e=>Xh.test(e)||b$.test(e)||jg.test(e),parse:e=>Xh.test(e)?Xh.parse(e):jg.test(e)?jg.parse(e):b$.parse(e),transform:e=>Jx(e)?e:e.hasOwnProperty("red")?Xh.transform(e):jg.transform(e)},jr=(e,t,n)=>-n*e+n*t+e;function MD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cHe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=MD(l,a,e+1/3),i=MD(l,a,e),s=MD(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const FD=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},uHe=[b$,Xh,jg],dHe=e=>uHe.find(t=>t.test(e));function aH(e){const t=dHe(e);let n=t.parse(e);return t===jg&&(n=cHe(n)),n}const Kye=(e,t)=>{const n=aH(e),r=aH(t),o={...n};return i=>(o.red=FD(n.red,r.red,i),o.green=FD(n.green,r.green,i),o.blue=FD(n.blue,r.blue,i),o.alpha=jr(n.alpha,r.alpha,i),Xh.transform(o))};function fHe(e){var t,n;return isNaN(e)&&Jx(e)&&(((t=e.match(xj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(wye))===null||n===void 0?void 0:n.length)||0)>0}const Zye={regex:rVe,countKey:"Vars",token:"${v}",parse:Mr},Xye={regex:wye,countKey:"Colors",token:"${c}",parse:Ri.parse},Qye={regex:xj,countKey:"Numbers",token:"${n}",parse:sm.parse};function LD(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function a5(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&LD(n,Zye),LD(n,Xye),LD(n,Qye),n}function Jye(e){return a5(e).values}function ebe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=a5(e),i=t.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(Zye.token,s[l]):l<r+n?a=a.replace(Xye.token,Ri.transform(s[l])):a=a.replace(Qye.token,Ly(s[l]));return a}}const hHe=e=>typeof e=="number"?0:e;function pHe(e){const t=Jye(e);return ebe(e)(t.map(hHe))}const jf={test:fHe,parse:Jye,createTransformer:ebe,getAnimatableNone:pHe},tbe=(e,t)=>n=>`${n>0?t:e}`;function nbe(e,t){return typeof e=="number"?n=>jr(e,t,n):Ri.test(e)?Kye(e,t):e.startsWith("var(")?tbe(e,t):obe(e,t)}const rbe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>nbe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},mHe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=nbe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},obe=(e,t)=>{const n=jf.createTransformer(t),r=a5(e),o=a5(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?sf(rbe(r.values,o.values),n):tbe(e,t)},Fb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},lH=(e,t)=>n=>jr(e,t,n);function gHe(e){return typeof e=="number"?lH:typeof e=="string"?Ri.test(e)?Kye:obe:Array.isArray(e)?rbe:typeof e=="object"?mHe:lH}function vHe(e,t,n){const r=[],o=n||gHe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Mr:t;a=sf(l,a)}r.push(a)}return r}function ibe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(_j(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=vHe(t,r,o),a=s.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Fb(e[d],e[d+1],u);return s[d](f)};return n?u=>l(kf(e[0],e[i-1],u)):l}function yHe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Fb(0,t,r);e.push(jr(n,1,o))}}function bHe(e){const t=[0];return yHe(t,e.length-1),t}function xHe(e,t){return e.map(n=>n*t)}function wHe(e,t){return e.map(()=>t||Hye).splice(0,e.length-1)}function l5({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=nHe(r)?r.map(sH):sH(r),i={done:!1,value:t[0]},s=xHe(n&&n.length===t.length?n:bHe(t),e),a=ibe(s,t,{ease:Array.isArray(o)?o:wHe(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function sbe(e,t){return t?e*(1e3/t):0}const CHe=5;function abe(e,t,n){const r=Math.max(t-CHe,0);return sbe(n-e(r),t-r)}const BD=.001,_He=.01,cH=10,SHe=.05,EHe=1;function kHe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;qVe(e<=af(cH));let s=1-t;s=kf(SHe,EHe,s),e=kf(_He,cH,yu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=x$(u,s),v=Math.exp(-f);return BD-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=x$(Math.pow(u,2),s);return(-o(u)+BD>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-BD+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,l=THe(o,i,a);if(e=af(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const jHe=12;function THe(e,t,n){let r=n;for(let o=1;o<jHe;o++)r=r-e(r)/t(r);return r}function x$(e,t){return e*Math.sqrt(1-t*t)}const AHe=["duration","bounce"],DHe=["stiffness","damping","mass"];function uH(e,t){return t.some(n=>e[n]!==void 0)}function IHe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uH(e,DHe)&&uH(e,AHe)){const n=kHe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function lbe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=IHe(r),m=d?-yu(d):0,v=l/(2*Math.sqrt(a*u)),g=i-o,y=yu(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(v<1){const w=x$(y,v);b=C=>{const _=Math.exp(-v*y*C);return i-_*((m+v*y*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)b=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(v*v-1);b=C=>{const _=Math.exp(-v*y*C),S=Math.min(w*C,300);return i-_*((m+v*y*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=b(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=abe(b,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function dH({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=j=>-g*Math.exp(-j/r),w=j=>x+b(j),C=j=>{const k=b(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=lbe({keyframes:[p.value,v(p.value)],velocity:abe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const PHe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Un.update(t,!0),stop:()=>Iu(t),now:()=>Ao.isProcessing?Ao.timestamp:performance.now()}},fH=2e4;function hH(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fH;)t+=n,r=e.next(t);return t>=fH?1/0:t}const OHe={decay:dH,inertia:dH,tween:l5,keyframes:l5,spring:lbe};function c5({autoplay:e=!0,delay:t=0,driver:n=PHe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,y;const x=()=>{y=new Promise(V=>{g=V})};x();let b;const w=OHe[o]||l5;let C;w!==l5&&typeof r[0]!="number"&&(C=ibe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=hH(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let P=0;const R=V=>{if(k===null)return;m>0&&(k=Math.min(k,V)),m<0&&(k=Math.min(V-I/m,k)),j!==null?P=j:P=Math.round(V-k)*m;const H=P-t*(m>=0?1:-1),Q=m>=0?H<0:H>I;P=Math.max(H,0),E==="finished"&&j===null&&(P=I);let F=P,G=_;if(i){const J=P/D;let X=Math.floor(J),ee=J%1;!ee&&J>=1&&(ee=1),ee===1&&X--,X=Math.min(X,i+1);const re=!!(X%2);re&&(a==="reverse"?(ee=1-ee,s&&(ee-=s/D)):a==="mirror"&&(G=S));let de=kf(0,1,ee);P>I&&(de=a==="reverse"&&re?1:0),F=de*D}const z=Q?{done:!1,value:r[0]}:G.next(F);C&&(z.value=C(z.value));let{done:Z}=z;!Q&&A!==null&&(Z=m>=0?P>=I:P<=0);const K=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(z.value),K&&L(),z},$=()=>{b&&b.stop(),b=void 0},U=()=>{E="idle",$(),g(),x(),k=T=null},L=()=>{E="finished",d&&d(),$(),g()},W=()=>{if(v)return;b||(b=n(R));const V=b.now();l&&l(),j!==null?k=V-j:(!k||E==="finished")&&(k=V),E==="finished"&&x(),T=k,j=null,E="running",b.start()};e&&W();const Y={then(V,H){return y.then(V,H)},get time(){return yu(P)},set time(V){V=af(V),P=V,j!==null||!b||m===0?j=V:k=b.now()-V/m},get duration(){const V=_.calculatedDuration===null?hH(_):_.calculatedDuration;return yu(V)},get speed(){return m},set speed(V){V===m||!b||(m=V,Y.time=yu(P))},get state(){return E},play:W,pause:()=>{E="paused",j=P},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),U())},cancel:()=>{T!==null&&R(T),U()},complete:()=>{E="finished"},sample:V=>(k=0,R(V))};return Y}function $He(e){let t;return()=>(t===void 0&&(t=e()),t)}const RHe=$He(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),MHe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$C=10,FHe=2e4,LHe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Bye(t.ease);function BHe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(RHe()&&MHe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(LHe(t,o)){const b=c5({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<FHe;)w=b.sample(_),C.push(w.value),_+=$C;m=void 0,d=C,f=_-$C,p="linear"}const v=KVe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Ao.isProcessing?Ao.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),y=()=>{Un.update(g),a(),u()};return v.onfinish=()=>{e.set(ZVe(d,o)),r&&r(),y()},{then(b,w){return l.then(b,w)},attachTimeline(b){return v.timeline=b,v.onfinish=null,Mr},get time(){return yu(v.currentTime||0)},set time(b){v.currentTime=af(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return yu(f)},play:()=>{s||(v.play(),Iu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const w=c5({...o,autoplay:!1});e.setWithVelocity(w.sample(b-$C).value,w.sample(b).value,$C)}y()},complete:()=>v.finish(),cancel:y}}function NHe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Mr,pause:Mr,stop:Mr,then:i=>(i(),Promise.resolve()),cancel:Mr,complete:Mr});return t?c5({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const zHe={type:"spring",stiffness:500,damping:25,restSpeed:10},VHe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HHe={type:"keyframes",duration:.8},UHe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WHe=(e,{keyframes:t})=>t.length>2?HHe:im.has(e)?e.startsWith("scale")?VHe(t[1]):zHe:UHe,w$=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jf.test(t)||t==="0")&&!t.startsWith("url(")),YHe=new Set(["brightness","contrast","saturate","opacity"]);function qHe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xj)||[];if(!r)return e;const o=n.replace(r,"");let i=YHe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const GHe=/([a-z-]*)\(.*?\)/g,C$={...jf,getAnimatableNone:e=>{const t=e.match(GHe);return t?t.map(qHe).join(" "):e}},KHe={...Cye,color:Ri,backgroundColor:Ri,outlineColor:Ri,fill:Ri,stroke:Ri,borderColor:Ri,borderTopColor:Ri,borderRightColor:Ri,borderBottomColor:Ri,borderLeftColor:Ri,filter:C$,WebkitFilter:C$},K6=e=>KHe[e];function cbe(e,t){let n=K6(e);return n!==C$&&(n=jf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ube=e=>/^0[^.\s]+$/.test(e);function ZHe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||ube(e)}function XHe(e,t,n,r){const o=w$(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),ZHe(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=cbe(t,a)}return i}function QHe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function dbe(e,t){return e[t]||e.default||e}const Z6=(e,t,n,r={})=>o=>{const i=dbe(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-af(s);const l=XHe(t,e,n,i),u=l[0],d=l[l.length-1],f=w$(e,u),p=w$(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(QHe(i)||(m={...m,...WHe(e,m)}),m.duration&&(m.duration=af(m.duration)),m.repeatDelay&&(m.repeatDelay=af(m.repeatDelay)),!f||!p||GVe.current||i.type===!1)return NHe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=BHe(t,e,m);if(v)return v}return c5(m)};function u5(e){return!!(Ss(e)&&e.add)}const fbe=e=>/^\-?\d*\.?\d+$/.test(e);function X6(e,t){e.indexOf(t)===-1&&e.push(t)}function Q6(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class J6{constructor(){this.subscriptions=[]}add(t){return X6(this.subscriptions,t),()=>Q6(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JHe=e=>!isNaN(parseFloat(e));class eUe{constructor(t,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Ao;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Un.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Un.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=JHe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new J6);const r=this.events[t].add(n);return t==="change"?()=>{r(),Un.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sbe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Av(e,t){return new eUe(e,t)}const hbe=e=>t=>t.test(e),tUe={test:e=>e==="auto",parse:e=>e},pbe=[sm,it,vc,gd,aVe,sVe,tUe],v1=e=>pbe.find(hbe(e)),nUe=[...pbe,Ri,jf],rUe=e=>nUe.find(hbe(e));function oUe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Av(n))}function iUe(e,t){const n=Cj(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=wVe(i[s]);oUe(e,s,a)}}function sUe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),d!=null&&(typeof d=="string"&&(fbe(d)||ube(d))?d=parseFloat(d):!rUe(d)&&jf.test(u)&&(d=cbe(l,u)),e.addValue(l,Av(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function aUe(e,t){return t?(t[e]||t.default||t).from:void 0}function lUe(e,t,n){const r={};for(const o in e){const i=aUe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function cUe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function mbe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&cUe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const y=e.getProps()[YVe];y&&(v.elapsed=window.HandoffAppearAnimations(y,f,p,Un),v.syncStart=!0)}p.start(Z6(f,p,m,e.shouldReduceMotion&&im.has(f)?{type:!1}:v));const g=p.animation;u5(l)&&(l.add(f),g.then(()=>l.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&iUe(e,s)}),u}function _$(e,t,n={}){const r=Cj(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(mbe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return uUe(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,u]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function uUe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,l=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(dUe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(_$(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function dUe(e,t){return e.sortNodePosition(t)}function fUe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>_$(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=_$(e,t,n);else{const o=typeof t=="function"?Cj(e,t,n.custom):t;r=Promise.all(mbe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const hUe=[...R6].reverse(),pUe=R6.length;function mUe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>fUe(e,n,r)))}function gUe(e){let t=mUe(e);const n=yUe();let r=!0;const o=(l,u)=>{const d=Cj(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<pUe;x++){const b=hUe[x],w=n[b],C=d[b]!==void 0?d[b]:f[b],_=Rb(C),S=b===u?w.isActive:null;S===!1&&(g=x);let E=C===f[b]&&C!==d[b]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||yj(C)||typeof C=="boolean")continue;const j=vUe(w.prevProp,C);let k=j||b===u&&w.isActive&&!E&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},P=R=>{k=!0,m.delete(R),w.needsAnimating[R]=!0};for(const R in I){const $=A[R],U=D[R];v.hasOwnProperty(R)||($!==U?s5($)&&s5(U)?!Fye($,U)||j?P(R):w.protectedKeys[R]=!0:$!==void 0?P(R):m.add(R):$!==void 0&&m.has(R)?P(R):w.protectedKeys[R]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map(R=>({animation:R,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let y=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function a(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const p=s(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function vUe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fye(t,e):!1}function dh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yUe(){return{animate:dh(!0),whileInView:dh(),whileHover:dh(),whileTap:dh(),whileDrag:dh(),whileFocus:dh(),exit:dh()}}class bUe extends Wf{constructor(t){super(t),t.animationState||(t.animationState=gUe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),yj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let xUe=0;class wUe extends Wf{constructor(){super(...arguments),this.id=xUe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const CUe={animation:{Feature:bUe},exit:{Feature:wUe}},pH=(e,t)=>Math.abs(e-t);function _Ue(e,t){const n=pH(e.x,t.x),r=pH(e.y,t.y);return Math.sqrt(n**2+r**2)}class gbe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=zD(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=_Ue(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Ao;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=ND(d,this.transformPagePoint),Un.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=zD(u.type==="pointercancel"?this.lastMoveEventInfo:ND(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!Pye(t))return;this.handlers=n,this.transformPagePoint=r;const o=wj(t),i=ND(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Ao;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,zD(i,this.history)),this.removeListeners=sf(vu(window,"pointermove",this.handlePointerMove),vu(window,"pointerup",this.handlePointerUp),vu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Iu(this.updatePoint)}}function ND(e,t){return t?{point:t(e.point)}:e}function mH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zD({point:e},t){return{point:e,delta:mH(e,vbe(t)),offset:mH(e,SUe(t)),velocity:EUe(t,.1)}}function SUe(e){return e[0]}function vbe(e){return e[e.length-1]}function EUe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=vbe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>af(t)));)n--;if(!r)return{x:0,y:0};const i=yu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ea(e){return e.max-e.min}function S$(e,t=0,n=.01){return Math.abs(e-t)<=n}function gH(e,t,n,r=.5){e.origin=r,e.originPoint=jr(t.min,t.max,e.origin),e.scale=ea(n)/ea(t),(S$(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=jr(n.min,n.max,e.origin)-e.originPoint,(S$(e.translate)||isNaN(e.translate))&&(e.translate=0)}function By(e,t,n,r){gH(e.x,t.x,n.x,r?r.originX:void 0),gH(e.y,t.y,n.y,r?r.originY:void 0)}function vH(e,t,n){e.min=n.min+t.min,e.max=e.min+ea(t)}function kUe(e,t,n){vH(e.x,t.x,n.x),vH(e.y,t.y,n.y)}function yH(e,t,n){e.min=t.min-n.min,e.max=e.min+ea(t)}function Ny(e,t,n){yH(e.x,t.x,n.x),yH(e.y,t.y,n.y)}function jUe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?jr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?jr(n,e,r.max):Math.min(e,n)),e}function bH(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function TUe(e,{top:t,left:n,bottom:r,right:o}){return{x:bH(e.x,n,o),y:bH(e.y,t,r)}}function xH(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function AUe(e,t){return{x:xH(e.x,t.x),y:xH(e.y,t.y)}}function DUe(e,t){let n=.5;const r=ea(e),o=ea(t);return o>r?n=Fb(t.min,t.max-r,e.min):r>o&&(n=Fb(e.min,e.max-o,t.min)),kf(0,1,n)}function IUe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const E$=.35;function PUe(e=E$){return e===!1?e=0:e===!0&&(e=E$),{x:wH(e,"left","right"),y:wH(e,"top","bottom")}}function wH(e,t,n){return{min:CH(e,t),max:CH(e,n)}}function CH(e,t){return typeof e=="number"?e:e[t]||0}const _H=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tg=()=>({x:_H(),y:_H()}),SH=()=>({min:0,max:0}),to=()=>({x:SH(),y:SH()});function Xl(e){return[e("x"),e("y")]}function ybe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function OUe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $Ue(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function VD(e){return e===void 0||e===1}function k$({scale:e,scaleX:t,scaleY:n}){return!VD(e)||!VD(t)||!VD(n)}function jh(e){return k$(e)||bbe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function bbe(e){return EH(e.x)||EH(e.y)}function EH(e){return e&&e!=="0%"}function d5(e,t,n){const r=e-n,o=t*r;return n+o}function kH(e,t,n,r,o){return o!==void 0&&(e=d5(e,o,r)),d5(e,n,r)+t}function j$(e,t=0,n=1,r,o){e.min=kH(e.min,t,n,r,o),e.max=kH(e.max,t,n,r,o)}function xbe(e,{x:t,y:n}){j$(e.x,t.translate,t.scale,t.originPoint),j$(e.y,n.translate,n.scale,n.originPoint)}function RUe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ag(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,xbe(e,s)),r&&jh(i.latestValues)&&Ag(e,i.latestValues))}t.x=jH(t.x),t.y=jH(t.y)}function jH(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Cd(e,t){e.min=e.min+t,e.max=e.max+t}function TH(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=jr(e.min,e.max,i);j$(e,t[n],t[r],s,t.scale)}const MUe=["x","scaleX","originX"],FUe=["y","scaleY","originY"];function Ag(e,t){TH(e.x,t,MUe),TH(e.y,t,FUe)}function wbe(e,t){return ybe($Ue(e.getBoundingClientRect(),t))}function LUe(e,t,n){const r=wbe(e,n),{scroll:o}=t;return o&&(Cd(r.x,o.offset.x),Cd(r.y,o.offset.y)),r}const BUe=new WeakMap;class NUe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=to(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{this.stopAnimation(),n&&this.snapToCursor(wj(l,"page").point)},i=(l,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$ye(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xl(v=>{let g=this.getAxisMotionValue(v).get()||0;if(vc.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=ea(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Un.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(l,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=zUe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new gbe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Un.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!RC(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=jUe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&kg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=TUe(r.layoutBox,t):this.constraints=!1,this.elastic=PUe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xl(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=IUe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=LUe(r,o.root,this.visualElement.getTransformPagePoint());let s=AUe(o.layout.layoutBox,i);if(n){const a=n(OUe(s));this.hasMutatedConstraints=!!a,a&&(s=ybe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Xl(d=>{if(!RC(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Z6(t,r,0,n))}stopAnimation(){Xl(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xl(n=>{const{drag:r}=this.getProps();if(!RC(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-jr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xl(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=DUe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xl(s=>{if(!RC(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(jr(l,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;BUe.set(this.visualElement,this);const t=this.visualElement.current,n=vu(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();kg(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=uu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=E$,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function RC(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zUe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class VUe extends Wf{constructor(t){super(t),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new NUe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const AH=e=>(t,n)=>{e&&Un.update(()=>e(t,n))};class HUe extends Wf{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(t){this.session=new gbe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:AH(t),onStart:AH(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Un.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UUe(){const e=h.useContext(gj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const _2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DH(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const y1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const n=DH(e,t.target.x),r=DH(e,t.target.y);return`${n}% ${r}%`}},WUe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=jf.parse(e);if(o.length>5)return r;const i=jf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;const u=jr(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class YUe extends se.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;Jze(qUe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Un.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Cbe(e){const[t,n]=UUe(),r=h.useContext(F6);return se.createElement(YUe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(vye),isPresent:t,safeToRemove:n})}const qUe={borderRadius:{...y1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:y1,borderTopRightRadius:y1,borderBottomLeftRadius:y1,borderBottomRightRadius:y1,boxShadow:WUe},_be=["TopLeft","TopRight","BottomLeft","BottomRight"],GUe=_be.length,IH=e=>typeof e=="string"?parseFloat(e):e,PH=e=>typeof e=="number"||it.test(e);function KUe(e,t,n,r,o,i){o?(e.opacity=jr(0,n.opacity!==void 0?n.opacity:1,ZUe(r)),e.opacityExit=jr(t.opacity!==void 0?t.opacity:1,0,XUe(r))):i&&(e.opacity=jr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<GUe;s++){const a=`border${_be[s]}Radius`;let l=OH(t,a),u=OH(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||PH(l)===PH(u)?(e[a]=Math.max(jr(IH(l),IH(u),r),0),(vc.test(u)||vc.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=jr(t.rotate||0,n.rotate||0,r))}function OH(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZUe=Sbe(0,.5,Y6),XUe=Sbe(.5,.95,Mr);function Sbe(e,t,n){return r=>r<e?0:r>t?1:n(Fb(e,t,r))}function $H(e,t){e.min=t.min,e.max=t.max}function pa(e,t){$H(e.x,t.x),$H(e.y,t.y)}function RH(e,t,n,r,o){return e-=t,e=d5(e,1/n,r),o!==void 0&&(e=d5(e,1/o,r)),e}function QUe(e,t=0,n=1,r=.5,o,i=e,s=e){if(vc.test(t)&&(t=parseFloat(t),t=jr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=jr(i.min,i.max,r);e===i&&(a-=t),e.min=RH(e.min,t,n,a,o),e.max=RH(e.max,t,n,a,o)}function MH(e,t,[n,r,o],i,s){QUe(e,t[n],t[r],t[o],t.scale,i,s)}const JUe=["x","scaleX","originX"],eWe=["y","scaleY","originY"];function FH(e,t,n,r){MH(e.x,t,JUe,n?n.x:void 0,r?r.x:void 0),MH(e.y,t,eWe,n?n.y:void 0,r?r.y:void 0)}function LH(e){return e.translate===0&&e.scale===1}function Ebe(e){return LH(e.x)&&LH(e.y)}function tWe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function kbe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function BH(e){return ea(e.x)/ea(e.y)}class nWe{constructor(){this.members=[]}add(t){X6(this.members,t),t.scheduleRender()}remove(t){if(Q6(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NH(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const rWe=(e,t)=>e.depth-t.depth;class oWe{constructor(){this.children=[],this.isDirty=!1}add(t){X6(this.children,t),this.isDirty=!0}remove(t){Q6(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rWe),this.isDirty=!1,this.children.forEach(t)}}function iWe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Iu(r),e(i-t))};return Un.read(r,!0),()=>Iu(r)}function sWe(e){window.MotionDebug&&window.MotionDebug.record(e)}function aWe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function lWe(e,t,n){const r=Ss(e)?e:Av(e);return r.start(Z6("",r,t,n)),r.animation}const zH=["","X","Y","Z"],VH=1e3;let cWe=0;const Th={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jbe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=cWe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Th.totalNodes=Th.resolvedTargetDeltas=Th.recalculatedProjection=0,this.nodes.forEach(fWe),this.nodes.forEach(vWe),this.nodes.forEach(yWe),this.nodes.forEach(hWe),sWe(Th)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oWe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new J6),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aWe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=iWe(p,250),_2.hasAnimatedSinceResize&&(_2.hasAnimatedSinceResize=!1,this.nodes.forEach(UH))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||_We,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!kbe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...dbe(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||UH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Iu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bWe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HH);return}this.isUpdating||this.nodes.forEach(mWe),this.isUpdating=!1,this.nodes.forEach(gWe),this.nodes.forEach(uWe),this.nodes.forEach(dWe),this.clearAllSnapshots();const a=performance.now();Ao.delta=kf(0,1e3/60,a-Ao.timestamp),Ao.timestamp=a,Ao.isProcessing=!0,PD.update.process(Ao),PD.preRender.process(Ao),PD.render.process(Ao),Ao.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pWe),this.sharedNodes.forEach(xWe)}scheduleUpdateProjection(){Un.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=to(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ebe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||jh(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),SWe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return to();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Cd(a.x,l.offset.x),Cd(a.y,l.offset.y)),a}removeElementScroll(s){const a=to();pa(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){pa(a,s);const{scroll:p}=this.root;p&&(Cd(a.x,-p.offset.x),Cd(a.y,-p.offset.y))}Cd(a.x,d.offset.x),Cd(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=to();pa(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ag(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jh(d.latestValues)&&Ag(l,d.latestValues)}return jh(this.latestValues)&&Ag(l,this.latestValues),l}removeTransform(s){const a=to();pa(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jh(u.latestValues))continue;k$(u.latestValues)&&u.updateSnapshot();const d=to(),f=u.measurePageBox();pa(d,f),FH(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return jh(this.latestValues)&&FH(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ao.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ao.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=to(),this.relativeTargetOrigin=to(),Ny(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=to(),this.targetWithTransforms=to()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kUe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pa(this.target,this.layout.layoutBox),xbe(this.target,this.targetDelta)):pa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=to(),this.relativeTargetOrigin=to(),Ny(this.relativeTargetOrigin,this.target,m.target),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Th.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||k$(this.parent.latestValues)||bbe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ao.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;pa(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;RUe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Tg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Tg(),this.projectionDeltaWithTransform=Tg());const g=this.projectionTransform;By(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=NH(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Th.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Tg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=to(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(CWe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;WH(f.x,s.x,_),WH(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ny(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wWe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&tWe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=to()),pa(w,this.relativeTarget)),g&&(this.animationValues=d,KUe(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Iu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Un.update(()=>{_2.hasAnimatedSinceResize=!0,this.currentAnimation=lWe(0,VH,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&Tbe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||to();const f=ea(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=ea(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}pa(a,l),Ag(a,d),By(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new nWe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<zH.length;d++){const f="rotate"+zH[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=C2(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=C2(s.pointerEvents)||""),this.hasProjected&&!jh(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=NH(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in o5){if(p[g]===void 0)continue;const{correct:y,applyTo:x}=o5[g],b=u.transform==="none"?p[g]:y(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?C2(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(HH),this.root.sharedNodes.clear()}}}function uWe(e){e.updateLayout()}function dWe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?Xl(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ea(p);p.min=r[f].min,p.max=p.min+m}):Tbe(i,n.layoutBox,r)&&Xl(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ea(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Tg();By(a,r,n.layoutBox);const l=Tg();s?By(l,e.applyTransform(o,!0),n.measuredBox):By(l,r,n.layoutBox);const u=!Ebe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=to();Ny(v,n.layoutBox,p.layoutBox);const g=to();Ny(g,r,m.layoutBox),kbe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fWe(e){Th.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hWe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pWe(e){e.clearSnapshot()}function HH(e){e.clearMeasurements()}function mWe(e){e.isLayoutDirty=!1}function gWe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UH(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vWe(e){e.resolveTargetDelta()}function yWe(e){e.calcProjection()}function bWe(e){e.resetRotation()}function xWe(e){e.removeLeadSnapshot()}function WH(e,t,n){e.translate=jr(t.translate,0,n),e.scale=jr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function YH(e,t,n,r){e.min=jr(t.min,n.min,r),e.max=jr(t.max,n.max,r)}function wWe(e,t,n,r){YH(e.x,t.x,n.x,r),YH(e.y,t.y,n.y,r)}function CWe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _We={duration:.45,ease:[.4,0,.1,1]},qH=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),GH=qH("applewebkit/")&&!qH("chrome/")?Math.round:Mr;function KH(e){e.min=GH(e.min),e.max=GH(e.max)}function SWe(e){KH(e.x),KH(e.y)}function Tbe(e,t,n){return e==="position"||e==="preserve-aspect"&&!S$(BH(t),BH(n),.2)}const EWe=jbe({attachResizeListener:(e,t)=>uu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),HD={current:void 0},Abe=jbe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!HD.current){const e=new EWe({});e.mount(window),e.setOptions({layoutScroll:!0}),HD.current=e}return HD.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kWe={pan:{Feature:HUe},drag:{Feature:VUe,ProjectionNode:Abe,MeasureLayout:Cbe}},jWe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TWe(e){const t=jWe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function T$(e,t,n=1){const[r,o]=TWe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return fbe(s)?parseFloat(s):s}else return v$(o)?T$(o,t,n+1):o}function AWe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!v$(i))return;const s=T$(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!v$(i))continue;const s=T$(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const DWe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Dbe=e=>DWe.has(e),IWe=e=>Object.keys(e).some(Dbe),ZH=e=>e===sm||e===it,XH=(e,t)=>parseFloat(e.split(", ")[t]),QH=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return XH(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?XH(i[1],e):0}},PWe=new Set(["x","y","z"]),OWe=Qx.filter(e=>!PWe.has(e));function $We(e){const t=[];return OWe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Dv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:QH(4,13),y:QH(5,14)};Dv.translateX=Dv.x;Dv.translateY=Dv.y;const RWe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Dv[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Dv[u](l,i)}),e},MWe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Dbe);let i=[],s=!1;const a=[];if(o.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=v1(d);const p=t[l];let m;if(s5(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=v1(d);for(let y=g;y<v&&p[y]!==null;y++)m?_j(v1(p[y])===m):m=v1(p[y])}else m=v1(p);if(f!==m)if(ZH(f)&&ZH(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===it&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(s||(i=$We(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=RWe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),vj&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function FWe(e,t,n,r){return IWe(t)?MWe(e,t,n,r):{target:t,transitionEnd:r}}const LWe=(e,t,n,r)=>{const o=AWe(e,t,r);return t=o.target,r=o.transitionEnd,FWe(e,t,n,r)},A$={current:null},Ibe={current:!1};function BWe(){if(Ibe.current=!0,!!vj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>A$.current=e.matches;e.addListener(t),t()}else A$.current=!1}function NWe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Ss(i))e.addValue(o,i),u5(r)&&r.add(o);else if(Ss(s))e.addValue(o,Av(i,{owner:e})),u5(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Av(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const JH=new WeakMap,Pbe=Object.keys(Mb),zWe=Pbe.length,eU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],VWe=M6.length;class HWe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Un.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=bj(n),this.isVariantNode=gye(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Ss(p)&&(p.set(a[f],!1),u5(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,JH.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ibe.current||BWe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JH.delete(this.current),this.projection&&this.projection.unmount(),Iu(this.notifyUpdate),Iu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=im.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Un.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let l=0;l<zWe;l++){const u=Pbe[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Mb[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&kg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):to()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eU.length;r++){const o=eU[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=NWe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<VWe;r++){const o=M6[r],i=this.props[o];(Rb(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Av(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=W6(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ss(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new J6),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Obe extends HWe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=lUe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){sUe(this,r,s);const a=LWe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function UWe(e){return window.getComputedStyle(e)}class WWe extends Obe{readValueFromInstance(t,n){if(im.has(n)){const r=K6(n);return r&&r.default||0}else{const r=UWe(t),o=(xye(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wbe(t,n)}build(t,n,r,o){B6(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return U6(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ss(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){kye(t,n,r,o)}}class YWe extends Obe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(im.has(n)){const r=K6(n);return r&&r.default||0}return n=jye.has(n)?n:H6(n),t.getAttribute(n)}measureInstanceViewportBox(){return to()}scrapeMotionValuesFromProps(t,n){return Aye(t,n)}build(t,n,r,o){z6(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){Tye(t,n,r,o)}mount(t){this.isSVGTag=V6(t.tagName),super.mount(t)}}const qWe=(e,t)=>L6(e)?new YWe(t,{enableHardwareAcceleration:!1}):new WWe(t,{enableHardwareAcceleration:!0}),GWe={layout:{ProjectionNode:Abe,MeasureLayout:Cbe}},KWe={...CUe,...VVe,...kWe,...GWe},Sj=Xze((e,t)=>AVe(e,t,KWe,qWe));function $be(){const e=h.useRef(!1);return $6(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ZWe(){const e=$be(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Un.postRender(r),[r]),t]}class XWe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QWe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(XWe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const UD=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=Dye(JWe),l=h.useId(),u=h.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(QWe,{isPresent:n},e)),h.createElement(gj.Provider,{value:u},e)};function JWe(){return new Map}function eYe(e){return h.useEffect(()=>()=>e(),[])}const tg=e=>e.key||"";function tYe(e,t){e.forEach(n=>{const r=tg(n);t.set(r,n)})}function nYe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const eL=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(F6).forceRender||ZWe()[0],l=$be(),u=nYe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if($6(()=>{v.current=!1,tYe(u,m),p.current=d}),eYe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(b=>h.createElement(UD,{key:tg(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},b)));d=[...d];const g=p.current.map(tg),y=u.map(tg),x=g.length;for(let b=0;b<x;b++){const w=g[b];y.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=b;if(!S){const E=()=>{m.delete(w),f.delete(w);const j=p.current.findIndex(k=>k.key===w);if(p.current.splice(j,1),!f.size){if(p.current=u,l.current===!1)return;a(),r&&r()}};S=h.createElement(UD,{key:tg(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:h.createElement(UD,{key:tg(b),isPresent:!0,presenceAffectsLayout:i,mode:s},b)}),h.createElement(h.Fragment,null,f.size?d:d.map(b=>h.cloneElement(b)))};function rYe(e,t,n){var r;if(typeof e=="string"){let o=document;t&&(_j(!!t.current),o=t.current),n?((r=n[e])!==null&&r!==void 0||(n[e]=o.querySelectorAll(e)),e=n[e]):e=o.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const oYe={some:0,all:1};function iYe(e,t,{root:n,margin:r,amount:o="some"}={}){const i=rYe(e),s=new WeakMap,a=u=>{u.forEach(d=>{const f=s.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const p=t(d);typeof p=="function"?s.set(d.target,p):l.unobserve(d.target)}else f&&(f(d),s.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof o=="number"?o:oYe[o]});return i.forEach(u=>l.observe(u)),()=>l.disconnect()}function sYe(e,{root:t,margin:n,amount:r,once:o=!1}={}){const[i,s]=h.useState(!1);return h.useEffect(()=>{if(!e.current||o&&i)return;const a=()=>(s(!0),o?void 0:()=>s(!1)),l={root:t&&t.current||void 0,margin:n,amount:r};return iYe(e.current,a,l)},[t,e,n,o]),i}const nw=[],lf={},Rbe={top:"bottom",right:"left",bottom:"top",left:"right"};function aYe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ye(e){return e===0?0:"".concat(e/16,"rem")}function ft(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function lYe(e,t){return e===void 0?t||nw:Array.isArray(e)?e:[e]}function us(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:ft(e.sanity.media,n,r=>aYe(t,ye(e.sanity.space[r])))}function Iv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:l,weights:u}=i[e],d=r&&u[r]||u.regular,f=l[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Iv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),Iv.warned=!0),[p];const m=ft(s,n,v=>cYe(l[v]||f));return[p,...m]}function cYe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,l=s-a,u=(l-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(l-d)/2;return{fontSize:ye(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ye(i),transform:"translateY(".concat(ye(n),")"),"&:before":{marginTop:"calc(".concat(ye(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ye(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ye(u)}}}function uYe(e){return Iv("code",e)}function dYe(e){return Iv("heading",e)}function fYe(e){return Iv("label",e)}function tL(e){const{theme:t}=e;return ft(t.sanity.media,e.$align,n=>({textAlign:n}))}function hYe(e){return Iv("text",e)}function we(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>lYe(e,t),[n])}function tU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function Nr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>tU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const l=a.current,u=tU(r,t);if(l.length!==u.length){s(u),a.current=u;return}for(const d of l)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!l.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const l=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[n,e,i]),o}var hp=[],pYe=function(){return hp.some(function(e){return e.activeTargets.length>0})},mYe=function(){return hp.some(function(e){return e.skippedTargets.length>0})},nU="ResizeObserver loop completed with undelivered notifications.",gYe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:nU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=nU),window.dispatchEvent(e)},Lb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Lb||(Lb={}));var pp=function(e){return Object.freeze(e)},vYe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,pp(this)}return e}(),Mbe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,pp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),nL=function(e){return e instanceof SVGElement&&"getBBox"in e},Fbe=function(e){if(nL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},rU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},yYe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},zy=typeof window<"u"?window:{},MC=new WeakMap,oU=/auto|scroll/,bYe=/^tb|vertical/,xYe=/msie|trident/i.test(zy.navigator&&zy.navigator.userAgent),Vl=function(e){return parseFloat(e||"0")},Wg=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new vYe((n?t:e)||0,(n?e:t)||0)},iU=pp({devicePixelContentBoxSize:Wg(),borderBoxSize:Wg(),contentBoxSize:Wg(),contentRect:new Mbe(0,0,0,0)}),Lbe=function(e,t){if(t===void 0&&(t=!1),MC.has(e)&&!t)return MC.get(e);if(Fbe(e))return MC.set(e,iU),iU;var n=getComputedStyle(e),r=nL(e)&&e.ownerSVGElement&&e.getBBox(),o=!xYe&&n.boxSizing==="border-box",i=bYe.test(n.writingMode||""),s=!r&&oU.test(n.overflowY||""),a=!r&&oU.test(n.overflowX||""),l=r?0:Vl(n.paddingTop),u=r?0:Vl(n.paddingRight),d=r?0:Vl(n.paddingBottom),f=r?0:Vl(n.paddingLeft),p=r?0:Vl(n.borderTopWidth),m=r?0:Vl(n.borderRightWidth),v=r?0:Vl(n.borderBottomWidth),g=r?0:Vl(n.borderLeftWidth),y=f+u,x=l+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:Vl(n.width)-S-_,k=r?r.height:Vl(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=pp({devicePixelContentBoxSize:Wg(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:Wg(T,A,i),contentBoxSize:Wg(j,k,i),contentRect:new Mbe(f,l,j,k)});return MC.set(e,D),D},Bbe=function(e,t,n){var r=Lbe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Lb.DEVICE_PIXEL_CONTENT_BOX:return s;case Lb.BORDER_BOX:return o;default:return i}},wYe=function(){function e(t){var n=Lbe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=pp([n.borderBoxSize]),this.contentBoxSize=pp([n.contentBoxSize]),this.devicePixelContentBoxSize=pp([n.devicePixelContentBoxSize])}return e}(),Nbe=function(e){if(Fbe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},CYe=function(){var e=1/0,t=[];hp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new wYe(u.target),f=Nbe(u.target);a.push(d),u.lastReportedSize=Bbe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},sU=function(e){hp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(Nbe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},_Ye=function(){var e=0;for(sU(e);pYe();)e=CYe(),sU(e);return mYe()&&gYe(),e>0},WD,zbe=[],SYe=function(){return zbe.splice(0).forEach(function(e){return e()})},EYe=function(e){if(!WD){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return SYe()}).observe(n,r),WD=function(){n.textContent="".concat(t?t--:t++)}}zbe.push(e),WD()},kYe=function(e){EYe(function(){requestAnimationFrame(e)})},S2=0,jYe=function(){return!!S2},TYe=250,AYe={attributes:!0,characterData:!0,childList:!0,subtree:!0},aU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],lU=function(e){return e===void 0&&(e=0),Date.now()+e},YD=!1,DYe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=TYe),!YD){YD=!0;var r=lU(t);kYe(function(){var o=!1;try{o=_Ye()}finally{if(YD=!1,t=r-lU(),!jYe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,AYe)};document.body?n():zy.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),aU.forEach(function(n){return zy.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),aU.forEach(function(n){return zy.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),D$=new DYe,cU=function(e){!S2&&e>0&&D$.start(),S2+=e,!S2&&D$.stop()},IYe=function(e){return!nL(e)&&!yYe(e)&&getComputedStyle(e).display==="inline"},PYe=function(){function e(t,n){this.target=t,this.observedBox=n||Lb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Bbe(this.target,this.observedBox,!0);return IYe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),OYe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),FC=new WeakMap,uU=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},LC=function(){function e(){}return e.connect=function(t,n){var r=new OYe(t,n);FC.set(t,r)},e.observe=function(t,n,r){var o=FC.get(t),i=o.observationTargets.length===0;uU(o.observationTargets,n)<0&&(i&&hp.push(o),o.observationTargets.push(new PYe(n,r&&r.box)),cU(1),D$.schedule())},e.unobserve=function(t,n){var r=FC.get(t),o=uU(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&hp.splice(hp.indexOf(r),1),r.observationTargets.splice(o,1),cU(-1))},e.disconnect=function(t){var n=this,r=FC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),$Ye=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");LC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!rU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");LC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!rU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");LC.unobserve(this,t)},e.prototype.disconnect=function(){LC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Vbe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:$Ye,RYe=FYe();function MYe(){return{subscribe(e,t){const n=new Vbe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function FYe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=MYe().subscribe(n,a=>{for(const l of o)l(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function Ej(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return RYe.subscribe(e,n)},[e]),t}function rw(e){const t=Ej(e);return(t==null?void 0:t._contentRect)||null}function Es(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function qD(e,t){return e*t}function LYe(e,t){return{r:Math.round(GD(qD(e.r/255,t.r/255)*255)),g:Math.round(GD(qD(e.g/255,t.g/255)*255)),b:Math.round(GD(qD(e.b/255,t.b/255)*255))}}function GD(e){return Math.max(Math.min(e,255),0)}function KD(e,t){return e+t-e*t}function BYe(e,t){return{r:Math.round(ZD(KD(e.r/255,t.r/255)*255)),g:Math.round(ZD(KD(e.g/255,t.g/255)*255)),b:Math.round(ZD(KD(e.b/255,t.b/255)*255))}}function ZD(e){return Math.max(Math.min(e,255),0)}function NYe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function Hbe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function zYe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,l=0;return 0<=e.h&&e.h<60?(s=r,a=o,l=0):60<=e.h&&e.h<120?(s=o,a=r,l=0):120<=e.h&&e.h<180?(s=0,a=r,l=o):180<=e.h&&e.h<240?(s=0,a=o,l=r):240<=e.h&&e.h<300?(s=o,a=0,l=r):300<=e.h&&e.h<360&&(s=r,a=0,l=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((l+i)*255)}}const VYe="0123456789ABCDEFabcdef",HYe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function UYe(e){for(const t of e)if(VYe.indexOf(t)===-1)return!1;return!0}function WYe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:UYe(e.slice(1))}function YYe(e){const t=HYe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function Bb(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(WYe(e))return NYe(e);if(e.startsWith("hsl("))return zYe(YYe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function At(e,t){const n=Bb(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function XD(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function qYe(e,t,n,r,o){return{default:XD(e,t,n,r,o,"default"),ghost:XD(e,t,n,r,o,"ghost"),bleed:XD(e,t,n,r,o,"bleed")}}function GYe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const ke="hsl(0, 0%, 0%)",Rm="hsl(0, 0%, 100%)",ht={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},KYe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},BC={transparent:{bg:[ht.transparent.darkest,ht.transparent.lightest],fg:[ht.transparent.lightest,ht.transparent.darkest],border:[ht.transparent.darker,ht.transparent.lighter],focusRing:[ht.transparent.base,ht.transparent.base]},primary:{bg:[ht.primary.darkest,ht.primary.lightest],fg:[ht.primary.lightest,ht.primary.darkest],border:[ht.primary.darker,ht.primary.lighter],focusRing:[ht.primary.base,ht.primary.base]},positive:{bg:[ht.positive.darkest,ht.positive.lightest],fg:[ht.positive.lightest,ht.positive.darkest],border:[ht.positive.darker,ht.positive.lighter],focusRing:[ht.positive.base,ht.positive.base]},caution:{bg:[ht.caution.darkest,ht.caution.lightest],fg:[ht.caution.lightest,ht.caution.darkest],border:[ht.caution.darker,ht.caution.lighter],focusRing:[ht.caution.base,ht.caution.base]},critical:{bg:[ht.critical.darkest,ht.critical.lightest],fg:[ht.critical.lightest,ht.critical.darkest],border:[ht.critical.darker,ht.critical.lighter],focusRing:[ht.critical.base,ht.critical.base]}},ZYe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?ke:Rm,fg:t?Rm:ke,border:t?ht.default.darkest:ht.default.lightest,focusRing:ht.primary.base,shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?Rm:ke,to:t?Rm:ke}}:{bg:BC[n].bg[t?0:1],fg:BC[n].fg[t?0:1],border:BC[n].border[t?0:1],focusRing:BC[n].focusRing[t?0:1],shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?Rm:ke,to:t?Rm:ke}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=ht[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=ht[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:ke,bg2:ke,fg:ke,border:ke,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},input:()=>({bg:ke,fg:ke,border:ke,placeholder:ke}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return KYe[t]},syntax:()=>({atrule:ke,attrName:ke,attrValue:ke,attribute:ke,boolean:ke,builtin:ke,cdata:ke,char:ke,class:ke,className:ke,comment:ke,constant:ke,deleted:ke,doctype:ke,entity:ke,function:ke,hexcode:ke,id:ke,important:ke,inserted:ke,keyword:ke,number:ke,operator:ke,prolog:ke,property:ke,pseudoClass:ke,pseudoElement:ke,punctuation:ke,regex:ke,selector:ke,string:ke,symbol:ke,tag:ke,unit:ke,url:ke,variable:ke})};function XYe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function QYe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function JYe(e,t,n,r,o){return{default:b1(e,t,n,r,o,"default"),primary:b1(e,t,n,r,o,"primary"),positive:b1(e,t,n,r,o,"positive"),caution:b1(e,t,n,r,o,"caution"),critical:b1(e,t,n,r,o,"critical")}}function b1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function eqe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function tqe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function nqe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...ZYe,...e};return{light:dU(t,!1),dark:dU(t,!0)}}function dU(e,t){return{default:Mm(e,t,"default"),transparent:Mm(e,t,"transparent"),primary:Mm(e,t,"primary"),positive:Mm(e,t,"positive"),caution:Mm(e,t,"caution"),critical:Mm(e,t,"critical")}}function Mm(e,t,n){const r=e.base({dark:t,name:n}),o=eqe(e,r,t,n),i=QYe(e,r,t,n);return{base:r,button:qYe(e,r,t,o,i),card:GYe(e,r,t,n,o,i),dark:t,input:XYe(e,r,t,o,i),selectable:JYe(e,r,t,o,i),spot:tqe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function fh(e,t){const n=Bb(e),r=Bb(t);return Hbe(LYe(n,r))}function hh(e,t){const n=Bb(e),r=Bb(t);return Hbe(BYe(n,r))}const Ii={default:pe.gray,transparent:pe.gray,primary:pe.blue,positive:pe.green,caution:pe.yellow,critical:pe.red},x1=["default","transparent"],rqe=nqe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=pe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?ba.hex:ec.hex,bg:t?ec.hex:ba.hex,border:i[t?800:200].hex,focusRing:pe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[950].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[950].hex,.28):At(i[500].hex,.14),ambient:t?At(i[950].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}if(n==="transparent"){const i=Ii.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:pe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[900].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[900].hex,.28):At(i[500].hex,.14),ambient:t?At(i[900].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}const r=Ii[n]||Ii.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:At(r[500].hex,.4),umbra:t?At(r[900].hex,.4):At(r[500].hex,.2),penumbra:t?At(r[900].hex,.28):At(r[500].hex,.14),ambient:t?At(r[900].hex,.24):At(r[500].hex,.12)},skeleton:{from:o,to:At(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?hh:fh,a=n?fh:hh,l=Ii[r]||Ii.default,u=x1.includes(r)&&x1.includes(i);let d=Ii[i==="default"?r:i]||l;if(o==="disabled"){d=l;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?ec.hex:ba.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?ec.hex:ba.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?ec.hex:ba.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="selected"){u&&(d=Ii.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?ec.hex:ba.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?ec.hex:ba.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,pe.red[n?900:100].hex)},link:{fg:a(f,pe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:At(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?hh:fh,a=Ii[r]||Ii.default,l=x1.includes(r)&&x1.includes(i);let u=Ii[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:At(m,.5),to:At(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="pressed"){l&&(u=Ii.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="selected"){l&&(u=Ii.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:At(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=x1.includes(o),l=Ii[o]||Ii.default,u=n?hh:fh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,l[n?900:100].hex);return{bg:d,bg2:u(d,l[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,l[n?400:600].hex)},accent:{fg:u(t.bg,pe.red[n?400:500].hex)},link:{fg:u(t.bg,pe.blue[n?400:600].hex)},code:{bg:u(t.bg,l[n?950:50].hex),fg:l[n?400:600].hex},skeleton:{from:f,to:At(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?hh:fh;if(r==="invalid"){const s=Ii.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,pe.gray[n?700:300].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?700:300].hex),border:i(t.bg,pe.gray[n?900:100].hex),placeholder:i(t.bg,pe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?200:800].hex),border:i(t.bg,pe.gray[n?800:200].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,pe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?hh:fh)(t.bg,pe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?hh:fh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,pe.purple[o].hex),attrName:r(t.bg,pe.green[o].hex),attrValue:r(t.bg,pe.yellow[o].hex),attribute:r(t.bg,pe.yellow[o].hex),boolean:r(t.bg,pe.purple[o].hex),builtin:r(t.bg,pe.purple[o].hex),cdata:r(t.bg,pe.yellow[o].hex),char:r(t.bg,pe.yellow[o].hex),class:r(t.bg,pe.orange[o].hex),className:r(t.bg,pe.cyan[o].hex),comment:r(t.bg,pe.gray[i].hex),constant:r(t.bg,pe.purple[o].hex),deleted:r(t.bg,pe.red[o].hex),doctype:r(t.bg,pe.gray[i].hex),entity:r(t.bg,pe.red[o].hex),function:r(t.bg,pe.green[o].hex),hexcode:r(t.bg,pe.blue[o].hex),id:r(t.bg,pe.purple[o].hex),important:r(t.bg,pe.purple[o].hex),inserted:r(t.bg,pe.yellow[o].hex),keyword:r(t.bg,pe.magenta[o].hex),number:r(t.bg,pe.purple[o].hex),operator:r(t.bg,pe.magenta[o].hex),prolog:r(t.bg,pe.gray[i].hex),property:r(t.bg,pe.blue[o].hex),pseudoClass:r(t.bg,pe.yellow[o].hex),pseudoElement:r(t.bg,pe.yellow[o].hex),punctuation:r(t.bg,pe.gray[o].hex),regex:r(t.bg,pe.blue[o].hex),selector:r(t.bg,pe.red[o].hex),string:r(t.bg,pe.yellow[o].hex),symbol:r(t.bg,pe.purple[o].hex),tag:r(t.bg,pe.red[o].hex),unit:r(t.bg,pe.orange[o].hex),url:r(t.bg,pe.red[o].hex),variable:r(t.bg,pe.red[o].hex)}}}),oqe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Tf={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:rqe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:oqe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},iqe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function sqe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Xt=sqe(),I$=Symbol.for("@sanity/ui/context/theme");Xt[I$]=Xt[I$]||h.createContext(null);const P$=Xt[I$];function f5(e){const t=h.useContext(P$),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:l,layer:u,...d}=o,f=l[r]||l.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||iqe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?c.jsx(P$.Provider,{value:a,children:c.jsx(t4e,{theme:s,children:n})}):c.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function l0(e){return!!(e&&typeof e=="object")}function c0(){const e=h.useContext(P$);if(!e)throw new Error("useRootTheme(): missing context value");if(!l0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function Ube(e){const{children:t,scheme:n,tone:r}=e,o=c0();return c.jsx(f5,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function ks(){return Lge()}const fU=new WeakMap;function aqe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function lqe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=aqe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:l}of r()){const u=()=>{l.matches&&s()};l.addEventListener("change",u),a.push(()=>l.removeEventListener("change",u))}return()=>{for(const l of a)l()}}}}function cqe(){return 0}function am(){const e=ks(),{media:t}=e.sanity;let n=fU.get(t);return n||(n=lqe(t),fU.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,cqe)}let QD;function Wbe(){return QD||(QD=window.matchMedia("(prefers-color-scheme: dark)")),QD}function uqe(e){const t=Wbe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function dqe(){return Wbe().matches}function fqe(){return!1}function hqe(){return h.useSyncExternalStore(uqe,dqe,fqe)}const pqe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function lr(e){const t=h.useRef(null);return pqe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function ow(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const iw="1px solid var(--card-border-color)";function mqe(){return[gqe,vqe,yqe,bqe,xqe]}function gqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$border,r=>r?{"&&":{border:iw}}:{"&&":{border:0}})}function vqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$borderTop,r=>r?{"&&":{borderTop:iw}}:{"&&":{borderTop:0}})}function yqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$borderRight,r=>r?{"&&":{borderRight:iw}}:{"&&":{borderRight:0}})}function bqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$borderBottom,r=>r?{"&&":{borderBottom:iw}}:{"&&":{borderBottom:0}})}function xqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$borderLeft,r=>r?{"&&":{borderLeft:iw}}:{"&&":{borderLeft:0}})}const wqe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Cqe={content:"content-box",border:"border-box"},_qe={stretch:"stretch",fill:"100%"};function Sqe(){return wqe}function Eqe(){return[jqe,Tqe,Aqe,kqe]}function kqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function jqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$sizing,r=>({boxSizing:Cqe[r]}))}function Tqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$height,r=>({height:_qe[r]}))}function Aqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$overflow,r=>({overflow:r}))}const Dqe={"&&:not([hidden])":{display:"flex"}};function Iqe(){return[Dqe,Pqe,Oqe,$qe,Rqe,Mqe]}function Pqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$align,r=>({alignItems:r}))}function Oqe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ft(n,e.$gap,o=>({gap:o?ye(r[o]):void 0}))}function $qe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$wrap,r=>({flexWrap:r}))}function Rqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$justify,r=>({justifyContent:r}))}function Mqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$direction,r=>({flexDirection:r}))}const Fqe={minWidth:0,minHeight:0};function Ybe(){return[Fqe,Lqe]}function Lqe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?ft(n,e.$flex,r=>({flex:r})):nw}function Co(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Sc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&Co(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const Bqe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Nqe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},zqe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function Vqe(){return[Bqe,Hqe,Uqe,Wqe,Yqe,qqe,Gqe,Kqe,Zqe]}function Hqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function Uqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$autoRows,r=>({gridAutoRows:r&&zqe[r]}))}function Wqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$autoCols,r=>({gridAutoColumns:r&&Nqe[r]}))}function Yqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function qqe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function Gqe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ft(n,e.$gap,o=>({gridGap:o?ye(r[o]):void 0}))}function Kqe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ft(n,e.$gapX,o=>({columnGap:o?ye(r[o]):void 0}))}function Zqe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ft(n,e.$gapY,o=>({rowGap:o?ye(r[o]):void 0}))}function Xqe(){return[eGe,tGe,nGe,rGe,oGe,iGe]}const Qqe={auto:"auto",full:"1 / -1"},Jqe={auto:"auto",full:"1 / -1"};function eGe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:Qqe[r]})}function tGe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$rowStart,r=>({gridRowStart:r}))}function nGe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$rowEnd,r=>({gridRowEnd:r}))}function rGe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:Jqe[r]})}function oGe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$columnStart,r=>({gridColumnStart:r}))}function iGe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function rL(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:l,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return ft(l,f,(v,g)=>{const y=a.text.sizes[m[g]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=u[f[g]],w=u[p[g]],C={paddingTop:ye(b-y.ascenderHeight),paddingRight:ye(b),paddingBottom:ye(b-y.descenderHeight),paddingLeft:ye(b)};return r&&(C.paddingRight=ye(b+x+w)),n&&(C.paddingLeft=ye(b+x+w)),C})}function sGe(e){return rL({...e,$iconRight:!0})}var hU=Object.freeze,aGe=Object.defineProperty,oL=(e,t)=>hU(aGe(e,"raw",{value:hU(t||e.slice())})),pU,mU,gU;const lGe=he(pU||(pU=oL([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function qbe(){return lGe}function Gbe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return he(mU||(mU=oL([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function Kbe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return ft(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function Zbe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,l=i.sanity.color.input;return he(gU||(gU=oL([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,l.default.enabled.bg,l.default.enabled.fg,Co({color:l.default.enabled.border,width:a.border.width}),l.invalid.enabled.bg,l.invalid.enabled.fg,Co({color:l.invalid.enabled.border,width:a.border.width}),Sc({border:{color:l.default.enabled.border,width:a.border.width},focusRing:s}),Sc({focusRing:s}),l.default.disabled.bg,l.default.disabled.fg,Co({color:l.default.disabled.border,width:a.border.width}),l.default.readOnly.bg,l.default.readOnly.fg,l.default.hovered.bg,l.default.hovered.fg,Co({color:l.default.hovered.border,width:a.border.width}))}function cGe(e){const{theme:t}=e;return[us(t,["margin"],e.$margin),us(t,["marginLeft","marginRight"],e.$marginX),us(t,["marginTop","marginBottom"],e.$marginY),us(t,["marginTop"],e.$marginTop),us(t,["marginRight"],e.$marginRight),us(t,["marginBottom"],e.$marginBottom),us(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function Xbe(e){const{theme:t}=e;return[us(t,["padding"],e.$padding),us(t,["paddingLeft","paddingRight"],e.$paddingX),us(t,["paddingTop","paddingBottom"],e.$paddingY),us(t,["paddingTop"],e.$paddingTop),us(t,["paddingRight"],e.$paddingRight),us(t,["paddingBottom"],e.$paddingBottom),us(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function Ku(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return ft(n,e.$radius,o=>({borderRadius:ye(r[o])}))}function JD(e,t){return"".concat(e.map(ye).join(" ")," ").concat(t)}function uGe(e){if(!e)return lf;const t="0 0 0 ".concat(ye(1)," var(--card-shadow-outline-color)"),n=JD(e.umbra,"var(--card-shadow-umbra-color)"),r=JD(e.penumbra,"var(--card-shadow-penumbra-color)"),o=JD(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function dGe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return ft(n,e.$shadow,o=>uGe(r[o]))}var vU=Object.freeze,fGe=Object.defineProperty,eI=(e,t)=>vU(fGe(e,"raw",{value:vU(t||e.slice())})),yU,bU,xU;function hGe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return he(xU||(xU=eI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(yU||(yU=eI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(bU||(bU=eI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var wU=Object.freeze,pGe=Object.defineProperty,mGe=(e,t)=>wU(pGe(e,"raw",{value:wU(t||e.slice())})),CU;const gGe=O.div(hYe,tL,hGe),vGe=O.span(CU||(CU=mGe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),N=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(vGe,{children:f})),c.jsx(gGe,{"data-ui":"Text",...d,$accent:r,$align:we(o),$muted:s,ref:n,$size:we(a),$weight:u,children:c.jsx("span",{children:f})})}),sw={root:bGe,arrow:yGe,bgStroke:CGe,stroke:_Ge,initials:wGe};function yGe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function bGe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Sc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function xGe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return ft(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2),"&>svg":{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2)}}})}function wGe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function CGe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function _Ge(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const SGe=O.div(xGe,sw.root),EGe=O.div(sw.arrow),kGe=O.ellipse(sw.bgStroke),jGe=O.ellipse(sw.stroke),TGe=O.div(sw.initials),Qbe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:l,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=sMe.isValidElementType(r)?r:"div",g=we(p),y=ks(),x=y.sanity.color.spot[o]||y.sanity.color.spot.gray,w=(y.sanity.avatar.sizes[g[0]]||y.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),l&&l(new Error("Avatar: the image failed to load"))},[l]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return c.jsxs(SGe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[c.jsx(EGe,{children:c.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:c.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&c.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[c.jsx("defs",{children:c.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:c.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),c.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),c.jsx(kGe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),c.jsx(jGe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&c.jsx(c.Fragment,{children:c.jsx(TGe,{children:c.jsx(N,{as:"span",size:D,children:c.jsx("strong",{children:a})})})})]})});var _U=Object.freeze,AGe=Object.defineProperty,DGe=(e,t)=>_U(AGe(e,"raw",{value:_U(t||e.slice())})),SU;function IGe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return ft(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ye(i.size/2),minWidth:ye(i.size),height:ye(i.size)}:lf})}function PGe(e){const{theme:t}=e;return he(SU||(SU=DGe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ye(t.sanity.space[2]))}const OGe=O.div(IGe,PGe),O$=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=we(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return c.jsx(OGe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:c.jsx(N,{as:"span",size:s,children:c.jsx("strong",{children:r})})})});function Jbe(e){return(Array.isArray(e)?e:[e]).filter(n=>sr.isElement(n)||sr.isFragment(n)||typeof n=="string")}var EU=Object.freeze,$Ge=Object.defineProperty,RGe=(e,t)=>EU($Ge(e,"raw",{value:EU(t||e.slice())})),kU;const MGe=he(kU||(kU=RGe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function FGe(){return MGe}function LGe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return ft(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ye(i.distance)}}:lf})}const BGe=O.div(LGe,FGe),kj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=Jbe(r).filter(v=>typeof v!="string"),l=Math.max(o,0),u=we(i),d=a.length,f=l-1,p=d-f,m=p>1?a.slice(p,d):a;return c.jsxs(BGe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&c.jsx("div",{children:c.jsx(O$,{count:d})}),d!==0&&p>1&&c.jsx("div",{children:c.jsx(O$,{count:p,size:u})}),m.map((v,g)=>c.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),NGe=O.div(Sqe,Ybe,Eqe,Xqe,cGe,Xbe),B=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:l,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:y,overflow:x,padding:b=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return c.jsx(NGe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:we(o),$columnStart:we(i),$columnEnd:we(s),$display:we(a),$flex:we(l),$height:we(u),$margin:we(d),$marginX:we(f),$marginY:we(p),$marginTop:we(m),$marginRight:we(v),$marginBottom:we(g),$marginLeft:we(y),$overflow:we(x),$padding:we(b),$paddingX:we(w),$paddingY:we(C),$paddingTop:we(_),$paddingRight:we(S),$paddingBottom:we(E),$paddingLeft:we(j),$row:we(k),$rowStart:we(T),$rowEnd:we(A),$sizing:we(D),as:r,ref:n,children:t.children})});var jU=Object.freeze,zGe=Object.defineProperty,tI=(e,t)=>jU(zGe(e,"raw",{value:jU(t||e.slice())})),TU,AU,DU;function VGe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return he(DU||(DU=tI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(TU||(TU=tI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(AU||(AU=tI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var IU=Object.freeze,HGe=Object.defineProperty,UGe=(e,t)=>IU(HGe(e,"raw",{value:IU(t||e.slice())})),PU;const WGe=O.div(fYe,tL,VGe),YGe=O.span(PU||(PU=UGe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Nt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"?f=c.jsx(YGe,{children:f}):f=c.jsx("span",{children:f}),c.jsx(WGe,{"data-ui":"Label",...d,$accent:r,$align:we(o),$muted:s,$size:we(a),$weight:u,ref:n,children:f})});function qGe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const GGe=O(B)(Ku,qGe),exe=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:l="default",...u}=t;return c.jsx(GGe,{"data-ui":"Badge",...u,$mode:i,$tone:l,$radius:we(a),padding:we(s),ref:n,children:c.jsx(Nt,{size:o,children:r})})}),KGe=O(B)(Ybe,Iqe),q=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:l,...u}=t;return c.jsx(KGe,{"data-ui":"Flex",...u,$align:we(r),$direction:we(i),$gap:we(s),$justify:we(a),$wrap:we(l),forwardedAs:o,ref:n})});var OU=Object.freeze,ZGe=Object.defineProperty,txe=(e,t)=>OU(ZGe(e,"raw",{value:OU(t||e.slice())})),$U,RU;const XGe=Bk($U||($U=txe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),QGe=O(N)(RU||(RU=txe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),XGe),zr=h.forwardRef(function(t,n){return c.jsx(QGe,{"data-ui":"Spinner",...t,ref:n,children:c.jsx(Wk,{})})});function Bt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,l,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(l=t.skeleton)==null?void 0:l.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var MU=Object.freeze,JGe=Object.defineProperty,eKe=(e,t)=>MU(JGe(e,"raw",{value:MU(t||e.slice())})),FU;function tKe(){return he(FU||(FU=eKe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const nKe={border:{width:1}};function rKe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,l=a[e.$tone]||a.default,u={width:nKe.border.width,color:"var(--card-border-color)"};return[Bt(s,l.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:Co(u),'&:disabled, &[data-disabled="true"]':Bt(s,l.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Sc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:Co(u)},"@media (hover: hover)":{"&:hover":Bt(s,l.hovered),"&:active":Bt(s,l.pressed),"&[data-hovered]":Bt(s,l.hovered)},"&[data-selected]":Bt(s,l.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var LU=Object.freeze,oKe=Object.defineProperty,iKe=(e,t)=>LU(oKe(e,"raw",{value:LU(t||e.slice())})),BU;const sKe=O.button(Ku,tKe,rKe),aKe=O.div(BU||(BU=iKe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),le=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:l="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:y,paddingRight:x,radius:b=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=we(l),A=we(f),D=we(p),I=we(m),P=we(v),R=we(g),$=we(y),U=we(x),L=we(b),W=we(C),Y=ks(),V=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:P,paddingBottom:R,paddingLeft:$,paddingRight:U}),[A,D,I,P,R,$,U]);return c.jsxs(sKe,{"data-ui":"Button",...k,$mode:d,$radius:L,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&c.jsx(aKe,{children:c.jsx(zr,{})}),(s||_||a)&&c.jsx(B,{as:"span",...V,children:c.jsxs(q,{as:"span",justify:T,children:[s&&c.jsxs(N,{size:i,children:[h.isValidElement(s)&&s,sr.isValidElementType(s)&&h.createElement(s)]}),_&&c.jsx(B,{flex:a?1:void 0,marginLeft:s?W:void 0,marginRight:a?W:void 0,children:c.jsx(N,{align:S,size:i,textOverflow:"ellipsis",weight:Y.sanity.button.textWeight,children:_})}),a&&c.jsxs(N,{size:i,children:[h.isValidElement(a)&&a,sr.isValidElementType(a)&&h.createElement(a)]})]})}),r&&c.jsx(B,{as:"span",...V,children:r})]})});var NU=Object.freeze,lKe=Object.defineProperty,$$=(e,t)=>NU(lKe(e,"raw",{value:NU(t||e.slice())})),zU,VU,HU;function cKe(e){return[uKe(e),dKe(e)]}function uKe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return he(VU||(VU=$$([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&he(zU||(zU=$$([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function dKe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:l,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return he(HU||(HU=$$([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Bt(a,l.enabled,r),Bt(a,l.disabled,r),Bt(a,l.pressed,r),Bt(a,l.selected,r),Bt(a,l.hovered,r),Bt(a,l.pressed,r),o?Sc({base:a,border:d,focusRing:s}):void 0,o?Co(d):void 0,Bt(a,l.disabled,r),Bt(a,l.pressed,r),Bt(a,l.selected,r),Bt(a,l.hovered,r),Bt(a,l.pressed,r),o?Sc({base:a,border:d,focusRing:s}):void 0,o?Co(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const fKe=O(B)(mqe,Ku,dGe,cKe),ne=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:l,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:y="default",...x}=t,b=sr.isValidElementType(i)?i:"div",w=c0(),C=y==="inherit"?w.tone:y;return c.jsx(Ube,{scheme:m,tone:C,children:c.jsx(fKe,{"data-as":typeof b=="string"?b:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:we(s),$borderTop:we(a),$borderRight:we(l),$borderBottom:we(u),$borderLeft:we(d),$checkered:r,$focusRing:o,$radius:we(p),$shadow:we(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:b,ref:n,selected:v})})});var UU=Object.freeze,hKe=Object.defineProperty,nxe=(e,t)=>UU(hKe(e,"raw",{value:UU(t||e.slice())})),WU,YU;function pKe(){return he(WU||(WU=nxe([`
    position: relative;
    display: inline-block;
  `])))}function mKe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return he(YU||(YU=nxe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ye(o.checkbox.size),ye(o.checkbox.size),Co({color:n.default.enabled.border,width:o.border.width}),ye(i[2]),n.default.enabled.bg,Sc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),Co({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,Co({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,Co({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const gKe=O.div(pKe),vKe=O.input(mKe),jj=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:l,style:u,...d}=t,f=lr(n);return ow(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),c.jsxs(gKe,{className:o,"data-ui":"Checkbox",style:u,children:[c.jsx(vKe,{"data-read-only":!i&&l?"":void 0,...d,checked:r,disabled:i||l,type:"checkbox",readOnly:l,ref:f}),c.jsxs("span",{children:[c.jsx(Ra,{}),c.jsx(uve,{})]})]})});var qU=Object.freeze,yKe=Object.defineProperty,bKe=(e,t)=>qU(yKe(e,"raw",{value:qU(t||e.slice())})),GU;function xKe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function wKe(){return he(GU||(GU=bKe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),xKe)}const CKe=O.pre(wKe,uYe),xr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,l=typeof o=="string"?o:void 0,u=l?jp.hasLanguage(l):!1;return c.jsxs(CKe,{"data-ui":"Code",...a,$size:we(i),$weight:s,ref:n,children:[!(l&&u)&&c.jsx("code",{children:r}),l&&u&&c.jsx(jp,{inline:!0,language:l,value:String(r)})]})}),_Ke={width:"100%",margin:"0 auto"};function SKe(){return _Ke}function EKe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return ft(r,e.$width,o=>({maxWidth:o==="auto"?"none":ye(n[o])}))}const kKe=O(B)(SKe,EKe),ta=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return c.jsx(kKe,{"data-ui":"Container",...i,$width:we(o),forwardedAs:r,ref:n})}),jKe=O(B)(Vqe),an=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:l,gapX:u,gapY:d,rows:f,children:p,...m}=t;return c.jsx(jKe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:we(o),$autoCols:we(i),$autoFlow:we(s),$columns:we(a),$gap:we(l),$gapX:we(u),$gapY:we(d),$rows:we(f),forwardedAs:r,ref:n,children:p})});var KU=Object.freeze,TKe=Object.defineProperty,nI=(e,t)=>KU(TKe(e,"raw",{value:KU(t||e.slice())})),ZU,XU,QU;function AKe(e){const{$accent:t,$muted:n,theme:r}=e;return he(QU||(QU=nI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(ZU||(ZU=nI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(XU||(XU=nI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var JU=Object.freeze,DKe=Object.defineProperty,IKe=(e,t)=>JU(DKe(e,"raw",{value:JU(t||e.slice())})),eW;const PKe=O.div(AKe,tL,dYe),OKe=O.span(eW||(eW=IKe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),ti=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:l,weight:u,...d}=t;let f=i;return l==="ellipsis"&&(f=c.jsx(OKe,{children:f})),c.jsx(PKe,{"data-ui":"Heading",...d,$accent:r,$align:we(o),$muted:s,$size:we(a),$weight:u,ref:n,children:c.jsx("span",{children:f})})});function $Ke(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function RKe(e){const{theme:t}=e;return ft(t.sanity.media,e.$space,n=>{const r=ye(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const MKe=O(B)($Ke,RKe),Qt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>Jbe(o).filter(Boolean).map((l,u)=>c.jsx("div",{children:l},u)),[o]);return c.jsx(MKe,{"data-ui":"Inline",...s,$space:we(i),forwardedAs:r,ref:n,children:a})});var tW=Object.freeze,FKe=Object.defineProperty,LKe=(e,t)=>tW(FKe(e,"raw",{value:tW(t||e.slice())})),nW;function BKe(){return he(nW||(nW=LKe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const NKe=O.kbd(Ku,BKe),R$=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return c.jsx(NKe,{"data-ui":"KBD",...a,$radius:we(s),ref:n,children:c.jsx(B,{as:"span",padding:i,children:c.jsx(xr,{as:"span",muted:!0,size:o,children:r})})})}),M$=Symbol.for("@sanity/ui/context/boundaryElement");Xt[M$]=Xt[M$]||h.createContext(null);const rxe=Xt[M$];function lm(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return c.jsx(rxe.Provider,{value:r,children:t})}const zKe={version:0,element:null};function Yf(){const e=h.useContext(rxe);if(e&&(!l0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||zKe}function VKe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function HKe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const UKe=h.forwardRef(function(t,n){const r=ks(),{children:o,media:i=r.sanity.media,...s}=t,a=lr(n),[l,u]=h.useState(null),d=Ej(l),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>VKe(i,f),[i,f]),m=h.useMemo(()=>HKe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return c.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var WKe=Object.defineProperty,YKe=(e,t,n)=>t in e?WKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qKe=(e,t,n)=>(YKe(e,typeof t!="symbol"?t+"":t,n),n);class u0 extends h.Component{constructor(){super(...arguments),qKe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return c.jsx(xr,{children:n})}return this.props.children}}function oxe(e){if(!l0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const F$=Symbol.for("@sanity/ui/context/layer");Xt[F$]=Xt[F$]||h.createContext(null);const L$=Xt[F$];function Dc(){const e=h.useContext(L$);if(!e)throw new Error("useLayer(): missing context value");try{return oxe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function B$(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function MPn(e){let t=null;const n=B$(()=>{t=B$(e)});return()=>{t&&t(),n()}}function GKe(e){return iL(e)||sL(e)}function Ic(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function iL(e){return Ic(e)&&e.nodeName==="A"}function KKe(e){return Ic(e)&&e.nodeName==="INPUT"}function sL(e){return Ic(e)&&e.nodeName==="BUTTON"}function ZKe(e){return Ic(e)&&e.nodeName==="SELECT"}function XKe(e){return Ic(e)&&e.nodeName==="TEXTAREA"}function N$(e,t){return e.contains(t)||e===t}function QKe(e){return!!document.activeElement&&e.contains(document.activeElement)}function JKe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:iL(e)?!!e.href&&e.rel!=="ignore":KKe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:sL(e)||ZKe(e)||XKe(e)?!e.disabled:!1}function ixe(e){if(!JKe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Nb(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Ic(n)&&(ixe(n)||Nb(n)))return!0}return!1}function sxe(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Ic(n)&&(ixe(n)||sxe(n)))return!0}return!1}function eZe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Af(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(L$),i=o&&oxe(o),s=i==null?void 0:i.registerChild,l=((t=i==null?void 0:i.level)!=null?t:0)+1,u=we(r),d=u.length-1,f=Math.min(am(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),y=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(l),[l,s]);const b=h.useMemo(()=>({version:0,isTopLayer:y,level:l,registerChild:x,size:v,zIndex:p}),[y,l,x,v,p]);return c.jsx(L$.Provider,{value:b,children:n})}const tZe=O.div({position:"relative"}),nZe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=lf,...a}=t,{zIndex:l,isTopLayer:u}=Dc(),d=h.useRef(null),f=lr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,y=document.activeElement;!u||!g||!y||Ic(y)&&N$(g,y)&&(d.current=y)},[f,u,i]);return c.jsx(tZe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:l},children:r})}),Zi=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return c.jsx(Af,{zOffset:o,children:c.jsx(nZe,{...i,ref:n,children:r})})}),z$=Symbol.for("@sanity/ui/context/portal"),Ah=Symbol.for("@sanity/ui/context/portal/element");Xt[Ah]=null;const rZe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Xt[Ah]||(Xt[Ah]=document.createElement("div"),Xt[Ah].setAttribute("data-portal",""),document.body.appendChild(Xt[Ah])),Xt[Ah])}};Xt[z$]=Xt[z$]||h.createContext(rZe);const axe=Xt[z$];function Tj(){const e=h.useContext(axe);if(!e)throw new Error("usePortal(): missing context value");if(!l0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function cm(e){var t;const{children:n,__unstable_name:r}=e,o=Tj(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?ic.createPortal(n,i):null}function oZe(e){const t=h.useRef(e);return iZe(t.current,e)||(t.current=e),t.current}function iZe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const sZe=typeof document<"u";function d0(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=oZe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||sZe&&document.body||null,elements:i}),[t,r,i]);return c.jsx(axe.Provider,{value:s,children:n})}var rW=Object.freeze,aZe=Object.defineProperty,lZe=(e,t)=>rW(aZe(e,"raw",{value:rW(t||e.slice())})),oW;const cZe=O.div(oW||(oW=lZe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return c.jsx(cZe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var iW=Object.freeze,uZe=Object.defineProperty,lxe=(e,t)=>iW(uZe(e,"raw",{value:iW(t||e.slice())})),sW,aW;const dZe=O.div(sW||(sW=lxe([`
  position: relative;
`]))),lW=O.div(aW||(aW=lxe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:l,...u}=t,{space:d}=ks().sanity,f=lr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,y]=h.useState(0),[x,b]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&b(k.offsetHeight)},[l]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!eZe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const P=new Vbe(R=>{y(R[0].contentRect.height)});return P.observe(D),I(),()=>{D.removeEventListener("scroll",I),P.unobserve(D),P.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{y(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),y(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!l||s.length===0?null:x===-1?[c.jsx(lW,{children:l(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=l(k),I=i?i(k,A):A;return c.jsx(lW,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,l,d,S]),j=h.useMemo(()=>({height:C}),[C]);return c.jsx(dZe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:c.jsx("div",{ref:p,style:j,children:E})})});const fZe=4,ng=4,Ql=27,hZe=11,cxe=[0,0,0,0],pZe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function mZe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:l}=o,{floating:u,reference:d}=l,f=await xv(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const y=await a.getDimensions(i.floating),x=y.height,b=y.width;return v!==b||g!==x?{reset:{rects:!0}}:{}}}}function gZe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function vZe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-ng*2)}var cW=Object.freeze,yZe=Object.defineProperty,aL=(e,t)=>cW(yZe(e,"raw",{value:cW(t||e.slice())})),uW,dW,fW;const bZe=O.div(uW||(uW=aL([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),Ql,Ql,Ql/2,Ql/2,Ql,Ql,Ql,Ql),xZe=O.path(dW||(dW=aL([`
  fill: var(--card-shadow-outline-color);
`]))),wZe=O.path(fW||(fW=aL([`
  fill: var(--card-bg-color);
`]))),CZe=h.forwardRef(function(t,n){return c.jsx(bZe,{"data-ui":"Popover__arrow",...t,ref:n,children:c.jsxs("svg",{width:Ql,height:hZe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx(xZe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),c.jsx(wZe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),_Ze=O(ne)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),uxe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:l,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:y,tone:x,width:b,x:w,y:C,..._}=t,{zIndex:S}=Dc(),E=h.useMemo(()=>r||cxe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:b,zIndex:S,...y}),[g,y,b,j,k,S]),A=d&&Rbe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-Ql),I},[s,a,A]);return c.jsxs(_Ze,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[c.jsx(q,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:c.jsx(q,{direction:"column",flex:1,padding:u,children:l})}),o&&c.jsx(CZe,{ref:i,style:D})]})}));uxe.displayName="PopoverCard";const fn=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,l,u,d,f;const p=ks(),m=Yf(),{__unstable_margins:v=cxe,arrow:g=!0,boundaryElement:y=m.element,children:x,constrainSize:b=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:pZe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:P=3,referenceBoundary:R=(s=t.boundaryElement)!=null?s:m.element,referenceElement:$,scheme:U,shadow:L=3,tone:W="inherit",width:Y="auto",zOffset:V=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:H,...Q}=t,F=(l=Ej(y))==null?void 0:l.border,G=we(T),z=we(P),Z=we(L),K=we(Y),J=we(V),X=lr(n),ee=h.useRef(null),re="viewport",de=am(),ie=b||I?F==null?void 0:F.width:void 0,fe=gZe({mediaIndex:de,theme:p,width:K}),xe=h.useRef(fe);h.useEffect(()=>{xe.current=fe},[fe]);const be=vZe({boundaryWidth:ie,currentWidth:fe}),ve=h.useRef(be);h.useEffect(()=>{ve.current=be},[be]);const qe=h.useRef();h.useEffect(()=>{const Ut=X.current;if(!j||!Ut)return;const Hr=qe.current;S?Hr!==void 0&&(Ut.style.width="".concat(Hr,"px")):fe!==void 0&&(Ut.style.width="".concat(fe,"px")),typeof be=="number"&&(Ut.style.maxWidth="".concat(be,"px"))},[fe,X,S,be,j]);const Le=h.useMemo(()=>{const Ut=[];return(b||I)&&Ut.push(Xve({boundary:E||void 0,fallbackPlacements:_,padding:ng,rootBoundary:re})),Ut.push(Qve({mainAxis:g?fZe:0})),(b||S)&&Ut.push(mZe({apply(Hr){let{availableWidth:Bl,availableHeight:Qa,elements:ri,referenceWidth:Rn}=Hr;qe.current=Rn;const $r=xe.current,Qr=ve.current;S?ri.floating.style.width="".concat(Rn,"px"):$r!==void 0&&(ri.floating.style.width="".concat($r,"px")),b&&(ri.floating.style.maxWidth="".concat(Math.min(Bl,Qr??1/0),"px"),ri.floating.style.maxHeight="".concat(Qa,"px"))},boundaryElement:E||void 0,constrainSize:b,margins:v,matchReferenceWidth:S,padding:ng})),I&&Ut.push(Jve({boundary:E||void 0,rootBoundary:re,padding:ng})),g&&Ut.push(dye({element:ee,padding:ng})),Ut.push(yBe({boundary:R||void 0,padding:ng,strategy:"referenceHidden"})),Ut},[g,b,_,E,v,S,I,R]),{x:ot,y:Qe,middlewareData:lt,placement:_e,refs:me,strategy:We,update:Ge}=hye({middleware:Le,placement:A,whileElementsMounted:a0e}),$e=(u=lt.hide)==null?void 0:u.referenceHidden,xt=(d=lt.arrow)==null?void 0:d.x,Tt=(f=lt.arrow)==null?void 0:f.y,Et=h.useCallback(Ut=>{ee.current=Ut},[]),Kt=h.useCallback(Ut=>{X.current=Ut,me.setFloating(Ut)},[X,me]),Ai=h.useCallback(Ut=>{me.setReference(Ut);const Hr=x==null?void 0:x.ref;typeof Hr=="function"?Hr(Ut):Hr&&(Hr.current=Ut)},[x,me]),ts=h.useMemo(()=>!x||$?null:h.cloneElement(x,{ref:Ai}),[x,$,Ai]);if(h.useEffect(()=>{H&&(typeof H=="function"?H(Ge):H&&(H.current=Ge))},[Ge,H]),h.useEffect(()=>{me.setReference($||null)},[$,me]),C)return x||c.jsx(c.Fragment,{});const As=c.jsx(Af,{zOffset:J,children:c.jsx(uxe,{...Q,__unstable_margins:v,arrow:g,arrowRef:Et,arrowX:xt,arrowY:Tt,hidden:$e,overflow:k,padding:G,placement:_e,radius:z,ref:Kt,scheme:U,shadow:Z,strategy:We,tone:W,width:S?qe.current:fe,x:ot,y:Qe,children:w})});return c.jsxs(c.Fragment,{children:[j&&c.jsx(c.Fragment,{children:D?c.jsx(cm,{__unstable_name:typeof D=="string"?D:void 0,children:As}):As}),ts]})}));fn.displayName="Popover";var hW=Object.freeze,SZe=Object.defineProperty,dxe=(e,t)=>hW(SZe(e,"raw",{value:hW(t||e.slice())})),pW,mW;function EZe(){return he(pW||(pW=dxe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function kZe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return he(mW||(mW=dxe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ye(r.radio.size/2),ye(r.radio.size),ye(r.radio.size),ye(r.radio.size/2),o.default.enabled.bg,Co({color:o.default.enabled.border,width:r.border.width}),ye(i),ye(i),ye(r.radio.markSize),ye(r.radio.markSize),ye(r.radio.markSize/2),o.default.enabled.fg,Sc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),Co({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const jZe=O.div(EZe),TZe=O.input(kZe),AZe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...l}=t,u=lr(n);return ow(u,s),c.jsxs(jZe,{className:r,"data-ui":"Radio",style:i,children:[c.jsx(TZe,{"data-read-only":!o&&a?"":void 0,...l,disabled:o||a,readOnly:a,ref:u,type:"radio"}),c.jsx("span",{})]})});var gW=Object.freeze,DZe=Object.defineProperty,Aj=(e,t)=>gW(DZe(e,"raw",{value:gW(t||e.slice())})),vW,yW,bW,xW;function IZe(){return he(vW||(vW=Aj([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function PZe(e){const{theme:t}=e,n=t.sanity.fonts.text;return he(yW||(yW=Aj([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function OZe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return he(bW||(bW=Aj([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,Co({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,Co({color:o.default.hovered.border,width:r.border.width}),Sc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,Co({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,Co({color:o.default.disabled.border,width:r.border.width}))}function $Ze(e){return{fontSize:ye(e.fontSize),lineHeight:ye(e.lineHeight)}}function RZe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return ft(t.sanity.media,n,o=>$Ze(r[o]||r[2]))}function MZe(){return[Ku,PZe,OZe,RZe,sGe]}function FZe(e){const{theme:t}=e,n=t.sanity.color.input;return he(xW||(xW=Aj([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const lL={root:IZe,input:MZe,iconBox:FZe},LZe=O.div(lL.root),BZe=O.select(lL.input),NZe=O(B)(lL.iconBox),Df=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:l=1,readOnly:u,space:d=3,...f}=t,p=lr(n);return ow(p,o),c.jsxs(LZe,{"data-ui":"Select",children:[c.jsx(BZe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:we(s),$padding:we(a),$radius:we(l),$space:we(d),disabled:i||u,ref:p,children:r}),c.jsx(NZe,{padding:a,children:c.jsx(N,{size:s,children:c.jsx(Pl,{})})})]})}),zZe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function VZe(){return zZe}function HZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return ft(n,e.$space,o=>({gridGap:ye(r[o])}))}const UZe=O(B)(VZe,HZe),oe=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return c.jsx(UZe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:we(o),forwardedAs:r,ref:n})});var wW=Object.freeze,WZe=Object.defineProperty,mp=(e,t)=>wW(WZe(e,"raw",{value:wW(t||e.slice())})),CW,_W,SW,EW,kW,jW,TW;function YZe(){return he(CW||(CW=mp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function qZe(){return he(_W||(_W=mp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function GZe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return he(SW||(SW=mp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ye(r.switch.width),ye(r.switch.height),ye(r.switch.height/2),Sc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function KZe(e){const{theme:t}=e,{input:n}=t.sanity;return he(EW||(EW=mp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ye(n.switch.width),ye(n.switch.height),ye(n.switch.height/2))}function ZZe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,l=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return he(TW||(TW=mp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ye(s),ye(s),ye(a),ye(a),ye(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&he(kW||(kW=mp([`
      transform: translate3d(`,`px, 0, 0);
    `])),l),t&&he(jW||(jW=mp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const XZe=O.span(YZe),QZe=O.input(qZe),JZe=O.span(GZe),eXe=O.span(KZe),tXe=O.span(ZZe),fxe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:l,...u}=t,d=lr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),c.jsxs(XZe,{className:o,"data-ui":"Switch",style:l,children:[c.jsx(QZe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),c.jsxs(JZe,{"aria-hidden":!0,"data-name":"representation",children:[c.jsx(eXe,{}),c.jsx(tXe,{$checked:r,$indeterminate:s})]})]})});var AW=Object.freeze,nXe=Object.defineProperty,rXe=(e,t)=>AW(nXe(e,"raw",{value:AW(t||e.slice())})),DW;const oXe=O.span(qbe),iXe=O.span(DW||(DW=rXe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),sXe=O.textarea(rL,Gbe,Kbe),aXe=O.div(Ku,Zbe),hxe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:l=1,weight:u,...d}=t,f=lr(n),p=c0();return ow(f,o),c.jsx(oXe,{"data-ui":"TextArea",children:c.jsxs(iXe,{children:[c.jsx(sXe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:we(s),$padding:we(a),$scheme:p.scheme,$space:we(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),c.jsx(aXe,{$radius:we(l),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var IW=Object.freeze,lXe=Object.defineProperty,f0=(e,t)=>IW(lXe(e,"raw",{value:IW(t||e.slice())})),PW,OW,$W,RW,MW,FW;const cXe={zIndex:2},uXe=O(ne).attrs({forwardedAs:"span"})(qbe),dXe=O.span(PW||(PW=f0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),fXe=O(ne).attrs({forwardedAs:"span"})(OW||(OW=f0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),hXe=O(ne).attrs({forwardedAs:"span"})($W||($W=f0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),pXe=O.input(rL,Gbe,Kbe),mXe=O.span(Ku,Zbe),gXe=O(B)(RW||(RW=f0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),vXe=O(B)(MW||(MW=f0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),yXe=O(ne)(FW||(FW=f0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),bXe=O(le)({"&:not([hidden])":{display:"block"}}),Kr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:l,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:y,type:x="text",weight:b,...w}=t,C=lr(n),_=c0(),S=we(s),E=we(d),j=we(p),k=we(v),T=!!o,A=!!a,D=!!l,I=!!g,P=!!f;ow(C,y);const R=h.useCallback(F=>{F.preventDefault(),F.stopPropagation()},[]),$=h.useCallback(F=>{var G;F.preventDefault(),F.stopPropagation(),u&&u(),(G=C.current)==null||G.focus()},[u,C]),U=h.useMemo(()=>f&&c.jsx(fXe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:f})}),[f,j]),L=h.useMemo(()=>c.jsxs(mXe,{$hasPrefix:P,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&c.jsx(gXe,{padding:E,children:c.jsxs(N,{size:S,children:[h.isValidElement(a)&&a,sr.isValidElementType(a)&&h.createElement(a)]})}),!T&&l&&c.jsx(vXe,{padding:E,children:c.jsxs(N,{size:S,children:[h.isValidElement(l)&&l,sr.isValidElementType(l)&&h.createElement(l)]})})]}),[r,S,a,l,E,j,_,T,P,I]),W=h.useMemo(()=>E.map(F=>F===0?0:F===1||F===2?1:F-2),[E]),Y=h.useMemo(()=>E.map(F=>F===0||F===1?0:F===2?1:F-1),[E]),V=h.useMemo(()=>typeof o=="object"?o:lf,[o]),H=h.useMemo(()=>!i&&!m&&o&&c.jsx(yXe,{forwardedAs:"span",padding:W,style:cXe,tone:y?"critical":"inherit",children:c.jsx(bXe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:ia,mode:"bleed",padding:Y,radius:j,...V,onClick:$,onMouseDown:R})}),[o,W,Y,V,y,i,S,$,R,j,m]),Q=h.useMemo(()=>g&&c.jsx(hXe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:c.jsx("span",{children:g})}),[j,g]);return c.jsxs(uXe,{"data-ui":"TextInput",tone:_.tone,children:[U,c.jsxs(dXe,{children:[c.jsx(pXe,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:b,disabled:i,readOnly:m,ref:C,type:x}),L,H]}),Q]})});function V$(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const xXe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var LW=Object.freeze,wXe=Object.defineProperty,cL=(e,t)=>LW(wXe(e,"raw",{value:LW(t||e.slice())})),BW,NW,zW;const CXe=O.div(BW||(BW=cL([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),_Xe=O.path(NW||(NW=cL([`
  fill: var(--card-shadow-outline-color);
`]))),SXe=O.path(zW||(zW=cL([`
  fill: var(--card-bg-color);
`]))),EXe=h.forwardRef(function(t,n){const{...r}=t;return c.jsx(CXe,{"data-ui":"Tooltip__arrow",...r,ref:n,children:c.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[c.jsx(_Xe,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),c.jsx(SXe,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),H$=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Xt[H$]=Xt[H$]||h.createContext(null);const pxe=Xt[H$];function mxe(){return h.useContext(pxe)}function kXe(e){const{children:t,delay:n}=e,[r,o]=V$(!1),[i,s]=V$(null);if(mxe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const l=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:l,closeDelay:u}),[u,r,l,i,o,s]);return c.jsx(pxe.Provider,{value:d,children:t})}var VW=Object.freeze,jXe=Object.defineProperty,TXe=(e,t)=>VW(jXe(e,"raw",{value:VW(t||e.slice())})),HW;const AXe=O(Zi)(HW||(HW=TXe([`
  pointer-events: none;
`]))),bt=h.forwardRef(function(t,n){var r,o,i,s,a;const l=Yf(),u=ks(),{boundaryElement:d=l==null?void 0:l.element,children:f,content:p,disabled:m,fallbackPlacements:v=(o=t.fallbackPlacements)!=null?o:xXe[(r=t.placement)!=null?r:"bottom"],padding:g,placement:y="bottom",portal:x,scheme:b,shadow:w=2,zOffset:C=(i=u.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:_,...S}=t,E=we(v),j=lr(n),[k,T]=h.useState(null),A=h.useRef(null),D="viewport",I=h.useMemo(()=>{const _e=[];return _e.push(Xve({boundary:d||void 0,fallbackPlacements:E,padding:4,rootBoundary:D,mainAxis:!1})),_e.push(Qve({mainAxis:3})),_e.push(xBe({apply(me){let{availableWidth:We,availableHeight:Ge,elements:$e}=me;Object.assign($e.floating.style,{maxWidth:"".concat(We-4*2,"px"),maxHeight:"".concat(Ge-4*2,"px")})}})),_e.push(Jve({boundary:d||void 0,rootBoundary:D,padding:4})),_e.push(dye({element:A,padding:2})),_e},[d,E]),{floatingStyles:P,placement:R,middlewareData:$,refs:U,update:L}=hye({middleware:I,placement:y,whileElementsMounted:a0e}),W=R&&Rbe[R.split("-")[0]],Y=(s=$.arrow)==null?void 0:s.x,V=(a=$.arrow)==null?void 0:a.y,H=h.useMemo(()=>{const _e={left:Y!==null?Y:void 0,top:V!==null?V:void 0,right:void 0,bottom:void 0};return W&&(_e[W]=-15),_e},[Y,V,W]),Q=h.useId(),[F,G]=V$(!1),z=mxe(),Z=F||(z==null?void 0:z.openTooltipId)===Q,K=z!==null,J=typeof _=="number"?_:(_==null?void 0:_.open)||0,X=typeof _=="number"?_:(_==null?void 0:_.close)||0,ee=K?z.openDelay:J,re=K?z.closeDelay:X,de=h.useCallback(_e=>{if(K)if(_e)z.setIsGroupActive(_e,ee),z.setOpenTooltipId(Q,ee);else{const We=re>200?re:200;z.setIsGroupActive(_e,We),z.setOpenTooltipId(null,re)}else G(_e,_e?ee:re)},[K,z,ee,Q,re,G]),ie=h.useCallback(()=>de(!1),[de]),fe=h.useCallback(()=>de(!0),[de]),xe=h.useCallback(()=>de(!0),[de]),be=h.useCallback(()=>de(!1),[de]);h.useEffect(()=>{if(!F)return;function _e(me){if(!k)return;k===me.target||me.target instanceof Node&&k.contains(me.target)||(de(!1),window.removeEventListener("mousemove",_e))}return window.addEventListener("mousemove",_e),()=>{window.removeEventListener("mousemove",_e)}},[F,k,de]),h.useEffect(()=>{m&&de(!1)},[m,de]),h.useEffect(()=>{p||de(!1)},[p,de]),h.useEffect(()=>U.setReference(k),[k,U]);const ve=h.useCallback(_e=>{A.current=_e,L()},[L]),qe=h.useCallback(_e=>{j.current=_e,U.setFloating(_e)},[j,U]),Le=f==null?void 0:f.ref,ot=h.useCallback(_e=>{typeof Le=="function"?Le(_e):Le&&(Le.current=_e),T(_e)},[Le]),Qe=h.useMemo(()=>f?h.cloneElement(f,{onBlur:ie,onFocus:fe,onMouseEnter:xe,onMouseLeave:be,ref:ot}):null,[f,ie,fe,xe,be,ot]);if(!Qe)return c.jsx(c.Fragment,{});if(m)return Qe;const lt=c.jsx(AXe,{"data-ui":"Tooltip",...S,ref:qe,style:P,zOffset:C,children:c.jsxs(ne,{"data-ui":"Tooltip__card","data-placement":R,padding:g,radius:2,scheme:b,shadow:w,children:[p,c.jsx(EXe,{ref:ve,style:H})]})});return c.jsxs(c.Fragment,{children:[Qe,Z&&c.jsx(c.Fragment,{children:x?c.jsx(cm,{__unstable_name:typeof x=="string"?x:void 0,children:lt}):lt})]})});var UW=Object.freeze,DXe=Object.defineProperty,Dj=(e,t)=>UW(DXe(e,"raw",{value:UW(t||e.slice())})),WW,YW,qW,GW;const IXe=O.div(WW||(WW=Dj([`
  line-height: 0;
`]))),PXe=O(B)(YW||(YW=Dj([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),OXe=Bk(qW||(qW=Dj([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),$Xe=O(Wk)(GW||(GW=Dj([`
  animation: `,` 500ms linear infinite;
`])),OXe);function RXe(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(l=>{l.key==="Enter"&&!GKe(l.currentTarget)&&s()},[s]);return c.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function MXe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const FXe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],LXe="bottom-start",BXe=["bottom-start","top-start"],NXe=(e,t)=>t?t.value:e,zXe=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,VXe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:l,id:u,listBox:d=lf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:y,openButton:x,options:b,padding:w=3,popover:C=lf,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=NXe,suffix:D,value:I,...P}=t,[R,$]=h.useReducer(MXe,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:U,focused:L,listFocused:W,query:Y,value:V}=R,H=h.useCallback(He=>{let{value:gt}=He;return c.jsx(ne,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:c.jsx(N,{size:a,textOverflow:"ellipsis",children:gt})})},[a,w]),Q=typeof k=="function"?k:H,F=typeof s=="function"?s:zXe,G=h.useRef(null),z=h.useRef(null),Z=h.useRef(null),K=h.useRef(null),J=h.useRef(!1),X=h.useRef(V),ee=h.useRef(I),re=h.useRef(!1),de=lr(n),ie="".concat(u,"-listbox"),fe=Array.isArray(b)?b:nw,xe=we(w),be=h.useMemo(()=>V!==null?fe.find(He=>He.value===V):void 0,[fe,V]),ve=h.useMemo(()=>fe.filter(He=>Y?F(Y,He):!0),[F,fe,Y]),qe=ve.length,Le=U?"".concat(u,"-option-").concat(U):void 0,ot=Y!==null&&f||L&&Y!==null,Qe=h.useCallback(He=>{setTimeout(()=>{if(re.current)return;const gt=(j||[]).concat(G.current?[G.current]:[],z.current?[z.current]:[]);let Qn=!1;if(document.activeElement){for(const gn of gt)if(gn===document.activeElement||gn.contains(document.activeElement)){Qn=!0;break}}Qn===!1&&($({type:"root/blur"}),re.current=!1,g&&g(null),p&&p(He))},0)},[p,g,j]),lt=h.useCallback(He=>{const gt=K.current,Qn=He.target instanceof HTMLElement?He.target:null,gn=(gt==null?void 0:gt.contains(Qn))||!1;gn!==J.current&&(J.current=gn,$({type:"root/setListFocused",listFocused:gn}))},[]),_e=h.useCallback(He=>{var gt;$({type:"value/change",value:He}),re.current=!1,y&&y(He),X.current=He,m&&m(He),g&&g(null),(gt=Z.current)==null||gt.focus()},[m,y,g]),me=h.useCallback(He=>{var gt,Qn;if(He.key==="ArrowDown"){if(He.preventDefault(),!qe)return;const ho=ve.find(Nl=>Nl.value===U),ns=ho?ve.indexOf(ho):-1,Ds=ve[(ns+1)%qe];Ds&&$({type:"root/setActiveValue",value:Ds.value,listFocused:!0});return}if(He.key==="ArrowUp"){if(He.preventDefault(),!qe)return;const ho=ve.find(Nl=>Nl.value===U),ns=ho?ve.indexOf(ho):-1,Ds=ve[ns===-1?qe-1:(qe+ns-1)%qe];Ds&&$({type:"root/setActiveValue",value:Ds.value,listFocused:!0});return}if(He.key==="Escape"){$({type:"root/escape"}),re.current=!1,g&&g(null),(gt=Z.current)==null||gt.focus();return}const gn=He.target,oi=K.current;if((oi===gn||oi!=null&&oi.contains(gn))&&!FXe.includes(He.key)){(Qn=Z.current)==null||Qn.focus();return}},[U,ve,qe,g]),We=h.useCallback(He=>{const gt=He.currentTarget.value;$({type:"input/change",query:gt}),g&&g(gt)},[g]),Ge=h.useCallback(He=>{L||($({type:"input/focus"}),v&&v(He))},[L,v]),$e=h.useCallback(()=>{re.current=!0},[]),xt=h.useCallback(()=>{re.current=!1},[]),Tt=h.useCallback(()=>{var He;$({type:"root/clear"}),X.current="",m&&m(""),g&&g(null),(He=Z.current)==null||He.focus()},[m,g]),Et=h.useCallback(()=>{$({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==ee.current){ee.current=I,I!==void 0&&($({type:"value/change",value:I}),X.current=I);return}I!==X.current&&(X.current=I||null,$({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!L&&X.current&&$({type:"root/setActiveValue",value:X.current})},[L]),h.useEffect(()=>{const He=K.current;if(!He)return;const gt=ve.find(Qn=>Qn.value===U);if(gt){const Qn=ve.indexOf(gt),gn=He.childNodes[Qn];if(gn){if(QKe(gn))return;Nb(gn)}}},[U,ve]);const Kt=h.useCallback(He=>{Z.current=He,de.current=He},[de]),Ai=h.useMemo(()=>{if(!f&&!i&&V)return{"aria-label":"Clear",onFocus:Et}},[i,Et,f,V]),ts=h.useMemo(()=>xe.map(He=>He===0?0:He===1||He===2?1:He-2),[xe]),As=h.useMemo(()=>xe.map(He=>Math.max(He-1,0)),[xe]),Ut=h.useMemo(()=>typeof x=="object"?x:lf,[x]),Hr=h.useCallback(He=>{$({type:"root/open",query:V?A(V,be):""}),Ut.onClick&&Ut.onClick(He),B$(()=>{var gt;return(gt=Z.current)==null?void 0:gt.focus()})},[be,Ut,A,V]),Bl=h.useMemo(()=>!i&&!E&&x?c.jsx(B,{"aria-hidden":ot,padding:ts,children:c.jsx(le,{"aria-label":"Open",disabled:ot,fontSize:a,icon:Il,mode:"bleed",padding:As,...Ut,onClick:Hr})}):void 0,[i,ot,a,Hr,x,ts,As,Ut,E]),Qa=h.useMemo(()=>Y===null?V!==null?A(V,be):"":Y,[be,Y,A,V]),ri=c.jsx(Kr,{...P,"aria-activedescendant":Le,"aria-autocomplete":"list","aria-expanded":ot,"aria-owns":ie,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:Ai,customValidity:o,disabled:i,fontSize:a,icon:l,iconRight:f&&$Xe,id:u,inputMode:"search",onChange:We,onClear:Tt,onFocus:Ge,padding:xe,prefix:_,radius:S,readOnly:E,ref:Kt,role:"combobox",spellCheck:!1,suffix:D||Bl,value:Qa}),Rn=h.useCallback(He=>{var gt;He.key==="Tab"&&W&&((gt=Z.current)==null||gt.focus())},[W]),$r=h.useMemo(()=>ve.length===0?null:c.jsx(PXe,{"data-ui":"AutoComplete__results",onKeyDown:Rn,padding:1,...d,tabIndex:-1,children:c.jsx(oe,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ie,ref:K,role:"listbox",space:1,children:ve.map(He=>{const gt=U!==null?He.value===U:be===He;return c.jsx(RXe,{id:"".concat(u,"-option-").concat(He.value),onSelect:_e,selected:gt,value:He.value,children:h.cloneElement(Q(He),{disabled:f,selected:gt,tabIndex:W&&gt?0:-1})},He.value)})})}),[U,be,ve,_e,Rn,u,d,ie,W,f,Q]),Qr=h.useMemo(()=>T?T({content:$r,hidden:!ot,inputElement:Z.current,onMouseEnter:$e,onMouseLeave:xt},z):qe===0?null:c.jsx(fn,{arrow:!1,constrainSize:!0,content:$r,fallbackPlacements:BXe,matchReferenceWidth:!0,onMouseEnter:$e,onMouseLeave:xt,open:ot,overflow:"auto",placement:LXe,portal:!0,radius:S,ref:z,referenceElement:Z.current,...C}),[$r,ot,qe,$e,xt,C,S,T]);return c.jsxs(IXe,{"data-ui":"Autocomplete",onBlur:Qe,onFocus:lt,onKeyDown:me,ref:G,children:[ri,Qr]})}),uL=VXe;var KW=Object.freeze,HXe=Object.defineProperty,gxe=(e,t)=>KW(HXe(e,"raw",{value:KW(t||e.slice())})),ZW,XW;const UXe=O.ol(ZW||(ZW=gxe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),WXe=O(le)(XW||(XW=gxe([`
  appearance: none;
  margin: -4px;
`]))),dL=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,l=we(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),y=h.useCallback(()=>d(!0),[]);Nr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),b=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),c.jsx(fn,{constrainSize:!0,content:c.jsx(oe,{as:"ol",overflow:"auto",padding:l,space:l,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:c.jsx(WXe,{fontSize:1,mode:"bleed",onClick:u?g:y,padding:1,ref:p,selected:u,text:""})},"button"),...x.slice(w-_)]}return x},[g,y,o,u,x,l]);return c.jsx(UXe,{"data-ui":"Breadcrumbs",...a,ref:n,children:b.map((w,C)=>c.jsxs(h.Fragment,{children:[C>0&&c.jsx(B,{"aria-hidden":!0,as:"li",paddingX:l,children:i||c.jsx(N,{muted:!0,children:"/"})}),c.jsx(B,{as:"li",children:w})]},C))})});function YXe(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function qXe(e){const{theme:t}=e,{media:n}=t.sanity;return ft(n,e.$position,r=>({"&&":{position:r}}))}const U$=Symbol.for("@sanity/ui/context/dialog");Xt[U$]=Xt[U$]||h.createContext({version:0});const vxe=Xt[U$];function GXe(){return h.useContext(vxe)}var QW=Object.freeze,KXe=Object.defineProperty,h0=(e,t)=>QW(KXe(e,"raw",{value:QW(t||e.slice())})),JW,eY,tY,nY,rY,oY;function W$(e,t,n){return!e||!t?!0:N$(e,n)||N$(t,n)}const ZXe=O(Zi)(Xbe,YXe,qXe),XXe=O(ta)(JW||(JW=h0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),QXe=O(ne)(eY||(eY=h0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),JXe=O(q)(tY||(tY=h0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),eQe=O(ne)(nY||(nY=h0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),tQe=O(B)(rY||(rY=h0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),nQe=O(B)(oY||(oY=h0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),rQe=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:l,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:y,width:x}=t,b=Tj(),w=m?((r=b.elements)==null?void 0:r[m])||null:b.element,C=Yf().element,_=we(v),S=we(y),E=we(x),j=lr(n),[k,T]=h.useState(null),A=h.useRef(null),D=Dc(),{isTopLayer:I}=D,P="".concat(d,"_label"),R=!!p&&i===!1,$=!!u||R;h.useEffect(()=>{o&&j.current&&Nb(j.current)},[o,j]),Es(h.useCallback(W=>{if(!I||!p)return;const Y=document.activeElement;Y&&!W$(C,w,Y)||W.key==="Escape"&&(W.preventDefault(),W.stopPropagation(),p())},[C,I,p,w])),Nr(h.useCallback(W=>{if(!I||!f)return;const Y=W.target;Y&&!W$(C,w,Y)||f()},[C,I,f,w]),[k]);const U=h.useCallback(W=>{T(W),j.current=W},[j]),L=h.useCallback(W=>{A.current=W,typeof a=="function"?a(W):a&&(a.current=W)},[a]);return c.jsx(XXe,{"data-ui":"DialogCard",width:E,children:c.jsx(QXe,{radius:_,ref:U,scheme:g,shadow:S,children:c.jsxs(JXe,{direction:"column",children:[$&&c.jsx(eQe,{children:c.jsxs(q,{children:[c.jsx(B,{flex:1,padding:4,children:u&&c.jsx(N,{id:P,weight:"semibold",children:u})}),R&&c.jsx(B,{padding:2,children:c.jsx(le,{"aria-label":"Close dialog",disabled:!p,icon:ia,mode:"bleed",onClick:p,padding:3})})]})}),c.jsx(tQe,{flex:1,ref:L,tabIndex:-1,children:s}),l&&c.jsx(nQe,{children:l})]})})})}),ca=h.forwardRef(function(t,n){var r,o;const i=GXe(),s=ks(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:l=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:y,onClickOutside:x,onClose:b,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=Tj(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=Yf().element,P=we(u),R=we(C),$=we(S),U=we(j),L=we(k),W=h.useRef(null),Y=h.useRef(null),V=h.useRef(null),H=h.useRef(null),Q=h.useCallback(Z=>{w==null||w(Z);const K=Z.target,J=V.current;if(J&&K===W.current){sxe(J);return}if(J&&K===Y.current){Nb(J);return}Ic(Z.target)&&(H.current=Z.target)},[w]),F="".concat(g,"_label"),G=h.useRef(),z=h.useCallback(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{const Z=document.activeElement;if(Z&&!W$(I,D,Z)){const K=H.current;if(!K||!document.body.contains(K)){const J=V.current;J&&Nb(J);return}K.focus()}},0)},[I,D]);return c.jsx(cm,{__unstable_name:_,children:c.jsxs(ZXe,{...T,$padding:R,$position:$,"aria-labelledby":F,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:y,onClick:z,onFocus:Q,ref:n,role:"dialog",zOffset:L,children:[c.jsx("div",{ref:W,tabIndex:0}),c.jsx(rQe,{__unstable_autoFocus:a,__unstable_hideCloseButton:l,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:b,portal:_,radius:P,ref:V,scheme:E,shadow:d,width:U,children:f}),c.jsx("div",{ref:Y,tabIndex:0})]})})});function oQe(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return c.jsx(vxe.Provider,{value:o,children:t})}var iY=Object.freeze,iQe=Object.defineProperty,yxe=(e,t)=>iY(iQe(e,"raw",{value:iY(t||e.slice())})),sY,aY;const sQe=O.kbd(sY||(sY=yxe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),aQe=O(R$)(aY||(aY=yxe([`
  &:not([hidden]) {
    display: block;
  }
`]))),fL=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...l}=t,u=we(a);return!o||o.length===0?c.jsx(c.Fragment,{}):c.jsx(sQe,{"data-ui":"Hotkeys",...l,ref:n,children:c.jsx(Qt,{as:"span",space:u,children:o.map((d,f)=>c.jsx(aQe,{fontSize:r,padding:i,radius:s,children:d},f))})})}),Y$=Symbol.for("@sanity/ui/context/menu");Xt[Y$]=Xt[Y$]||h.createContext(null);const bxe=Xt[Y$];function lQe(e){return iL(e)&&e.getAttribute("data-disabled")!=="true"||sL(e)&&!e.disabled}function Fm(e){return e.filter(lQe)}function cQe(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const lY=[];function uQe(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,cQe(e,o));const r=(o,i)=>{const s=n.get(o)||lY,a=n.get(i)||lY,l=Math.max(s.length,a.length);for(let u=0;u<l;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function dQe(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,l]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{l(x),u.current=x},[]),m=h.useCallback((x,b)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),uQe(i,o.current)),b){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=Fm(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=Fm(o.current),w=b[b.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=Fm(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_-1+w)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=Fm(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_+1)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const b=x.currentTarget,w=o.current.indexOf(b);p(w)},[p]),y=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const b=u.current;if(b===-1){if(r==="first"){const _=Fm(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=Fm(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[b]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var cY=Object.freeze,fQe=Object.defineProperty,hQe=(e,t)=>cY(fQe(e,"raw",{value:cY(t||e.slice())})),uY;const pQe=O(B)(uY||(uY=hQe([`
  outline: none;
  overflow: auto;
`]))),Ht=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:l,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...y}=t,x=lr(n),{isTopLayer:b}=Dc(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=dQe({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),Nr(h.useCallback(I=>b&&s&&s(I),[b,s]),[k]),Es(h.useCallback(I=>{b&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[b,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:l,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,l,m]);return c.jsx(bxe.Provider,{value:D,children:c.jsx(pQe,{"data-ui":"Menu",...y,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:c.jsx(oe,{space:g,children:r})})})}),nn=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:l,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[y,x]=h.useState(!1),[b,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(y);h.useEffect(()=>{u&&y&&!j.current&&u()},[u,y]),h.useEffect(()=>{l&&!y&&j.current&&l()},[l,y]),h.useEffect(()=>{j.current=y},[y]);const k=h.useCallback(()=>{x(V=>!V),w(null)},[]),T=h.useCallback(V=>{if(V.key==="ArrowDown"||V.key==="Enter"||V.key===" "){V.preventDefault(),x(!0),w("first");return}if(V.key==="ArrowUp"){V.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(V=>{const H=V.target;if(H instanceof Node&&!(C&&(H===C||C.contains(H)))){for(const Q of S)if(H===Q||Q.contains(H))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(V=>{const H=V.relatedTarget;if(H instanceof Node){for(const Q of S)if(Q===H||Q.contains(H))return;x(!1)}},[S]),P=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),R=h.useCallback(V=>(E(H=>H.concat([V])),()=>{E(H=>H.filter(Q=>Q!==V))}),[]),$=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:P,originElement:C,registerElement:R,shouldFocus:b}),[C,A,D,P,s,I,R,b]),U=sr.isElement(a)?h.cloneElement(a,$):null,L=h.useCallback(V=>{typeof n=="function"?n(V):n&&(n.current=V),_(V)},[n]),W=h.useMemo(()=>sr.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":y,ref:L,selected:y}):null,[i,k,T,s,y,L]),Y=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return c.jsx(fn,{"data-ui":"MenuButton__popover",...Y,content:U,open:y,children:W||c.jsx(c.Fragment,{})})});var dY=Object.freeze,mQe=Object.defineProperty,gQe=(e,t)=>dY(mQe(e,"raw",{value:dY(t||e.slice())})),fY;const Dr=O.hr(fY||(fY=gQe([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var hY=Object.freeze,vQe=Object.defineProperty,xxe=(e,t)=>hY(vQe(e,"raw",{value:hY(t||e.slice())})),pY,mY;function yQe(){return he(pY||(pY=xxe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function bQe(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,l=a?a[r]||a.default:s[r]||s.default;return he(mY||(mY=xxe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Bt(i,l.enabled),Bt(i,l.disabled),Bt(i,l.pressed),Bt(i,l.selected),Bt(i,l.hovered),Bt(i,l.pressed),Bt(i,l.disabled),Bt(i,l.pressed),Bt(i,l.selected),Bt(i,l.hovered),Bt(i,l.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const wxe=O(B)(Ku,yQe,bQe);function Cxe(){const e=h.useContext(bxe);if(!e)throw new Error("useMenu(): missing context value");if(!l0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function hL(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:l=2,space:u=3,text:d,tone:f="default",...p}=e,m=Cxe(),{activeElement:v,mount:g,onClickOutside:y,onEscape:x,onItemClick:b,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(Y=>{D(!1),w(Y),j(!0)},[w]),P=h.useCallback(Y=>{Y.key==="ArrowLeft"&&(Y.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),R=h.useCallback(Y=>{i&&i(Y),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),$=h.useCallback(()=>{j(!1),b&&b()},[b]),U=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const L=c.jsx(Ht,{onClickOutside:y,onEscape:x,onItemClick:$,onKeyDown:P,onMouseEnter:U,registerElement:C,shouldFocus:k.current,children:n}),W=h.useCallback(Y=>{const V=Y.currentTarget;if(document.activeElement===V&&Y.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return c.jsx(fn,{...a,content:L,"data-ui":"MenuGroup__popover",open:E,children:c.jsx(wxe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:we(l),$tone:f,onClick:R,onKeyDown:W,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:c.jsx(B,{padding:s,children:c.jsxs(q,{children:[o&&c.jsxs(N,{size:r,children:[h.isValidElement(o)&&o,sr.isValidElementType(o)&&h.createElement(o)]}),c.jsx(B,{flex:1,marginLeft:o?u:void 0,children:c.jsx(N,{size:r,textOverflow:"ellipsis",children:d})}),c.jsx(B,{marginLeft:u,children:c.jsx(N,{size:r,children:c.jsx(Yu,{})})})]})})})})}const Be=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:l,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x,pressed:b,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=Cxe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:P=k.onMouseLeave}=k,[R,$]=h.useState(null),U=!!T&&T===R;h.useEffect(()=>A(R,C),[A,R,C]);const L=lr(n),W=h.useCallback(H=>{i||(d&&d(H),D&&D())},[i,d,D]),Y=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x}),[f,p,m,v,g,y,x]),V=h.useCallback(H=>{L.current=H,$(H)},[L]);return c.jsxs(wxe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&b,"data-pressed":r!=="button"&&b?"":void 0,"data-selected":U?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:we(w),$padding:we(0),$tone:E,disabled:i,onClick:W,onMouseEnter:I,onMouseLeave:P,ref:V,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(l||S||u)&&c.jsx(B,{as:"span",...Y,children:c.jsxs(q,{as:"span",children:[l&&c.jsxs(N,{size:s,children:[h.isValidElement(l)&&l,sr.isValidElementType(l)&&h.createElement(l)]}),S&&c.jsx(B,{flex:1,marginLeft:l?_:void 0,marginRight:u?_:void 0,children:c.jsx(N,{size:s,textOverflow:"ellipsis",children:S})}),a&&c.jsx(B,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:c.jsx(fL,{fontSize:s,keys:a})}),u&&c.jsxs(N,{size:s,children:[h.isValidElement(u)&&u,sr.isValidElementType(u)&&h.createElement(u)]})]})}),o&&c.jsx(B,{as:"span",...Y,children:o})]})});var gY=Object.freeze,xQe=Object.defineProperty,h5=(e,t)=>gY(xQe(e,"raw",{value:gY(t||e.slice())})),vY,yY,bY,xY;const wQe=Bk(vY||(vY=h5([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),CQe=he(yY||(yY=h5([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),wQe),_Qe=he(xY||(xY=h5([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?CQe:he(bY||(bY=h5([`
            background-color: var(--card-skeleton-color-from);
          `])))}),SQe=O(B)(Ku,_Qe),p0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,l]=h.useState(!o);return h.useEffect(()=>{if(!o)return l(!0);const u=setTimeout(()=>{l(!0)},o);return()=>{clearTimeout(u)}},[o]),c.jsx(SQe,{...s,$animated:r,$radius:we(i),$visible:a,ref:n})}),Ij=O(p0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return ft(o,t,a=>{const l=i.sizes[a];return{height:l.lineHeight-l.ascenderHeight-l.descenderHeight}})}),xi=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return c.jsx(Ij,{...o,$size:i,ref:n,$style:"text"})}),p5=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return c.jsx(Ij,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return c.jsx(Ij,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return c.jsx(Ij,{...o,$size:i,ref:n,$style:"code"})});var wY=Object.freeze,EQe=Object.defineProperty,kQe=(e,t)=>wY(EQe(e,"raw",{value:wY(t||e.slice())})),CY;const jQe=O(le)(CY||(CY=kQe([`
  max-width: 100%;
`]))),_xe=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:l,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),y=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=lr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const b=w=>{m.current=w,x.current=w};return c.jsx(jQe,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:l,onBlur:g,onFocus:y,padding:d,ref:b,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var _Y=Object.freeze,TQe=Object.defineProperty,AQe=(e,t)=>_Y(TQe(e,"raw",{value:_Y(t||e.slice())})),SY;function DQe(e){return!!e}const IQe=O(Qt)(SY||(SY=AQe([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),Sxe=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),l=h.useMemo(()=>r.filter(DQe),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=l.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return c.jsx(IQe,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:l})}),PQe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return c.jsx(B,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var EY=Object.freeze,OQe=Object.defineProperty,Exe=(e,t)=>EY(OQe(e,"raw",{value:EY(t||e.slice())})),kY,jY;const $Qe={error:"critical",warning:"caution",success:"positive",info:"primary"},RQe={error:"alert",warning:"alert",success:"alert",info:"alert"},MQe=O(ne)(kY||(kY=Exe([`
  pointer-events: all;
`]))),FQe=O(q)(jY||(jY=Exe([`
  overflow-x: auto;
`])));function LQe(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?$Qe[i]:"default",l=i?RQe[i]:"status";return c.jsx(MQe,{"data-ui":"Toast",role:l,...s,marginTop:3,radius:2,shadow:2,tone:a,children:c.jsxs(q,{align:"flex-start",children:[c.jsx(FQe,{flex:1,padding:3,children:c.jsxs(oe,{space:3,children:[o&&c.jsx(N,{weight:"semibold",children:o}),n&&c.jsx(N,{muted:!0,size:1,children:n})]})}),t&&c.jsx(B,{padding:1,children:c.jsx(le,{as:"button",icon:ia,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function BQe(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const q$=Symbol.for("@sanity/ui/context/toast");Xt[q$]=Xt[q$]||h.createContext(null);const kxe=Xt[q$];var TY=Object.freeze,NQe=Object.defineProperty,jxe=(e,t)=>TY(NQe(e,"raw",{value:TY(t||e.slice())})),AY,DY;const zQe=O(Zi)(AY||(AY=jxe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),VQe=O.div(DY||(DY=jxe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let HQe=0;function pL(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),l=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(HQe++),g=p.duration||5e3,y=()=>{var x;const b=(x=l.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),b!==void 0&&(clearTimeout(b),delete l.current[v])};return m(x=>x.filter(b=>b.id!==v).concat([{dismiss:y,id:v,params:{...p,duration:g}}])),l.current[v]&&(clearTimeout(l.current[v].timeoutId),delete l.current[v]),l.current[v]={timeoutId:setTimeout(y,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(l.current))clearTimeout(p);l.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=BQe();return c.jsxs(kxe.Provider,{value:d,children:[t,f&&c.jsx(zQe,{"data-ui":"ToastProvider",zOffset:i,children:c.jsx(VQe,{children:c.jsx(B,{padding:n,paddingX:r,paddingY:o,children:c.jsx(eL,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return c.jsx(Sj.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:c.jsx(LQe,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Ei(){const e=h.useContext(kxe);if(!e)throw new Error("useToast(): missing context value");if(!l0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function UQe(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function WQe(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const l=i[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function IY(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const G$=Symbol.for("@sanity/ui/context/tree");Xt[G$]=Xt[G$]||h.createContext(null);const m5=Xt[G$],Txe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=lr(n),[l,u]=h.useState(null),d=h.useRef(l),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),y=h.useRef(v);h.useEffect(()=>{d.current=l},[l]),h.useEffect(()=>{y.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),b=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:l||p[0]||null,level:0,path:f,registerItem:x,setExpanded:b,setFocusedElement:u,space:o,state:v}),[l,p,f,x,b,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=WQe(y.current,p,d.current);j&&(IY(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=UQe(y.current,p,d.current);j&&(IY(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=y.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&y.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=y.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),c.jsx(m5.Provider,{value:w,children:c.jsx(oe,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));Txe.displayName="Tree";var PY=Object.freeze,YQe=Object.defineProperty,mL=(e,t)=>PY(YQe(e,"raw",{value:PY(t||e.slice())})),OY,$Y,RY;function qQe(){return he(OY||(OY=mL([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function GQe(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return he($Y||($Y=mL([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected),Bt(r,s.enabled),Bt(r,s.pressed),Bt(r,s.hovered),Bt(r,s.selected))}function KQe(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return he(RY||(RY=mL([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ye(r[2]*t))}function Axe(){const e=h.useContext(m5);if(!e)throw new Error("Tree: missing context value");return e}const MY=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=Axe();return c.jsx(oe,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var FY=Object.freeze,ZQe=Object.defineProperty,XQe=(e,t)=>FY(ZQe(e,"raw",{value:FY(t||e.slice())})),LY;const BY=h.memo(O.li(qQe,GQe)),NY=O(B).attrs({forwardedAs:"a"})(KQe),QQe=O(N)(LY||(LY=XQe([`
  & > svg {
    transition: transform 100ms;
  }
`]))),zb=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:l,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...y}=t,x=h.useRef(null),b=h.useRef(null),w=Axe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,P=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,R=w.focusedElement&&w.focusedElement===x.current?0:-1,$=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),U=h.useCallback(Y=>{d&&d(Y);const V=Y.target;V instanceof HTMLElement&&(V.getAttribute("data-ui")==="TreeItem"||V.closest('[data-ui="TreeItem__box"]'))&&(Y.stopPropagation(),S(A,!P),E(x.current))},[P,A,d,S,E]),L=h.useCallback(Y=>{if(I&&Y.key==="Enter"){const V=b.current||x.current;V==null||V.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),P,p)},[P,T,_,p]);const W=c.jsxs(q,{padding:f,children:[c.jsxs(B,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&c.jsx(N,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&c.jsx(QQe,{muted:u,size:o,weight:g,children:c.jsx(qk,{style:{transform:P?"rotate(90deg)":void 0}})})]}),c.jsx(B,{flex:1,children:c.jsx(N,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?c.jsxs(BY,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:U,ref:x,role:"none",children:[c.jsx(NY,{$level:w.level,"aria-expanded":P,as:l,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:R,children:W}),c.jsx(m5.Provider,{value:$,children:n&&c.jsx(MY,{hidden:!P,children:n})})]}):c.jsxs(BY,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...y,"aria-expanded":P,onClick:U,onKeyDown:L,ref:x,role:"treeitem",tabIndex:R,children:[c.jsx(NY,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:W}),c.jsx(m5.Provider,{value:$,children:n&&c.jsx(MY,{expanded:P,children:n})})]})});var K$=function(e,t){return K$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},K$(e,t)};function ua(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");K$(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Z$=function(){return Z$=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Z$.apply(this,arguments)};function JQe(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function l(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Dxe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $p(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ba(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Cl(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Yg(e){return this instanceof Yg?(this.v=e,this):new Yg(e)}function eJe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{l(r[p](m))}catch(v){f(i[0][3],v)}}function l(p){p.value instanceof Yg?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function tJe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $p=="function"?$p(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},s)}}function Ft(e){return typeof e=="function"}function gL(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rI=gL(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function g5(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Rp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=$p(s),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Ft(d))try{d()}catch(g){i=g instanceof rI?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=$p(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{zY(v)}catch(g){i=i??[],g instanceof rI?i=Cl(Cl([],Ba(i)),Ba(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new rI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)zY(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&g5(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&g5(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ixe=Rp.EMPTY;function Pxe(e){return e instanceof Rp||e&&"closed"in e&&Ft(e.remove)&&Ft(e.add)&&Ft(e.unsubscribe)}function zY(e){Ft(e)?e():e.unsubscribe()}var Oxe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X$={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=X$.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Cl([e,t],Ba(n))):setTimeout.apply(void 0,Cl([e,t],Ba(n)))},clearTimeout:function(e){var t=X$.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function $xe(e){X$.setTimeout(function(){throw e})}function If(){}function E2(e){e()}var vL=function(e){ua(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Pxe(n)&&n.add(r)):r.destination=iJe,r}return t.create=function(n,r,o){return new Vb(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Rp),nJe=Function.prototype.bind;function oI(e,t){return nJe.call(e,t)}var rJe=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){NC(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){NC(r)}else NC(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){NC(n)}},e}(),Vb=function(e){ua(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Ft(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&Oxe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&oI(n.next,a),error:n.error&&oI(n.error,a),complete:n.complete&&oI(n.complete,a)}):s=n}return i.destination=new rJe(s),i}return t}(vL);function NC(e){$xe(e)}function oJe(e){throw e}var iJe={closed:!0,next:If,error:oJe,complete:If},yL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Zu(e){return e}function sJe(e){return e.length===0?Zu:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var dt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=lJe(t)?t:new Vb(t,n,r);return E2(function(){var s=o,a=s.operator,l=s.source;i.add(a?a.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=VY(n),new n(function(o,i){var s=new Vb({next:function(a){try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[yL]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return sJe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=VY(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function VY(e){var t;return(t=e??Oxe.Promise)!==null&&t!==void 0?t:Promise}function aJe(e){return e&&Ft(e.next)&&Ft(e.error)&&Ft(e.complete)}function lJe(e){return e&&e instanceof vL||aJe(e)&&Pxe(e)}function Rxe(e){return Ft(e==null?void 0:e.lift)}function hn(e){return function(t){if(Rxe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function zt(e,t,n,r,o){return new Mxe(e,t,n,r,o)}var Mxe=function(e){ua(t,e);function t(n,r,o,i,s,a){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,l._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(vL);function dl(){return hn(function(e,t){var n=null;e._refCount++;var r=zt(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var cJe=function(e){ua(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,Rxe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Rp;var o=this.getSubject();r.add(this.source.subscribe(zt(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Rp.EMPTY)}return r},t.prototype.refCount=function(){return dl()(this)},t}(dt),uJe=gL(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Tr=function(e){ua(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new HY(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new uJe},t.prototype.next=function(n){var r=this;E2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=$p(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;E2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;E2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?Ixe:(this.currentObservers=null,a.push(n),new Rp(function(){r.currentObservers=null,g5(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new dt;return n.source=this,n},t.create=function(n,r){return new HY(n,r)},t}(dt),HY=function(e){ua(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Ixe},t}(Tr),Pj=function(e){ua(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Tr),bL={now:function(){return(bL.delegate||Date).now()},delegate:void 0},Fxe=function(e){ua(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=bL);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),l=0;l<a.length&&!n.closed;l+=i?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var l=o.now(),u=0,d=1;d<i.length&&i[d]<=l;d+=2)u=d;u&&i.splice(0,u+1)}},t}(Tr),dJe=function(e){ua(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Rp),v5={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=v5.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Cl([e,t],Ba(n))):setInterval.apply(void 0,Cl([e,t],Ba(n)))},clearInterval:function(e){var t=v5.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Lxe=function(e){ua(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),v5.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&v5.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,g5(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(dJe),fJe=1,iI,Q$={};function UY(e){return e in Q$?(delete Q$[e],!0):!1}var Bxe={setImmediate:function(e){var t=fJe++;return Q$[t]=!0,iI||(iI=Promise.resolve()),iI.then(function(){return UY(t)&&e()}),t},clearImmediate:function(e){UY(e)}},hJe=Bxe.setImmediate,pJe=Bxe.clearImmediate,y5={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=y5.delegate;return((n==null?void 0:n.setImmediate)||hJe).apply(void 0,Cl([],Ba(e)))},clearImmediate:function(e){var t=y5.delegate;return((t==null?void 0:t.clearImmediate)||pJe)(e)},delegate:void 0},mJe=function(e){ua(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=y5.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(y5.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(Lxe),WY=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=bL.now,e}(),Nxe=function(e){ua(t,e);function t(n,r){r===void 0&&(r=WY.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(WY),gJe=function(e){ua(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(Nxe),vJe=new gJe(mJe),Ec=new Nxe(Lxe),yJe=Ec,Gn=new dt(function(e){return e.complete()});function bJe(e){return e?xJe(e):Gn}function xJe(e){return new dt(function(t){return e.schedule(function(){return t.complete()})})}function zxe(e){return e&&Ft(e.schedule)}function xL(e){return e[e.length-1]}function wL(e){return Ft(xL(e))?e.pop():void 0}function aw(e){return zxe(xL(e))?e.pop():void 0}function wJe(e,t){return typeof xL(e)=="number"?e.pop():t}var CL=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Vxe(e){return Ft(e==null?void 0:e.then)}function Hxe(e){return Ft(e[yL])}function Uxe(e){return Symbol.asyncIterator&&Ft(e==null?void 0:e[Symbol.asyncIterator])}function Wxe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function CJe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yxe=CJe();function qxe(e){return Ft(e==null?void 0:e[Yxe])}function Gxe(e){return eJe(this,arguments,function(){var n,r,o,i;return Dxe(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Yg(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,Yg(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Yg(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Kxe(e){return Ft(e==null?void 0:e.getReader)}function Sn(e){if(e instanceof dt)return e;if(e!=null){if(Hxe(e))return _Je(e);if(CL(e))return SJe(e);if(Vxe(e))return EJe(e);if(Uxe(e))return Zxe(e);if(qxe(e))return kJe(e);if(Kxe(e))return jJe(e)}throw Wxe(e)}function _Je(e){return new dt(function(t){var n=e[yL]();if(Ft(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SJe(e){return new dt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function EJe(e){return new dt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,$xe)})}function kJe(e){return new dt(function(t){var n,r;try{for(var o=$p(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function Zxe(e){return new dt(function(t){TJe(e,t).catch(function(n){return t.error(n)})})}function jJe(e){return Zxe(Gxe(e))}function TJe(e,t){var n,r,o,i;return JQe(this,void 0,void 0,function(){var s,a;return Dxe(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=tJe(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function bu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Xxe(e,t){return t===void 0&&(t=0),hn(function(n,r){n.subscribe(zt(r,function(o){return bu(r,e,function(){return r.next(o)},t)},function(){return bu(r,e,function(){return r.complete()},t)},function(o){return bu(r,e,function(){return r.error(o)},t)}))})}function Qxe(e,t){return t===void 0&&(t=0),hn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function AJe(e,t){return Sn(e).pipe(Qxe(t),Xxe(t))}function DJe(e,t){return Sn(e).pipe(Qxe(t),Xxe(t))}function IJe(e,t){return new dt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function PJe(e,t){return new dt(function(n){var r;return bu(n,t,function(){r=e[Yxe](),bu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Ft(r==null?void 0:r.return)&&r.return()}})}function Jxe(e,t){if(!e)throw new Error("Iterable cannot be null");return new dt(function(n){bu(n,t,function(){var r=e[Symbol.asyncIterator]();bu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function OJe(e,t){return Jxe(Gxe(e),t)}function ewe(e,t){if(e!=null){if(Hxe(e))return AJe(e,t);if(CL(e))return IJe(e,t);if(Vxe(e))return DJe(e,t);if(Uxe(e))return Jxe(e,t);if(qxe(e))return PJe(e,t);if(Kxe(e))return OJe(e,t)}throw Wxe(e)}function wr(e,t){return t?ewe(e,t):Sn(e)}function Ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=aw(e);return wr(e,n)}function m0(e,t){var n=Ft(e)?e:function(){return e},r=function(o){return o.error(n())};return new dt(t?function(o){return t.schedule(r,0,o)}:r)}function $Je(e){return!!e&&(e instanceof dt||Ft(e.lift)&&Ft(e.subscribe))}var Oj=gL(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function go(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Oj)}})})}function RJe(e){return e instanceof Date&&!isNaN(e)}function ce(e,t){return hn(function(n,r){var o=0;n.subscribe(zt(r,function(i){r.next(e.call(t,i,o++))}))})}var MJe=Array.isArray;function FJe(e,t){return MJe(t)?e.apply(void 0,Cl([],Ba(t))):e(t)}function _L(e){return ce(function(t){return FJe(e,t)})}var LJe=Array.isArray,BJe=Object.getPrototypeOf,NJe=Object.prototype,zJe=Object.keys;function twe(e){if(e.length===1){var t=e[0];if(LJe(t))return{args:t,keys:null};if(VJe(t)){var n=zJe(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function VJe(e){return e&&typeof e=="object"&&BJe(e)===NJe}function nwe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Fo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=aw(e),r=wL(e),o=twe(e),i=o.args,s=o.keys;if(i.length===0)return wr([],n);var a=new dt(HJe(i,n,s?function(l){return nwe(s,l)}:Zu));return r?a.pipe(_L(r)):a}function HJe(e,t,n){return n===void 0&&(n=Zu),function(r){YY(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,l=function(d){YY(t,function(){var f=wr(e[d],t),p=!1;f.subscribe(zt(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)l(u)},r)}}function YY(e,t,n){e?bu(n,e,t):t()}function UJe(e,t,n,r,o,i,s,a){var l=[],u=0,d=0,f=!1,p=function(){f&&!l.length&&!u&&t.complete()},m=function(g){return u<r?v(g):l.push(g)},v=function(g){i&&t.next(g),u++;var y=!1;Sn(n(g,d++)).subscribe(zt(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=l.shift();s?bu(t,s,function(){return v(b)}):v(b)};l.length&&u<r;)x();p()}catch(b){t.error(b)}}))};return e.subscribe(zt(t,m,function(){f=!0,p()})),function(){a==null||a()}}function yt(e,t,n){return n===void 0&&(n=1/0),Ft(t)?yt(function(r,o){return ce(function(i,s){return t(r,i,o,s)})(Sn(e(r,o)))},n):(typeof t=="number"&&(n=t),hn(function(r,o){return UJe(r,o,e,n)}))}function $j(e){return e===void 0&&(e=1/0),yt(Zu,e)}function WJe(){return $j(1)}function co(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return WJe()(wr(e,aw(e)))}function So(e){return new dt(function(t){Sn(e()).subscribe(t)})}function YJe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wL(e),r=twe(e),o=r.args,i=r.keys,s=new dt(function(a){var l=o.length;if(!l){a.complete();return}for(var u=new Array(l),d=l,f=l,p=function(v){var g=!1;Sn(o[v]).subscribe(zt(a,function(y){g||(g=!0,f--),u[v]=y},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?nwe(i,u):u),a.complete())}))},m=0;m<l;m++)p(m)});return n?s.pipe(_L(n)):s}var qJe=["addListener","removeListener"],GJe=["addEventListener","removeEventListener"],KJe=["on","off"];function Yi(e,t,n,r){if(Ft(n)&&(r=n,n=void 0),r)return Yi(e,t,n).pipe(_L(r));var o=Ba(QJe(e)?GJe.map(function(a){return function(l){return e[a](t,l,n)}}):ZJe(e)?qJe.map(qY(e,t)):XJe(e)?KJe.map(qY(e,t)):[],2),i=o[0],s=o[1];if(!i&&CL(e))return yt(function(a){return Yi(a,t,n)})(Sn(e));if(!i)throw new TypeError("Invalid event target");return new dt(function(a){var l=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(l),function(){return s(l)}})}function qY(e,t){return function(n){return function(r){return e[n](t,r)}}}function ZJe(e){return Ft(e.addListener)&&Ft(e.removeListener)}function XJe(e){return Ft(e.on)&&Ft(e.off)}function QJe(e){return Ft(e.addEventListener)&&Ft(e.removeEventListener)}function JJe(e,t,n){return So(function(){return e()?t:n})}function wi(e,t,n){e===void 0&&(e=0),n===void 0&&(n=yJe);var r=-1;return t!=null&&(zxe(t)?n=t:r=t),new dt(function(o){var i=RJe(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function yn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=aw(e),r=wJe(e,1/0),o=e;return o.length?o.length===1?Sn(o[0]):$j(r)(wr(o,n)):Gn}var SL=new dt(If),eet=Array.isArray;function tet(e){return e.length===1&&eet(e[0])?e[0]:e}function net(e,t){return function(n,r){return!e.call(t,n,r)}}function ut(e,t){return hn(function(n,r){var o=0;n.subscribe(zt(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function rwe(e,t,n){return[ut(t,n)(Sn(e)),ut(net(t,n))(Sn(e))]}function ret(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=tet(e),e.length===1?Sn(e[0]):new dt(oet(e))}function oet(e){return function(t){for(var n=[],r=function(i){n.push(Sn(e[i]).subscribe(zt(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function iet(e,t){return new dt(function(n){var r=e(),o=t(r),i=o?Sn(o):Gn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function set(e){return hn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},l=function(){i=null,s&&n.complete()};t.subscribe(zt(n,function(u){r=!0,o=u,i||Sn(e(u)).subscribe(i=zt(n,a,l))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function aet(e,t){return t===void 0&&(t=Ec),set(function(){return wi(e,t)})}function Xn(e){return hn(function(t,n){var r=null,o=!1,i;r=t.subscribe(zt(n,void 0,void 0,function(s){i=Sn(e(s,Xn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function owe(e,t,n,r,o){return function(i,s){var a=n,l=t,u=0;i.subscribe(zt(s,function(d){var f=u++;l=a?e(l,d,f):(a=!0,d),r&&s.next(l)},o&&function(){a&&s.next(l),s.complete()}))}}function iwe(e,t){return hn(owe(e,t,arguments.length>=2,!1,!0))}var cet=function(e,t){return e.push(t),e};function swe(){return hn(function(e,t){iwe(cet,[])(e).subscribe(t)})}function J$(e,t){return Ft(t)?yt(e,t,1):yt(e,1)}function uet(e){return new dt(function(t){return e.subscribe(t)})}var det={connector:function(){return new Tr}};function fet(e,t){t===void 0&&(t=det);var n=t.connector;return hn(function(r,o){var i=n();Sn(e(uet(i))).subscribe(o),o.add(r.subscribe(i))})}function awe(e){return hn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(zt(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=zt(n,s,If),Sn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function lwe(e,t){return t===void 0&&(t=Ec),hn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function l(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(zt(r,function(u){i=u,s=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function cwe(e){return hn(function(t,n){var r=!1;t.subscribe(zt(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function ps(e){return e<=0?function(){return Gn}:hn(function(t,n){var r=0;t.subscribe(zt(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function het(){return hn(function(e,t){e.subscribe(zt(t,If))})}function EL(e){return ce(function(){return e})}function uwe(e,t){return t?function(n){return co(t.pipe(ps(1),het()),n.pipe(uwe(e)))}:yt(function(n,r){return Sn(e(n,r)).pipe(ps(1),EL(n))})}function pet(e,t){t===void 0&&(t=Ec);var n=wi(e,t);return uwe(function(){return n})}function met(e,t){return hn(function(n,r){var o=new Set;n.subscribe(zt(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&Sn(t).subscribe(zt(r,function(){return o.clear()},If))})}function Kn(e,t){return t===void 0&&(t=Zu),e=e??get,hn(function(n,r){var o,i=!0;n.subscribe(zt(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function get(e,t){return e===t}function dwe(e){return e===void 0&&(e=vet),hn(function(t,n){var r=!1;t.subscribe(zt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function vet(){return new Oj}function fwe(e,t){return t?function(n){return n.pipe(fwe(function(r,o){return Sn(e(r,o)).pipe(ce(function(i,s){return t(r,i,o,s)}))}))}:hn(function(n,r){var o=0,i=null,s=!1;n.subscribe(zt(r,function(a){i||(i=zt(r,void 0,function(){i=null,s&&r.complete()}),Sn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function hwe(e){return hn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function pwe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ut(function(o,i){return e(o,i,r)}):Zu,ps(1),n?cwe(t):dwe(function(){return new Oj}))}}function mwe(e,t,n,r){return hn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,l=function(v){a.forEach(v),v(i)},u=function(v){return l(function(g){return g.error(v)})},d=0,f=!1,p=new Mxe(i,function(v){try{var g=e(v),y=a.get(g);if(!y){a.set(g,y=r?r():new Tr);var x=m(g,y);if(i.next(x),n){var b=zt(y,function(){y.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(Sn(n(x)).subscribe(b))}}y.next(s?s(v):v)}catch(w){u(w)}},function(){return l(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var y=new dt(function(x){d++;var b=g.subscribe(x);return function(){b.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return y.key=v,y}})}function yet(e){return e<=0?function(){return Gn}:hn(function(t,n){var r=[];t.subscribe(zt(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=$p(r),a=s.next();!a.done;a=s.next()){var l=a.value;n.next(l)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function bet(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ut(function(o,i){return e(o,i,r)}):Zu,yet(1),n?cwe(t):dwe(function(){return new Oj}))}}var xet=yt;function Mp(e,t,n){return n===void 0&&(n=1/0),Ft(t)?yt(function(){return e},t,n):(typeof t=="number"&&(n=t),yt(function(){return e},n))}function wet(e,t){var n=Ft(e)?e:function(){return e};return Ft(t)?fet(t,{connector:n}):function(r){return new cJe(r,n)}}function fl(e,t,n,r){n&&!Ft(n)&&(r=n);var o=Ft(n)?n:void 0;return function(i){return wet(new Fxe(e,t,r),o)(i)}}function Na(e,t){return hn(owe(e,t,arguments.length>=2,!0))}function za(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Tr}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=p=void 0,v=g=!1},b=function(){var w=d;x(),w==null||w.unsubscribe()};return hn(function(w,C){m++,!g&&!v&&y();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=sI(b,l))}),_.subscribe(C),!d&&m>0&&(d=new Vb({next:function(S){return _.next(S)},error:function(S){g=!0,y(),f=sI(x,o,S),_.error(S)},complete:function(){v=!0,y(),f=sI(x,s),_.complete()}}),Sn(w).subscribe(d))})(u)}}function sI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new Vb({next:function(){o.unsubscribe(),e()}});return Sn(t.apply(void 0,Cl([],Ba(n)))).subscribe(o)}}function Eo(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,za({connector:function(){return new Fxe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function gwe(e){return ut(function(t,n){return e<=n})}function Ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=aw(e);return hn(function(r,o){(n?co(e,r,n):co(e,r)).subscribe(o)})}function rt(e,t){return hn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(zt(r,function(l){o==null||o.unsubscribe();var u=0,d=i++;Sn(e(l,d)).subscribe(o=zt(r,function(f){return r.next(t?t(l,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function Cet(e,t){return Ft(t)?rt(function(){return e},t):rt(function(){return e})}function kL(e){return hn(function(t,n){Sn(e).subscribe(zt(n,function(){return n.complete()},If)),!n.closed&&t.subscribe(n)})}function Wn(e,t,n){var r=Ft(e)||t||n?{next:e,error:t,complete:n}:e;return r?hn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(zt(i,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Zu}function vwe(e,t){return hn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,l=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,l&&(y(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=Sn(e(x)).subscribe(zt(r,m,v))},y=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(zt(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?y():g(x))},function(){p=!0,!(l&&u&&f&&!f.closed)&&r.complete()}))})}function b5(e,t,n){t===void 0&&(t=Ec);var r=wi(e,t);return vwe(function(){return r},n)}function Vy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wL(e);return hn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),l=!1,u=function(f){Sn(e[f]).subscribe(zt(o,function(p){s[f]=p,!l&&!a[f]&&(a[f]=!0,(l=a.every(Zu))&&(a=null))},If))},d=0;d<i;d++)u(d);r.subscribe(zt(o,function(f){if(l){var p=Cl([f],Ba(s));o.next(n?n.apply(void 0,Cl([],Ba(p))):p)}}))})}function _et(e,t){var n=h.useCallback(function(){var s=new Pj(e),a=s.asObservable().pipe(Kn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var ywe={exports:{}},bwe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=h;function Eet(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ket=typeof Object.is=="function"?Object.is:Eet,jet=Pv.useState,Tet=Pv.useEffect,Aet=Pv.useLayoutEffect,Det=Pv.useDebugValue;function Iet(e,t){var n=t(),r=jet({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Aet(function(){o.value=n,o.getSnapshot=t,aI(o)&&i({inst:o})},[e,n,t]),Tet(function(){return aI(o)&&i({inst:o}),e(function(){aI(o)&&i({inst:o})})},[e]),Det(n),n}function aI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ket(e,n)}catch{return!0}}function Pet(e,t){return t()}var Oet=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Pet:Iet;bwe.useSyncExternalStore=Pv.useSyncExternalStore!==void 0?Pv.useSyncExternalStore:Oet;ywe.exports=bwe;var $et=ywe.exports;function eR(e){return typeof e=="function"?e():e}var lI=new WeakMap;function GY(e,t){if(!lI.has(e)){var n={currentValue:t};n.observable=e.pipe(Eo({refCount:!0,bufferSize:1}),Wn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),lI.set(e,n)}return lI.get(e)}function Ret(e,t){var n=h.useMemo(function(){var s=GY(e,eR(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(l){var u=s.observable.subscribe(l);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=GY(e,eR(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),$et.useSyncExternalStore(o,r)}function ko(e,t,n){return Ret(h.useMemo(function(){return eR(e)},t),n)}var Met=function(e){return e};function xwe(e){e===void 0&&(e=Met);var t=new Tr;return[t.pipe(e),function(n){return t.next(n)}]}var Fet=[];function jL(e,t){t===void 0&&(t=Fet);var n=h.useRef();n.current||(n.current=xwe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function Let(){this.__data__=[],this.size=0}var Bet=Let;function Net(e,t){return e===t||e!==e&&t!==t}var Rj=Net,zet=Rj;function Vet(e,t){for(var n=e.length;n--;)if(zet(e[n][0],t))return n;return-1}var Mj=Vet,Het=Mj,Uet=Array.prototype,Wet=Uet.splice;function Yet(e){var t=this.__data__,n=Het(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Wet.call(t,n,1),--this.size,!0}var qet=Yet,Get=Mj;function Ket(e){var t=this.__data__,n=Get(t,e);return n<0?void 0:t[n][1]}var Zet=Ket,Xet=Mj;function Qet(e){return Xet(this.__data__,e)>-1}var Jet=Qet,ett=Mj;function ttt(e,t){var n=this.__data__,r=ett(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ntt=ttt,rtt=Bet,ott=qet,itt=Zet,stt=Jet,att=ntt;function g0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}g0.prototype.clear=rtt;g0.prototype.delete=ott;g0.prototype.get=itt;g0.prototype.has=stt;g0.prototype.set=att;var Fj=g0,ltt=Fj;function ctt(){this.__data__=new ltt,this.size=0}var utt=ctt;function dtt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ftt=dtt;function htt(e){return this.__data__.get(e)}var ptt=htt;function mtt(e){return this.__data__.has(e)}var gtt=mtt,vtt=Nf,ytt=Wa,btt="[object AsyncFunction]",xtt="[object Function]",wtt="[object GeneratorFunction]",Ctt="[object Proxy]";function _tt(e){if(!ytt(e))return!1;var t=vtt(e);return t==xtt||t==wtt||t==btt||t==Ctt}var wwe=_tt,Stt=Dl,Ett=Stt["__core-js_shared__"],ktt=Ett,cI=ktt,KY=function(){var e=/[^.]+$/.exec(cI&&cI.keys&&cI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jtt(e){return!!KY&&KY in e}var Ttt=jtt,Att=Function.prototype,Dtt=Att.toString;function Itt(e){if(e!=null){try{return Dtt.call(e)}catch{}try{return e+""}catch{}}return""}var Cwe=Itt,Ptt=wwe,Ott=Ttt,$tt=Wa,Rtt=Cwe,Mtt=/[\\^$.*+?()[\]{}|]/g,Ftt=/^\[object .+?Constructor\]$/,Ltt=Function.prototype,Btt=Object.prototype,Ntt=Ltt.toString,ztt=Btt.hasOwnProperty,Vtt=RegExp("^"+Ntt.call(ztt).replace(Mtt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Htt(e){if(!$tt(e)||Ott(e))return!1;var t=Ptt(e)?Vtt:Ftt;return t.test(Rtt(e))}var Utt=Htt;function Wtt(e,t){return e==null?void 0:e[t]}var Ytt=Wtt,qtt=Utt,Gtt=Ytt;function Ktt(e,t){var n=Gtt(e,t);return qtt(n)?n:void 0}var um=Ktt,Ztt=um,Xtt=Dl,Qtt=Ztt(Xtt,"Map"),TL=Qtt,Jtt=um,ent=Jtt(Object,"create"),Lj=ent,ZY=Lj;function tnt(){this.__data__=ZY?ZY(null):{},this.size=0}var nnt=tnt;function rnt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ont=rnt,int=Lj,snt="__lodash_hash_undefined__",ant=Object.prototype,lnt=ant.hasOwnProperty;function cnt(e){var t=this.__data__;if(int){var n=t[e];return n===snt?void 0:n}return lnt.call(t,e)?t[e]:void 0}var unt=cnt,dnt=Lj,fnt=Object.prototype,hnt=fnt.hasOwnProperty;function pnt(e){var t=this.__data__;return dnt?t[e]!==void 0:hnt.call(t,e)}var mnt=pnt,gnt=Lj,vnt="__lodash_hash_undefined__";function ynt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gnt&&t===void 0?vnt:t,this}var bnt=ynt,xnt=nnt,wnt=ont,Cnt=unt,_nt=mnt,Snt=bnt;function v0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}v0.prototype.clear=xnt;v0.prototype.delete=wnt;v0.prototype.get=Cnt;v0.prototype.has=_nt;v0.prototype.set=Snt;var Ent=v0,XY=Ent,knt=Fj,jnt=TL;function Tnt(){this.size=0,this.__data__={hash:new XY,map:new(jnt||knt),string:new XY}}var Ant=Tnt;function Dnt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Int=Dnt,Pnt=Int;function Ont(e,t){var n=e.__data__;return Pnt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Bj=Ont,$nt=Bj;function Rnt(e){var t=$nt(this,e).delete(e);return this.size-=t?1:0,t}var Mnt=Rnt,Fnt=Bj;function Lnt(e){return Fnt(this,e).get(e)}var Bnt=Lnt,Nnt=Bj;function znt(e){return Nnt(this,e).has(e)}var Vnt=znt,Hnt=Bj;function Unt(e,t){var n=Hnt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Wnt=Unt,Ynt=Ant,qnt=Mnt,Gnt=Bnt,Knt=Vnt,Znt=Wnt;function y0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}y0.prototype.clear=Ynt;y0.prototype.delete=qnt;y0.prototype.get=Gnt;y0.prototype.has=Knt;y0.prototype.set=Znt;var AL=y0,Xnt=Fj,Qnt=TL,Jnt=AL,ert=200;function trt(e,t){var n=this.__data__;if(n instanceof Xnt){var r=n.__data__;if(!Qnt||r.length<ert-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jnt(r)}return n.set(e,t),this.size=n.size,this}var nrt=trt,rrt=Fj,ort=utt,irt=ftt,srt=ptt,art=gtt,lrt=nrt;function b0(e){var t=this.__data__=new rrt(e);this.size=t.size}b0.prototype.clear=ort;b0.prototype.delete=irt;b0.prototype.get=srt;b0.prototype.has=art;b0.prototype.set=lrt;var DL=b0,crt="__lodash_hash_undefined__";function urt(e){return this.__data__.set(e,crt),this}var drt=urt;function frt(e){return this.__data__.has(e)}var hrt=frt,prt=AL,mrt=drt,grt=hrt;function x5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new prt;++t<n;)this.add(e[t])}x5.prototype.add=x5.prototype.push=mrt;x5.prototype.has=grt;var Nj=x5;function vrt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yrt=vrt;function brt(e,t){return e.has(t)}var zj=brt,xrt=Nj,wrt=yrt,Crt=zj,_rt=1,Srt=2;function Ert(e,t,n,r,o,i){var s=n&_rt,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&Srt?new xrt:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var y=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!wrt(t,function(x,b){if(!Crt(m,b)&&(v===x||o(v,x,n,r,i)))return m.push(b)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var _we=Ert,krt=Dl,jrt=krt.Uint8Array,Swe=jrt;function Trt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var Art=Trt;function Drt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var IL=Drt,QY=t0,JY=Swe,Irt=Rj,Prt=_we,Ort=Art,$rt=IL,Rrt=1,Mrt=2,Frt="[object Boolean]",Lrt="[object Date]",Brt="[object Error]",Nrt="[object Map]",zrt="[object Number]",Vrt="[object RegExp]",Hrt="[object Set]",Urt="[object String]",Wrt="[object Symbol]",Yrt="[object ArrayBuffer]",qrt="[object DataView]",eq=QY?QY.prototype:void 0,uI=eq?eq.valueOf:void 0;function Grt(e,t,n,r,o,i,s){switch(n){case qrt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Yrt:return!(e.byteLength!=t.byteLength||!i(new JY(e),new JY(t)));case Frt:case Lrt:case zrt:return Irt(+e,+t);case Brt:return e.name==t.name&&e.message==t.message;case Vrt:case Urt:return e==t+"";case Nrt:var a=Ort;case Hrt:var l=r&Rrt;if(a||(a=$rt),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=Mrt,s.set(e,t);var d=Prt(a(e),a(t),r,o,i,s);return s.delete(e),d;case Wrt:if(uI)return uI.call(e)==uI.call(t)}return!1}var Krt=Grt;function Zrt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var PL=Zrt,Xrt=Array.isArray,Xr=Xrt,Qrt=PL,Jrt=Xr;function eot(e,t,n){var r=t(e);return Jrt(e)?r:Qrt(r,n(e))}var Ewe=eot;function tot(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var kwe=tot;function not(){return[]}var jwe=not,rot=kwe,oot=jwe,iot=Object.prototype,sot=iot.propertyIsEnumerable,tq=Object.getOwnPropertySymbols,aot=tq?function(e){return e==null?[]:(e=Object(e),rot(tq(e),function(t){return sot.call(e,t)}))}:oot,OL=aot;function lot(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var cot=lot,uot=Nf,dot=Ya,fot="[object Arguments]";function hot(e){return dot(e)&&uot(e)==fot}var pot=hot,nq=pot,mot=Ya,Twe=Object.prototype,got=Twe.hasOwnProperty,vot=Twe.propertyIsEnumerable,yot=nq(function(){return arguments}())?nq:function(e){return mot(e)&&got.call(e,"callee")&&!vot.call(e,"callee")},Vj=yot,w5={exports:{}};function bot(){return!1}var xot=bot;w5.exports;(function(e,t){var n=Dl,r=xot,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(w5,w5.exports);var Hj=w5.exports,wot=9007199254740991,Cot=/^(?:0|[1-9]\d*)$/;function _ot(e,t){var n=typeof e;return t=t??wot,!!t&&(n=="number"||n!="symbol"&&Cot.test(e))&&e>-1&&e%1==0&&e<t}var Uj=_ot,Sot=9007199254740991;function Eot(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Sot}var $L=Eot,kot=Nf,jot=$L,Tot=Ya,Aot="[object Arguments]",Dot="[object Array]",Iot="[object Boolean]",Pot="[object Date]",Oot="[object Error]",$ot="[object Function]",Rot="[object Map]",Mot="[object Number]",Fot="[object Object]",Lot="[object RegExp]",Bot="[object Set]",Not="[object String]",zot="[object WeakMap]",Vot="[object ArrayBuffer]",Hot="[object DataView]",Uot="[object Float32Array]",Wot="[object Float64Array]",Yot="[object Int8Array]",qot="[object Int16Array]",Got="[object Int32Array]",Kot="[object Uint8Array]",Zot="[object Uint8ClampedArray]",Xot="[object Uint16Array]",Qot="[object Uint32Array]",tr={};tr[Uot]=tr[Wot]=tr[Yot]=tr[qot]=tr[Got]=tr[Kot]=tr[Zot]=tr[Xot]=tr[Qot]=!0;tr[Aot]=tr[Dot]=tr[Vot]=tr[Iot]=tr[Hot]=tr[Pot]=tr[Oot]=tr[$ot]=tr[Rot]=tr[Mot]=tr[Fot]=tr[Lot]=tr[Bot]=tr[Not]=tr[zot]=!1;function Jot(e){return Tot(e)&&jot(e.length)&&!!tr[kot(e)]}var eit=Jot;function tit(e){return function(t){return e(t)}}var x0=tit,C5={exports:{}};C5.exports;(function(e,t){var n=mge,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var l=o&&o.require&&o.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(C5,C5.exports);var RL=C5.exports,nit=eit,rit=x0,rq=RL,oq=rq&&rq.isTypedArray,oit=oq?rit(oq):nit,ML=oit,iit=cot,sit=Vj,ait=Xr,lit=Hj,cit=Uj,uit=ML,dit=Object.prototype,fit=dit.hasOwnProperty;function hit(e,t){var n=ait(e),r=!n&&sit(e),o=!n&&!r&&lit(e),i=!n&&!r&&!o&&uit(e),s=n||r||o||i,a=s?iit(e.length,String):[],l=a.length;for(var u in e)(t||fit.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cit(u,l)))&&a.push(u);return a}var Awe=hit,pit=Object.prototype;function mit(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||pit;return e===n}var Wj=mit;function git(e,t){return function(n){return e(t(n))}}var Dwe=git,vit=Dwe,yit=vit(Object.keys,Object),bit=yit,xit=Wj,wit=bit,Cit=Object.prototype,_it=Cit.hasOwnProperty;function Sit(e){if(!xit(e))return wit(e);var t=[];for(var n in Object(e))_it.call(e,n)&&n!="constructor"&&t.push(n);return t}var Iwe=Sit,Eit=wwe,kit=$L;function jit(e){return e!=null&&kit(e.length)&&!Eit(e)}var qf=jit,Tit=Awe,Ait=Iwe,Dit=qf;function Iit(e){return Dit(e)?Tit(e):Ait(e)}var Gf=Iit,Pit=Ewe,Oit=OL,$it=Gf;function Rit(e){return Pit(e,$it,Oit)}var Pwe=Rit,iq=Pwe,Mit=1,Fit=Object.prototype,Lit=Fit.hasOwnProperty;function Bit(e,t,n,r,o,i){var s=n&Mit,a=iq(e),l=a.length,u=iq(t),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var p=a[f];if(!(s?p in t:Lit.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<l;){p=a[f];var x=e[p],b=t[p];if(r)var w=s?r(b,x,p,t,e,i):r(x,b,p,e,t,i);if(!(w===void 0?x===b||o(x,b,n,r,i):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Nit=Bit,zit=um,Vit=Dl,Hit=zit(Vit,"DataView"),Uit=Hit,Wit=um,Yit=Dl,qit=Wit(Yit,"Promise"),Git=qit,Kit=um,Zit=Dl,Xit=Kit(Zit,"Set"),Owe=Xit,Qit=um,Jit=Dl,est=Qit(Jit,"WeakMap"),$we=est,tR=Uit,nR=TL,rR=Git,oR=Owe,iR=$we,Rwe=Nf,w0=Cwe,sq="[object Map]",tst="[object Object]",aq="[object Promise]",lq="[object Set]",cq="[object WeakMap]",uq="[object DataView]",nst=w0(tR),rst=w0(nR),ost=w0(rR),ist=w0(oR),sst=w0(iR),Dh=Rwe;(tR&&Dh(new tR(new ArrayBuffer(1)))!=uq||nR&&Dh(new nR)!=sq||rR&&Dh(rR.resolve())!=aq||oR&&Dh(new oR)!=lq||iR&&Dh(new iR)!=cq)&&(Dh=function(e){var t=Rwe(e),n=t==tst?e.constructor:void 0,r=n?w0(n):"";if(r)switch(r){case nst:return uq;case rst:return sq;case ost:return aq;case ist:return lq;case sst:return cq}return t});var lw=Dh,dI=DL,ast=_we,lst=Krt,cst=Nit,dq=lw,fq=Xr,hq=Hj,ust=ML,dst=1,pq="[object Arguments]",mq="[object Array]",zC="[object Object]",fst=Object.prototype,gq=fst.hasOwnProperty;function hst(e,t,n,r,o,i){var s=fq(e),a=fq(t),l=s?mq:dq(e),u=a?mq:dq(t);l=l==pq?zC:l,u=u==pq?zC:u;var d=l==zC,f=u==zC,p=l==u;if(p&&hq(e)){if(!hq(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new dI),s||ust(e)?ast(e,t,n,r,o,i):lst(e,t,l,n,r,o,i);if(!(n&dst)){var m=d&&gq.call(e,"__wrapped__"),v=f&&gq.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,y=v?t.value():t;return i||(i=new dI),o(g,y,n,r,i)}}return p?(i||(i=new dI),cst(e,t,n,r,o,i)):!1}var pst=hst,mst=pst,vq=Ya;function Mwe(e,t,n,r,o){return e===t?!0:e==null||t==null||!vq(e)&&!vq(t)?e!==e&&t!==t:mst(e,t,n,r,Mwe,o)}var FL=Mwe,gst=FL;function vst(e,t){return gst(e,t)}var yst=vst;const Yt=Ie(yst);var gp=[],bst=function(){return gp.some(function(e){return e.activeTargets.length>0})},xst=function(){return gp.some(function(e){return e.skippedTargets.length>0})},yq="ResizeObserver loop completed with undelivered notifications.",wst=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:yq}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=yq),window.dispatchEvent(e)},Hb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Hb||(Hb={}));var vp=function(e){return Object.freeze(e)},Cst=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,vp(this)}return e}(),Fwe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,vp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),LL=function(e){return e instanceof SVGElement&&"getBBox"in e},Lwe=function(e){if(LL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},bq=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},_st=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Hy=typeof window<"u"?window:{},VC=new WeakMap,xq=/auto|scroll/,Sst=/^tb|vertical/,Est=/msie|trident/i.test(Hy.navigator&&Hy.navigator.userAgent),Hl=function(e){return parseFloat(e||"0")},qg=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Cst((n?t:e)||0,(n?e:t)||0)},wq=vp({devicePixelContentBoxSize:qg(),borderBoxSize:qg(),contentBoxSize:qg(),contentRect:new Fwe(0,0,0,0)}),Bwe=function(e,t){if(t===void 0&&(t=!1),VC.has(e)&&!t)return VC.get(e);if(Lwe(e))return VC.set(e,wq),wq;var n=getComputedStyle(e),r=LL(e)&&e.ownerSVGElement&&e.getBBox(),o=!Est&&n.boxSizing==="border-box",i=Sst.test(n.writingMode||""),s=!r&&xq.test(n.overflowY||""),a=!r&&xq.test(n.overflowX||""),l=r?0:Hl(n.paddingTop),u=r?0:Hl(n.paddingRight),d=r?0:Hl(n.paddingBottom),f=r?0:Hl(n.paddingLeft),p=r?0:Hl(n.borderTopWidth),m=r?0:Hl(n.borderRightWidth),v=r?0:Hl(n.borderBottomWidth),g=r?0:Hl(n.borderLeftWidth),y=f+u,x=l+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:Hl(n.width)-S-_,k=r?r.height:Hl(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=vp({devicePixelContentBoxSize:qg(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:qg(T,A,i),contentBoxSize:qg(j,k,i),contentRect:new Fwe(f,l,j,k)});return VC.set(e,D),D},Nwe=function(e,t,n){var r=Bwe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Hb.DEVICE_PIXEL_CONTENT_BOX:return s;case Hb.BORDER_BOX:return o;default:return i}},kst=function(){function e(t){var n=Bwe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=vp([n.borderBoxSize]),this.contentBoxSize=vp([n.contentBoxSize]),this.devicePixelContentBoxSize=vp([n.devicePixelContentBoxSize])}return e}(),zwe=function(e){if(Lwe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},jst=function(){var e=1/0,t=[];gp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new kst(u.target),f=zwe(u.target);a.push(d),u.lastReportedSize=Nwe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},Cq=function(e){gp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(zwe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},Tst=function(){var e=0;for(Cq(e);bst();)e=jst(),Cq(e);return xst()&&wst(),e>0},fI,Vwe=[],Ast=function(){return Vwe.splice(0).forEach(function(e){return e()})},Dst=function(e){if(!fI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Ast()}).observe(n,r),fI=function(){n.textContent="".concat(t?t--:t++)}}Vwe.push(e),fI()},Ist=function(e){Dst(function(){requestAnimationFrame(e)})},k2=0,Pst=function(){return!!k2},Ost=250,$st={attributes:!0,characterData:!0,childList:!0,subtree:!0},_q=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Sq=function(e){return e===void 0&&(e=0),Date.now()+e},hI=!1,Rst=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Ost),!hI){hI=!0;var r=Sq(t);Ist(function(){var o=!1;try{o=Tst()}finally{if(hI=!1,t=r-Sq(),!Pst())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,$st)};document.body?n():Hy.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),_q.forEach(function(n){return Hy.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),_q.forEach(function(n){return Hy.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),sR=new Rst,Eq=function(e){!k2&&e>0&&sR.start(),k2+=e,!k2&&sR.stop()},Mst=function(e){return!LL(e)&&!_st(e)&&getComputedStyle(e).display==="inline"},Fst=function(){function e(t,n){this.target=t,this.observedBox=n||Hb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Nwe(this.target,this.observedBox,!0);return Mst(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Lst=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),HC=new WeakMap,kq=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},UC=function(){function e(){}return e.connect=function(t,n){var r=new Lst(t,n);HC.set(t,r)},e.observe=function(t,n,r){var o=HC.get(t),i=o.observationTargets.length===0;kq(o.observationTargets,n)<0&&(i&&gp.push(o),o.observationTargets.push(new Fst(n,r&&r.box)),Eq(1),sR.schedule())},e.unobserve=function(t,n){var r=HC.get(t),o=kq(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&gp.splice(gp.indexOf(r),1),r.observationTargets.splice(o,1),Eq(-1))},e.disconnect=function(t){var n=this,r=HC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),Hwe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");UC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bq(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");UC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bq(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");UC.unobserve(this,t)},e.prototype.disconnect=function(){UC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Bst=bge,Nst=Wa,zst="Expected a function";function Vst(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(zst);return Nst(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Bst(e,t,{leading:r,maxWait:t,trailing:o})}var Hst=Vst;const Yj=Ie(Hst);var jq=t0,Ust=Vj,Wst=Xr,Tq=jq?jq.isConcatSpreadable:void 0;function Yst(e){return Wst(e)||Ust(e)||!!(Tq&&e&&e[Tq])}var qst=Yst,Gst=PL,Kst=qst;function Uwe(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=Kst),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?Uwe(a,t-1,n,r,o):Gst(o,a):r||(o[o.length]=a)}return o}var C0=Uwe;function Zst(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Pc=Zst,Xst=Xr,Qst=Jp,Jst=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eat=/^\w*$/;function tat(e,t){if(Xst(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Qst(e)?!0:eat.test(e)||!Jst.test(e)||t!=null&&e in Object(t)}var BL=tat,Wwe=AL,nat="Expected a function";function NL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nat);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(NL.Cache||Wwe),n}NL.Cache=Wwe;var Ywe=NL;const qj=Ie(Ywe);var rat=Ywe,oat=500;function iat(e){var t=rat(e,function(r){return n.size===oat&&n.clear(),r}),n=t.cache;return t}var sat=iat,aat=sat,lat=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cat=/\\(\\)?/g,uat=aat(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lat,function(n,r,o,i){t.push(o?i.replace(cat,"$1"):r||n)}),t}),qwe=uat,Aq=t0,dat=Pc,fat=Xr,hat=Jp,pat=1/0,Dq=Aq?Aq.prototype:void 0,Iq=Dq?Dq.toString:void 0;function Gwe(e){if(typeof e=="string")return e;if(fat(e))return dat(e,Gwe)+"";if(hat(e))return Iq?Iq.call(e):"";var t=e+"";return t=="0"&&1/e==-pat?"-0":t}var Kwe=Gwe,mat=Kwe;function gat(e){return e==null?"":mat(e)}var Oc=gat,vat=Xr,yat=BL,bat=qwe,xat=Oc;function wat(e,t){return vat(e)?e:yat(e,t)?[e]:bat(xat(e))}var _0=wat,Cat=Jp,_at=1/0;function Sat(e){if(typeof e=="string"||Cat(e))return e;var t=e+"";return t=="0"&&1/e==-_at?"-0":t}var dm=Sat,Eat=_0,kat=dm;function jat(e,t){t=Eat(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[kat(t[n++])];return n&&n==r?e:void 0}var cw=jat,Tat=DL,Aat=FL,Dat=1,Iat=2;function Pat(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var l=a[0],u=e[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Tat;if(r)var p=r(u,d,l,e,t,f);if(!(p===void 0?Aat(d,u,Dat|Iat,r,f):p))return!1}}return!0}var Oat=Pat,$at=Wa;function Rat(e){return e===e&&!$at(e)}var Zwe=Rat,Mat=Zwe,Fat=Gf;function Lat(e){for(var t=Fat(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Mat(o)]}return t}var Bat=Lat;function Nat(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Xwe=Nat,zat=Oat,Vat=Bat,Hat=Xwe;function Uat(e){var t=Vat(e);return t.length==1&&t[0][2]?Hat(t[0][0],t[0][1]):function(n){return n===e||zat(n,e,t)}}var Wat=Uat,Yat=cw;function qat(e,t,n){var r=e==null?void 0:Yat(e,t);return r===void 0?n:r}var Qwe=qat;const Nn=Ie(Qwe);function Gat(e,t){return e!=null&&t in Object(e)}var Kat=Gat,Zat=_0,Xat=Vj,Qat=Xr,Jat=Uj,elt=$L,tlt=dm;function nlt(e,t,n){t=Zat(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=tlt(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&elt(o)&&Jat(s,o)&&(Qat(e)||Xat(e)))}var rlt=nlt,olt=Kat,ilt=rlt;function slt(e,t){return e!=null&&ilt(e,t,olt)}var Jwe=slt,alt=FL,llt=Qwe,clt=Jwe,ult=BL,dlt=Zwe,flt=Xwe,hlt=dm,plt=1,mlt=2;function glt(e,t){return ult(e)&&dlt(t)?flt(hlt(e),t):function(n){var r=llt(n,e);return r===void 0&&r===t?clt(n,e):alt(t,r,plt|mlt)}}var vlt=glt;function ylt(e){return e}var fm=ylt;const eCe=Ie(fm);function blt(e){return function(t){return t==null?void 0:t[e]}}var xlt=blt,wlt=cw;function Clt(e){return function(t){return wlt(t,e)}}var _lt=Clt,Slt=xlt,Elt=_lt,klt=BL,jlt=dm;function Tlt(e){return klt(e)?Slt(jlt(e)):Elt(e)}var Alt=Tlt,Dlt=Wat,Ilt=vlt,Plt=fm,Olt=Xr,$lt=Alt;function Rlt(e){return typeof e=="function"?e:e==null?Plt:typeof e=="object"?Olt(e)?Ilt(e[0],e[1]):Dlt(e):$lt(e)}var Kf=Rlt;function Mlt(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(n(i[l],l,i)===!1)break}return t}}var Flt=Mlt,Llt=Flt,Blt=Llt(),Nlt=Blt,zlt=Nlt,Vlt=Gf;function Hlt(e,t){return e&&zlt(e,t,Vlt)}var Ult=Hlt,Wlt=qf;function Ylt(e,t){return function(n,r){if(n==null)return n;if(!Wlt(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var qlt=Ylt,Glt=Ult,Klt=qlt,Zlt=Klt(Glt),tCe=Zlt,Xlt=tCe,Qlt=qf;function Jlt(e,t){var n=-1,r=Qlt(e)?Array(e.length):[];return Xlt(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var nCe=Jlt;function ect(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var tct=ect,Pq=Jp;function nct(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=Pq(e),s=t!==void 0,a=t===null,l=t===t,u=Pq(t);if(!a&&!u&&!i&&e>t||i&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!l)return-1}return 0}var rct=nct,oct=rct;function ict(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var l=oct(o[r],i[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var sct=ict,pI=Pc,act=cw,lct=Kf,cct=nCe,uct=tct,dct=x0,fct=sct,hct=fm,pct=Xr;function mct(e,t,n){t.length?t=pI(t,function(i){return pct(i)?function(s){return act(s,i.length===1?i[0]:i)}:i}):t=[hct];var r=-1;t=pI(t,dct(lct));var o=cct(e,function(i,s,a){var l=pI(t,function(u){return u(i)});return{criteria:l,index:++r,value:i}});return uct(o,function(i,s){return fct(i,s,n)})}var rCe=mct;function gct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var vct=gct,yct=vct,Oq=Math.max;function bct(e,t,n){return t=Oq(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Oq(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),yct(e,this,a)}}var oCe=bct;function xct(e){return function(){return e}}var wct=xct,Cct=um,_ct=function(){try{var e=Cct(Object,"defineProperty");return e({},"",{}),e}catch{}}(),iCe=_ct,Sct=wct,$q=iCe,Ect=fm,kct=$q?function(e,t){return $q(e,"toString",{configurable:!0,enumerable:!1,value:Sct(t),writable:!0})}:Ect,jct=kct,Tct=800,Act=16,Dct=Date.now;function Ict(e){var t=0,n=0;return function(){var r=Dct(),o=Act-(r-n);if(n=r,o>0){if(++t>=Tct)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Pct=Ict,Oct=jct,$ct=Pct,Rct=$ct(Oct),sCe=Rct,Mct=fm,Fct=oCe,Lct=sCe;function Bct(e,t){return Lct(Fct(e,t,Mct),e+"")}var S0=Bct,Nct=Rj,zct=qf,Vct=Uj,Hct=Wa;function Uct(e,t,n){if(!Hct(n))return!1;var r=typeof t;return(r=="number"?zct(n)&&Vct(t,n.length):r=="string"&&t in n)?Nct(n[t],e):!1}var zL=Uct,Wct=C0,Yct=rCe,qct=S0,Rq=zL,Gct=qct(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Rq(e,t[0],t[1])?t=[]:n>2&&Rq(t[0],t[1],t[2])&&(t=[t[0]]),Yct(e,Wct(t,1),[])}),Kct=Gct;const hm=Ie(Kct);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S5(){return S5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lm(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),l=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!l)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,y){for(g=String(g);g.length<y;)g=" "+g;return g};console.info("%c "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function mI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Zct=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xct=function(t){return t},aCe=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Qct=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var l=a.width,u=a.height;n({width:Math.round(l),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var l=a.borderBoxSize[0];if(l){o({width:l.inlineSize,height:l.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Jct=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},eut=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},lCe=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,l=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=l,i))},tut=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=S5({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Xct,rangeExtractor:aCe,onChange:function(){},measureElement:eut,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Lm(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var l=r[a];if(!i.has(l.lane)){var u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&i.set(l.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Lm(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=l(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),y=typeof g=="number"?g:n.options.estimateSize(f),x=v+y,b=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:y,end:x,key:p,lane:b}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Lm(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=nut({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Lm(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Lm(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(S5({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var l=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(a.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Lm(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var l=r[s],u=o[l];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return mI(o[cCe(0,o.length-1,function(i){return mI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,l=a-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=mI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,l=i.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,l=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];Zct(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:l})}else n.scrollToIndex(r,{align:f,behavior:l})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},cCe=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function nut(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=cCe(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rut=typeof document<"u"?h.useLayoutEffect:h.useEffect;function out(e){var t=h.useReducer(function(){return{}},{})[1],n=_5({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new tut(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),rut(function(){return o._willUpdate()}),o}function uCe(e){return out(_5({observeElementRect:Qct,observeElementOffset:Jct,scrollToFn:lCe},e))}var iut=sut;function sut(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,l=typeof t;return a!==l?!1:cut(a)?n?n(e,t):e===t:i?aut(e,t,n):lut(e,t,n)}function aut(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function lut(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function cut(e){return e!=="function"&&e!=="object"}const Pf=Ie(iut);var aR={exports:{}},gI,Mq;function Gj(){if(Mq)return gI;Mq=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;gI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return gI}function uut(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=Gj(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var dut=uut;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=dut(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(aR,aR.exports);var fut=aR.exports;const Md=Ie(fut);var hut=C0;function put(e){var t=e==null?0:e.length;return t?hut(e,1):[]}var dCe=put;const _n=Ie(dCe);function mut(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var fCe=mut;function gut(e){return e!==e}var vut=gut;function yut(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var but=yut,xut=fCe,wut=vut,Cut=but;function _ut(e,t,n){return t===t?Cut(e,t,n):xut(e,wut,n)}var VL=_ut,Sut=VL;function Eut(e,t){var n=e==null?0:e.length;return!!n&&Sut(e,t,0)>-1}var HL=Eut;function kut(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var UL=kut,jut=Nj,Tut=HL,Aut=UL,Dut=Pc,Iut=x0,Put=zj,Out=200;function $ut(e,t,n,r){var o=-1,i=Tut,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=Dut(t,Iut(n))),r?(i=Aut,s=!1):t.length>=Out&&(i=Put,s=!1,t=new jut(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;l.push(d)}else i(t,f,r)||l.push(d)}return l}var hCe=$ut,Rut=qf,Mut=Ya;function Fut(e){return Mut(e)&&Rut(e)}var Kj=Fut,Lut=hCe,But=C0,Nut=S0,Fq=Kj,zut=Nut(function(e,t){return Fq(e)?Lut(e,But(t,1,Fq,!0)):[]}),Vut=zut;const Ub=Ie(Vut);var Hut=Nj,Uut=HL,Wut=UL,Yut=Pc,qut=x0,Lq=zj,Gut=Math.min;function Kut(e,t,n){for(var r=n?Wut:Uut,o=e[0].length,i=e.length,s=i,a=Array(i),l=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Yut(d,qut(t))),l=Gut(d.length,l),a[s]=!n&&(t||o>=120&&d.length>=120)?new Hut(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<l;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?Lq(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?Lq(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var Zut=Kut,Xut=Kj;function Qut(e){return Xut(e)?e:[]}var Jut=Qut,edt=Pc,tdt=Zut,ndt=S0,rdt=Jut,odt=ndt(function(e){var t=edt(e,rdt);return t.length&&t[0]===e[0]?tdt(t):[]}),idt=odt;const E5=Ie(idt);var sdt=Dwe,adt=sdt(Object.getPrototypeOf,Object),WL=adt,ldt=Nf,cdt=WL,udt=Ya,ddt="[object Object]",fdt=Function.prototype,hdt=Object.prototype,pCe=fdt.toString,pdt=hdt.hasOwnProperty,mdt=pCe.call(Object);function gdt(e){if(!udt(e)||ldt(e)!=ddt)return!1;var t=cdt(e);if(t===null)return!0;var n=pdt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&pCe.call(n)==mdt}var mCe=gdt;const Cr=Ie(mCe);var Bq=iCe;function vdt(e,t,n){t=="__proto__"&&Bq?Bq(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Zj=vdt,ydt=Zj,bdt=Rj,xdt=Object.prototype,wdt=xdt.hasOwnProperty;function Cdt(e,t,n){var r=e[t];(!(wdt.call(e,t)&&bdt(r,n))||n===void 0&&!(t in e))&&ydt(e,t,n)}var YL=Cdt,_dt=YL,Sdt=_0,Edt=Uj,Nq=Wa,kdt=dm;function jdt(e,t,n,r){if(!Nq(e))return e;t=Sdt(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var l=kdt(t[o]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=s){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=Nq(d)?d:Edt(t[o+1])?[]:{})}_dt(a,l,u),a=a[l]}return e}var Tdt=jdt,Adt=cw,Ddt=Tdt,Idt=_0;function Pdt(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Adt(e,s);n(a,s)&&Ddt(i,Idt(s,e),a)}return i}var gCe=Pdt,Odt=gCe,$dt=Jwe;function Rdt(e,t){return Odt(e,t,function(n,r){return $dt(e,r)})}var Mdt=Rdt,Fdt=dCe,Ldt=oCe,Bdt=sCe;function Ndt(e){return Bdt(Ldt(e,void 0,Fdt),e+"")}var qL=Ndt,zdt=Mdt,Vdt=qL,Hdt=Vdt(function(e,t){return e==null?{}:zdt(e,t)}),Udt=Hdt;const St=Ie(Udt),GL=se.createContext(null);function Xu(){const e=h.useContext(GL);if(!e)throw new Error("Router: missing context value");return e}function Wdt(e){return e.button===0}function Ydt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KL(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=Xu();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Ydt(a)||!Wdt(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function uw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=Xu(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:l}=KL({href:a,onClick:n,replace:o,target:i});return{onClick:l,href:a}}const pm=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:l}=uw({intent:r,params:o,target:i,onClick:t.onClick});return c.jsx("a",{...s,href:l,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:l}=KL({onClick:r,href:o,target:i,replace:s});return c.jsx("a",{...a,onClick:l,href:o,target:i,ref:n})});const zq=Object.prototype.hasOwnProperty,qdt=zq.call.bind(zq);function Gdt(e){for(const t in e)if(qdt(e,t))return!1;return!0}function Vq(e,t,n){return n&&{...e,[t]:n}}function Kdt(e){const{children:t,scope:n}=e,r=Xu(),{resolvePathFromState:o,navigate:i}=r,s=h.useCallback(u=>{const d=Gdt(u)?{}:Vq(r.state,n,u);return o(d)},[o,r.state,n]),a=h.useCallback((u,d)=>{const f=Vq(r.state,n,u);i(f,d)},[i,r.state,n]),l=h.useMemo(()=>({...r,navigate:a,resolvePathFromState:s,state:r.state[n]}),[a,r,s,n]);return c.jsx(GL.Provider,{value:l,children:t})}function Zdt(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),l=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return c.jsx(GL.Provider,{value:l,children:e.children})}const Hq={};function vCe(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=Xu(),a=h.useMemo(()=>s(i?Hq:r||Hq),[s,r,i]),{onClick:l}=KL({href:a,onClick:t,replace:n,target:o});return{onClick:l,href:a}}const Xj=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...l}=t,{onClick:u,href:d}=vCe({onClick:r,replace:o,state:i,target:s,toIndex:a});return c.jsx("a",{...l,href:d,onClick:u,ref:n})}),Xdt=/^[a-zA-Z0-9_-]+$/;function Qdt(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!Xdt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function Jdt(e){const[t]=e.split("?"),n=t.split("/").map(Qdt).filter(Boolean);return{raw:e,segments:n}}const k5=Md("state-router");function lR(e){return Array.isArray(e)?e:e?[e]:[]}function yCe(e,t){const n=t.split("/").filter(Boolean),r=e.route.segments.length;if(n.length<r)return null;const o={};if(!e.route.segments.every((d,f)=>{if(d.type==="dir")return d.name===n[f];const p=e.transform&&e.transform[d.name];return o[d.name]=p?p.toState(n[f]):n[f],!0}))return null;const s=n.slice(r);let a=null;if((typeof e.children=="function"?lR(e.children(o)):e.children).some(d=>{if(d)return a=yCe(d,s.join("/")),a}),s.length>0&&!a)return null;const u={...o,...a||{}};return e.scope?{[e.scope]:u}:u}function eft(e,t){k5("resolving state from path %s",t);const n=yCe(e,t.split("?")[0]);return k5("resolved: %o",n||null),n||null}function Uq(e){return Cr(e)}function Bm(e,t,n){return{nodes:e,missing:t,remaining:n}}function bCe(e,t){if(!t)return Bm([],[],[]);const n=e.scope?t[e.scope]:t,r=e.route.segments.filter(f=>f.type==="param").map(f=>f.name),o=Uq(n)?Object.keys(n):[],i=E5(o,r),s=Ub(r,i),a=Ub(o,i);if(s.length>0)return Bm([],s,[]);if(a.length===0)return Bm([e],[],[]);const l=lR((typeof e.children=="function"?e.children(Uq(n)?n:{}):e.children)||[]);if(a.length>0&&l.length===0)return Bm([],a,[]);const u=St(n,a);let d={nodes:[],remaining:[],missing:[]};return lR(l).some(f=>(d=bCe(f,u),d.nodes.length>0)),d.nodes.length===0?Bm([],s,a):Bm([e,...d.nodes],d.missing,d.remaining)}function tft(e,t){k5("Resolving path from state %o",t);const n=bCe(e,t);if(n.remaining.length>0){const i=n.remaining;throw new Error("Unable to find matching route for state. Could not map the following state key".concat(i.length==1?"":"s"," to a valid url: ").concat(i.join(", ")))}if(n.nodes.length===0)throw new Error("Unable to resolve path from given state: ".concat(JSON.stringify(t)));let r=t;const o=_n(n.nodes.map(i=>(i.scope&&i.scope in r&&(r=r[i.scope]),i.route.segments.map(s=>{if(s.type==="dir")return s.name;const a=i.transform&&i.transform[s.name];return a?a.toPath(r[s.name]):r[s.name]})))).join("/");return k5("Resolved to /%s",o),"/".concat(o)}function nft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function rft(e){return e?btoa(JSON.stringify(e)):""}function oft(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function ift(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const fi={create:(e,t,n)=>Gq(Yq(e,t,n)),intents:e=>{const t=aft(e).join("/");return fi.create("".concat(t,"/:intent"),[fi.create(":params",{transform:{params:{toState:oft,toPath:ift}}},[fi.create(":payload",{transform:{payload:{toState:nft,toPath:rft}}})])])},scope:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=Yq(...n);return Gq({...o,scope:e})}};function Wq(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function sft(e){return e&&"_isRoute"in e}function Yq(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||sft(t)?{path:e,children:Wq(t)}:n?{path:e,...t,children:Wq(n)}:{path:e,...t}}function aft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const lft={};function qq(e){return e.split("/").every(t=>!t)}function Gq(e){const{path:t,scope:n,transform:r,children:o}=e;if(!t)throw new TypeError("Missing path");const i=Jdt(t);return{_isRoute:!0,scope:n,route:i,children:o||[],transform:r,encode(s){return tft(this,s)},decode(s){return eft(this,s)},isRoot:qq,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(lft)},getRedirectBase(s){if(qq(s)){const a=this.getBasePath();if(s!==a)return a}return null}}}function Qj(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eCe;const{state:t}=Xu();return h.useMemo(()=>e(t),[e,t])}function cft(e){function t(n){const r=Xu();return c.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}cft(e=>e.children(e.router));function uft(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pu.apply(this,arguments)}var cR="data-focus-lock",xCe="data-focus-lock-disabled",dft="data-no-focus-lock",fft="data-autofocus-inside",hft="data-no-autofocus";function pft(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mft(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function gft(e,t){return mft(t||null,function(n){return e.forEach(function(r){return pft(r,n)})})}var vI={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function wCe(e){return e}function CCe(e,t){t===void 0&&(t=wCe);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function ZL(e,t){return t===void 0&&(t=wCe),CCe(e,t)}function vft(e){e===void 0&&(e={});var t=CCe(null);return t.options=Z$({async:!0,ssr:!1},e),t}var _Ce=ZL({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),SCe=ZL(),yft=ZL(),bft=vft({async:!0}),xft=[],XL=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),l=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var y=t.group,x=t.className,b=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?xft:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,P=t.onDeactivation,R=h.useState({}),$=R[0],U=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),l.current=!0},[I]),L=h.useCallback(function(){l.current=!1,P&&P(a.current)},[P]);h.useEffect(function(){f||(u.current=null)},[]);var W=h.useCallback(function(Z){var K=u.current;if(K&&K.focus){var J=typeof A=="function"?A(K):A;if(J){var X=typeof J=="object"?J:void 0;u.current=null,Z?Promise.resolve().then(function(){return K.focus(X)}):K.focus(X)}}},[A]),Y=h.useCallback(function(Z){l.current&&_Ce.useMedium(Z)},[]),V=SCe.useMedium,H=h.useCallback(function(Z){a.current!==Z&&(a.current=Z,s(Z))},[]),Q=Pu((r={},r[xCe]=f&&"disabled",r[cR]=y,r),k),F=p!==!0,G=F&&p!=="tail",z=gft([n,H]);return h.createElement(h.Fragment,null,F&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:vI}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:vI}):null],!f&&h.createElement(T,{id:$,sideCar:bft,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:b,shards:_,onActivation:U,onDeactivation:L,returnFocus:W,focusOptions:D}),h.createElement(E,Pu({ref:z},Q,{className:x,onBlur:V,onFocus:Y}),d),G&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:vI}))});XL.propTypes={};XL.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const ECe=XL;function j5(e,t){return j5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},j5(e,t)}function wft(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j5(e,t)}function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function Cft(e,t){if(_l(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kCe(e){var t=Cft(e,"string");return _l(t)==="symbol"?t:String(t)}function Fe(e,t,n){return t=kCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ft(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var l=function(u){wft(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return se.createElement(o,this.props)},d}(h.PureComponent);return Fe(l,"displayName","SideEffect("+n(o)+")"),l}}var $c=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},T5=function(e){return Array.isArray(e)?e:[e]},jCe=function(e){return Array.isArray(e)?e[0]:e},Sft=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},TCe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},ACe=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Eft=function(e,t){return!e||ACe(e)||!Sft(e)&&t(TCe(e))},DCe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Eft(t,DCe.bind(void 0,e));return e.set(t,r),r},kft=function(e,t){return e&&!ACe(e)?Aft(e)?t(TCe(e)):!1:!0},ICe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=kft(t,ICe.bind(void 0,e));return e.set(t,r),r},PCe=function(e){return e.dataset},jft=function(e){return e.tagName==="BUTTON"},OCe=function(e){return e.tagName==="INPUT"},$Ce=function(e){return OCe(e)&&e.type==="radio"},Tft=function(e){return!((OCe(e)||jft(e))&&(e.type==="hidden"||e.disabled))},Aft=function(e){var t=e.getAttribute(hft);return![!0,"true",""].includes(t)},QL=function(e){var t;return!!(e&&(!((t=PCe(e))===null||t===void 0)&&t.focusGuard))},A5=function(e){return!QL(e)},Dft=function(e){return!!e},Ift=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},RCe=function(e,t,n){return $c(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Ift)},Pft=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],JL=Pft.join(","),Oft="".concat(JL,", [data-focus-guard]"),MCe=function(e,t){return $c((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Oft:JL)?[r]:[],MCe(r))},[])},$ft=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?Jj([e.contentDocument.body],t):[e]},Jj=function(e,t){return e.reduce(function(n,r){var o,i=MCe(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return $ft(a,t)}));return n.concat(s,r.parentNode?$c(r.parentNode.querySelectorAll(JL)).filter(function(a){return a===r}):[])},[])},Rft=function(e){var t=e.querySelectorAll("[".concat(fft,"]"));return $c(t).map(function(n){return Jj([n])}).reduce(function(n,r){return n.concat(r)},[])},e8=function(e,t){return $c(e).filter(function(n){return DCe(t,n)}).filter(function(n){return Tft(n)})},Kq=function(e,t){return t===void 0&&(t=new Map),$c(e).filter(function(n){return ICe(t,n)})},uR=function(e,t,n){return RCe(e8(Jj(e,n),t),!0,n)},Zq=function(e,t){return RCe(e8(Jj(e),t),!1)},Mft=function(e,t){return e8(Rft(e),t)},Gg=function(e,t){return e.shadowRoot?Gg(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:$c(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?Gg(o,t):!1}return Gg(n,t)})},Fft=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},FCe=function(e){return e.parentNode?FCe(e.parentNode):e},t8=function(e){var t=T5(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(cR);return n.push.apply(n,o?Fft($c(FCe(r).querySelectorAll("[".concat(cR,'="').concat(o,'"]:not([').concat(xCe,'="disabled"])')))):[r]),n},[])},Lft=function(e){try{return e()}catch{return}},Wb=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?Wb(t.shadowRoot):t instanceof HTMLIFrameElement&&Lft(function(){return t.contentWindow.document})?Wb(t.contentWindow.document):t}},Bft=function(e,t){return e===t},Nft=function(e,t){return!!$c(e.querySelectorAll("iframe")).some(function(n){return Bft(n,t)})},LCe=function(e,t){return t===void 0&&(t=Wb(jCe(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:t8(e).some(function(n){return Gg(n,t)||Nft(n,t)})},zft=function(e){e===void 0&&(e=document);var t=Wb(e);return t?$c(e.querySelectorAll("[".concat(dft,"]"))).some(function(n){return Gg(n,t)}):!1},Vft=function(e,t){return t.filter($Ce).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},n8=function(e,t){return $Ce(e)&&e.name?Vft(e,t):e},Hft=function(e){var t=new Set;return e.forEach(function(n){return t.add(n8(n,e))}),e.filter(function(n){return t.has(n)})},Xq=function(e){return e[0]&&e.length>1?n8(e[0],e):e[0]},Qq=function(e,t){return e.length>1?e.indexOf(n8(e[t],e)):t},BCe="NEW_FOCUS",Uft=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=QL(n);if(!(n&&e.indexOf(n)>=0)){var l=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):l,d=r?e.indexOf(r):-1,f=l-u,p=t.indexOf(i),m=t.indexOf(s),v=Hft(t),g=n!==void 0?v.indexOf(n):-1,y=g-(r?v.indexOf(r):l),x=Qq(e,0),b=Qq(e,o-1);if(l===-1||d===-1)return BCe;if(!f&&d>=0)return d;if(l<=p&&a&&Math.abs(f)>1)return b;if(l>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(y)>1)return d;if(l<=p)return b;if(l>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Wft=function(e){return function(t){var n,r=(n=PCe(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Yft=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=Kq(r.filter(Wft(n)));return o&&o.length?Xq(o):Xq(Kq(t))},dR=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&dR(e.parentNode.host||e.parentNode,t),t},yI=function(e,t){for(var n=dR(e),r=dR(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},NCe=function(e,t,n){var r=T5(e),o=T5(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=yI(s||a,a)||s,n.filter(Boolean).forEach(function(l){var u=yI(i,l);u&&(!s||Gg(u,s)?s=u:s=yI(u,s))})}),s},qft=function(e,t){return e.reduce(function(n,r){return n.concat(Mft(r,t))},[])},Gft=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Dft)},Kft=function(e,t){var n=Wb(T5(e).length>0?document:jCe(e).ownerDocument),r=t8(e).filter(A5),o=NCe(n||e,e,r),i=new Map,s=Zq(r,i),a=uR(r,i).filter(function(m){var v=m.node;return A5(v)});if(!(!a[0]&&(a=s,!a[0]))){var l=Zq([o],i).map(function(m){var v=m.node;return v}),u=Gft(l,a),d=u.map(function(m){var v=m.node;return v}),f=Uft(d,l,n,t);if(f===BCe){var p=Yft(s,d,qft(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Zft=function(e){var t=t8(e).filter(A5),n=NCe(e,e,t),r=new Map,o=uR([n],r,!0),i=uR(t,r).filter(function(s){var a=s.node;return A5(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,l=s.index;return{node:a,index:l,lockItem:i.indexOf(a)>=0,guard:QL(a)}})},Xft=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},bI=0,xI=!1,zCe=function(e,t,n){n===void 0&&(n={});var r=Kft(e,t);if(!xI&&r){if(bI>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),xI=!0,setTimeout(function(){xI=!1},1);return}bI++,Xft(r.node,n.focusOptions),bI--}};function r8(e){setTimeout(e,1)}var Qft=function(){return document&&document.activeElement===document.body},Jft=function(){return Qft()||zft()},Kg=null,Dg=null,Zg=null,Yb=!1,eht=function(){return!0},tht=function(t){return(Kg.whiteList||eht)(t)},nht=function(t,n){Zg={observerNode:t,portaledElement:n}},rht=function(t){return Zg&&Zg.portaledElement===t};function Jq(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var oht=function(t){return t&&"current"in t?t.current:t},iht=function(t){return t?!!Yb:Yb==="meanwhile"},sht=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},aht=function(t,n){return n.some(function(r){return sht(t,r,r)})},D5=function(){var t=!1;if(Kg){var n=Kg,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,u=r||Zg&&Zg.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(oht).filter(Boolean));if((!d||tht(d))&&(o||iht(a)||!Jft()||!Dg&&i)&&(u&&!(LCe(f)||d&&aht(d,f)||rht(d))&&(document&&!Dg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=zCe(f,Dg,{focusOptions:l}),Zg={})),Yb=!1,Dg=document&&document.activeElement),document){var p=document&&document.activeElement,m=Zft(f),v=m.map(function(g){var y=g.node;return y}).indexOf(p);v>-1&&(m.filter(function(g){var y=g.guard,x=g.node;return y&&x.dataset.focusAutoGuard}).forEach(function(g){var y=g.node;return y.removeAttribute("tabIndex")}),Jq(v,m.length,1,m),Jq(v,-1,-1,m))}}}return t},VCe=function(t){D5()&&t&&(t.stopPropagation(),t.preventDefault())},o8=function(){return r8(D5)},lht=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||nht(r,n)},cht=function(){return null},HCe=function(){Yb="just",r8(function(){Yb="meanwhile"})},uht=function(){document.addEventListener("focusin",VCe),document.addEventListener("focusout",o8),window.addEventListener("blur",HCe)},dht=function(){document.removeEventListener("focusin",VCe),document.removeEventListener("focusout",o8),window.removeEventListener("blur",HCe)};function fht(e){return e.filter(function(t){var n=t.disabled;return!n})}function hht(e){var t=e.slice(-1)[0];t&&!Kg&&uht();var n=Kg,r=n&&t&&t.id===n.id;Kg=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Dg=null,(!r||n.observed!==t.observed)&&t.onActivation(),D5(),r8(D5)):(dht(),Dg=null)}_Ce.assignSyncMedium(lht);SCe.assignMedium(o8);yft.assignMedium(function(e){return e({moveFocusInside:zCe,focusInside:LCe})});const pht=_ft(fht,hht)(cht);var UCe=h.forwardRef(function(t,n){return h.createElement(ECe,Pu({sideCar:pht,ref:n},t))}),WCe=ECe.propTypes||{};WCe.sideCar;uft(WCe,["sideCar"]);UCe.propTypes={};const Qu=UCe;var YCe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)t.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(YCe);var mht=YCe.exports;const ght=Ie(mht);function mm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const vht="modulepreload",yht=function(e){return"/"+e},eG={},i8=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=yht(i),i in eG)return;eG[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":vht,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},bht=typeof navigator>"u"?!1:navigator.product==="ReactNative",qCe={timeout:bht?6e4:12e4},xht=function(t){const n={...qCe,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=GCe(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)r.append(s,l);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function GCe(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?GCe(qCe.timeout):{connect:t,socket:t}}const wht=/^https?:\/\//i,Cht=function(t){if(!wht.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var wI=function(e){return e.replace(/^\s+|\s+$/g,"")},_ht=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Sht=function(e){if(!e)return{};for(var t={},n=wI(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=wI(o.slice(0,i)).toLowerCase(),a=wI(o.slice(i+1));typeof t[s]>"u"?t[s]=a:_ht(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const Eht=Ie(Sht),kht=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function jht(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const Tht=["request","response","progress","error","abort"],tG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function KCe(e,t){const n=[],r=tG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[xht],validateOptions:[Cht]});function o(i){const s=(v,g,y)=>{let x=v,b=g;if(!x)try{b=l("onResponse",g,y)}catch(w){b=null,x=w}x=x&&l("onError",x,y),x?a.error.publish(x):b&&a.response.publish(b)},a=Tht.reduce((v,g)=>(v[g]=jht(),v),{}),l=kht(r),u=l("processOptions",i);l("validateOptions",u);const d={options:u,channels:a,applyMiddleware:l};let f;const p=a.request.subscribe(v=>{f=t(v,(g,y)=>s(g,y,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=l("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return tG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>KCe(n,t),e.forEach(o.use),o}var ZCe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ma=(e,t,n)=>(ZCe(e,t,"read from private field"),n?n.call(e):t.get(e)),ph=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ud=(e,t,n,r)=>(ZCe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),j2,T2,rg,A2,vd,D2,I2;class XCe{constructor(){this.readyState=0,this.responseType="",ph(this,j2,void 0),ph(this,T2,void 0),ph(this,rg,void 0),ph(this,A2,{}),ph(this,vd,void 0),ph(this,D2,{}),ph(this,I2,void 0)}open(t,n,r){ud(this,j2,t),ud(this,T2,n),ud(this,rg,""),this.readyState=1,this.onreadystatechange(),ud(this,vd,void 0)}abort(){ma(this,vd)&&ma(this,vd).abort()}getAllResponseHeaders(){return ma(this,rg)}setRequestHeader(t,n){ma(this,A2)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ud(this,D2,t),ud(this,I2,n)}send(t){const n=this.responseType!=="arraybuffer",r={...ma(this,D2),method:ma(this,j2),headers:ma(this,A2),body:t};typeof AbortController=="function"&&ma(this,I2)&&(ud(this,vd,new AbortController),typeof EventTarget<"u"&&ma(this,vd).signal instanceof EventTarget&&(r.signal=ma(this,vd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(ma(this,T2),r).then(o=>(o.headers.forEach((i,s)=>{ud(this,rg,ma(this,rg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}j2=new WeakMap;T2=new WeakMap;rg=new WeakMap;A2=new WeakMap;vd=new WeakMap;D2=new WeakMap;I2=new WeakMap;const fR=typeof XMLHttpRequest=="function"?"xhr":"fetch",Aht=fR==="xhr"?XMLHttpRequest:XCe,Dht=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:fR,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new Aht;a instanceof XCe&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const l=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{y(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,l&&a.setRequestHeader)for(const C in l)l.hasOwnProperty(C)&&a.setRequestHeader(C,l[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:fR,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(y(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function y(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;y(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function b(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:Eht(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}y(),f=!0,t(null,b())}}},Iht=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dht;return KCe(e,t)};var nG={exports:{}};function Pht(e){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=o,n.enabled=s,n.humanize=Gj(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...y){if(!g.enabled)return;const x=g,b=Number(new Date),w=b-(f||b);x.diff=w,x.prev=f,x.curr=b,f=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=y[C];S=j.call(x,k),y.splice(C,1),C--}return S}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Oht=Pht;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function i(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function s(){try{return localStorage}catch{}}e.exports=Oht(t);const{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(nG,nG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function rG(e){return Object.prototype.toString.call(e)==="[object Object]"}function Uo(e){var t,n;return rG(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(rG(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const $ht=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),Rht=["boolean","string","number"];function Mht(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!$ht(t)&&(Rht.indexOf(typeof t)!==-1||Array.isArray(t)||Uo(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Fht(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let sy={};typeof globalThis<"u"?sy=globalThis:typeof window<"u"?sy=window:typeof global<"u"?sy=global:typeof self<"u"&&(sy=self);var Lht=sy;function Bht(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Lht.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function Nht(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class zht{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const oG=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new zht(r),n(this.reason))})}};oG.source=()=>{let e;return{token:new oG(n=>{e=n}),cancel:e}};var QCe=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const Vht=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var Hht=e=>{const t=e.maxRetries||5,n=e.retryDelay||Uht,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,l=s.shouldRetry||r,u=s.attemptNumber||0;if(Vht(s.body)||!l(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function Uht(e){return 100*Math.pow(2,e)+Math.random()*100}const s8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Hht({shouldRetry:QCe,...e})};s8.shouldRetry=QCe;var JCe=[];const CI=5;class Wht extends Error{constructor(t){const n=e_e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class Yht extends Error{constructor(t){const n=e_e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function e_e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Kht(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(qht(t)){const r=t.error.items||[],o=r.slice(0,CI).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>CI&&(i+=`
...and `.concat(r.length-CI," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||Ght(e),n)}function qht(e){return iG(e)&&iG(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function iG(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Ght(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Kht(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Zht={onResponse:e=>{if(e.statusCode>=500)throw new Yht(e);if(e.statusCode>=400)throw new Wht(e);return e}},Xht={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function t_e(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=Iht([n>0?s8({retryDelay:r,maxRetries:n,shouldRetry:Qht}):{},...e,Xht,Mht(),Fht(),Nht(),Zht,Bht({implementation:dt})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function Qht(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:s8.shouldRetry(e,t,n)}const Jht="https://www.sanity.io/help/";function a8(e){return Jht+e}const sG=["image","file"],aG=["before","after","replace"],n_e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},ept=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},tpt=e=>{if(sG.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(sG.join(", ")))},Uy=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},r_e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},I5=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));r_e(e,t._id)},npt=(e,t,n)=>{const r="insert(at, selector, items)";if(aG.indexOf(e)===-1){const o=aG.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},o_e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},i_e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};function rpt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const eT=e=>rpt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),opt=eT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),ipt=eT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),spt=eT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(a8("js-client-browser-token")," for more information and how to hide this warning.")]),apt=eT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(a8("js-client-api-version"))]),lpt="apicdn.sanity.io",P5={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},cpt=["localhost","127.0.0.1","0.0.0.0"],upt=e=>cpt.indexOf(e)!==-1,dpt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},s_e=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},a_e=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||apt();const r=Object.assign({},P5,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=a8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&s_e(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&upt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?spt():typeof r.useCdn>"u"&&opt(),o&&ept(r.projectId),r.dataset&&n_e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?i_e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===P5.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,dpt(r.apiVersion);const a=r.apiHost.split("://",2),l=a[0],u=a[1],d=r.isDefaultApi?lpt:u;return r.useProjectHostname?(r.url="".concat(l,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(l,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},fpt="X-Sanity-Project-ID";function hpt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[fpt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}function l_e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const c_e=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,l]of Object.entries(n))o.append("$".concat(a),JSON.stringify(l));for(const[a,l]of Object.entries(s))l&&o.append(a,"".concat(l));return"?".concat(o)};var u_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Xg=(e,t,n)=>(u_e(e,t,"read from private field"),n?n.call(e):t.get(e)),d_e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},f_e=(e,t,n,r)=>(u_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),og,ig;class h_e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return Uy("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return npt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),l=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(l,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...l_e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Uy(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const ppt=class p_e extends h_e{constructor(t,n,r){super(t,n),d_e(this,og,void 0),f_e(this,og,r)}clone(){return new p_e(this.selection,{...this.operations},Xg(this,og))}commit(t){if(!Xg(this,og))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return Xg(this,og).mutate({patch:this.serialize()},r)}};og=new WeakMap;let Wy=ppt;const mpt=class m_e extends h_e{constructor(t,n,r){super(t,n),d_e(this,ig,void 0),f_e(this,ig,r)}clone(){return new m_e(this.selection,{...this.operations},Xg(this,ig))}commit(t){if(!Xg(this,ig))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return Xg(this,ig).mutate({patch:this.serialize()},r)}};ig=new WeakMap;let Yy=mpt;var g_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Fd=(e,t,n)=>(g_e(e,t,"read from private field"),n?n.call(e):t.get(e)),v_e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},y_e=(e,t,n,r)=>(g_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ih,Ph;const b_e={returnDocuments:!1};class x_e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return Uy("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return Uy(n,t),I5(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return Uy(n,t),I5(n,t),this._add({[n]:t})}delete(t){return r_e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const gpt=class w_e extends x_e{constructor(t,n,r){super(t,r),v_e(this,Ih,void 0),y_e(this,Ih,n)}clone(){return new w_e([...this.operations],Fd(this,Ih),this.trxId)}commit(t){if(!Fd(this,Ih))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Fd(this,Ih).mutate(this.serialize(),Object.assign({transactionId:this.trxId},b_e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof Yy)return this._add({patch:t.serialize()});if(r){const i=n(new Yy(t,{},Fd(this,Ih)));if(!(i instanceof Yy))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Ih=new WeakMap;let C_e=gpt;const vpt=class __e extends x_e{constructor(t,n,r){super(t,r),v_e(this,Ph,void 0),y_e(this,Ph,n)}clone(){return new __e([...this.operations],Fd(this,Ph),this.trxId)}commit(t){if(!Fd(this,Ph))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Fd(this,Ph).mutate(this.serialize(),Object.assign({transactionId:this.trxId},b_e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof Wy)return this._add({patch:t.serialize()});if(r){const i=n(new Wy(t,{},Fd(this,Ph)));if(!(i instanceof Wy))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Ph=new WeakMap;let S_e=vpt;const ypt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,bpt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:ypt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},l8=e=>e.type==="response",xpt=e=>e.body,wpt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),Cpt=11264;function E_e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...l}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...l,fetch:{cache:s,next:a}}:l;return dw(e,t,"query",{query:n,params:r},u).pipe(ce(i))}function k_e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:E0(e,"doc",n),json:!0,tag:r.tag};return fw(e,t,o).pipe(ut(l8),ce(i=>i.body.documents&&i.body.documents[0]))}function j_e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:E0(e,"doc",n.join(",")),json:!0,tag:r.tag};return fw(e,t,o).pipe(ut(l8),ce(i=>{const s=wpt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function T_e(e,t,n,r){return I5("createIfNotExists",n),tT(e,t,n,"createIfNotExists",r)}function A_e(e,t,n,r){return I5("createOrReplace",n),tT(e,t,n,"createOrReplace",r)}function D_e(e,t,n,r){return dw(e,t,"mutate",{mutations:[{delete:l_e(n)}]},r)}function I_e(e,t,n,r){let o;n instanceof Yy||n instanceof Wy?o={patch:n.serialize()}:n instanceof C_e||n instanceof S_e?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return dw(e,t,"mutate",{mutations:i,transactionId:s},r)}function dw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":c_e(r),l=!i&&a.length<Cpt,u=l?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=E0(e,n,u),y={method:l?"GET":"POST",uri:g,json:!0,body:l?void 0:r,query:i&&bpt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return fw(e,t,y).pipe(ut(l8),ce(xpt),ce(x=>{if(!i)return x;const b=x.results||[];if(o.returnDocuments)return d?b[0]&&b[0].document:b.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?b[0]&&b[0].id:b.map(_=>_.id);return{transactionId:x.transactionId,results:b,[w]:C}}))}function tT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return dw(e,t,"mutate",{mutations:[i]},s)}function fw(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const l=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(l&&n.tag!==null&&(n.query={tag:i_e(l),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(s_e(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,ipt()))}const u=hpt(i,Object.assign({},n,{url:c8(e,o,a)})),d=new dt(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(_pt(n.signal)):d}function Sl(e,t,n){return fw(e,t,n).pipe(ut(o=>o.type==="response"),ce(o=>o.body))}function E0(e,t,n){const r=e.config(),o=o_e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function c8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function _pt(e){return t=>new dt(n=>{const r=()=>n.error(Ept(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const Spt=!!globalThis.DOMException;function Ept(e){var t,n;if(Spt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var P_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},O5=(e,t,n)=>(P_e(e,t,"read from private field"),n?n.call(e):t.get(e)),$5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},R5=(e,t,n,r)=>(P_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),P2,O2,$2,R2;class kpt{constructor(t,n){$5(this,P2,void 0),$5(this,O2,void 0),R5(this,P2,t),R5(this,O2,n)}upload(t,n,r){return O_e(O5(this,P2),O5(this,O2),t,n,r)}}P2=new WeakMap;O2=new WeakMap;class jpt{constructor(t,n){$5(this,$2,void 0),$5(this,R2,void 0),R5(this,$2,t),R5(this,R2,n)}upload(t,n,r){const o=O_e(O5(this,$2),O5(this,R2),t,n,r);return go(o.pipe(ut(i=>i.type==="response"),ce(i=>i.body.document)))}}$2=new WeakMap;R2=new WeakMap;function O_e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};tpt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=o_e(e.config()),a=n==="image"?"images":"files",l=Tpt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=l,y={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(y.sourceId=g.id,y.sourceName=g.name,y.sourceUrl=g.url),fw(e,t,{tag:u,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:l.contentType?{"Content-Type":l.contentType}:{},query:y,body:r})}function Tpt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var Apt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const Dpt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),Ipt=16e3-1200,Ppt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Opt={includeResult:!0};function $_e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,l={...Apt(n,Opt),tag:a},u=Dpt(l,Ppt),d=c_e({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(E0(this,"listen",d));if(f.length>Ipt)return new dt(g=>g.error(new Error("Query too large for listener")));const p=l.events?l.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new dt(g=>{let y;k().then(D=>{y=D}).catch(D=>{g.error(D),A()});let x,b=!1;function w(){b||(j(),!b&&y.readyState===y.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error($pt(D))}function _(D){const I=R_e(D);return I instanceof Error?g.error(I):g.next(I)}function S(){b=!0,E(),g.complete()}function E(){y&&(y.removeEventListener("error",w),y.removeEventListener("channelError",C),y.removeEventListener("disconnect",S),p.forEach(D=>y.removeEventListener(D,_)),y.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await i8(()=>import("./browser-26d95b49.js").then(P=>P.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(P=>I.addEventListener(P,_)),I}function T(){k().then(D=>{y=D}).catch(D=>{g.error(D),A()})}function A(){b=!0,E()}return A})}function R_e(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function $pt(e){if(e instanceof Error)return e;const t=R_e(e);return t instanceof Error?t:new Error(Rpt(t))}function Rpt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var M_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},di=(e,t,n)=>(M_e(e,t,"read from private field"),n?n.call(e):t.get(e)),M5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},F5=(e,t,n,r)=>(M_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Oh,$h,Rh,Mh;class Mpt{constructor(t,n){M5(this,Oh,void 0),M5(this,$h,void 0),F5(this,Oh,t),F5(this,$h,n)}create(t,n){return Qg(di(this,Oh),di(this,$h),"PUT",t,n)}edit(t,n){return Qg(di(this,Oh),di(this,$h),"PATCH",t,n)}delete(t){return Qg(di(this,Oh),di(this,$h),"DELETE",t)}list(){return Sl(di(this,Oh),di(this,$h),{uri:"/datasets",tag:null})}}Oh=new WeakMap;$h=new WeakMap;class Fpt{constructor(t,n){M5(this,Rh,void 0),M5(this,Mh,void 0),F5(this,Rh,t),F5(this,Mh,n)}create(t,n){return go(Qg(di(this,Rh),di(this,Mh),"PUT",t,n))}edit(t,n){return go(Qg(di(this,Rh),di(this,Mh),"PATCH",t,n))}delete(t){return go(Qg(di(this,Rh),di(this,Mh),"DELETE",t))}list(){return go(Sl(di(this,Rh),di(this,Mh),{uri:"/datasets",tag:null}))}}Rh=new WeakMap;Mh=new WeakMap;function Qg(e,t,n,r,o){return n_e(r),Sl(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var F_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ld=(e,t,n)=>(F_e(e,t,"read from private field"),n?n.call(e):t.get(e)),L5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},B5=(e,t,n,r)=>(F_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ay,ly,cy,uy;class Lpt{constructor(t,n){L5(this,ay,void 0),L5(this,ly,void 0),B5(this,ay,t),B5(this,ly,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Sl(Ld(this,ay),Ld(this,ly),{uri:n})}getById(t){return Sl(Ld(this,ay),Ld(this,ly),{uri:"/projects/".concat(t)})}}ay=new WeakMap;ly=new WeakMap;class Bpt{constructor(t,n){L5(this,cy,void 0),L5(this,uy,void 0),B5(this,cy,t),B5(this,uy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return go(Sl(Ld(this,cy),Ld(this,uy),{uri:n}))}getById(t){return go(Sl(Ld(this,cy),Ld(this,uy),{uri:"/projects/".concat(t)}))}}cy=new WeakMap;uy=new WeakMap;var L_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},N5=(e,t,n)=>(L_e(e,t,"read from private field"),n?n.call(e):t.get(e)),z5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},V5=(e,t,n,r)=>(L_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),M2,F2,L2,B2;class Npt{constructor(t,n){z5(this,M2,void 0),z5(this,F2,void 0),V5(this,M2,t),V5(this,F2,n)}getById(t){return Sl(N5(this,M2),N5(this,F2),{uri:"/users/".concat(t)})}}M2=new WeakMap;F2=new WeakMap;class zpt{constructor(t,n){z5(this,L2,void 0),z5(this,B2,void 0),V5(this,L2,t),V5(this,B2,n)}getById(t){return go(Sl(N5(this,L2),N5(this,B2),{uri:"/users/".concat(t)}))}}L2=new WeakMap;B2=new WeakMap;var B_e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Dt=(e,t,n)=>(B_e(e,t,"read from private field"),n?n.call(e):t.get(e)),H5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},U5=(e,t,n,r)=>(B_e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Fh,To,Lh,mo;const Vpt=class hR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P5;H5(this,Fh,void 0),H5(this,To,void 0),this.listen=$_e,this.config(n),U5(this,To,t),this.assets=new kpt(this,Dt(this,To)),this.datasets=new Mpt(this,Dt(this,To)),this.projects=new Lpt(this,Dt(this,To)),this.users=new Npt(this,Dt(this,To))}clone(){return new hR(Dt(this,To),this.config())}config(t){if(t===void 0)return{...Dt(this,Fh)};if(Dt(this,Fh)&&Dt(this,Fh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return U5(this,Fh,a_e(t,Dt(this,Fh)||{})),this}withConfig(t){return new hR(Dt(this,To),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E_e(this,Dt(this,To),t,n,r)}getDocument(t,n){return k_e(this,Dt(this,To),t,n)}getDocuments(t,n){return j_e(this,Dt(this,To),t,n)}create(t,n){return tT(this,Dt(this,To),t,"create",n)}createIfNotExists(t,n){return T_e(this,Dt(this,To),t,n)}createOrReplace(t,n){return A_e(this,Dt(this,To),t,n)}delete(t,n){return D_e(this,Dt(this,To),t,n)}mutate(t,n){return I_e(this,Dt(this,To),t,n)}patch(t,n){return new Wy(t,n,this)}transaction(t){return new S_e(t,this)}request(t){return Sl(this,Dt(this,To),t)}getUrl(t,n){return c8(this,t,n)}getDataUrl(t,n){return E0(this,t,n)}};Fh=new WeakMap;To=new WeakMap;let Hpt=Vpt;const Upt=class pR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P5;H5(this,Lh,void 0),H5(this,mo,void 0),this.listen=$_e,this.config(n),U5(this,mo,t),this.assets=new jpt(this,Dt(this,mo)),this.datasets=new Fpt(this,Dt(this,mo)),this.projects=new Bpt(this,Dt(this,mo)),this.users=new zpt(this,Dt(this,mo)),this.observable=new Hpt(t,n)}clone(){return new pR(Dt(this,mo),this.config())}config(t){if(t===void 0)return{...Dt(this,Lh)};if(Dt(this,Lh)&&Dt(this,Lh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),U5(this,Lh,a_e(t,Dt(this,Lh)||{})),this}withConfig(t){return new pR(Dt(this,mo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return go(E_e(this,Dt(this,mo),t,n,r))}getDocument(t,n){return go(k_e(this,Dt(this,mo),t,n))}getDocuments(t,n){return go(j_e(this,Dt(this,mo),t,n))}create(t,n){return go(tT(this,Dt(this,mo),t,"create",n))}createIfNotExists(t,n){return go(T_e(this,Dt(this,mo),t,n))}createOrReplace(t,n){return go(A_e(this,Dt(this,mo),t,n))}delete(t,n){return go(D_e(this,Dt(this,mo),t,n))}mutate(t,n){return go(I_e(this,Dt(this,mo),t,n))}patch(t,n){return new Yy(t,n,this)}transaction(t){return new C_e(t,this)}request(t){return go(Sl(this,Dt(this,mo),t))}dataRequest(t,n,r){return go(dw(this,Dt(this,mo),t,n,r))}getUrl(t,n){return c8(this,t,n)}getDataUrl(t,n){return E0(this,t,n)}};Lh=new WeakMap;mo=new WeakMap;let Wpt=Upt;const Ypt=t_e(JCe,{});Ypt.defaultRequester;const N_e=e=>new Wpt(t_e(JCe,{maxRetries:e.maxRetries,retryDelay:e.retryDelay}),e);var qpt=Nf,Gpt=Xr,Kpt=Ya,Zpt="[object String]";function Xpt(e){return typeof e=="string"||!Gpt(e)&&Kpt(e)&&qpt(e)==Zpt}var Qpt=Xpt;const nT=Ie(Qpt);function Jpt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var emt=Jpt;function tmt(e){return function(t){return e==null?void 0:e[t]}}var nmt=tmt,rmt=nmt,omt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},imt=rmt(omt),smt=imt,amt=smt,lmt=Oc,cmt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,umt="\\u0300-\\u036f",dmt="\\ufe20-\\ufe2f",fmt="\\u20d0-\\u20ff",hmt=umt+dmt+fmt,pmt="["+hmt+"]",mmt=RegExp(pmt,"g");function gmt(e){return e=lmt(e),e&&e.replace(cmt,amt).replace(mmt,"")}var vmt=gmt,ymt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function bmt(e){return e.match(ymt)||[]}var xmt=bmt,wmt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Cmt(e){return wmt.test(e)}var _mt=Cmt,z_e="\\ud800-\\udfff",Smt="\\u0300-\\u036f",Emt="\\ufe20-\\ufe2f",kmt="\\u20d0-\\u20ff",jmt=Smt+Emt+kmt,V_e="\\u2700-\\u27bf",H_e="a-z\\xdf-\\xf6\\xf8-\\xff",Tmt="\\xac\\xb1\\xd7\\xf7",Amt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dmt="\\u2000-\\u206f",Imt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",U_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Pmt="\\ufe0e\\ufe0f",W_e=Tmt+Amt+Dmt+Imt,Y_e="[']",lG="["+W_e+"]",Omt="["+jmt+"]",q_e="\\d+",$mt="["+V_e+"]",G_e="["+H_e+"]",K_e="[^"+z_e+W_e+q_e+V_e+H_e+U_e+"]",Rmt="\\ud83c[\\udffb-\\udfff]",Mmt="(?:"+Omt+"|"+Rmt+")",Fmt="[^"+z_e+"]",Z_e="(?:\\ud83c[\\udde6-\\uddff]){2}",X_e="[\\ud800-\\udbff][\\udc00-\\udfff]",sg="["+U_e+"]",Lmt="\\u200d",cG="(?:"+G_e+"|"+K_e+")",Bmt="(?:"+sg+"|"+K_e+")",uG="(?:"+Y_e+"(?:d|ll|m|re|s|t|ve))?",dG="(?:"+Y_e+"(?:D|LL|M|RE|S|T|VE))?",Q_e=Mmt+"?",J_e="["+Pmt+"]?",Nmt="(?:"+Lmt+"(?:"+[Fmt,Z_e,X_e].join("|")+")"+J_e+Q_e+")*",zmt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vmt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hmt=J_e+Q_e+Nmt,Umt="(?:"+[$mt,Z_e,X_e].join("|")+")"+Hmt,Wmt=RegExp([sg+"?"+G_e+"+"+uG+"(?="+[lG,sg,"$"].join("|")+")",Bmt+"+"+dG+"(?="+[lG,sg+cG,"$"].join("|")+")",sg+"?"+cG+"+"+uG,sg+"+"+dG,Vmt,zmt,q_e,Umt].join("|"),"g");function Ymt(e){return e.match(Wmt)||[]}var qmt=Ymt,Gmt=xmt,Kmt=_mt,Zmt=Oc,Xmt=qmt;function Qmt(e,t,n){return e=Zmt(e),t=n?void 0:t,t===void 0?Kmt(e)?Xmt(e):Gmt(e):e.match(t)||[]}var e2e=Qmt;const t2e=Ie(e2e);var Jmt=emt,egt=vmt,tgt=e2e,ngt="[']",rgt=RegExp(ngt,"g");function ogt(e){return function(t){return Jmt(tgt(egt(t).replace(rgt,"")),e,"")}}var u8=ogt;function igt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var n2e=igt,sgt=n2e;function agt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:sgt(e,t,n)}var r2e=agt,lgt="\\ud800-\\udfff",cgt="\\u0300-\\u036f",ugt="\\ufe20-\\ufe2f",dgt="\\u20d0-\\u20ff",fgt=cgt+ugt+dgt,hgt="\\ufe0e\\ufe0f",pgt="\\u200d",mgt=RegExp("["+pgt+lgt+fgt+hgt+"]");function ggt(e){return mgt.test(e)}var o2e=ggt;function vgt(e){return e.split("")}var ygt=vgt,i2e="\\ud800-\\udfff",bgt="\\u0300-\\u036f",xgt="\\ufe20-\\ufe2f",wgt="\\u20d0-\\u20ff",Cgt=bgt+xgt+wgt,_gt="\\ufe0e\\ufe0f",Sgt="["+i2e+"]",mR="["+Cgt+"]",gR="\\ud83c[\\udffb-\\udfff]",Egt="(?:"+mR+"|"+gR+")",s2e="[^"+i2e+"]",a2e="(?:\\ud83c[\\udde6-\\uddff]){2}",l2e="[\\ud800-\\udbff][\\udc00-\\udfff]",kgt="\\u200d",c2e=Egt+"?",u2e="["+_gt+"]?",jgt="(?:"+kgt+"(?:"+[s2e,a2e,l2e].join("|")+")"+u2e+c2e+")*",Tgt=u2e+c2e+jgt,Agt="(?:"+[s2e+mR+"?",mR,a2e,l2e,Sgt].join("|")+")",Dgt=RegExp(gR+"(?="+gR+")|"+Agt+Tgt,"g");function Igt(e){return e.match(Dgt)||[]}var Pgt=Igt,Ogt=ygt,$gt=o2e,Rgt=Pgt;function Mgt(e){return $gt(e)?Rgt(e):Ogt(e)}var d2e=Mgt,Fgt=r2e,Lgt=o2e,Bgt=d2e,Ngt=Oc;function zgt(e){return function(t){t=Ngt(t);var n=Lgt(t)?Bgt(t):void 0,r=n?n[0]:t.charAt(0),o=n?Fgt(n,1).join(""):t.slice(1);return r[e]()+o}}var Vgt=zgt,Hgt=Vgt,Ugt=Hgt("toUpperCase"),d8=Ugt;const f2e=Ie(d8);var Wgt=u8,Ygt=d8,qgt=Wgt(function(e,t,n){return e+(n?" ":"")+Ygt(t)}),Ggt=qgt;const sn=Ie(Ggt);let Kgt=e=>crypto.getRandomValues(new Uint8Array(e)),Zgt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),l=o;for(;l--;)if(s+=e[a[l]&r]||"",s.length===i)return s}}},Xgt=(e,t=21)=>Zgt(e,t,Kgt),Qgt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var Jgt=["presence","listen"],W5=globalThis&&globalThis.__assign||function(){return W5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},W5.apply(this,arguments)},evt=Xgt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),tvt="";function fG(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:rvt(t,"v1"),id:n})}function nvt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function rvt(e,t){return W5(W5({},e),{apiVersion:t})}var ovt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?evt:r,i=rwe(e.pipe(rt(function(m){return Yi(m,"message")})),function(m){return m.data===tvt}),s=i[0],a=i[1],l=a.pipe(yt(function(m){var v=nvt(m.data),g=v[0],y=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Gn):!y||!y.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",y),Gn):Ce(y)}),za()),u=n?Fo([n,e]).pipe(Kn(function(m,v){var g=m[0],y=m[1],x=v[0],b=v[1];return g===x&&y===b}),rt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(ps(1),EL(g)):Ce(g)}),Eo({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var y=o();return yn(l.pipe(ut(function(x){return x.id===y}),ce(function(x){return x.result})),So(function(){return m.send(fG(v,g,y)),Gn}))}function f(m,v){return u.pipe(ps(1),yt(function(g){return d(g,m,v).pipe(ps(1))}))}function p(m,v){return u.pipe(ps(1),yt(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(ps(1),yt(function(y){return l.pipe(ut(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===y}),ce(function(x){return x.params.result}),hwe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(fG("".concat(m,"_unsubscribe"),{subscriptionId:y},o()))}))}))}))}return{heartbeats:yn(u,s,a).pipe(ce(function(){return new Date})),request:function(m,v){return ivt(m)?p(m,v):f(m,v)}}};function ivt(e){return Jgt.includes(e)}var svt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hG=function(e){svt(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function avt(e){return function(t){return new dt(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new hG("WebSocket connection error","CONNECTION_ERROR"))},a=function(l){o?n.complete():n.error(new hG("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var lvt=function(e,t){return function(n){return ret(n,wi(e).pipe(yt(function(){return t})))}},pG;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(pG||(pG={}));var cvt=function(e){return e};function uvt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=avt(function(i,s){return new window.WebSocket(i,s)});return ovt(o(e).pipe(n?lvt(n,m0(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):cvt,Eo({refCount:!0}),kL(Yi(window,"beforeunload"))),{token$:r})}function dvt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var fvt=dvt,hvt=YL,pvt=Zj;function mvt(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),o?pvt(n,a,l):hvt(n,a,l)}return n}var k0=mvt,gvt=k0,vvt=Gf;function yvt(e,t){return e&&gvt(t,vvt(t),e)}var bvt=yvt;function xvt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var wvt=xvt,Cvt=Wa,_vt=Wj,Svt=wvt,Evt=Object.prototype,kvt=Evt.hasOwnProperty;function jvt(e){if(!Cvt(e))return Svt(e);var t=_vt(e),n=[];for(var r in e)r=="constructor"&&(t||!kvt.call(e,r))||n.push(r);return n}var Tvt=jvt,Avt=Awe,Dvt=Tvt,Ivt=qf;function Pvt(e){return Ivt(e)?Avt(e,!0):Dvt(e)}var f8=Pvt,Ovt=k0,$vt=f8;function Rvt(e,t){return e&&Ovt(t,$vt(t),e)}var Mvt=Rvt,Y5={exports:{}};Y5.exports;(function(e,t){var n=Dl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(Y5,Y5.exports);var Fvt=Y5.exports;function Lvt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var h8=Lvt,Bvt=k0,Nvt=OL;function zvt(e,t){return Bvt(e,Nvt(e),t)}var Vvt=zvt,Hvt=PL,Uvt=WL,Wvt=OL,Yvt=jwe,qvt=Object.getOwnPropertySymbols,Gvt=qvt?function(e){for(var t=[];e;)Hvt(t,Wvt(e)),e=Uvt(e);return t}:Yvt,h2e=Gvt,Kvt=k0,Zvt=h2e;function Xvt(e,t){return Kvt(e,Zvt(e),t)}var Qvt=Xvt,Jvt=Ewe,e0t=h2e,t0t=f8;function n0t(e){return Jvt(e,t0t,e0t)}var p8=n0t,r0t=Object.prototype,o0t=r0t.hasOwnProperty;function i0t(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&o0t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var s0t=i0t,mG=Swe;function a0t(e){var t=new e.constructor(e.byteLength);return new mG(t).set(new mG(e)),t}var m8=a0t,l0t=m8;function c0t(e,t){var n=t?l0t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var u0t=c0t,d0t=/\w*$/;function f0t(e){var t=new e.constructor(e.source,d0t.exec(e));return t.lastIndex=e.lastIndex,t}var h0t=f0t,gG=t0,vG=gG?gG.prototype:void 0,yG=vG?vG.valueOf:void 0;function p0t(e){return yG?Object(yG.call(e)):{}}var m0t=p0t,g0t=m8;function v0t(e,t){var n=t?g0t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var y0t=v0t,b0t=m8,x0t=u0t,w0t=h0t,C0t=m0t,_0t=y0t,S0t="[object Boolean]",E0t="[object Date]",k0t="[object Map]",j0t="[object Number]",T0t="[object RegExp]",A0t="[object Set]",D0t="[object String]",I0t="[object Symbol]",P0t="[object ArrayBuffer]",O0t="[object DataView]",$0t="[object Float32Array]",R0t="[object Float64Array]",M0t="[object Int8Array]",F0t="[object Int16Array]",L0t="[object Int32Array]",B0t="[object Uint8Array]",N0t="[object Uint8ClampedArray]",z0t="[object Uint16Array]",V0t="[object Uint32Array]";function H0t(e,t,n){var r=e.constructor;switch(t){case P0t:return b0t(e);case S0t:case E0t:return new r(+e);case O0t:return x0t(e,n);case $0t:case R0t:case M0t:case F0t:case L0t:case B0t:case N0t:case z0t:case V0t:return _0t(e,n);case k0t:return new r;case j0t:case D0t:return new r(e);case T0t:return w0t(e);case A0t:return new r;case I0t:return C0t(e)}}var U0t=H0t,W0t=Wa,bG=Object.create,Y0t=function(){function e(){}return function(t){if(!W0t(t))return{};if(bG)return bG(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),g8=Y0t,q0t=g8,G0t=WL,K0t=Wj;function Z0t(e){return typeof e.constructor=="function"&&!K0t(e)?q0t(G0t(e)):{}}var X0t=Z0t,Q0t=lw,J0t=Ya,e1t="[object Map]";function t1t(e){return J0t(e)&&Q0t(e)==e1t}var n1t=t1t,r1t=n1t,o1t=x0,xG=RL,wG=xG&&xG.isMap,i1t=wG?o1t(wG):r1t,s1t=i1t,a1t=lw,l1t=Ya,c1t="[object Set]";function u1t(e){return l1t(e)&&a1t(e)==c1t}var d1t=u1t,f1t=d1t,h1t=x0,CG=RL,_G=CG&&CG.isSet,p1t=_G?h1t(_G):f1t,m1t=p1t,g1t=DL,v1t=fvt,y1t=YL,b1t=bvt,x1t=Mvt,w1t=Fvt,C1t=h8,_1t=Vvt,S1t=Qvt,E1t=Pwe,k1t=p8,j1t=lw,T1t=s0t,A1t=U0t,D1t=X0t,I1t=Xr,P1t=Hj,O1t=s1t,$1t=Wa,R1t=m1t,M1t=Gf,F1t=f8,L1t=1,B1t=2,N1t=4,p2e="[object Arguments]",z1t="[object Array]",V1t="[object Boolean]",H1t="[object Date]",U1t="[object Error]",m2e="[object Function]",W1t="[object GeneratorFunction]",Y1t="[object Map]",q1t="[object Number]",g2e="[object Object]",G1t="[object RegExp]",K1t="[object Set]",Z1t="[object String]",X1t="[object Symbol]",Q1t="[object WeakMap]",J1t="[object ArrayBuffer]",eyt="[object DataView]",tyt="[object Float32Array]",nyt="[object Float64Array]",ryt="[object Int8Array]",oyt="[object Int16Array]",iyt="[object Int32Array]",syt="[object Uint8Array]",ayt="[object Uint8ClampedArray]",lyt="[object Uint16Array]",cyt="[object Uint32Array]",Fn={};Fn[p2e]=Fn[z1t]=Fn[J1t]=Fn[eyt]=Fn[V1t]=Fn[H1t]=Fn[tyt]=Fn[nyt]=Fn[ryt]=Fn[oyt]=Fn[iyt]=Fn[Y1t]=Fn[q1t]=Fn[g2e]=Fn[G1t]=Fn[K1t]=Fn[Z1t]=Fn[X1t]=Fn[syt]=Fn[ayt]=Fn[lyt]=Fn[cyt]=!0;Fn[U1t]=Fn[m2e]=Fn[Q1t]=!1;function N2(e,t,n,r,o,i){var s,a=t&L1t,l=t&B1t,u=t&N1t;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!$1t(e))return e;var d=I1t(e);if(d){if(s=T1t(e),!a)return C1t(e,s)}else{var f=j1t(e),p=f==m2e||f==W1t;if(P1t(e))return w1t(e,a);if(f==g2e||f==p2e||p&&!o){if(s=l||p?{}:D1t(e),!a)return l?S1t(e,x1t(s,e)):_1t(e,b1t(s,e))}else{if(!Fn[f])return o?e:{};s=A1t(e,f,a)}}i||(i=new g1t);var m=i.get(e);if(m)return m;i.set(e,s),R1t(e)?e.forEach(function(y){s.add(N2(y,t,n,y,e,i))}):O1t(e)&&e.forEach(function(y,x){s.set(x,N2(y,t,n,x,e,i))});var v=u?l?k1t:E1t:l?F1t:M1t,g=d?void 0:v(e);return v1t(g||e,function(y,x){g&&(x=y,y=e[x]),y1t(s,x,N2(y,t,n,x,e,i))}),s}var v8=N2;function uyt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dyt=uyt,fyt=cw,hyt=n2e;function pyt(e,t){return t.length<2?e:fyt(e,hyt(t,0,-1))}var myt=pyt,gyt=_0,vyt=dyt,yyt=myt,byt=dm;function xyt(e,t){return t=gyt(t,e),e=yyt(e,t),e==null||delete e[byt(vyt(t))]}var wyt=xyt,Cyt=mCe;function _yt(e){return Cyt(e)?void 0:e}var Syt=_yt,Eyt=Pc,kyt=v8,jyt=wyt,Tyt=_0,Ayt=k0,Dyt=Syt,Iyt=qL,Pyt=p8,Oyt=1,$yt=2,Ryt=4,Myt=Iyt(function(e,t){var n={};if(e==null)return n;var r=!1;t=Eyt(t,function(i){return i=Tyt(i,e),r||(r=i.length>1),i}),Ayt(e,Pyt(e),n),r&&(n=kyt(n,Oyt|$yt|Ryt,Dyt));for(var o=t.length;o--;)jyt(n,t[o]);return n}),Fyt=Myt;const _i=Ie(Fyt);var Lyt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const hw=Ie(Lyt);var Byt=Xr;function Nyt(){if(!arguments.length)return[];var e=arguments[0];return Byt(e)?e:[e]}var zyt=Nyt;const pw=Ie(zyt);var Vyt=Pc,Hyt=Kf,Uyt=nCe,Wyt=Xr;function Yyt(e,t){var n=Wyt(e)?Vyt:Uyt;return n(e,Hyt(t))}var qyt=Yyt,Gyt=C0,Kyt=qyt;function Zyt(e,t){return Gyt(Kyt(e,t),1)}var Xyt=Zyt;const Qyt=Ie(Xyt);var Jyt="Expected a function";function ebt(e){if(typeof e!="function")throw new TypeError(Jyt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var v2e=ebt;const tbt=Ie(v2e);var nbt=Pc,rbt=Kf,obt=gCe,ibt=p8;function sbt(e,t){if(e==null)return{};var n=nbt(ibt(e),function(r){return[r]});return t=rbt(t),obt(e,n,function(r,o){return t(r,o[0])})}var y2e=sbt;const abt=Ie(y2e);var lbt=Kf,cbt=v2e,ubt=y2e;function dbt(e,t){return ubt(e,cbt(lbt(t)))}var fbt=dbt;const b2e=Ie(fbt);function hbt(e){return e===void 0}var pbt=hbt;const x2e=Ie(pbt);var mbt=Oc,gbt=d8;function vbt(e){return gbt(mbt(e).toLowerCase())}var w2e=vbt;const gm=Ie(w2e);var ybt=Pc,bbt=h8,xbt=Xr,wbt=Jp,Cbt=qwe,_bt=dm,Sbt=Oc;function Ebt(e){return xbt(e)?ybt(e,_bt):wbt(e)?[e]:bbt(Cbt(Sbt(e)))}var kbt=Ebt;const jbt=Ie(kbt);function Tbt(){}var y8=Tbt;const C2e=Ie(y8);var _I=Owe,Abt=y8,Dbt=IL,Ibt=1/0,Pbt=_I&&1/Dbt(new _I([,-0]))[1]==Ibt?function(e){return new _I(e)}:Abt,Obt=Pbt,$bt=Nj,Rbt=HL,Mbt=UL,Fbt=zj,Lbt=Obt,Bbt=IL,Nbt=200;function zbt(e,t,n){var r=-1,o=Rbt,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=Mbt;else if(i>=Nbt){var u=t?null:Lbt(e);if(u)return Bbt(u);s=!1,o=Fbt,l=new $bt}else l=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),a.push(d)}else o(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var rT=zbt,Vbt=Kf,Hbt=rT;function Ubt(e,t){return e&&e.length?Hbt(e,Vbt(t)):[]}var Wbt=Ubt;const Of=Ie(Wbt),Xi=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],SG=[...Xi],SI={name:"any",type:null,jsonType:"any"},Ybt={get(){return SI},extend(e,t){const n=Object.assign(St(SI,SG),e,{type:SI,of:e.of.map(o=>({name:o.name,type:t(_i(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,SG),{type:o});return r(s)}}}}};var Zf={prepare:e=>({title:String(e)})};const EG=[...Xi],EI={name:"string",title:"String",type:null,jsonType:"string"},qbt={get(){return EI},extend(e){const t=Object.assign(St(EI,EG),e,{type:EI,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,EG),{type:r});return n(i)}}}}},kG=[...Xi,"rows"],kI={name:"text",title:"Text",type:null,jsonType:"string"},Gbt={get(){return kI},extend(e){const t=Object.assign(St(kI,kG),e,{type:kI,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,kG),{type:r});return n(i)}}}}},jG=[...Xi],jI={name:"datetime",title:"Datetime",type:null,jsonType:"string"},Kbt={get(){return jI},extend(e){const t=Object.assign(St(jI,jG),e,{type:jI,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,jG),{type:r});return n(i)}}}}},TG=[...Xi],TI={name:"date",title:"Datetime",type:null,jsonType:"string"},Zbt={get(){return TI},extend(e){const t=Object.assign(St(TI,TG),e,{type:TI,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,TG),{type:r});return n(i)}}}}},AG=[...Xi],AI={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},Xbt={get(){return AI},extend(e){const t=Object.assign(St(AI,AG),e,{type:AI,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,AG),{type:r});return n(i)}}}}},DG=[...Xi],DI={name:"url",title:"Url",type:null,jsonType:"string"},Qbt={get(){return DI},extend(e){const t=Object.assign(St(DI,DG),e,{type:DI,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,DG),{type:r});return n(i)}}}}},IG=[...Xi],II={name:"email",title:"Email",type:null,jsonType:"string"},Jbt={get(){return II},extend(e){const t=Object.assign(St(II,IG),e,{type:II,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,IG),{type:r});return n(i)}}}}},PG=[...Xi],PI={name:"number",title:"Number",type:null,jsonType:"number"},ext={get(){return PI},extend(e){const t=Object.assign(St(PI,PG),e,{type:PI,preview:Zf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,PG),{type:r});return n(i)}}}}};function zn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function txt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function vR(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>vR(s,t,n+1)).concat(o>0?"+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(txt(St(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(vR(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function nxt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return vR(e,n,0)}const rxt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function oxt(e){return t=>({title:nxt(St(t,e),rxt)})}function ixt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const _2e=["title","name","label","heading","header","caption"],sxt=["description",..._2e];function S2e(e,t){return hw(e.to||[]).some(n=>n.type===t)}function OG(e){return S2e(e,"sanity.imageAsset")}function axt(e){const t=e.fields||[],n=t.find(OG);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(OG));return r?"".concat(r.name,".asset"):void 0}function $G(e){return S2e(e,"sanity.fileAsset")}function lxt(e){const t=e.fields||[],n=t.find($G);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some($G));return r?"".concat(r.name,".asset"):void 0}function cxt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(ixt).map(u=>u.name);let o=_2e.find(u=>n.includes(u)||r.includes(u)),i=sxt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=axt(t);if(!o){const u=lxt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:oxt(u)}}return{select:b2e({title:o,description:i,media:s?s.name:a},x2e)}}function uxt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function dxt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function fxt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function hxt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...St(e,["prepare","component"]),select:fxt(t)}:{...St(e,["prepare","component"]),select:t}}function mw(e){return function(){return uxt(e),dxt(e),hxt(e.preview||(e.options||{}).preview)||cxt(e)}}const pxt=["title","name","label","heading","header","caption","description"],mxt=["string","boolean","number"],RG=e=>mxt.includes(e.type);function gxt(e){let t=pxt.filter(n=>e.fields.some(r=>RG(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(RG).map(n=>n.name)),t.map(n=>({name:n,title:gm(sn(n)),by:[{field:n,direction:"asc"}]}))}function MG(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!Cr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:jbt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const Jg=Symbol("__cachedStringFields"),vxt=e=>e.type&&e.type.name==="reference",yxt=["style","list"],b8=e=>e.name==="block"||e.type&&b8(e.type),bxt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(b8);function oT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?xxt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!vxt(e)?wxt(e,t,i,r,o):i}function xxt(e,t,n,r,o){return e.of.reduce((i,s)=>oT(s,t,i,r,o-1),n)}function wxt(e,t,n,r,o){const i=b8(e);return e.fields.reduce((s,a)=>{if(i&&yxt.includes(a.name))return s;const l=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return oT(a.type,t,s,r.concat(l),o-1)},n)}const E2e=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],FG={title:10,subtitle:5,description:1.5};function k2e(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in FG).map(r=>({weight:FG[r],path:n[r].split(".")})):[]}function Cxt(e,t){return e[Jg]||(e[Jg]=Of([...E2e,...k2e(e),...Sxt(e,t).map(n=>({weight:1,path:n})),...Ext(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[Jg]}function _xt(e){return e[Jg]||(e[Jg]=Of([...E2e,...k2e(e)],t=>t.path.join("."))),e[Jg]}function Sxt(e,t){return oT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function Ext(e,t){return oT(e,(r,o,i)=>bxt(o)?[...r,i]:r,[],[],t)}function kxt(e){return _xt(e)}function jxt(e){return Cxt(e,4)}const LG=[...Xi,"orderings","__experimental_search","blockEditor","icon"],j2e={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(St(this.get(),LG),n,{type:this.get(),title:n.title||(n.name?sn(n.name):""),options:r,orderings:n.orderings||gxt(n),fields:n.fields.map(s=>{const{name:a,fieldset:l,group:u,...d}=s;return zn({name:a,group:u,fieldset:l},"type",()=>t({...d,title:s.title||sn(a)}))})});return zn(o,"fieldsets",()=>iT(n,o.fields)),zn(o,"groups",()=>Txt(n,o.fields)),zn(o,"preview",mw(n)),zn(o,"__experimental_search",()=>{const s=n.__experimental_search?MG(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?MG(n):a):jxt(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},s,St(a,LG),{title:a.title||n.title||(n.name?sn(n.name):""),type:s});return zn(l,"__experimental_search",()=>s.__experimental_search),i(l)}}}}};function iT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:sn(e.name),"'"));n[o.name]={title:sn(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function Txt(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:sn(e.name),"'"));if(n[o.name]={title:sn(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:sn(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=pw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:sn(e.name),"'"));a.fields.push(o)})}),Qyt(n).filter(o=>o.fields.length>0)}const Axt={name:"_ref",title:"Referenced document ID",type:"string"},Dxt={name:"_weak",title:"Weak reference",type:"boolean"},Ixt=[Axt,Dxt],BG=[...Xi],OI={name:"reference",title:"Reference",type:null,jsonType:"object"};function Pxt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function Oxt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(Pxt(hw(e.to).map(t=>t.title),"or").toLowerCase())}const $xt={get(){return OI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(St(OI,BG),e,{type:OI});return zn(n,"fields",()=>Ixt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),zn(n,"fieldsets",()=>iT(e,n.fields)),zn(n,"to",()=>hw(e.to).map(o=>t(o))),zn(n,"title",()=>e.title||Oxt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,BG),{type:o});return r(s)}}}}},Rxt={name:"_ref",title:"Referenced document ID",type:"string"},Mxt={name:"_weak",title:"Weak reference marker",type:"boolean"},Fxt={name:"_dataset",title:"Target dataset",type:"string"},Lxt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},Bxt=[Rxt,Mxt,Fxt,Lxt],NG=[...Xi],$I={name:"crossDatasetReference",type:null,jsonType:"object"};function Nxt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function zxt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(Nxt(hw(e.to).map(t=>t.title||gm(t.type)),"or").toLowerCase())}const Vxt={get(){return $I},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(St($I,NG),e,{type:$I});return zn(n,"fields",()=>Bxt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),zn(n,"to",()=>hw(e.to).map(o=>({...o,__experimental_search:kxt(o)}))),zn(n,"title",()=>e.title||zxt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,NG),{type:o});return r(s)}}}}},Hxt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},Uxt={name:"hotspot",type:"sanity.imageHotspot"},Wxt={name:"crop",type:"sanity.imageCrop"},zG=[...Xi],VG={name:"image",title:"Image",type:null,jsonType:"object"},Yxt={},qxt={get(){return VG},extend(e,t){const n={...e.options||Yxt};let r=[Uxt,Wxt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const o=[Hxt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(St(this.get(),zG),i,{type:VG,title:i.title||(i.name?sn(i.name):""),options:n,fields:i.fields.map(l=>{const{name:u,fieldset:d,...f}=l,p={name:u,fieldset:d,isCustomized:!!e.fields};return zn(p,"type",()=>t({...f,title:l.title||sn(u)}))})});return zn(s,"fieldsets",()=>iT(i,s.fields)),zn(s,"preview",mw(Object.assign({},i,{fields:o}))),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,St(u,zG),{type:l});return a(d)}}}}},Gxt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},HG=[...Xi],RI={name:"file",title:"File",type:null,jsonType:"object"},Kxt={accept:""},Zxt={get(){return RI},extend(e,t){const n={...e.options||Kxt},r=[Gxt,...e.fields||[]],o={...e,fields:r},i=Object.assign(St(RI,HG),o,{type:RI,title:o.title||(o.name?sn(o.name):""),options:n,fields:o.fields.map(a=>{const{name:l,fieldset:u,...d}=a,f={name:l,fieldset:u,isCustomized:!!e.fields};return zn(f,"type",()=>t({...d,title:a.title||sn(l)}))})});return zn(i,"fieldsets",()=>iT(o,i.fields)),zn(i,"preview",mw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,St(l,HG),{type:a});return s(u)}}}}},Xxt={name:"document",title:"Document",type:null,jsonType:"object"},Qxt={get(){return Xxt},extend:j2e.extend},UG=[...Xi],MI={name:"array",type:null,jsonType:"array",of:[]},Jxt={get(){return MI},extend(e,t){const n=Object.assign(St(MI,UG),e,{type:MI});return zn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,UG),{type:o});return r(s)}}}}},ewt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},twt={type:"text",name:"text",title:"Text"},nwt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},WG={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},rwt=[WG.bullet,WG.numbered],Qc={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},owt=[Qc.normal,Qc.h1,Qc.h2,Qc.h3,Qc.h4,Qc.h5,Qc.h6,Qc.blockquote],iwt={title:"Strong",value:"strong"},swt={title:"Italic",value:"em"},awt={title:"Code",value:"code"},lwt={title:"Underline",value:"underline"},cwt={title:"Strike",value:"strike-through"},w1={strong:iwt,em:swt,code:awt,underline:lwt,strikeThrough:cwt},uwt=[w1.strong,w1.em,w1.code,w1.underline,w1.strikeThrough],YG=["type","name","title","jsonType","description","options","fieldsets","icon"],FI={name:"block",title:"Block",type:null,jsonType:"object"},dwt={},fwt={get(){return FI},extend(e,t){const n={...e.options||dwt},{marks:r,styles:o,lists:i,of:s,...a}=e,l=gwt(r,s),u=pwt(o),d=mwt(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||T2e},p=[l,u,d,f].concat(e.fields||[]),m=Object.assign(St(FI,YG),a,{type:FI,options:n});return zn(m,"fields",()=>p.map(g=>{const{name:y,...x}=g;return{name:y,type:t(x)}})),zn(m,"preview",mw(e)),v(m);function v(g){return{get(){return g},extend:y=>{if(y.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const x=Object.assign({},g,St(y,YG),{type:g});return v(x)}}}}};function hwt(e){return e.some(t=>t.value==="normal")?e:[Qc.normal,...e]}function pwt(e){return{name:"style",title:"Style",type:"string",options:{list:hwt(e||owt)}}}function mwt(e){return{name:"list",title:"List type",type:"string",options:{list:e||rwt}}}const T2e=[ewt];function gwt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[twt,nwt],annotations:e&&e.annotations?e.annotations:T2e,decorators:e&&e.decorators?e.decorators:uwt},...t.filter(n=>n.type!=="span")]}}const qG=["type","name","title","jsonType","description","options","fieldsets","icon"],LI={name:"span",title:"Span",type:null,jsonType:"object"},vwt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},ywt={name:"text",title:"Text",type:"string"},bwt={},xwt={get(){return LI},extend(e,t){const n={...e.options||bwt},{annotations:r=[],marks:o=[]}=e,i=[vwt,ywt],s=Object.assign(St(LI,qG),e,{type:LI,options:n});return zn(s,"fields",()=>i.map(l=>{const{name:u,...d}=l;return{name:u,type:t(d)}})),zn(s,"annotations",()=>r.map(t)),zn(s,"marks",()=>o.map(t)),zn(s,"preview",mw(e)),a(s);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,St(u,qG),{type:l});return a(d)}}}}};var wwt=Object.freeze({__proto__:null,any:Ybt,array:Jxt,block:fwt,boolean:Xbt,crossDatasetReference:Vxt,date:Zbt,datetime:Kbt,document:Qxt,email:Jbt,file:Zxt,image:qxt,number:ext,object:j2e,reference:$xt,span:xwt,string:qbt,text:Gbt,url:Qbt}),Cwt=Object.defineProperty,_wt=(e,t,n)=>t in e?Cwt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GG=(e,t,n)=>(_wt(e,typeof t!="symbol"?t+"":t,n),n);function Swt(e){const t=Object.assign(Object.create(null),wwt),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let Ewt=class A2e{constructor(t){GG(this,"_original"),GG(this,"_registry"),this._original=t,this._registry=Swt(t)}static compile(t){return new A2e(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const x8=Ewt;var kwt=rT;function jwt(e){return e&&e.length?kwt(e):[]}var Twt=jwt;const ao=Ie(Twt),Awt={},Dwt=Object.freeze(Object.defineProperty({__proto__:null,default:Awt},Symbol.toStringTag,{value:"Module"})),Iwt=I$e(Dwt);var w8=typeof Map=="function"&&Map.prototype,BI=Object.getOwnPropertyDescriptor&&w8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,q5=w8&&BI&&typeof BI.get=="function"?BI.get:null,KG=w8&&Map.prototype.forEach,C8=typeof Set=="function"&&Set.prototype,NI=Object.getOwnPropertyDescriptor&&C8?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,G5=C8&&NI&&typeof NI.get=="function"?NI.get:null,ZG=C8&&Set.prototype.forEach,Pwt=typeof WeakMap=="function"&&WeakMap.prototype,qy=Pwt?WeakMap.prototype.has:null,Owt=typeof WeakSet=="function"&&WeakSet.prototype,Gy=Owt?WeakSet.prototype.has:null,$wt=typeof WeakRef=="function"&&WeakRef.prototype,XG=$wt?WeakRef.prototype.deref:null,Rwt=Boolean.prototype.valueOf,Mwt=Object.prototype.toString,Fwt=Function.prototype.toString,Lwt=String.prototype.match,_8=String.prototype.slice,Bd=String.prototype.replace,Bwt=String.prototype.toUpperCase,QG=String.prototype.toLowerCase,D2e=RegExp.prototype.test,JG=Array.prototype.concat,tc=Array.prototype.join,Nwt=Array.prototype.slice,eK=Math.floor,yR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,zI=Object.getOwnPropertySymbols,bR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Si=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ov||"symbol")?Symbol.toStringTag:null,I2e=Object.prototype.propertyIsEnumerable,tK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function nK(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||D2e.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-eK(-e):eK(e);if(r!==e){var o=String(r),i=_8.call(t,o.length+1);return Bd.call(o,n,"$&_")+"."+Bd.call(Bd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Bd.call(t,n,"$&_")}var xR=Iwt,rK=xR.custom,oK=O2e(rK)?rK:null,zwt=function e(t,n,r,o){var i=n||{};if(_d(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_d(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=_d(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_d(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_d(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return R2e(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?nK(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return a?nK(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return wR(t)?"[Array]":"[Object]";var f=iCt(i,r);if(typeof o>"u")o=[];else if($2e(o,t)>=0)return"[Circular]";function p(I,P,R){if(P&&(o=Nwt.call(o),o.push(P)),R){var $={depth:i.depth};return _d(i,"quoteStyle")&&($.quoteStyle=i.quoteStyle),e(I,$,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!iK(t)){var m=Zwt(t),v=WC(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+tc.call(v,", ")+" }":"")}if(O2e(t)){var g=Ov?Bd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):bR.call(t);return typeof t=="object"&&!Ov?C1(g):g}if(nCt(t)){for(var y="<"+QG.call(String(t.nodeName)),x=t.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+P2e(Vwt(x[b].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+QG.call(String(t.nodeName))+">",y}if(wR(t)){if(t.length===0)return"[]";var w=WC(t,p);return f&&!oCt(w)?"["+CR(w,f)+"]":"[ "+tc.call(w,", ")+" ]"}if(Uwt(t)){var C=WC(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!I2e.call(t,"cause")?"{ ["+String(t)+"] "+tc.call(JG.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+tc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(oK&&typeof t[oK]=="function"&&xR)return xR(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Xwt(t)){var _=[];return KG&&KG.call(t,function(I,P){_.push(p(P,t,!0)+" => "+p(I,t))}),sK("Map",q5.call(t),_,f)}if(eCt(t)){var S=[];return ZG&&ZG.call(t,function(I){S.push(p(I,t))}),sK("Set",G5.call(t),S,f)}if(Qwt(t))return VI("WeakMap");if(tCt(t))return VI("WeakSet");if(Jwt(t))return VI("WeakRef");if(Ywt(t))return C1(p(Number(t)));if(Gwt(t))return C1(p(yR.call(t)));if(qwt(t))return C1(Rwt.call(t));if(Wwt(t))return C1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===gs)return"{ [object globalThis] }";if(!Hwt(t)&&!iK(t)){var E=WC(t,p),j=tK?tK(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Si&&Object(t)===t&&Si in t?_8.call(Xf(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+tc.call(JG.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+CR(E,f)+"}":D+"{ "+tc.call(E,", ")+" }"}return String(t)};function P2e(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Vwt(e){return Bd.call(String(e),/"/g,"&quot;")}function wR(e){return Xf(e)==="[object Array]"&&(!Si||!(typeof e=="object"&&Si in e))}function Hwt(e){return Xf(e)==="[object Date]"&&(!Si||!(typeof e=="object"&&Si in e))}function iK(e){return Xf(e)==="[object RegExp]"&&(!Si||!(typeof e=="object"&&Si in e))}function Uwt(e){return Xf(e)==="[object Error]"&&(!Si||!(typeof e=="object"&&Si in e))}function Wwt(e){return Xf(e)==="[object String]"&&(!Si||!(typeof e=="object"&&Si in e))}function Ywt(e){return Xf(e)==="[object Number]"&&(!Si||!(typeof e=="object"&&Si in e))}function qwt(e){return Xf(e)==="[object Boolean]"&&(!Si||!(typeof e=="object"&&Si in e))}function O2e(e){if(Ov)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!bR)return!1;try{return bR.call(e),!0}catch{}return!1}function Gwt(e){if(!e||typeof e!="object"||!yR)return!1;try{return yR.call(e),!0}catch{}return!1}var Kwt=Object.prototype.hasOwnProperty||function(e){return e in this};function _d(e,t){return Kwt.call(e,t)}function Xf(e){return Mwt.call(e)}function Zwt(e){if(e.name)return e.name;var t=Lwt.call(Fwt.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function $2e(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Xwt(e){if(!q5||!e||typeof e!="object")return!1;try{q5.call(e);try{G5.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Qwt(e){if(!qy||!e||typeof e!="object")return!1;try{qy.call(e,qy);try{Gy.call(e,Gy)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Jwt(e){if(!XG||!e||typeof e!="object")return!1;try{return XG.call(e),!0}catch{}return!1}function eCt(e){if(!G5||!e||typeof e!="object")return!1;try{G5.call(e);try{q5.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function tCt(e){if(!Gy||!e||typeof e!="object")return!1;try{Gy.call(e,Gy);try{qy.call(e,qy)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function nCt(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function R2e(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return R2e(_8.call(e,0,t.maxStringLength),t)+r}var o=Bd.call(Bd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rCt);return P2e(o,"single",t)}function rCt(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Bwt.call(t.toString(16))}function C1(e){return"Object("+e+")"}function VI(e){return e+" { ? }"}function sK(e,t,n,r){var o=r?CR(n,r):tc.call(n,", ");return e+" ("+t+") {"+o+"}"}function oCt(e){for(var t=0;t<e.length;t++)if($2e(e[t],`
`)>=0)return!1;return!0}function iCt(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=tc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:tc.call(Array(t+1),n)}}function CR(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+tc.call(e,","+n)+`
`+t.prev}function WC(e,t){var n=wR(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=_d(e,o)?t(e[o],e):""}var i=typeof zI=="function"?zI(e):[],s;if(Ov){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var l in e)_d(e,l)&&(n&&String(Number(l))===l&&l<e.length||Ov&&s["$"+l]instanceof Symbol||(D2e.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof zI=="function")for(var u=0;u<i.length;u++)I2e.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Ig=Ie(zwt);function sCt(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var aCt=sCt,lCt=tCe;function cCt(e,t,n,r){return lCt(e,function(o,i,s){t(r,o,n(o),s)}),r}var uCt=cCt,dCt=aCt,fCt=uCt,hCt=Kf,pCt=Xr;function mCt(e,t){return function(n,r){var o=pCt(n)?dCt:fCt,i=t?t():{};return o(n,e,hCt(r),i)}}var S8=mCt,gCt=S8,vCt=gCt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),yCt=vCt;const E8=Ie(yCt);var bCt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const ys=Ie(bCt);var k8={exports:{}};const HI=[],aK=[],M2e=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,l,u,d=0,f=0;for(;d<r;)aK[d]=e.charCodeAt(i+d),HI[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),l=f++,a=f,d=0;d<r;d++)u=s===aK[d]?l:l+1,l=HI[d],a=HI[d]=l>a?u>a?a+1:u:u>l?l+1:u;return a};k8.exports=M2e;k8.exports.default=M2e;var xCt=k8.exports;const wCt=Ie(xCt),CCt="https://docs.sanity.io/help/";function F2e(e){return CCt+e}const nt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function L2e(e,t,n){if(n&&!Object.keys(nt).some(r=>nt[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const De=(e,t)=>L2e("error",e,t),Fr=(e,t)=>L2e("warning",e,t);function _Ct(e){return _n(e.map(t=>B2e(t))).filter(t=>t.problems.length>0)}function vm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Nn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(l=>{const u={kind:"property",name:e},d=[...i,u];return B2e(l,d)}):[[{path:i,problems:[De("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},..._n(a)]}}const SCt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],lK=vm("fields"),ECt=vm("fields"),kCt=vm("fields"),jCt=vm("of"),TCt=vm("to",e=>"to"in e?SCt(e.to):[]),ACt=vm("marks.annotations"),DCt=vm("of"),ICt=(e,t)=>[...ACt(e,t),...DCt(e,t)];function PCt(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function B2e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return lK(e,t);case"document":return lK(e,t);case"array":return jCt(e,t);case"reference":return TCt(e,t);case"block":return ICt(e,t);case"image":return ECt(e,t);case"file":return kCt(e,t);default:return PCt(e,t)}}function sT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const OCt=e=>e,$Ct={name:"type",type:null},RCt=["any","time","date"];function MCt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OCt;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=RCt.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function l(v){return v==="type"?$Ct:r[v]||o[v]||null}const u=ao(_n(sT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,y)=>n(g,{visit:m(!1),isRoot:v,getType:l,getTypeNames:f,isReserved:p,isDuplicate:d,index:y});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const N2e=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],z2e=N2e.map(e=>e.name);function FCt(e,t){return MCt(e,N2e,t)}const LCt=/^Symbol\(react\..+\)$/;function YC(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&LCt.test(String(e==null?void 0:e.$$typeof))}function V2e(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!YC(t.input)&&n.push(Fr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ig(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!YC(t.field)&&n.push(Fr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ig(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!YC(t.item)&&n.push(Fr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ig(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!YC(t.preview)&&n.push(Fr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Ig(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const cK=/^[A-Za-z]+[0-9A-Za-z_]*$/,BCt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function NCt(e){return typeof e!="string"?[De('Field names must be strings. Saw "'.concat(Ig(e),'"'),nt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[De('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),nt.OBJECT_FIELD_NAME_INVALID)]:cK.test(e)?BCt.test(e)?[]:[Fr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),nt.OBJECT_FIELD_NAME_INVALID]:[De('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(cK),")."),nt.OBJECT_FIELD_NAME_INVALID)]}function j8(e,t){if(!Cr(e))return[De("Incorrect type for field definition - should be an object, saw ".concat(Ig(e)),nt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?NCt(e.name):[De("Missing field name",nt.OBJECT_FIELD_NAME_INVALID)]),n.push(...V2e(e)),n}function zCt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function T8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[De('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),nt.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");zCt(o).forEach(s=>{n.push(De("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),nt.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(De("Object should have at least one field",nt.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(De("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),nt.STANDALONE_BLOCK_TYPE))}return n}function VCt(e){return Cr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[De('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?Cr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(De('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[De('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[De('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var H2e=(e,t)=>{let n=T8(e.fields),r=e.preview;if(r){const o=VCt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(De('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:l,...u}=t.visit(a,i);return{name:s,...u,_problems:j8(o).concat(l||[])}}),_problems:n}},HCt=(e,t)=>{const n=H2e(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!Cr(r)&&typeof r!="function"&&n._problems.push(De('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(De('Found property "initialValues" - did you mean "initialValue"?')),n};function UCt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var WCt=(e,t)=>{const n=Array.isArray(e.to)||Cr(e.to),r=UCt(e),o=_n([n?sT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.REFERENCE_TO_INVALID)):De('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(De('The reference type should define at least one accepted type. Please check the "to" property.',nt.REFERENCE_TO_INVALID)),o.push(...YCt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function YCt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Cr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Cr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}function uK(e){return e==="string"||e==="number"||e==="boolean"}function qCt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function Ky(e){return'"'.concat(e,'"')}function dK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function fK(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(ys(Object.keys(e).map(Ky))):Ky(e)}var GCt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&z2e.includes(y.name))return g.concat(De('Found array member declaration with the same type name as a built-in type ("'.concat(y.name,'"). Array members can not be given the same name as a built-in type.'),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(Fr('Found array member declaration with the same name as the global schema type "'.concat(y.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(De('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',nt.ARRAY_OF_ARRAY));if(y)return g;const b="Found ".concat(y===null?"null":typeof y,", expected member declaration");return g.concat(De("Found invalid type member declaration in array at index ".concat(x,": ").concat(b),nt.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=_n([i?sT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>De("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),nt.ARRAY_OF_NOT_UNIQUE)):De('The array type is missing or having an invalid value for the required "of" property',nt.ARRAY_OF_INVALID)]),a=i?e.of:[],l=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&l&&s.push(De("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",nt.ARRAY_OF_INVALID));const[d,f]=E8(a,v=>{var g;return uK(v.type)||uK((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(y=>y.type),g=f.map(y=>y.type);s.push(De("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(dK(v)," ").concat(ys(v.map(Ky))," and object type").concat(dK(g)," ").concat(ys(g.map(Ky)),")"),nt.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var y;const x=(y=g==null?void 0:g.value)!=null?y:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=ys(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(De("An invalid entry found in options.list: ".concat(fK(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),nt.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const y=g._type||"object";f.some(b=>qCt(y,b))||s.push(De("An invalid entry found in options.list: ".concat(fK(g),'. Must be an object with "_type" set to ').concat(ys(f.map(b=>b.name||b.type).map(b=>b==="object"?"undefined":Ky(b)),{conjunction:"or"})),nt.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Fr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},KCt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Fr('Heads up! The "slugifyFn" option has been renamed to "slugify".',nt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},ZCt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...T8(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(De("Invalid type for file `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(De("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...l}=i,{_problems:u,...d}=t.visit(l,s);return{name:a,...d,_problems:j8(i).concat(u||[])}}),_problems:n}};const hK=["dimensions","hasAlpha","isOpaque"];var XCt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...T8(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>hK.includes(u)):[],a=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(De("Invalid type for image `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Fr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!hK.includes(u))}):l.length>0&&n.push(De("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:j8(u).concat(m||[])}}),_problems:n}};function U2e(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return U2e(r,t,n)}const Qs=e=>Array.isArray(e)?"array":typeof e,gw=e=>'"'.concat(e,'"'),QCt=["components","lists","marks","name","of","options","styles","title","type","validation"],JCt=["decorators","annotations"],e_t=["blockEditor","title","value","component"],t_t=["blockEditor","title","value","icon","component"],n_t=["title","value","icon","component"],pK=["file","image","object","reference"];function r_t(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(l=>!QCt.includes(l)&&!l.startsWith("_"));return a.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(ys(a.map(gw))))),i&&(i=o_t(e.marks,t,n)),r&&(r=s_t(r,t,n)),o&&(o=i_t(o,t,n)),s&&(s=c_t(s,t,n)),{..._i(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function o_t(e,t,n){let r=e.decorators,o=e.annotations;if(!Cr(e))return n.push(De('"marks" declaration should be an object, got '.concat(Qs(e)))),n;const i=Object.keys(e).filter(s=>!JCt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(ys(i.map(gw))))),r&&!Array.isArray(r)?n.push(De('"marks.decorators" declaration should be an array, got '.concat(Qs(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=a_t(r,t,n)),o&&!Array.isArray(o)?n.push(De('"marks.annotations" declaration should be an array, got '.concat(Qs(o)))):o&&(o=l_t(o,t,n)),{...e,decorators:r,annotations:o}}function i_t(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Cr(r)){n.push(De("List must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!n_t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for list ".concat(i,": ").concat(ys(s.map(gw))))),r.value?typeof r.value!="string"?n.push(De("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(Fr("List type ".concat(i,' is missing recommended "title" property'))):n.push(De("List #".concat(o,' is missing required "value" property')))}),e):(n.push(De('"lists" declaration should be an array, got '.concat(Qs(e)))),n)}function s_t(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Cr(r)){n.push(De("Style must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!e_t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for style ".concat(i,": ").concat(ys(s.map(gw))))),r.value?typeof r.value!="string"?n.push(De("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(Fr("Style ".concat(i,' is missing recommended "title" property'))):n.push(De("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Fr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(De('"styles" declaration should be an array, got '.concat(Qs(e)))),n)}function a_t(e,t,n){return e.forEach((r,o)=>{if(!Cr(r)){n.push(De("Annotation must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!t_t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for decorator ".concat(i,": ").concat(ys(s.map(gw))))),r.value?typeof r.value!="string"?n.push(De("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(Fr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(De("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Fr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function l_t(e,t,n){return e.map(r=>{var o,i;if(!Cr(r))return{...r,_problems:[De("Annotation must be an object, got ".concat(Qs(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!U2e(a,"object",t)&&s.push(De('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Fr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function c_t(e,t,n){if(!Array.isArray(e)){n.push(De('"of" declaration should be an array, got '.concat(Qs(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Fr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=z2e.filter(a=>!pK.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[De("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(pK.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function u_t(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[De('Type has propery "fields", but is not an object/document type.')]:[]}const d_t=e=>'"'.concat(e,'"');function f_t(e,t){const n=t.getTypeNames();if(!e)return[De("Type is missing a type. Valid types are: ".concat(ys(n)),nt.TYPE_MISSING_TYPE)];if(typeof e!="string")return[De('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(ys(n)),nt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[wCt(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,l]=s;return l}),i=o.length>0?" Did you mean ".concat(ys(o.map(d_t),{conjunction:"or"}),"?"):"";return[De("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(ys(n)))]}return[]}function h_t(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Fr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Fr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Fr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Fr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Fr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var mK=(e,t)=>({...e,_problems:[...f_t(e.type,t),...u_t(e,t),...h_t(e)].filter(Boolean)}),p_t=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[De("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",nt.TYPE_INVALID)]};const r=[];return m_t(e)?r.push(De("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",nt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(De('Invalid type name: "'.concat(e.name,'" is a reserved name.'),nt.TYPE_NAME_RESERVED)):r.push(De("Missing type name",nt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(De('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...V2e(e)),"title"in e&&typeof e.title!="string"&&r.push(Fr("Type title is not a string.",nt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function m_t(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function g_t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const v_t=/^[a-z0-9~][-_a-z0-9]+$/;function y_t(e){return e.length>=2&&e.toLowerCase()===e&&v_t.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var b_t=(e,t)=>{const n=Array.isArray(e.to)||Cr(e.to),r=g_t(e),o=_n([n?sT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.CROSS_DATASET_REFERENCE_INVALID)):De('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(De('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',nt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(De("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),nt.CROSS_DATASET_REFERENCE_INVALID)),Cr(i.preview)||o.push(De('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),nt.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=y_t(e.dataset);i!==!0&&o.push(De(i,nt.CROSS_DATASET_REFERENCE_INVALID))}else o.push(De("A cross dataset reference must specify a `dataset`",nt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(De('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',nt.CROSS_DATASET_REFERENCE_INVALID)),o.push(...x_t(e)),{...e,_problems:o}};function x_t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Cr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Cr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}const w_t={array:GCt,object:H2e,slug:KCt,file:ZCt,image:XCt,block:r_t,document:HCt,reference:WCt,crossDatasetReference:b_t},C_t=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function gK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function __t(e){return FCt(e,(t,n)=>{const r=t&&t.type&&w_t[t.type]||C_t(n);return n.isRoot?gK(p_t,mK,r)(t,n):gK(mK,r)(t,n)})}const _R="__experimental_actions",W2e=["create","update","delete","publish"],UI=W2e,S_t=e=>_R in e?e[_R]:W2e,E_t=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(_R," should be an array with any of the actions ").concat(UI.join(", ")));const n=Ub(t,UI);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(UI.join(", ")));return t},k_t=e=>E_t(e.name,S_t(e)),vK=(e,t)=>k_t(e).includes(t);var j_t=v8,T_t=1,A_t=4;function D_t(e){return j_t(e,T_t|A_t)}var I_t=D_t;const P_t=Ie(I_t);function Ue(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function O_t(e){return Ue(1,arguments),e instanceof Date||_l(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ke(e){Ue(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||_l(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ou(e){if(Ue(1,arguments),!O_t(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function $_t(e,t){Ue(2,arguments);var n=Ke(e).getTime(),r=jt(t);return new Date(n+r)}function Y2e(e,t){Ue(2,arguments);var n=jt(t);return $_t(e,-n)}var R_t=864e5;function M_t(e){Ue(1,arguments);var t=Ke(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/R_t)+1}function $v(e){Ue(1,arguments);var t=1,n=Ke(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function q2e(e){Ue(1,arguments);var t=Ke(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=$v(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=$v(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function F_t(e){Ue(1,arguments);var t=q2e(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=$v(n);return r}var L_t=6048e5;function G2e(e){Ue(1,arguments);var t=Ke(e),n=$v(t).getTime()-F_t(t).getTime();return Math.round(n/L_t)+1}var B_t={};function Ju(){return B_t}function Fp(e,t){var n,r,o,i,s,a,l,u;Ue(1,arguments);var d=Ju(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function A8(e,t){var n,r,o,i,s,a,l,u;Ue(1,arguments);var d=Ke(e),f=d.getUTCFullYear(),p=Ju(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Fp(v,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=Fp(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function N_t(e,t){var n,r,o,i,s,a,l,u;Ue(1,arguments);var d=Ju(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=A8(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Fp(m,t);return v}var z_t=6048e5;function K2e(e,t){Ue(1,arguments);var n=Ke(e),r=Fp(n,t).getTime()-N_t(n,t).getTime();return Math.round(r/z_t)+1}function bn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var V_t={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return bn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):bn(r+1,2)},d:function(t,n){return bn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return bn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return bn(t.getUTCHours(),n.length)},m:function(t,n){return bn(t.getUTCMinutes(),n.length)},s:function(t,n){return bn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return bn(i,n.length)}};const dd=V_t;var Nm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H_t={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return dd.y(t,n)},Y:function(t,n,r,o){var i=A8(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return bn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):bn(s,n.length)},R:function(t,n){var r=q2e(t);return bn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return bn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return bn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return bn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return dd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return bn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=K2e(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):bn(i,n.length)},I:function(t,n,r){var o=G2e(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):bn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):dd.d(t,n)},D:function(t,n,r){var o=M_t(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):bn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return bn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return bn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return bn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=Nm.noon:o===0?i=Nm.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=Nm.evening:o>=12?i=Nm.afternoon:o>=4?i=Nm.morning:i=Nm.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return dd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):dd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):bn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):bn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):dd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):dd.s(t,n)},S:function(t,n){return dd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return bK(s);case"XXXX":case"XX":return Bh(s);case"XXXXX":case"XXX":default:return Bh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return bK(s);case"xxxx":case"xx":return Bh(s);case"xxxxx":case"xxx":default:return Bh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+yK(s,":");case"OOOO":default:return"GMT"+Bh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+yK(s,":");case"zzzz":default:return"GMT"+Bh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return bn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return bn(s,n.length)}};function yK(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+bn(i,2)}function bK(e,t){if(e%60===0){var n=e>0?"-":"+";return n+bn(Math.abs(e)/60,2)}return Bh(e,t)}function Bh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=bn(Math.floor(o/60),2),s=bn(o%60,2);return r+i+n+s}const U_t=H_t;var xK=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Z2e=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},W_t=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return xK(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",xK(o,n)).replace("{{time}}",Z2e(i,n))},Y_t={p:Z2e,P:W_t};const SR=Y_t;function K5(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var q_t=["D","DD"],G_t=["YY","YYYY"];function X2e(e){return q_t.indexOf(e)!==-1}function Q2e(e){return G_t.indexOf(e)!==-1}function Z5(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var K_t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z_t=function(t,n,r){var o,i=K_t[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const X_t=Z_t;function WI(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Q_t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},J_t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e2t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t2t={date:WI({formats:Q_t,defaultWidth:"full"}),time:WI({formats:J_t,defaultWidth:"full"}),dateTime:WI({formats:e2t,defaultWidth:"full"})};const n2t=t2t;var r2t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o2t=function(t,n,r,o){return r2t[t]};const i2t=o2t;function _1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var s2t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a2t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l2t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c2t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u2t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d2t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f2t=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},h2t={ordinalNumber:f2t,era:_1({values:s2t,defaultWidth:"wide"}),quarter:_1({values:a2t,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:_1({values:l2t,defaultWidth:"wide"}),day:_1({values:c2t,defaultWidth:"wide"}),dayPeriod:_1({values:u2t,defaultWidth:"wide",formattingValues:d2t,defaultFormattingWidth:"wide"})};const p2t=h2t;function S1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?g2t(a,function(f){return f.test(s)}):m2t(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function m2t(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function g2t(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function v2t(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var y2t=/^(\d+)(th|st|nd|rd)?/i,b2t=/\d+/i,x2t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w2t={any:[/^b/i,/^(a|c)/i]},C2t={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_2t={any:[/1/i,/2/i,/3/i,/4/i]},S2t={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E2t={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k2t={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},j2t={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T2t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A2t={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D2t={ordinalNumber:v2t({matchPattern:y2t,parsePattern:b2t,valueCallback:function(t){return parseInt(t,10)}}),era:S1({matchPatterns:x2t,defaultMatchWidth:"wide",parsePatterns:w2t,defaultParseWidth:"any"}),quarter:S1({matchPatterns:C2t,defaultMatchWidth:"wide",parsePatterns:_2t,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:S1({matchPatterns:S2t,defaultMatchWidth:"wide",parsePatterns:E2t,defaultParseWidth:"any"}),day:S1({matchPatterns:k2t,defaultMatchWidth:"wide",parsePatterns:j2t,defaultParseWidth:"any"}),dayPeriod:S1({matchPatterns:T2t,defaultMatchWidth:"any",parsePatterns:A2t,defaultParseWidth:"any"})};const I2t=D2t;var P2t={code:"en-US",formatDistance:X_t,formatLong:n2t,formatRelative:i2t,localize:p2t,match:I2t,options:{weekStartsOn:0,firstWeekContainsDate:1}};const J2e=P2t;var O2t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$2t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R2t=/^'([^]*?)'?$/,M2t=/''/g,F2t=/[a-zA-Z]/;function qo(e,t,n){var r,o,i,s,a,l,u,d,f,p,m,v,g,y,x,b,w,C;Ue(2,arguments);var _=String(t),S=Ju(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:J2e,j=jt((i=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=jt((m=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ke(e);if(!Ou(T))throw new RangeError("Invalid time value");var A=K5(T),D=Y2e(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},P=_.match($2t).map(function(R){var $=R[0];if($==="p"||$==="P"){var U=SR[$];return U(R,E.formatLong)}return R}).join("").match(O2t).map(function(R){if(R==="''")return"'";var $=R[0];if($==="'")return L2t(R);var U=U_t[$];if(U)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Q2e(R)&&Z5(R,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&X2e(R)&&Z5(R,t,String(e)),U(D,R,E.localize,I);if($.match(F2t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return R}).join("");return P}function L2t(e){var t=e.match(R2t);return t?t[1].replace(M2t,"'"):e}var B2t=Oc,N2t=0;function z2t(e){var t=++N2t;return B2t(e)+t}var V2t=z2t;const eSe=Ie(V2t);function Fi(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function D8(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Rv(e,t){var n,r,o,i,s,a,l,u;Ue(1,arguments);var d=Ju(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function $f(e){Ue(1,arguments);var t=Ke(e);return t.setHours(0,0,0,0),t}var H2t=864e5;function U2t(e,t){Ue(2,arguments);var n=$f(e),r=$f(t),o=n.getTime()-K5(n),i=r.getTime()-K5(r);return Math.round((o-i)/H2t)}function W2t(e,t){Ue(2,arguments);var n=jt(t),r=n*7;return Fi(e,r)}function Zy(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var aT=6e4,lT=36e5,Y2t=1e3;function Id(e,t){Ue(2,arguments);var n=$f(e),r=$f(t);return n.getTime()===r.getTime()}function q2t(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function G2t(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()-r.getFullYear()}function wK(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function tSe(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t),o=wK(n,r),i=Math.abs(U2t(n,r));n.setDate(n.getDate()-o*i);var s=+(wK(n,r)===-o),a=o*(i-s);return a===0?0:a}function I8(e,t){return Ue(2,arguments),Ke(e).getTime()-Ke(t).getTime()}var CK={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},K2t="trunc";function cT(e){return e?CK[e]:CK[K2t]}function Z2t(e,t,n){Ue(2,arguments);var r=I8(e,t)/lT;return cT(n==null?void 0:n.roundingMethod)(r)}function X2t(e,t,n){Ue(2,arguments);var r=I8(e,t)/aT;return cT(n==null?void 0:n.roundingMethod)(r)}function X5(e){Ue(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function Q2t(e){Ue(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function J2t(e){Ue(1,arguments);var t=Ke(e);return X5(t).getTime()===Q2t(t).getTime()}function eSt(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t),o=Zy(n,r),i=Math.abs(q2t(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=Zy(n,r)===-o;J2t(Ke(e))&&i===1&&Zy(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function tSt(e,t,n){Ue(2,arguments);var r=I8(e,t)/1e3;return cT(n==null?void 0:n.roundingMethod)(r)}function nSt(e,t,n){Ue(2,arguments);var r=tSe(e,t)/7;return cT(n==null?void 0:n.roundingMethod)(r)}function rSt(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t),o=Zy(n,r),i=Math.abs(G2t(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=Zy(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function _K(e){Ue(1,arguments);var t=Ke(e);return t.setSeconds(0,0),t}function nSe(e,t){Ue(1,arguments);var n=e||{},r=Ke(n.start),o=Ke(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Rv(r,t),a=Rv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var l=[],u=s;u.getTime()<=i;)u.setHours(0),l.push(Ke(u)),u=W2t(u,1),u.setHours(15);return l}function rSe(e){Ue(1,arguments);var t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function SK(e){Ue(1,arguments);var t=Ke(e);return t.setSeconds(59,999),t}function oSt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function iSt(e){Ue(1,arguments);var t=Ke(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function sSt(e){Ue(1,arguments);var t=Ke(e),n=t.getMinutes();return n}function aSt(e,t){var n,r,o,i,s,a,l,u;Ue(1,arguments);var d=Ke(e),f=d.getFullYear(),p=Ju(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Rv(v,t),y=new Date(0);y.setFullYear(f,0,m),y.setHours(0,0,0,0);var x=Rv(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function lSt(e,t){var n,r,o,i,s,a,l,u;Ue(1,arguments);var d=Ju(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=aSt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Rv(m,t);return v}var cSt=6048e5;function oSe(e,t){Ue(1,arguments);var n=Ke(e),r=Rv(n,t).getTime()-lSt(n,t).getTime();return Math.round(r/cSt)+1}function iSe(e){Ue(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function ER(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()>r.getTime()}function sSe(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()<r.getTime()}function EK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uSt(e,t){if(e){if(typeof e=="string")return EK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EK(e,t)}}function kK(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=uSt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function Ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j5(e,t)}function Q5(e){return Q5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q5(e)}function dSt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fSt(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(e)}function on(e){var t=dSt();return function(){var r=Q5(e),o;if(t){var i=Q5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fSt(this,o)}}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kCe(r.key),r)}}function Gt(e,t,n){return t&&jK(e.prototype,t),n&&jK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var hSt=10,aSe=function(){function e(){qt(this,e),Fe(this,"priority",void 0),Fe(this,"subPriority",0)}return Gt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),pSt=function(e){rn(n,e);var t=on(n);function n(r,o,i,s,a){var l;return qt(this,n),l=t.call(this),l.value=r,l.validateValue=o,l.setValue=i,l.priority=s,a&&(l.subPriority=a),l}return Gt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(aSe),mSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",hSt),Fe(Ne(r),"subPriority",-1),r}return Gt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(aSe),pn=function(){function e(){qt(this,e),Fe(this,"incompatibleTokens",void 0),Fe(this,"priority",void 0),Fe(this,"subPriority",void 0)}return Gt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new pSt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),gSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",140),Fe(Ne(r),"incompatibleTokens",["R","u","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(pn),qr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},sc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ar(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ac(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*lT+i*aT+s*Y2t),rest:t.slice(n[0].length)}}function lSe(e){return Ar(qr.anyDigitsSigned,e)}function Br(e,t){switch(e){case 1:return Ar(qr.singleDigit,t);case 2:return Ar(qr.twoDigits,t);case 3:return Ar(qr.threeDigits,t);case 4:return Ar(qr.fourDigits,t);default:return Ar(new RegExp("^\\d{1,"+e+"}"),t)}}function J5(e,t){switch(e){case 1:return Ar(qr.singleDigitSigned,t);case 2:return Ar(qr.twoDigitsSigned,t);case 3:return Ar(qr.threeDigitsSigned,t);case 4:return Ar(qr.fourDigitsSigned,t);default:return Ar(new RegExp("^-?\\d{1,"+e+"}"),t)}}function P8(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function cSe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function uSe(e){return e%400===0||e%4===0&&e%100!==0}var vSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",130),Fe(Ne(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Gr(Br(4,o),a);case"yo":return Gr(s.ordinalNumber(o,{unit:"year"}),a);default:return Gr(Br(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var l=cSe(s.year,a);return o.setUTCFullYear(l,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(pn),ySt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",130),Fe(Ne(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Gr(Br(4,o),a);case"Yo":return Gr(s.ordinalNumber(o,{unit:"year"}),a);default:return Gr(Br(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var l=A8(o,a);if(s.isTwoDigitYear){var u=cSe(s.year,l);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Fp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Fp(o,a)}}]),n}(pn),bSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",130),Fe(Ne(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){return J5(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),$v(a)}}]),n}(pn),xSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",130),Fe(Ne(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){return J5(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(pn),wSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",120),Fe(Ne(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Br(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(pn),CSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",120),Fe(Ne(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Br(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(pn),_St=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Fe(Ne(r),"priority",110),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Gr(Ar(qr.month,o),a);case"MM":return Gr(Br(2,o),a);case"Mo":return Gr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(pn),SSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",110),Fe(Ne(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Gr(Ar(qr.month,o),a);case"LL":return Gr(Br(2,o),a);case"Lo":return Gr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(pn);function ESt(e,t,n){Ue(2,arguments);var r=Ke(e),o=jt(t),i=K2e(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var kSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",100),Fe(Ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Ar(qr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Fp(ESt(o,s,a),a)}}]),n}(pn);function jSt(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t),o=G2e(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var TSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",100),Fe(Ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Ar(qr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return $v(jSt(o,s))}}]),n}(pn),ASt=[31,28,31,30,31,30,31,31,30,31,30,31],DSt=[31,29,31,30,31,30,31,31,30,31,30,31],ISt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",90),Fe(Ne(r),"subPriority",1),Fe(Ne(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Ar(qr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=uSe(s),l=o.getUTCMonth();return a?i>=1&&i<=DSt[l]:i>=1&&i<=ASt[l]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(pn),PSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",90),Fe(Ne(r),"subpriority",1),Fe(Ne(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Ar(qr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=uSe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(pn);function O8(e,t,n){var r,o,i,s,a,l,u,d;Ue(2,arguments);var f=Ju(),p=jt((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ke(e),v=jt(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,b=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+b),m}var OSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",90),Fe(Ne(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=O8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(pn),$St=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",90),Fe(Ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Gr(Br(i.length,o),l);case"eo":return Gr(s.ordinalNumber(o,{unit:"day"}),l);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=O8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(pn),RSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",90),Fe(Ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Gr(Br(i.length,o),l);case"co":return Gr(s.ordinalNumber(o,{unit:"day"}),l);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=O8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(pn);function MSt(e,t){Ue(2,arguments);var n=jt(t);n%7===0&&(n=n-7);var r=1,o=Ke(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+l),o}var FSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",90),Fe(Ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Br(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Gr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Gr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Gr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Gr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=MSt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(pn),LSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",80),Fe(Ne(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(P8(s),0,0,0),o}}]),n}(pn),BSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",80),Fe(Ne(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(P8(s),0,0,0),o}}]),n}(pn),NSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",80),Fe(Ne(r),"incompatibleTokens",["a","b","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(P8(s),0,0,0),o}}]),n}(pn),zSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",70),Fe(Ne(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Ar(qr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(pn),VSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",70),Fe(Ne(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Ar(qr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(pn),HSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",70),Fe(Ne(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Ar(qr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(pn),USt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",70),Fe(Ne(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Ar(qr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(pn),WSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",60),Fe(Ne(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Ar(qr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(pn),YSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",50),Fe(Ne(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Ar(qr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Br(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(pn),qSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",30),Fe(Ne(r),"incompatibleTokens",["t","T"]),r}return Gt(n,[{key:"parse",value:function(o,i){var s=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Gr(Br(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(pn),GSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",10),Fe(Ne(r),"incompatibleTokens",["t","T","x"]),r}return Gt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return ac(sc.basicOptionalMinutes,o);case"XX":return ac(sc.basic,o);case"XXXX":return ac(sc.basicOptionalSeconds,o);case"XXXXX":return ac(sc.extendedOptionalSeconds,o);case"XXX":default:return ac(sc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(pn),KSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",10),Fe(Ne(r),"incompatibleTokens",["t","T","X"]),r}return Gt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return ac(sc.basicOptionalMinutes,o);case"xx":return ac(sc.basic,o);case"xxxx":return ac(sc.basicOptionalSeconds,o);case"xxxxx":return ac(sc.extendedOptionalSeconds,o);case"xxx":default:return ac(sc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(pn),ZSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",40),Fe(Ne(r),"incompatibleTokens","*"),r}return Gt(n,[{key:"parse",value:function(o){return lSe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(pn),XSt=function(e){rn(n,e);var t=on(n);function n(){var r;qt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Fe(Ne(r),"priority",20),Fe(Ne(r),"incompatibleTokens","*"),r}return Gt(n,[{key:"parse",value:function(o){return lSe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(pn),QSt={G:new gSt,y:new vSt,Y:new ySt,R:new bSt,u:new xSt,Q:new wSt,q:new CSt,M:new _St,L:new SSt,w:new kSt,I:new TSt,d:new ISt,D:new PSt,E:new OSt,e:new $St,c:new RSt,i:new FSt,a:new LSt,b:new BSt,B:new NSt,h:new zSt,H:new VSt,K:new HSt,k:new USt,m:new WSt,s:new YSt,S:new qSt,X:new GSt,x:new KSt,t:new ZSt,T:new XSt},JSt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e5t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,t5t=/^'([^]*?)'?$/,n5t=/''/g,r5t=/\S/,o5t=/[a-zA-Z]/;function i5t(e,t,n,r){var o,i,s,a,l,u,d,f,p,m,v,g,y,x,b,w,C,_;Ue(3,arguments);var S=String(e),E=String(t),j=Ju(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:J2e;if(!k.match)throw new RangeError("locale must contain match property");var T=jt((s=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=jt((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Ke(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new mSt],P=E.match(e5t).map(function(K){var J=K[0];if(J in SR){var X=SR[J];return X(K,k.formatLong)}return K}).join("").match(JSt),R=[],$=kK(P),U;try{var L=function(){var J=U.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Q2e(J)&&Z5(J,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&X2e(J)&&Z5(J,E,e);var X=J[0],ee=QSt[X];if(ee){var re=ee.incompatibleTokens;if(Array.isArray(re)){var de=R.find(function(fe){return re.includes(fe.token)||fe.token===X});if(de)throw new RangeError("The format string mustn't contain `".concat(de.fullToken,"` and `").concat(J,"` at the same time"))}else if(ee.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(J,"` and any other token at the same time"));R.push({token:X,fullToken:J});var ie=ee.run(S,J,k.match,D);if(!ie)return{v:new Date(NaN)};I.push(ie.setter),S=ie.rest}else{if(X.match(o5t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");if(J==="''"?J="'":X==="'"&&(J=s5t(J)),S.indexOf(J)===0)S=S.slice(J.length);else return{v:new Date(NaN)}}};for($.s();!(U=$.n()).done;){var W=L();if(_l(W)==="object")return W.v}}catch(K){$.e(K)}finally{$.f()}if(S.length>0&&r5t.test(S))return new Date(NaN);var Y=I.map(function(K){return K.priority}).sort(function(K,J){return J-K}).filter(function(K,J,X){return X.indexOf(K)===J}).map(function(K){return I.filter(function(J){return J.priority===K}).sort(function(J,X){return X.subPriority-J.subPriority})}).map(function(K){return K[0]}),V=Ke(n);if(isNaN(V.getTime()))return new Date(NaN);var H=Y2e(V,K5(V)),Q={},F=kK(Y),G;try{for(F.s();!(G=F.n()).done;){var z=G.value;if(!z.validate(H,D))return new Date(NaN);var Z=z.set(H,Q,D);Array.isArray(Z)?(H=Z[0],oSt(Q,Z[1])):H=Z}}catch(K){F.e(K)}finally{F.f()}return H}function s5t(e){return e.match(t5t)[1].replace(n5t,"'")}function dSe(e,t){Ue(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function a5t(e,t){Ue(2,arguments);var n=jt(t);return Fi(e,-n)}function l5t(e,t){var n;Ue(1,arguments);var r=jt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=f5t(e),i;if(o.date){var s=h5t(o.date,r);i=p5t(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,u;if(o.time&&(l=m5t(o.time),isNaN(l)))return new Date(NaN);if(o.timezone){if(u=g5t(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+l+u)}var qC={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c5t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u5t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d5t=/^([+-])(\d{2})(?::?(\d{2}))?$/;function f5t(e){var t={},n=e.split(qC.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],qC.timeZoneDelimiter.test(t.date)&&(t.date=e.split(qC.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=qC.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function h5t(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function p5t(e,t){if(t===null)return new Date(NaN);var n=e.match(c5t);if(!n)return new Date(NaN);var r=!!n[4],o=E1(n[1]),i=E1(n[2])-1,s=E1(n[3]),a=E1(n[4]),l=E1(n[5])-1;if(r)return w5t(t,a,l)?v5t(t,a,l):new Date(NaN);var u=new Date(0);return!b5t(t,i,s)||!x5t(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function E1(e){return e?parseInt(e):1}function m5t(e){var t=e.match(u5t);if(!t)return NaN;var n=YI(t[1]),r=YI(t[2]),o=YI(t[3]);return C5t(n,r,o)?n*lT+r*aT+o*1e3:NaN}function YI(e){return e&&parseFloat(e.replace(",","."))||0}function g5t(e){if(e==="Z")return 0;var t=e.match(d5t);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return _5t(r,o)?n*(r*lT+o*aT):NaN}function v5t(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var y5t=[31,null,31,30,31,30,31,31,30,31,30,31];function fSe(e){return e%400===0||e%4===0&&e%100!==0}function b5t(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(y5t[t]||(fSe(e)?29:28))}function x5t(e,t){return t>=1&&t<=(fSe(e)?366:365)}function w5t(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function C5t(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function _5t(e,t){return t>=0&&t<=59}function hSe(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=iSt(s);return n.setMonth(r,Math.min(i,a)),n}function S5t(e,t){if(Ue(2,arguments),_l(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ke(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=hSe(n,t.month)),t.date!=null&&n.setDate(jt(t.date)),t.hours!=null&&n.setHours(jt(t.hours)),t.minutes!=null&&n.setMinutes(jt(t.minutes)),t.seconds!=null&&n.setSeconds(jt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(jt(t.milliseconds)),n)}function E5t(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t);return n.setDate(r),n}function qI(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t);return n.setHours(r),n}function z2(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t);return n.setMinutes(r),n}function k5t(e,t){Ue(2,arguments);var n=Ke(e),r=jt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function TK(){return $f(Date.now())}function j5t(e,t){Ue(2,arguments);var n=jt(t);return D8(e,-n)}function AK(e,t){if(Ue(2,arguments),!t||_l(t)!=="object")return new Date(NaN);var n=t.years?jt(t.years):0,r=t.months?jt(t.months):0,o=t.weeks?jt(t.weeks):0,i=t.days?jt(t.days):0,s=t.hours?jt(t.hours):0,a=t.minutes?jt(t.minutes):0,l=t.seconds?jt(t.seconds):0,u=j5t(e,r+n*12),d=a5t(u,i+o*7),f=a+s*60,p=l+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const $8=[],R8=[],pSe=new Set,vw=new Map,yw=new Map,mSe=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,eE=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),gSe=(e,t,n)=>{if(!e.length||pSe.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[l,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return eE(l===""?t[u-1]:l,d)})}return t},vSe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?eE(e,o):t.has(o)?eE(e,t.get(o)):gSe(o,e,r)},ySe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:gSe(o,o,r)===o},Lr=(e,t,n)=>{const r=t===1?Lr.singular(e):Lr.plural(e);return n?"".concat(t," ").concat(r):r};Lr.plural=e=>vSe(e,yw,vw,$8);Lr.singular=e=>vSe(e,vw,yw,R8);Lr.addPluralRule=(e,t)=>{$8.push([mSe(e),t])};Lr.addSingularRule=(e,t)=>{R8.push([mSe(e),t])};Lr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();yw.set(r,n),vw.set(n,r)};Lr.addUncountableRule=e=>{if(typeof e=="string"){pSe.add(e.toLowerCase());return}Lr.addPluralRule(e,"$0"),Lr.addSingularRule(e,"$0")};Lr.isPlural=e=>ySe(e,yw,vw,$8);Lr.isSingular=e=>ySe(e,vw,yw,R8);const T5t=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],A5t=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],D5t=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],I5t=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of T5t)Lr.addIrregularRule(e,t);for(const[e,t]of A5t)Lr.addPluralRule(e,t);for(const[e,t]of D5t)Lr.addSingularRule(e,t);for(const e of I5t)Lr.addUncountableRule(e);var bSe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(gs,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(A[P]=I[P])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,P=new Array(D);I<D;I++)P[I]=A[I];return P}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var P=0;return function(){return P>=A.length?{done:!0}:{done:!1,value:A[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],P=D[2],R=D[3];if(!I||!P||!R)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var $=P.split("x"),U=$[0],L=$[1],W=+U,Y=+L,V=isFinite(W)&&isFinite(Y);if(!V)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:W,height:Y,format:R}}var l=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(l(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function y(A){var D=n({},A||{}),I=D.source;delete D.source;var P=f(I);if(!P)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var R=P.asset._ref||P.asset._id||"",$=a(R),U=Math.round(P.crop.left*$.width),L=Math.round(P.crop.top*$.height),W={left:U,top:L,width:Math.round($.width-P.crop.right*$.width-U),height:Math.round($.height-P.crop.bottom*$.height-L)},Y=P.hotspot.height*$.height/2,V=P.hotspot.width*$.width/2,H=P.hotspot.x*$.width,Q=P.hotspot.y*$.height,F={left:H-V,top:Q-Y,right:H+V,bottom:Q+Y};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,b({crop:W,hotspot:F},D))),x(n({},D,{asset:$}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,P=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,R=[];if(A.rect){var $=A.rect,U=$.left,L=$.top,W=$.width,Y=$.height,V=U!==0||L!==0||Y!==A.asset.height||W!==A.asset.width;V&&R.push("rect="+U+","+L+","+W+","+Y)}A.bg&&R.push("bg="+A.bg),A.focalPoint&&(R.push("fp-x="+A.focalPoint.x),R.push("fp-y="+A.focalPoint.y));var H=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return H&&R.push("flip="+H),g.forEach(function(Q){var F=Q[0],G=Q[1];typeof A[F]<"u"?R.push(G+"="+encodeURIComponent(A[F])):typeof A[G]<"u"&&R.push(G+"="+encodeURIComponent(A[G]))}),R.length===0?P:P+"?"+R.join("&")}function b(A,D){var I,P=D.width,R=D.height;if(!(P&&R))return{width:P,height:R,rect:A.crop};var $=A.crop,U=A.hotspot,L=P/R,W=$.width/$.height;if(W>L){var Y=Math.round($.height),V=Math.round(Y*L),H=Math.max(0,Math.round($.top)),Q=Math.round((U.right-U.left)/2+U.left),F=Math.max(0,Math.round(Q-V/2));F<$.left?F=$.left:F+V>$.left+$.width&&(F=$.left+$.width-V),I={left:F,top:H,width:V,height:Y}}else{var G=$.width,z=Math.round(G/L),Z=Math.max(0,Math.round($.left)),K=Math.round((U.bottom-U.top)/2+U.top),J=Math.max(0,Math.round(K-z/2));J<$.top?J=$.top:J+z>$.top+$.height&&(J=$.top+$.height-z),I={left:Z,top:J,width:G,height:z}}return{width:P,height:R,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),P;!(P=I()).done;){var R=P.value,$=R[0],U=R[1];if(A===$||A===U)return $}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,P=D.projectId,R=D.dataset,$=I||"https://api.sanity.io";return new T(null,{baseUrl:$.replace(/^https:\/\/api\./,"https://cdn."),projectId:P,dataset:R})}var U=A;if(E(U)){var L=U.clientConfig,W=L.apiHost,Y=L.projectId,V=L.dataset,H=W||"https://api.sanity.io";return new T(null,{baseUrl:H.replace(/^https:\/\/api\./,"https://cdn."),projectId:Y,dataset:V})}return new T(null,A)}var T=function(){function A(I,P){this.options=void 0,this.options=I?n({},I.options||{},P||{}):n({},P||{})}var D=A.prototype;return D.withOptions=function(P){var R=P.baseUrl||this.options.baseUrl,$={baseUrl:R};for(var U in P)if(P.hasOwnProperty(U)){var L=j(U);$[L]=P[U]}return new A(this,n({baseUrl:R},$))},D.image=function(P){return this.withOptions({source:P})},D.dataset=function(P){return this.withOptions({dataset:P})},D.projectId=function(P){return this.withOptions({projectId:P})},D.bg=function(P){return this.withOptions({bg:P})},D.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},D.width=function(P){return this.withOptions({width:P})},D.height=function(P){return this.withOptions({height:P})},D.focalPoint=function(P,R){return this.withOptions({focalPoint:{x:P,y:R}})},D.maxWidth=function(P){return this.withOptions({maxWidth:P})},D.minWidth=function(P){return this.withOptions({minWidth:P})},D.maxHeight=function(P){return this.withOptions({maxHeight:P})},D.minHeight=function(P){return this.withOptions({minHeight:P})},D.size=function(P,R){return this.withOptions({width:P,height:R})},D.blur=function(P){return this.withOptions({blur:P})},D.sharpen=function(P){return this.withOptions({sharpen:P})},D.rect=function(P,R,$,U){return this.withOptions({rect:{left:P,top:R,width:$,height:U}})},D.format=function(P){return this.withOptions({format:P})},D.invert=function(P){return this.withOptions({invert:P})},D.orientation=function(P){return this.withOptions({orientation:P})},D.quality=function(P){return this.withOptions({quality:P})},D.forceDownload=function(P){return this.withOptions({download:P})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(P){if(w.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},D.crop=function(P){if(C.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},D.saturation=function(P){return this.withOptions({saturation:P})},D.auto=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},D.pad=function(P){return this.withOptions({pad:P})},D.url=function(){return y(this.options)},D.toString=function(){return this.url()},A}();return k})})(bSe);var P5t=bSe.exports;const uT=Ie(P5t);function O5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qb(e,t)}function kR(e){return kR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kR(e)}function qb(e,t){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},qb(e,t)}function $5t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V2(e,t,n){return $5t()?V2=Reflect.construct.bind():V2=function(o,i,s){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(o,a),u=new l;return s&&qb(u,s.prototype),u},V2.apply(null,arguments)}function R5t(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function jR(e){var t=typeof Map=="function"?new Map:void 0;return jR=function(r){if(r===null||!R5t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return V2(r,arguments,kR(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),qb(o,r)},jR(e)}var GC=Object.freeze({left:0,top:0,bottom:0,right:0}),KC=Object.freeze({x:.5,y:.5,height:1,width:1}),M5t=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=GC.top,a=GC.bottom,l=GC.left,u=GC.right;return n===s&&r===a&&o===l&&i===u},F5t=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=KC.x,a=KC.y,l=KC.width,u=KC.height;return n===s&&r===a&&o===l&&i===u},M8=function(e){O5t(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(jR(Error));function L5t(e){var t=e;return!!(t.unresolvable&&"input"in t)}function B5t(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(L5t(t))return;throw t}}}var Pd="https://cdn.sanity.io",N5t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,z5t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,xSe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,wSe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function V5t(e){return bw(e)&&typeof e._ref=="string"}function H5t(e){return bw(e)&&typeof e._id=="string"}function U5t(e){return bw(e)&&typeof e.path=="string"}function W5t(e){return bw(e)&&typeof e.url=="string"}function Y5t(e){var t=e;return bw(t)&&t.asset&&typeof t.asset=="object"}function bw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function q5t(e){if(xSe.test(e))return e;if(!e.startsWith(Pd+"/"))throw new M8('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Pd.length+1,n)}var G5t="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function K5t(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+G5t+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function Z5t(e){var t=CSe(e),n=K5t(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function CSe(e){var t=Y5t(e)?e.asset:e,n="";typeof t=="string"?n=X5t(t):V5t(t)?n=t._ref:H5t(t)?n=t._id:U5t(t)?n=Pg(Pd+"/"+t.path):W5t(t)&&(n=Pg(t.url));var r=n&&wSe.test(n);if(!r)throw new M8(e);return n}var _Se=B5t(CSe);function X5t(e){if(wSe.test(e))return e;if(e.indexOf(Pd+"/images")===0||e.indexOf(Pd+"/files")===0)return Pg(e);if(xSe.test(e))return Pg(Pd+"/"+e);if(J5t(e))return Pg(Pd+"/files/a/b/"+e);if(Q5t(e))return Pg(Pd+"/images/a/b/"+e);throw new M8(e)}function Pg(e){var t=q5t(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function Q5t(e){return z5t.test(e)}function J5t(e){return N5t.test(e)}function DK(e){var t=_Se(e);return t?t.startsWith("file-"):!1}function Xy(e){var t=_Se(e);return t?t.startsWith("image-"):!1}function eEt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var tEt=eEt;const dT=Ie(tEt);var nEt=Zj,rEt=S8,oEt=rEt(function(e,t,n){nEt(e,n,t)}),iEt=oEt;const F8=Ie(iEt);var sEt=Oc;function aEt(e){return sEt(e).toLowerCase()}var lEt=aEt;const ev=Ie(lEt);var cEt=C0,uEt=S0,dEt=rT,fEt=Kj,hEt=uEt(function(e){return dEt(cEt(e,1,fEt,!0))}),pEt=hEt;const SSe=Ie(pEt);function mEt(){}var L8=mEt,gEt=g8,vEt=L8;function tE(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}tE.prototype=gEt(vEt.prototype);tE.prototype.constructor=tE;var B8=tE,IK=$we,yEt=IK&&new IK,bEt=yEt,PK=bEt,xEt=y8,wEt=PK?function(e){return PK.get(e)}:xEt,ESe=wEt,CEt={},_Et=CEt,OK=_Et,SEt=Object.prototype,EEt=SEt.hasOwnProperty;function kEt(e){for(var t=e.name+"",n=OK[t],r=EEt.call(OK,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var kSe=kEt,jEt=g8,TEt=L8,AEt=4294967295;function nE(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=AEt,this.__views__=[]}nE.prototype=jEt(TEt.prototype);nE.prototype.constructor=nE;var N8=nE,DEt=N8,IEt=B8,PEt=h8;function OEt(e){if(e instanceof DEt)return e.clone();var t=new IEt(e.__wrapped__,e.__chain__);return t.__actions__=PEt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $Et=OEt,REt=N8,$K=B8,MEt=L8,FEt=Xr,LEt=Ya,BEt=$Et,NEt=Object.prototype,zEt=NEt.hasOwnProperty;function rE(e){if(LEt(e)&&!FEt(e)&&!(e instanceof REt)){if(e instanceof $K)return e;if(zEt.call(e,"__wrapped__"))return BEt(e)}return new $K(e)}rE.prototype=MEt.prototype;rE.prototype.constructor=rE;var VEt=rE,HEt=N8,UEt=ESe,WEt=kSe,YEt=VEt;function qEt(e){var t=WEt(e),n=YEt[t];if(typeof n!="function"||!(t in HEt.prototype))return!1;if(e===n)return!0;var r=UEt(n);return!!r&&e===r[0]}var GEt=qEt,RK=B8,KEt=qL,ZEt=ESe,GI=kSe,XEt=Xr,MK=GEt,QEt="Expected a function",JEt=8,ekt=32,tkt=128,nkt=256;function rkt(e){return KEt(function(t){var n=t.length,r=n,o=RK.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(QEt);if(o&&!s&&GI(i)=="wrapper")var s=new RK([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=GI(i),l=a=="wrapper"?ZEt(i):void 0;l&&MK(l[0])&&l[1]==(tkt|JEt|ekt|nkt)&&!l[4].length&&l[9]==1?s=s[GI(l[0])].apply(s,l[3]):s=i.length==1&&MK(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&XEt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var okt=rkt,ikt=okt,skt=ikt(),akt=skt;const lkt=Ie(akt);var ckt=VL;function ukt(e,t){for(var n=e.length;n--&&ckt(t,e[n],0)>-1;);return n}var dkt=ukt,fkt=VL;function hkt(e,t){for(var n=-1,r=e.length;++n<r&&fkt(t,e[n],0)>-1;);return n}var pkt=hkt,mkt=Kwe,gkt=gge,vkt=r2e,ykt=dkt,bkt=pkt,FK=d2e,xkt=Oc;function wkt(e,t,n){if(e=xkt(e),e&&(n||t===void 0))return gkt(e);if(!e||!(t=mkt(t)))return e;var r=FK(e),o=FK(t),i=bkt(r,o),s=ykt(r,o)+1;return vkt(r,i,s).join("")}var Ckt=wkt;const _kt=Ie(Ckt);var ZC,Skt=new Uint8Array(16);function Ekt(){if(!ZC&&(ZC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ZC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZC(Skt)}const kkt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function jkt(e){return typeof e=="string"&&kkt.test(e)}var No=[];for(var KI=0;KI<256;++KI)No.push((KI+256).toString(16).substr(1));function Tkt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(No[e[t+0]]+No[e[t+1]]+No[e[t+2]]+No[e[t+3]]+"-"+No[e[t+4]]+No[e[t+5]]+"-"+No[e[t+6]]+No[e[t+7]]+"-"+No[e[t+8]]+No[e[t+9]]+"-"+No[e[t+10]]+No[e[t+11]]+No[e[t+12]]+No[e[t+13]]+No[e[t+14]]+No[e[t+15]]).toLowerCase();if(!jkt(n))throw TypeError("Stringified UUID is invalid");return n}function ed(e,t,n){e=e||{};var r=e.random||(e.rng||Ekt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Tkt(r)}var Akt=rCe,LK=Xr;function Dkt(e,t,n,r){return e==null?[]:(LK(t)||(t=t==null?[]:[t]),n=r?void 0:n,LK(n)||(n=n==null?[]:[n]),Akt(e,t,n))}var Ikt=Dkt;const j0=Ie(Ikt);function Pkt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function TR(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function xw(e){const[t,n]=e;return[t,n]}function BK(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function z8(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function fT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function V8(e){let t=e.map(f=>xw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===Ct?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===Yn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Dn,i]),t[r[o-1]+1][0]=Yn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=hT(t)),t=jSe(t),s=1;s<t.length;){if(t[s-1][0]===Dn&&t[s][0]===Yn){const f=t[s-1][1],p=t[s][1],m=BK(f,p),v=BK(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[Ct,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[Ct,f.substring(0,v)]),t[s-1][0]=Yn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Dn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const NK=/[^a-zA-Z0-9]/,zK=/\s/,VK=/[\r\n]/,Okt=/\n\r?\n$/,$kt=/^\r?\n\r?\n/;function jSe(e){const t=e.map(o=>xw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match(NK),u=a.match(NK),d=l&&s.match(zK),f=u&&a.match(zK),p=d&&s.match(VK),m=f&&a.match(VK),v=p&&o.match(Okt),g=m&&i.match($kt);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Ct&&t[r+1][0]===Ct){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=fT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function hT(e){let t=e.map(u=>xw(u));t.push([Ct,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Yn:o++,s+=t[n][1],n++;break;case Dn:r++,i+=t[n][1],n++;break;case Ct:r+o>1?(r!==0&&o!==0&&(a=z8(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===Ct?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[Ct,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=fT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Dn,i]),n++),s.length&&(t.splice(n,0,[Yn,s]),n++),n++):n!==0&&t[n-1][0]===Ct?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ct&&t[n+1][0]===Ct&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=hT(t)),t}function Rkt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function H8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>xw(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===Ct?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Dn?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&Rkt(l,u,d,f)===3)&&(n.splice(o[i-1],0,[Dn,s]),n[o[i-1]+1][0]=Yn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=hT(n)),n}function Mkt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let y=0;y<a;y++)l[y]=-1,u[y]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&l[b-1]<l[b+1]?w=l[b+1]:w=l[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return HK(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&l[_]!==-1){const S=l[_],E=s+S-_;if(w=r-w,S>=w)return HK(e,t,S,E,n)}}}}return[[Dn,e],[Yn,t]]}function HK(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=Lp(i,s,{checkLines:!1,deadline:o}),d=Lp(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function Fkt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=UK(r,o,Math.ceil(r.length/4)),s=UK(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function UK(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=z8(e.slice(n),t.slice(o)),f=fT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function Lkt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function Bkt(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function Nkt(e,t,n){let r=e,o=t;const i=Bkt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Lp(r,o,{checkLines:!1,deadline:n.deadline});Lkt(a,s),a=V8(a),a.push([Ct,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case Yn:d++,p+=a[l][1];break;case Dn:u++,f+=a[l][1];break;case Ct:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=Lp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function zkt(e,t,n){let r;if(!e)return[[Yn,t]];if(!t)return[[Dn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Yn,o.substring(0,s)],[Ct,i],[Yn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Dn,r[2][0]=Dn),r;if(i.length===1)return[[Dn,e],[Yn,t]];const a=Fkt(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Lp(l,d,n),v=Lp(u,f,n);return m.concat([[Ct,p]],v)}return n.checkLines&&e.length>100&&t.length>100?Nkt(e,t,n):Mkt(e,t,n.deadline)}const Dn=-1,Yn=1,Ct=0;function ww(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Lp(e,t,Hkt(n||{}));return Wkt(r),r}function Lp(e,t,n){let r=e,o=t;if(r===o)return r?[[Ct,r]]:[];let i=z8(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=fT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=zkt(r,o,n);return s&&l.unshift([Ct,s]),a&&l.push([Ct,a]),l=hT(l),l}function Vkt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function Hkt(e){return{checkLines:!0,deadline:Vkt(e.timeout||1),...e}}function XC(e,t,n){return n===1?e+t:t+e}function QC(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function Ukt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function WK(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Yn){o===null&&(o=s);continue}else if(u===Dn){i===null&&(i=s);continue}else if(u===Ct){if(o===null&&i===null){const[f,p]=QC(e[t][1],n);e[t][1]=f,e[s][1]=XC(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&Ukt(e,o,i,n)){const[u,d]=QC(e[o][1],r),[f]=QC(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=XC(e[t][1],d,n);return}const[a,l]=QC(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Yn,l]),i!==null&&i>=s&&i++):e[o][1]=XC(e[o][1],l,r),i===null?e.splice(s,0,[Dn,l]):e[i][1]=XC(e[i][1],l,r)}function Wkt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];Pkt(i)&&n===Ct&&WK(e,t,1),TR(o)&&n===Ct&&WK(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const Ykt={threshold:.5,distance:1e3};function qkt(e){return{...Ykt,...e}}const Gkt=32;function Kkt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>Gkt)throw new Error("Pattern too long for this browser.");const o=qkt(r),i=Zkt(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,l=b-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=x}return l}function Zkt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function ZI(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return Kkt(e,t,r)}function oE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function U8(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Yn&&(t[n]=e[n][1]);return t.join("")}function TSe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Dn&&(t[n]=e[n][1]);return t.join("")}function Nd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=ASe(r)}return t}function Xkt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=ASe(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>xw(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function ASe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Sd=32,W8=4,Qkt={margin:4};function XI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...Qkt,...e}}function DSe(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=ww(e,t,{checkLines:!0});return r.length>2&&(r=V8(r),r=H8(r)),QI(e,r,XI(n))}if(e&&Array.isArray(e)&&typeof t>"u")return QI(U8(e),e,XI(n));if(typeof e=="string"&&t&&Array.isArray(t))return QI(e,t,XI(n));throw new Error("Unknown call format to make()")}function QI(e,t,n){if(t.length===0)return[];const r=[];let o=oE(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=Nd(g);switch(!i&&v!==Ct&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case Yn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Dn:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case Ct:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(YK(o,d,n),r.push(o),o=oE(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==Yn&&(s+=y,l+=x),v!==Dn&&(a+=y,u+=x)}return i&&(YK(o,d,n),r.push(o)),r}function YK(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Sd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&TR(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([Ct,s]);const a=s.length,l=Nd(s);let u=e.start2+e.length1+o;u<t.length&&TR(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Ct,d]);const f=d.length,p=Nd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function Jkt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Yn:n+=s.length;break;case Dn:r+=s.length;break;case Ct:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function qK(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Yn&&(n+=e[s][1].length),e[s][0]!==Dn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Dn?i:i+(t-o)}function ejt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W8;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==Ct)i.unshift([Ct,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==Ct)i.push([Ct,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function tjt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W8;const n=Sd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=oE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Nd(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([Ct,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Nd(m);if(p===Yn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===Dn&&l.diffs.length===1&&l.diffs[0][0]===Ct&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=Nd(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===Ct?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=TSe(l.diffs),a=a.substring(a.length-t);const d=U8(o.diffs).substring(0,t),f=Nd(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===Ct?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([Ct,d])),u||e.splice(++r,0,l)}}}function ISe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=Xkt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||W8,s=n.deleteThreshold||.4,a=ejt(o,i);r=a+r+a,tjt(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=U8(o[d].diffs);let m,v=-1;if(p.length>Sd?(m=ZI(r,p.substring(0,Sd),f),m!==-1&&(v=ZI(r,p.substring(p.length-Sd),f+p.length-Sd),(v===-1||m>=v)&&(m=-1))):m=ZI(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Sd),p===g)r=r.substring(0,m)+TSe(o[d].diffs)+r.substring(m+p.length);else{let y=ww(p,g,{checkLines:!1});if(p.length>Sd&&Jkt(y)/p.length>s)u[d]=!1;else{y=jSe(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==Ct&&(b=qK(y,x)),C[0]===Yn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===Dn&&(r=r.substring(0,m+b)+r.substring(m+qK(y,x+C[1].length))),C[0]!==Dn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function PSe(e){return e.map(njt).join("")}function njt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Yn:u="+";break;case Dn:u="-";break;case Ct:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const rjt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function OSe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(rjt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=oE(JC(o[1]),JC(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=JC(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=JC(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Nd(l)-l.length;if(a==="-")i.diffs.push([Dn,l]),i.length1-=u;else if(a==="+")i.diffs.push([Yn,l]),i.length2-=u;else if(a===" ")i.diffs.push([Ct,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function JC(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var $Se;function Me(){return $Se.apply(null,arguments)}function ojt(e){$Se=e}function El(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function yp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Y8(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ln(e,t))return!1;return!0}function ss(e){return e===void 0}function $u(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Cw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function RSe(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function zd(e,t){for(var n in t)ln(t,n)&&(e[n]=t[n]);return ln(t,"toString")&&(e.toString=t.toString),ln(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Rc(e,t,n,r){return i5e(e,t,n,r,!0).utc()}function ijt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kt(e){return e._pf==null&&(e._pf=ijt()),e._pf}var AR;Array.prototype.some?AR=Array.prototype.some:AR=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function q8(e){if(e._isValid==null){var t=kt(e),n=AR.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function pT(e){var t=Rc(NaN);return e!=null?zd(kt(t),e):kt(t).userInvalidated=!0,t}var GK=Me.momentProperties=[],JI=!1;function G8(e,t){var n,r,o,i=GK.length;if(ss(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ss(t._i)||(e._i=t._i),ss(t._f)||(e._f=t._f),ss(t._l)||(e._l=t._l),ss(t._strict)||(e._strict=t._strict),ss(t._tzm)||(e._tzm=t._tzm),ss(t._isUTC)||(e._isUTC=t._isUTC),ss(t._offset)||(e._offset=t._offset),ss(t._pf)||(e._pf=kt(t)),ss(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=GK[n],o=t[r],ss(o)||(e[r]=o);return e}function _w(e){G8(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),JI===!1&&(JI=!0,Me.updateOffset(this),JI=!1)}function kl(e){return e instanceof _w||e!=null&&e._isAMomentObject!=null}function MSe(e){Me.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ka(e,t){var n=!0;return zd(function(){if(Me.deprecationHandler!=null&&Me.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])ln(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}MSe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var KK={};function FSe(e,t){Me.deprecationHandler!=null&&Me.deprecationHandler(e,t),KK[e]||(MSe(t),KK[e]=!0)}Me.suppressDeprecationWarnings=!1;Me.deprecationHandler=null;function Mc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function sjt(e){var t,n;for(n in e)ln(e,n)&&(t=e[n],Mc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function DR(e,t){var n=zd({},e),r;for(r in t)ln(t,r)&&(yp(e[r])&&yp(t[r])?(n[r]={},zd(n[r],e[r]),zd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ln(e,r)&&!ln(t,r)&&yp(e[r])&&(n[r]=zd({},n[r]));return n}function K8(e){e!=null&&this.set(e)}var IR;Object.keys?IR=Object.keys:IR=function(e){var t,n=[];for(t in e)ln(e,t)&&n.push(t);return n};var ajt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ljt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Mc(r)?r.call(t,n):r}function kc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var Z8=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,e_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,eP={},tv={};function tt(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(tv[e]=o),t&&(tv[t[0]]=function(){return kc(o.apply(this,arguments),t[1],t[2])}),n&&(tv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function cjt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function ujt(e){var t=e.match(Z8),n,r;for(n=0,r=t.length;n<r;n++)tv[t[n]]?t[n]=tv[t[n]]:t[n]=cjt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Mc(t[s])?t[s].call(o,e):t[s];return i}}function H2(e,t){return e.isValid()?(t=LSe(t,e.localeData()),eP[t]=eP[t]||ujt(t),eP[t](e)):e.localeData().invalidDate()}function LSe(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(e_.lastIndex=0;n>=0&&e_.test(e);)e=e.replace(e_,r),e_.lastIndex=0,n-=1;return e}var djt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fjt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Z8).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var hjt="Invalid date";function pjt(){return this._invalidDate}var mjt="%d",gjt=/\d{1,2}/;function vjt(e){return this._ordinal.replace("%d",e)}var yjt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function bjt(e,t,n,r){var o=this._relativeTime[n];return Mc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function xjt(e,t){var n=this._relativeTime[e>0?"future":"past"];return Mc(n)?n(t):n.replace(/%s/i,t)}var Qy={};function ki(e,t){var n=e.toLowerCase();Qy[n]=Qy[n+"s"]=Qy[t]=e}function Za(e){return typeof e=="string"?Qy[e]||Qy[e.toLowerCase()]:void 0}function X8(e){var t={},n,r;for(r in e)ln(e,r)&&(n=Za(r),n&&(t[n]=e[r]));return t}var BSe={};function ji(e,t){BSe[e]=t}function wjt(e){var t=[],n;for(n in e)ln(e,n)&&t.push({unit:n,priority:BSe[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function mT(e){return e%4===0&&e%100!==0||e%400===0}function _a(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=_a(t)),n}function T0(e,t){return function(n){return n!=null?(NSe(this,e,n),Me.updateOffset(this,t),this):iE(this,e)}}function iE(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function NSe(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&mT(e.year())&&e.month()===1&&e.date()===29?(n=Mt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),wT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Cjt(e){return e=Za(e),Mc(this[e])?this[e]():this}function _jt(e,t){if(typeof e=="object"){e=X8(e);var n=wjt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=Za(e),Mc(this[e]))return this[e](t);return this}var zSe=/\d/,da=/\d\d/,VSe=/\d{3}/,Q8=/\d{4}/,gT=/[+-]?\d{6}/,cr=/\d\d?/,HSe=/\d\d\d\d?/,USe=/\d\d\d\d\d\d?/,vT=/\d{1,3}/,J8=/\d{1,4}/,yT=/[+-]?\d{1,6}/,A0=/\d+/,bT=/[+-]?\d+/,Sjt=/Z|[+-]\d\d:?\d\d/gi,xT=/Z|[+-]\d\d(?::?\d\d)?/gi,Ejt=/[+-]?\d+(\.\d{1,3})?/,Sw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,sE;sE={};function ze(e,t,n){sE[e]=Mc(t)?t:function(r,o){return r&&n?n:t}}function kjt(e,t){return ln(sE,e)?sE[e](t._strict,t._locale):new RegExp(jjt(e))}function jjt(e){return Ws(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Ws(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var PR={};function On(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),$u(t)&&(r=function(i,s){s[t]=Mt(i)}),o=e.length,n=0;n<o;n++)PR[e[n]]=r}function Ew(e,t){On(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function Tjt(e,t,n){t!=null&&ln(PR,e)&&PR[e](t,n._a,n,e)}var vi=0,du=1,lc=2,_o=3,hl=4,fu=5,Qh=6,Ajt=7,Djt=8;function Ijt(e,t){return(e%t+t)%t}var Wr;Array.prototype.indexOf?Wr=Array.prototype.indexOf:Wr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function wT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Ijt(t,12);return e+=(t-n)/12,n===1?mT(e)?29:28:31-n%7%2}tt("M",["MM",2],"Mo",function(){return this.month()+1});tt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});tt("MMMM",0,0,function(e){return this.localeData().months(this,e)});ki("month","M");ji("month",8);ze("M",cr);ze("MM",cr,da);ze("MMM",function(e,t){return t.monthsShortRegex(e)});ze("MMMM",function(e,t){return t.monthsRegex(e)});On(["M","MM"],function(e,t){t[du]=Mt(e)-1});On(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[du]=o:kt(n).invalidMonth=e});var Pjt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),WSe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),YSe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ojt=Sw,$jt=Sw;function Rjt(e,t){return e?El(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||YSe).test(t)?"format":"standalone"][e.month()]:El(this._months)?this._months:this._months.standalone}function Mjt(e,t){return e?El(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[YSe.test(t)?"format":"standalone"][e.month()]:El(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Fjt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Rc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Wr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Wr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Wr.call(this._shortMonthsParse,s),o!==-1?o:(o=Wr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Wr.call(this._longMonthsParse,s),o!==-1?o:(o=Wr.call(this._shortMonthsParse,s),o!==-1?o:null))}function Ljt(e,t,n){var r,o,i;if(this._monthsParseExact)return Fjt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Rc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function qSe(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mt(t);else if(t=e.localeData().monthsParse(t),!$u(t))return e}return n=Math.min(e.date(),wT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function GSe(e){return e!=null?(qSe(this,e),Me.updateOffset(this,!0),this):iE(this,"Month")}function Bjt(){return wT(this.year(),this.month())}function Njt(e){return this._monthsParseExact?(ln(this,"_monthsRegex")||KSe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ln(this,"_monthsShortRegex")||(this._monthsShortRegex=Ojt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function zjt(e){return this._monthsParseExact?(ln(this,"_monthsRegex")||KSe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ln(this,"_monthsRegex")||(this._monthsRegex=$jt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function KSe(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Rc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Ws(t[o]),n[o]=Ws(n[o]);for(o=0;o<24;o++)r[o]=Ws(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}tt("Y",0,0,function(){var e=this.year();return e<=9999?kc(e,4):"+"+e});tt(0,["YY",2],0,function(){return this.year()%100});tt(0,["YYYY",4],0,"year");tt(0,["YYYYY",5],0,"year");tt(0,["YYYYYY",6,!0],0,"year");ki("year","y");ji("year",1);ze("Y",bT);ze("YY",cr,da);ze("YYYY",J8,Q8);ze("YYYYY",yT,gT);ze("YYYYYY",yT,gT);On(["YYYYY","YYYYYY"],vi);On("YYYY",function(e,t){t[vi]=e.length===2?Me.parseTwoDigitYear(e):Mt(e)});On("YY",function(e,t){t[vi]=Me.parseTwoDigitYear(e)});On("Y",function(e,t){t[vi]=parseInt(e,10)});function Jy(e){return mT(e)?366:365}Me.parseTwoDigitYear=function(e){return Mt(e)+(Mt(e)>68?1900:2e3)};var ZSe=T0("FullYear",!0);function Vjt(){return mT(this.year())}function Hjt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Gb(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function aE(e,t,n){var r=7+t-n,o=(7+Gb(e,0,r).getUTCDay()-t)%7;return-o+r-1}function XSe(e,t,n,r,o){var i=(7+n-r)%7,s=aE(e,r,o),a=1+7*(t-1)+i+s,l,u;return a<=0?(l=e-1,u=Jy(l)+a):a>Jy(e)?(l=e+1,u=a-Jy(e)):(l=e,u=a),{year:l,dayOfYear:u}}function Kb(e,t,n){var r=aE(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+xu(s,t,n)):o>xu(e.year(),t,n)?(i=o-xu(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function xu(e,t,n){var r=aE(e,t,n),o=aE(e+1,t,n);return(Jy(e)-r+o)/7}tt("w",["ww",2],"wo","week");tt("W",["WW",2],"Wo","isoWeek");ki("week","w");ki("isoWeek","W");ji("week",5);ji("isoWeek",5);ze("w",cr);ze("ww",cr,da);ze("W",cr);ze("WW",cr,da);Ew(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mt(e)});function Ujt(e){return Kb(e,this._week.dow,this._week.doy).week}var Wjt={dow:0,doy:6};function Yjt(){return this._week.dow}function qjt(){return this._week.doy}function Gjt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Kjt(e){var t=Kb(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}tt("d",0,"do","day");tt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});tt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});tt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});tt("e",0,0,"weekday");tt("E",0,0,"isoWeekday");ki("day","d");ki("weekday","e");ki("isoWeekday","E");ji("day",11);ji("weekday",11);ji("isoWeekday",11);ze("d",cr);ze("e",cr);ze("E",cr);ze("dd",function(e,t){return t.weekdaysMinRegex(e)});ze("ddd",function(e,t){return t.weekdaysShortRegex(e)});ze("dddd",function(e,t){return t.weekdaysRegex(e)});Ew(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:kt(n).invalidWeekday=e});Ew(["d","e","E"],function(e,t,n,r){t[r]=Mt(e)});function Zjt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Xjt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function e9(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Qjt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),QSe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jjt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),eTt=Sw,tTt=Sw,nTt=Sw;function rTt(e,t){var n=El(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?e9(n,this._week.dow):e?n[e.day()]:n}function oTt(e){return e===!0?e9(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function iTt(e){return e===!0?e9(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function sTt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Rc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Wr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Wr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Wr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Wr.call(this._weekdaysParse,s),o!==-1||(o=Wr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Wr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Wr.call(this._shortWeekdaysParse,s),o!==-1||(o=Wr.call(this._weekdaysParse,s),o!==-1)?o:(o=Wr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Wr.call(this._minWeekdaysParse,s),o!==-1||(o=Wr.call(this._weekdaysParse,s),o!==-1)?o:(o=Wr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function aTt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return sTt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Rc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function lTt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Zjt(e,this.localeData()),this.add(e-t,"d")):t}function cTt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function uTt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Xjt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function dTt(e){return this._weekdaysParseExact?(ln(this,"_weekdaysRegex")||t9.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ln(this,"_weekdaysRegex")||(this._weekdaysRegex=eTt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function fTt(e){return this._weekdaysParseExact?(ln(this,"_weekdaysRegex")||t9.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ln(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tTt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function hTt(e){return this._weekdaysParseExact?(ln(this,"_weekdaysRegex")||t9.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ln(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nTt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function t9(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,l,u;for(i=0;i<7;i++)s=Rc([2e3,1]).day(i),a=Ws(this.weekdaysMin(s,"")),l=Ws(this.weekdaysShort(s,"")),u=Ws(this.weekdays(s,"")),t.push(a),n.push(l),r.push(u),o.push(a),o.push(l),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function n9(){return this.hours()%12||12}function pTt(){return this.hours()||24}tt("H",["HH",2],0,"hour");tt("h",["hh",2],0,n9);tt("k",["kk",2],0,pTt);tt("hmm",0,0,function(){return""+n9.apply(this)+kc(this.minutes(),2)});tt("hmmss",0,0,function(){return""+n9.apply(this)+kc(this.minutes(),2)+kc(this.seconds(),2)});tt("Hmm",0,0,function(){return""+this.hours()+kc(this.minutes(),2)});tt("Hmmss",0,0,function(){return""+this.hours()+kc(this.minutes(),2)+kc(this.seconds(),2)});function JSe(e,t){tt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}JSe("a",!0);JSe("A",!1);ki("hour","h");ji("hour",13);function e5e(e,t){return t._meridiemParse}ze("a",e5e);ze("A",e5e);ze("H",cr);ze("h",cr);ze("k",cr);ze("HH",cr,da);ze("hh",cr,da);ze("kk",cr,da);ze("hmm",HSe);ze("hmmss",USe);ze("Hmm",HSe);ze("Hmmss",USe);On(["H","HH"],_o);On(["k","kk"],function(e,t,n){var r=Mt(e);t[_o]=r===24?0:r});On(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});On(["h","hh"],function(e,t,n){t[_o]=Mt(e),kt(n).bigHour=!0});On("hmm",function(e,t,n){var r=e.length-2;t[_o]=Mt(e.substr(0,r)),t[hl]=Mt(e.substr(r)),kt(n).bigHour=!0});On("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[_o]=Mt(e.substr(0,r)),t[hl]=Mt(e.substr(r,2)),t[fu]=Mt(e.substr(o)),kt(n).bigHour=!0});On("Hmm",function(e,t,n){var r=e.length-2;t[_o]=Mt(e.substr(0,r)),t[hl]=Mt(e.substr(r))});On("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[_o]=Mt(e.substr(0,r)),t[hl]=Mt(e.substr(r,2)),t[fu]=Mt(e.substr(o))});function mTt(e){return(e+"").toLowerCase().charAt(0)==="p"}var gTt=/[ap]\.?m?\.?/i,vTt=T0("Hours",!0);function yTt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var t5e={calendar:ajt,longDateFormat:djt,invalidDate:hjt,ordinal:mjt,dayOfMonthOrdinalParse:gjt,relativeTime:yjt,months:Pjt,monthsShort:WSe,week:Wjt,weekdays:Qjt,weekdaysMin:Jjt,weekdaysShort:QSe,meridiemParse:gTt},mr={},k1={},Zb;function bTt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ZK(e){return e&&e.toLowerCase().replace("_","-")}function xTt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=ZK(e[t]).split("-"),n=i.length,r=ZK(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=CT(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&bTt(i,r)>=n-1)break;n--}t++}return Zb}function wTt(e){return e.match("^[^/\\\\]*$")!=null}function CT(e){var t=null,n;if(mr[e]===void 0&&typeof module<"u"&&module&&module.exports&&wTt(e))try{t=Zb._abbr,n=require,n("./locale/"+e),cf(t)}catch{mr[e]=null}return mr[e]}function cf(e,t){var n;return e&&(ss(t)?n=td(e):n=r9(e,t),n?Zb=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Zb._abbr}function r9(e,t){if(t!==null){var n,r=t5e;if(t.abbr=e,mr[e]!=null)FSe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=mr[e]._config;else if(t.parentLocale!=null)if(mr[t.parentLocale]!=null)r=mr[t.parentLocale]._config;else if(n=CT(t.parentLocale),n!=null)r=n._config;else return k1[t.parentLocale]||(k1[t.parentLocale]=[]),k1[t.parentLocale].push({name:e,config:t}),null;return mr[e]=new K8(DR(r,t)),k1[e]&&k1[e].forEach(function(o){r9(o.name,o.config)}),cf(e),mr[e]}else return delete mr[e],null}function CTt(e,t){if(t!=null){var n,r,o=t5e;mr[e]!=null&&mr[e].parentLocale!=null?mr[e].set(DR(mr[e]._config,t)):(r=CT(e),r!=null&&(o=r._config),t=DR(o,t),r==null&&(t.abbr=e),n=new K8(t),n.parentLocale=mr[e],mr[e]=n),cf(e)}else mr[e]!=null&&(mr[e].parentLocale!=null?(mr[e]=mr[e].parentLocale,e===cf()&&cf(e)):mr[e]!=null&&delete mr[e]);return mr[e]}function td(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Zb;if(!El(e)){if(t=CT(e),t)return t;e=[e]}return xTt(e)}function _Tt(){return IR(mr)}function o9(e){var t,n=e._a;return n&&kt(e).overflow===-2&&(t=n[du]<0||n[du]>11?du:n[lc]<1||n[lc]>wT(n[vi],n[du])?lc:n[_o]<0||n[_o]>24||n[_o]===24&&(n[hl]!==0||n[fu]!==0||n[Qh]!==0)?_o:n[hl]<0||n[hl]>59?hl:n[fu]<0||n[fu]>59?fu:n[Qh]<0||n[Qh]>999?Qh:-1,kt(e)._overflowDayOfYear&&(t<vi||t>lc)&&(t=lc),kt(e)._overflowWeeks&&t===-1&&(t=Ajt),kt(e)._overflowWeekday&&t===-1&&(t=Djt),kt(e).overflow=t),e}var STt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ETt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kTt=/Z|[+-]\d\d(?::?\d\d)?/,t_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],tP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jTt=/^\/?Date\((-?\d+)/i,TTt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ATt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function n5e(e){var t,n,r=e._i,o=STt.exec(r)||ETt.exec(r),i,s,a,l,u=t_.length,d=tP.length;if(o){for(kt(e).iso=!0,t=0,n=u;t<n;t++)if(t_[t][1].exec(o[1])){s=t_[t][0],i=t_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(tP[t][1].exec(o[3])){a=(o[2]||" ")+tP[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(kTt.exec(o[4]))l="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(l||""),s9(e)}else e._isValid=!1}function DTt(e,t,n,r,o,i){var s=[ITt(e),WSe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function ITt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function PTt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function OTt(e,t,n){if(e){var r=QSe.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return kt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function $Tt(e,t,n){if(e)return ATt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function r5e(e){var t=TTt.exec(PTt(e._i)),n;if(t){if(n=DTt(t[4],t[3],t[2],t[5],t[6],t[7]),!OTt(t[1],n,e))return;e._a=n,e._tzm=$Tt(t[8],t[9],t[10]),e._d=Gb.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kt(e).rfc2822=!0}else e._isValid=!1}function RTt(e){var t=jTt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(n5e(e),e._isValid===!1)delete e._isValid;else return;if(r5e(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Me.createFromInputFallback(e)}Me.createFromInputFallback=Ka("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ag(e,t,n){return e??t??n}function MTt(e){var t=new Date(Me.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function i9(e){var t,n,r=[],o,i,s;if(!e._d){for(o=MTt(e),e._w&&e._a[lc]==null&&e._a[du]==null&&FTt(e),e._dayOfYear!=null&&(s=ag(e._a[vi],o[vi]),(e._dayOfYear>Jy(s)||e._dayOfYear===0)&&(kt(e)._overflowDayOfYear=!0),n=Gb(s,0,e._dayOfYear),e._a[du]=n.getUTCMonth(),e._a[lc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[_o]===24&&e._a[hl]===0&&e._a[fu]===0&&e._a[Qh]===0&&(e._nextDay=!0,e._a[_o]=0),e._d=(e._useUTC?Gb:Hjt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_o]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(kt(e).weekdayMismatch=!0)}}function FTt(e){var t,n,r,o,i,s,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=ag(t.GG,e._a[vi],Kb(ar(),1,4).year),r=ag(t.W,1),o=ag(t.E,1),(o<1||o>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=Kb(ar(),i,s),n=ag(t.gg,e._a[vi],u.year),r=ag(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(l=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>xu(n,i,s)?kt(e)._overflowWeeks=!0:l!=null?kt(e)._overflowWeekday=!0:(a=XSe(n,r,o,i,s),e._a[vi]=a.year,e._dayOfYear=a.dayOfYear)}Me.ISO_8601=function(){};Me.RFC_2822=function(){};function s9(e){if(e._f===Me.ISO_8601){n5e(e);return}if(e._f===Me.RFC_2822){r5e(e);return}e._a=[],kt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,l=0,u,d;for(o=LSe(e._f,e._locale).match(Z8)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(kjt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&kt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),l+=r.length),tv[i]?(r?kt(e).empty=!1:kt(e).unusedTokens.push(i),Tjt(i,r,e)):e._strict&&!r&&kt(e).unusedTokens.push(i);kt(e).charsLeftOver=a-l,t.length>0&&kt(e).unusedInput.push(t),e._a[_o]<=12&&kt(e).bigHour===!0&&e._a[_o]>0&&(kt(e).bigHour=void 0),kt(e).parsedDateParts=e._a.slice(0),kt(e).meridiem=e._meridiem,e._a[_o]=LTt(e._locale,e._a[_o],e._meridiem),u=kt(e).era,u!==null&&(e._a[vi]=e._locale.erasConvertYear(u,e._a[vi])),i9(e),o9(e)}function LTt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function BTt(e){var t,n,r,o,i,s,a=!1,l=e._f.length;if(l===0){kt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<l;o++)i=0,s=!1,t=G8({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],s9(t),q8(t)&&(s=!0),i+=kt(t).charsLeftOver,i+=kt(t).unusedTokens.length*10,kt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));zd(e,n||t)}function NTt(e){if(!e._d){var t=X8(e._i),n=t.day===void 0?t.date:t.day;e._a=RSe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),i9(e)}}function zTt(e){var t=new _w(o9(o5e(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function o5e(e){var t=e._i,n=e._f;return e._locale=e._locale||td(e._l),t===null||n===void 0&&t===""?pT({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),kl(t)?new _w(o9(t)):(Cw(t)?e._d=t:El(n)?BTt(e):n?s9(e):VTt(e),q8(e)||(e._d=null),e))}function VTt(e){var t=e._i;ss(t)?e._d=new Date(Me.now()):Cw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?RTt(e):El(t)?(e._a=RSe(t.slice(0),function(n){return parseInt(n,10)}),i9(e)):yp(t)?NTt(e):$u(t)?e._d=new Date(t):Me.createFromInputFallback(e)}function i5e(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(yp(e)&&Y8(e)||El(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,zTt(i)}function ar(e,t,n,r){return i5e(e,t,n,r,!1)}var HTt=Ka("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:pT()}),UTt=Ka("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:pT()});function s5e(e,t){var n,r;if(t.length===1&&El(t[0])&&(t=t[0]),!t.length)return ar();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function WTt(){var e=[].slice.call(arguments,0);return s5e("isBefore",e)}function YTt(){var e=[].slice.call(arguments,0);return s5e("isAfter",e)}var qTt=function(){return Date.now?Date.now():+new Date},j1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function GTt(e){var t,n=!1,r,o=j1.length;for(t in e)if(ln(e,t)&&!(Wr.call(j1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[j1[r]]){if(n)return!1;parseFloat(e[j1[r]])!==Mt(e[j1[r]])&&(n=!0)}return!0}function KTt(){return this._isValid}function ZTt(){return Ol(NaN)}function _T(e){var t=X8(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=GTt(t),this._milliseconds=+d+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=td(),this._bubble()}function U2(e){return e instanceof _T}function OR(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function XTt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Mt(e[s])!==Mt(t[s]))&&i++;return i+o}function a5e(e,t){tt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+kc(~~(n/60),2)+t+kc(~~n%60,2)})}a5e("Z",":");a5e("ZZ","");ze("Z",xT);ze("ZZ",xT);On(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=a9(xT,e)});var QTt=/([\+\-]|\d\d)/gi;function a9(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(QTt)||["-",0,0],i=+(o[1]*60)+Mt(o[2]),i===0?0:o[0]==="+"?i:-i)}function l9(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(kl(e)||Cw(e)?e.valueOf():ar(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Me.updateOffset(n,!1),n):ar(e).local()}function $R(e){return-Math.round(e._d.getTimezoneOffset())}Me.updateOffset=function(){};function JTt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=a9(xT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=$R(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?u5e(this,Ol(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Me.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:$R(this)}function eAt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function tAt(e){return this.utcOffset(0,e)}function nAt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($R(this),"m")),this}function rAt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=a9(Sjt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function oAt(e){return this.isValid()?(e=e?ar(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function iAt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function sAt(){if(!ss(this._isDSTShifted))return this._isDSTShifted;var e={},t;return G8(e,this),e=o5e(e),e._a?(t=e._isUTC?Rc(e._a):ar(e._a),this._isDSTShifted=this.isValid()&&XTt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function aAt(){return this.isValid()?!this._isUTC:!1}function lAt(){return this.isValid()?this._isUTC:!1}function l5e(){return this.isValid()?this._isUTC&&this._offset===0:!1}var cAt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,uAt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ol(e,t){var n=e,r=null,o,i,s;return U2(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:$u(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=cAt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Mt(r[lc])*o,h:Mt(r[_o])*o,m:Mt(r[hl])*o,s:Mt(r[fu])*o,ms:Mt(OR(r[Qh]*1e3))*o}):(r=uAt.exec(e))?(o=r[1]==="-"?-1:1,n={y:mh(r[2],o),M:mh(r[3],o),w:mh(r[4],o),d:mh(r[5],o),h:mh(r[6],o),m:mh(r[7],o),s:mh(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=dAt(ar(n.from),ar(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new _T(n),U2(e)&&ln(e,"_locale")&&(i._locale=e._locale),U2(e)&&ln(e,"_isValid")&&(i._isValid=e._isValid),i}Ol.fn=_T.prototype;Ol.invalid=ZTt;function mh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function XK(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function dAt(e,t){var n;return e.isValid()&&t.isValid()?(t=l9(t,e),e.isBefore(t)?n=XK(e,t):(n=XK(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function c5e(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(FSe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Ol(n,r),u5e(this,o,e),this}}function u5e(e,t,n,r){var o=t._milliseconds,i=OR(t._days),s=OR(t._months);e.isValid()&&(r=r??!0,s&&qSe(e,iE(e,"Month")+s*n),i&&NSe(e,"Date",iE(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Me.updateOffset(e,i||s))}var fAt=c5e(1,"add"),hAt=c5e(-1,"subtract");function d5e(e){return typeof e=="string"||e instanceof String}function pAt(e){return kl(e)||Cw(e)||d5e(e)||$u(e)||gAt(e)||mAt(e)||e===null||e===void 0}function mAt(e){var t=yp(e)&&!Y8(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||ln(e,i);return t&&n}function gAt(e){var t=El(e),n=!1;return t&&(n=e.filter(function(r){return!$u(r)&&d5e(e)}).length===0),t&&n}function vAt(e){var t=yp(e)&&!Y8(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||ln(e,i);return t&&n}function yAt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function bAt(e,t){arguments.length===1&&(arguments[0]?pAt(arguments[0])?(e=arguments[0],t=void 0):vAt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ar(),r=l9(n,this).startOf("day"),o=Me.calendarFormat(this,r)||"sameElse",i=t&&(Mc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ar(n)))}function xAt(){return new _w(this)}function wAt(e,t){var n=kl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=Za(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function CAt(e,t){var n=kl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=Za(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function _At(e,t,n,r){var o=kl(e)?e:ar(e),i=kl(t)?t:ar(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function SAt(e,t){var n=kl(e)?e:ar(e),r;return this.isValid()&&n.isValid()?(t=Za(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function EAt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function kAt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function jAt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=l9(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=Za(t),t){case"year":i=W2(this,r)/12;break;case"month":i=W2(this,r);break;case"quarter":i=W2(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:_a(i)}function W2(e,t){if(e.date()<t.date())return-W2(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Me.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Me.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function TAt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function AAt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H2(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Mc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",H2(n,"Z")):H2(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function DAt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function IAt(e){e||(e=this.isUtc()?Me.defaultFormatUtc:Me.defaultFormat);var t=H2(this,e);return this.localeData().postformat(t)}function PAt(e,t){return this.isValid()&&(kl(e)&&e.isValid()||ar(e).isValid())?Ol({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function OAt(e){return this.from(ar(),e)}function $At(e,t){return this.isValid()&&(kl(e)&&e.isValid()||ar(e).isValid())?Ol({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function RAt(e){return this.to(ar(),e)}function f5e(e){var t;return e===void 0?this._locale._abbr:(t=td(e),t!=null&&(this._locale=t),this)}var h5e=Ka("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function p5e(){return this._locale}var lE=1e3,nv=60*lE,cE=60*nv,m5e=(365*400+97)*24*cE;function rv(e,t){return(e%t+t)%t}function g5e(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-m5e:new Date(e,t,n).valueOf()}function v5e(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-m5e:Date.UTC(e,t,n)}function MAt(e){var t,n;if(e=Za(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?v5e:g5e,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=rv(t+(this._isUTC?0:this.utcOffset()*nv),cE);break;case"minute":t=this._d.valueOf(),t-=rv(t,nv);break;case"second":t=this._d.valueOf(),t-=rv(t,lE);break}return this._d.setTime(t),Me.updateOffset(this,!0),this}function FAt(e){var t,n;if(e=Za(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?v5e:g5e,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=cE-rv(t+(this._isUTC?0:this.utcOffset()*nv),cE)-1;break;case"minute":t=this._d.valueOf(),t+=nv-rv(t,nv)-1;break;case"second":t=this._d.valueOf(),t+=lE-rv(t,lE)-1;break}return this._d.setTime(t),Me.updateOffset(this,!0),this}function LAt(){return this._d.valueOf()-(this._offset||0)*6e4}function BAt(){return Math.floor(this.valueOf()/1e3)}function NAt(){return new Date(this.valueOf())}function zAt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function VAt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function HAt(){return this.isValid()?this.toISOString():null}function UAt(){return q8(this)}function WAt(){return zd({},kt(this))}function YAt(){return kt(this).overflow}function qAt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}tt("N",0,0,"eraAbbr");tt("NN",0,0,"eraAbbr");tt("NNN",0,0,"eraAbbr");tt("NNNN",0,0,"eraName");tt("NNNNN",0,0,"eraNarrow");tt("y",["y",1],"yo","eraYear");tt("y",["yy",2],0,"eraYear");tt("y",["yyy",3],0,"eraYear");tt("y",["yyyy",4],0,"eraYear");ze("N",c9);ze("NN",c9);ze("NNN",c9);ze("NNNN",oDt);ze("NNNNN",iDt);On(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?kt(n).era=o:kt(n).invalidEra=e});ze("y",A0);ze("yy",A0);ze("yyy",A0);ze("yyyy",A0);ze("yo",sDt);On(["y","yy","yyy","yyyy"],vi);On(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[vi]=n._locale.eraYearOrdinalParse(e,o):t[vi]=parseInt(e,10)});function GAt(e,t){var n,r,o,i=this._eras||td("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Me(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Me(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function KAt(e,t,n){var r,o,i=this.eras(),s,a,l;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([s,a,l].indexOf(e)>=0)return i[r]}function ZAt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Me(e.since).year():Me(e.since).year()+(t-e.offset)*n}function XAt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function QAt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function JAt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function eDt(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Me(o[e].since).year())*n+o[e].offset;return this.year()}function tDt(e){return ln(this,"_erasNameRegex")||u9.call(this),e?this._erasNameRegex:this._erasRegex}function nDt(e){return ln(this,"_erasAbbrRegex")||u9.call(this),e?this._erasAbbrRegex:this._erasRegex}function rDt(e){return ln(this,"_erasNarrowRegex")||u9.call(this),e?this._erasNarrowRegex:this._erasRegex}function c9(e,t){return t.erasAbbrRegex(e)}function oDt(e,t){return t.erasNameRegex(e)}function iDt(e,t){return t.erasNarrowRegex(e)}function sDt(e,t){return t._eraYearOrdinalRegex||A0}function u9(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Ws(s[o].name)),e.push(Ws(s[o].abbr)),n.push(Ws(s[o].narrow)),r.push(Ws(s[o].name)),r.push(Ws(s[o].abbr)),r.push(Ws(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}tt(0,["gg",2],0,function(){return this.weekYear()%100});tt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ST(e,t){tt(0,[e,e.length],0,t)}ST("gggg","weekYear");ST("ggggg","weekYear");ST("GGGG","isoWeekYear");ST("GGGGG","isoWeekYear");ki("weekYear","gg");ki("isoWeekYear","GG");ji("weekYear",1);ji("isoWeekYear",1);ze("G",bT);ze("g",bT);ze("GG",cr,da);ze("gg",cr,da);ze("GGGG",J8,Q8);ze("gggg",J8,Q8);ze("GGGGG",yT,gT);ze("ggggg",yT,gT);Ew(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mt(e)});Ew(["gg","GG"],function(e,t,n,r){t[r]=Me.parseTwoDigitYear(e)});function aDt(e){return y5e.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function lDt(e){return y5e.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function cDt(){return xu(this.year(),1,4)}function uDt(){return xu(this.isoWeekYear(),1,4)}function dDt(){var e=this.localeData()._week;return xu(this.year(),e.dow,e.doy)}function fDt(){var e=this.localeData()._week;return xu(this.weekYear(),e.dow,e.doy)}function y5e(e,t,n,r,o){var i;return e==null?Kb(this,r,o).year:(i=xu(e,r,o),t>i&&(t=i),hDt.call(this,e,t,n,r,o))}function hDt(e,t,n,r,o){var i=XSe(e,t,n,r,o),s=Gb(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}tt("Q",0,"Qo","quarter");ki("quarter","Q");ji("quarter",7);ze("Q",zSe);On("Q",function(e,t){t[du]=(Mt(e)-1)*3});function pDt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}tt("D",["DD",2],"Do","date");ki("date","D");ji("date",9);ze("D",cr);ze("DD",cr,da);ze("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});On(["D","DD"],lc);On("Do",function(e,t){t[lc]=Mt(e.match(cr)[0])});var b5e=T0("Date",!0);tt("DDD",["DDDD",3],"DDDo","dayOfYear");ki("dayOfYear","DDD");ji("dayOfYear",4);ze("DDD",vT);ze("DDDD",VSe);On(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mt(e)});function mDt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}tt("m",["mm",2],0,"minute");ki("minute","m");ji("minute",14);ze("m",cr);ze("mm",cr,da);On(["m","mm"],hl);var gDt=T0("Minutes",!1);tt("s",["ss",2],0,"second");ki("second","s");ji("second",15);ze("s",cr);ze("ss",cr,da);On(["s","ss"],fu);var vDt=T0("Seconds",!1);tt("S",0,0,function(){return~~(this.millisecond()/100)});tt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});tt(0,["SSS",3],0,"millisecond");tt(0,["SSSS",4],0,function(){return this.millisecond()*10});tt(0,["SSSSS",5],0,function(){return this.millisecond()*100});tt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});tt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});tt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});tt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ki("millisecond","ms");ji("millisecond",16);ze("S",vT,zSe);ze("SS",vT,da);ze("SSS",vT,VSe);var Vd,x5e;for(Vd="SSSS";Vd.length<=9;Vd+="S")ze(Vd,A0);function yDt(e,t){t[Qh]=Mt(("0."+e)*1e3)}for(Vd="S";Vd.length<=9;Vd+="S")On(Vd,yDt);x5e=T0("Milliseconds",!1);tt("z",0,0,"zoneAbbr");tt("zz",0,0,"zoneName");function bDt(){return this._isUTC?"UTC":""}function xDt(){return this._isUTC?"Coordinated Universal Time":""}var Ae=_w.prototype;Ae.add=fAt;Ae.calendar=bAt;Ae.clone=xAt;Ae.diff=jAt;Ae.endOf=FAt;Ae.format=IAt;Ae.from=PAt;Ae.fromNow=OAt;Ae.to=$At;Ae.toNow=RAt;Ae.get=Cjt;Ae.invalidAt=YAt;Ae.isAfter=wAt;Ae.isBefore=CAt;Ae.isBetween=_At;Ae.isSame=SAt;Ae.isSameOrAfter=EAt;Ae.isSameOrBefore=kAt;Ae.isValid=UAt;Ae.lang=h5e;Ae.locale=f5e;Ae.localeData=p5e;Ae.max=UTt;Ae.min=HTt;Ae.parsingFlags=WAt;Ae.set=_jt;Ae.startOf=MAt;Ae.subtract=hAt;Ae.toArray=zAt;Ae.toObject=VAt;Ae.toDate=NAt;Ae.toISOString=AAt;Ae.inspect=DAt;typeof Symbol<"u"&&Symbol.for!=null&&(Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ae.toJSON=HAt;Ae.toString=TAt;Ae.unix=BAt;Ae.valueOf=LAt;Ae.creationData=qAt;Ae.eraName=XAt;Ae.eraNarrow=QAt;Ae.eraAbbr=JAt;Ae.eraYear=eDt;Ae.year=ZSe;Ae.isLeapYear=Vjt;Ae.weekYear=aDt;Ae.isoWeekYear=lDt;Ae.quarter=Ae.quarters=pDt;Ae.month=GSe;Ae.daysInMonth=Bjt;Ae.week=Ae.weeks=Gjt;Ae.isoWeek=Ae.isoWeeks=Kjt;Ae.weeksInYear=dDt;Ae.weeksInWeekYear=fDt;Ae.isoWeeksInYear=cDt;Ae.isoWeeksInISOWeekYear=uDt;Ae.date=b5e;Ae.day=Ae.days=lTt;Ae.weekday=cTt;Ae.isoWeekday=uTt;Ae.dayOfYear=mDt;Ae.hour=Ae.hours=vTt;Ae.minute=Ae.minutes=gDt;Ae.second=Ae.seconds=vDt;Ae.millisecond=Ae.milliseconds=x5e;Ae.utcOffset=JTt;Ae.utc=tAt;Ae.local=nAt;Ae.parseZone=rAt;Ae.hasAlignedHourOffset=oAt;Ae.isDST=iAt;Ae.isLocal=aAt;Ae.isUtcOffset=lAt;Ae.isUtc=l5e;Ae.isUTC=l5e;Ae.zoneAbbr=bDt;Ae.zoneName=xDt;Ae.dates=Ka("dates accessor is deprecated. Use date instead.",b5e);Ae.months=Ka("months accessor is deprecated. Use month instead",GSe);Ae.years=Ka("years accessor is deprecated. Use year instead",ZSe);Ae.zone=Ka("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",eAt);Ae.isDSTShifted=Ka("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",sAt);function wDt(e){return ar(e*1e3)}function CDt(){return ar.apply(null,arguments).parseZone()}function w5e(e){return e}var cn=K8.prototype;cn.calendar=ljt;cn.longDateFormat=fjt;cn.invalidDate=pjt;cn.ordinal=vjt;cn.preparse=w5e;cn.postformat=w5e;cn.relativeTime=bjt;cn.pastFuture=xjt;cn.set=sjt;cn.eras=GAt;cn.erasParse=KAt;cn.erasConvertYear=ZAt;cn.erasAbbrRegex=nDt;cn.erasNameRegex=tDt;cn.erasNarrowRegex=rDt;cn.months=Rjt;cn.monthsShort=Mjt;cn.monthsParse=Ljt;cn.monthsRegex=zjt;cn.monthsShortRegex=Njt;cn.week=Ujt;cn.firstDayOfYear=qjt;cn.firstDayOfWeek=Yjt;cn.weekdays=rTt;cn.weekdaysMin=iTt;cn.weekdaysShort=oTt;cn.weekdaysParse=aTt;cn.weekdaysRegex=dTt;cn.weekdaysShortRegex=fTt;cn.weekdaysMinRegex=hTt;cn.isPM=mTt;cn.meridiem=yTt;function uE(e,t,n,r){var o=td(),i=Rc().set(r,t);return o[n](i,e)}function C5e(e,t,n){if($u(e)&&(t=e,e=void 0),e=e||"",t!=null)return uE(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=uE(e,r,n,"month");return o}function d9(e,t,n,r){typeof e=="boolean"?($u(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,$u(t)&&(n=t,t=void 0),t=t||"");var o=td(),i=e?o._week.dow:0,s,a=[];if(n!=null)return uE(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=uE(t,(s+i)%7,r,"day");return a}function _Dt(e,t){return C5e(e,t,"months")}function SDt(e,t){return C5e(e,t,"monthsShort")}function EDt(e,t,n){return d9(e,t,n,"weekdays")}function kDt(e,t,n){return d9(e,t,n,"weekdaysShort")}function jDt(e,t,n){return d9(e,t,n,"weekdaysMin")}cf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Me.lang=Ka("moment.lang is deprecated. Use moment.locale instead.",cf);Me.langData=Ka("moment.langData is deprecated. Use moment.localeData instead.",td);var Uc=Math.abs;function TDt(){var e=this._data;return this._milliseconds=Uc(this._milliseconds),this._days=Uc(this._days),this._months=Uc(this._months),e.milliseconds=Uc(e.milliseconds),e.seconds=Uc(e.seconds),e.minutes=Uc(e.minutes),e.hours=Uc(e.hours),e.months=Uc(e.months),e.years=Uc(e.years),this}function _5e(e,t,n,r){var o=Ol(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function ADt(e,t){return _5e(this,e,t,1)}function DDt(e,t){return _5e(this,e,t,-1)}function QK(e){return e<0?Math.floor(e):Math.ceil(e)}function IDt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=QK(RR(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=_a(e/1e3),r.seconds=o%60,i=_a(o/60),r.minutes=i%60,s=_a(i/60),r.hours=s%24,t+=_a(s/24),l=_a(S5e(t)),n+=l,t-=QK(RR(l)),a=_a(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function S5e(e){return e*4800/146097}function RR(e){return e*146097/4800}function PDt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Za(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+S5e(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(RR(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function ODt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mt(this._months/12)*31536e6:NaN}function nd(e){return function(){return this.as(e)}}var $Dt=nd("ms"),RDt=nd("s"),MDt=nd("m"),FDt=nd("h"),LDt=nd("d"),BDt=nd("w"),NDt=nd("M"),zDt=nd("Q"),VDt=nd("y");function HDt(){return Ol(this)}function UDt(e){return e=Za(e),this.isValid()?this[e+"s"]():NaN}function ym(e){return function(){return this.isValid()?this._data[e]:NaN}}var WDt=ym("milliseconds"),YDt=ym("seconds"),qDt=ym("minutes"),GDt=ym("hours"),KDt=ym("days"),ZDt=ym("months"),XDt=ym("years");function QDt(){return _a(this.days()/7)}var nu=Math.round,Og={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function JDt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function eIt(e,t,n,r){var o=Ol(e).abs(),i=nu(o.as("s")),s=nu(o.as("m")),a=nu(o.as("h")),l=nu(o.as("d")),u=nu(o.as("M")),d=nu(o.as("w")),f=nu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,JDt.apply(null,p)}function tIt(e){return e===void 0?nu:typeof e=="function"?(nu=e,!0):!1}function nIt(e,t){return Og[e]===void 0?!1:t===void 0?Og[e]:(Og[e]=t,e==="s"&&(Og.ss=t-1),!0)}function rIt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Og,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Og,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=eIt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var nP=Math.abs;function zm(e){return(e>0)-(e<0)||+e}function ET(){if(!this.isValid())return this.localeData().invalidDate();var e=nP(this._milliseconds)/1e3,t=nP(this._days),n=nP(this._months),r,o,i,s,a=this.asSeconds(),l,u,d,f;return a?(r=_a(e/60),o=_a(r/60),e%=60,r%=60,i=_a(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=zm(this._months)!==zm(a)?"-":"",d=zm(this._days)!==zm(a)?"-":"",f=zm(this._milliseconds)!==zm(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var Jt=_T.prototype;Jt.isValid=KTt;Jt.abs=TDt;Jt.add=ADt;Jt.subtract=DDt;Jt.as=PDt;Jt.asMilliseconds=$Dt;Jt.asSeconds=RDt;Jt.asMinutes=MDt;Jt.asHours=FDt;Jt.asDays=LDt;Jt.asWeeks=BDt;Jt.asMonths=NDt;Jt.asQuarters=zDt;Jt.asYears=VDt;Jt.valueOf=ODt;Jt._bubble=IDt;Jt.clone=HDt;Jt.get=UDt;Jt.milliseconds=WDt;Jt.seconds=YDt;Jt.minutes=qDt;Jt.hours=GDt;Jt.days=KDt;Jt.weeks=QDt;Jt.months=ZDt;Jt.years=XDt;Jt.humanize=rIt;Jt.toISOString=ET;Jt.toString=ET;Jt.toJSON=ET;Jt.locale=f5e;Jt.localeData=p5e;Jt.toIsoString=Ka("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ET);Jt.lang=h5e;tt("X",0,0,"unix");tt("x",0,0,"valueOf");ze("x",bT);ze("X",Ejt);On("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});On("x",function(e,t,n){n._d=new Date(Mt(e))});//! moment.js
Me.version="2.29.4";ojt(ar);Me.fn=Ae;Me.min=WTt;Me.max=YTt;Me.now=qTt;Me.utc=Rc;Me.unix=wDt;Me.months=_Dt;Me.isDate=Cw;Me.locale=cf;Me.invalid=pT;Me.duration=Ol;Me.isMoment=kl;Me.weekdays=EDt;Me.parseZone=CDt;Me.localeData=td;Me.isDuration=U2;Me.monthsShort=SDt;Me.weekdaysMin=jDt;Me.defineLocale=r9;Me.updateLocale=CTt;Me.locales=_Tt;Me.weekdaysShort=kDt;Me.normalizeUnits=Za;Me.relativeTimeRounding=tIt;Me.relativeTimeThreshold=nIt;Me.calendarFormat=yAt;Me.prototype=Ae;Me.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function kT(e,t){return Me(e).format(t)}function f9(e,t){const n=Me(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function h9(e){return window.crypto.getRandomValues(e)}var E5e=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function oIt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&E5e(e,t)&&!p9(e[t]))return!1;return!0}function iIt(e){for(let t=0;t<e.length;t++)if(!p9(e[t]))return!1;return!0}function p9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?iIt(e):t==="object"?oIt(e):!1}function sIt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&E5e(e,t)&&e[t]!==void 0)return!1;return!0}const aIt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function lIt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return h9(t),t}function kw(e){const t=aIt();return lIt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const cIt=Object.prototype.toString;function uIt(e){switch(cIt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function _s(e){const t=uIt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var MR={exports:{}};function dIt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=Gj(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var fIt=dIt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=fIt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(MR,MR.exports);var hIt=MR.exports;const dy=Ie(hIt);var pIt=vIt,k5e="---",j5e="A-Za-z--------",mIt=new RegExp("^[^"+j5e+"]*["+k5e+"]"),gIt=new RegExp("^[^"+k5e+"]*["+j5e+"]");function vIt(e){return e=String(e||""),mIt.test(e)?"rtl":gIt.test(e)?"ltr":"neutral"}const T5e=Ie(pIt);function JK(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function eZ(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function rP(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return eZ(n.overflowY,t)||eZ(n.overflowX,t)||function(r){var o=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)}(e)}return!1}function n_(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var tZ=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,l=typeof s=="function"?s:function(ie){return ie!==s};if(!JK(e))throw new TypeError("Invalid target");for(var u,d,f=document.scrollingElement||document.documentElement,p=[],m=e;JK(m)&&l(m);){if((m=(d=(u=m).parentElement)==null?u.getRootNode().host||null:d)===f){p.push(m);break}m!=null&&m===document.body&&rP(m)&&!rP(document.documentElement)||m!=null&&rP(m,a)&&p.push(m)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),w=b.height,C=b.width,_=b.top,S=b.right,E=b.bottom,j=b.left,k=o==="start"||o==="nearest"?_:o==="end"?E:_+w/2,T=i==="center"?j+C/2:i==="end"?S:j,A=[],D=0;D<p.length;D++){var I=p[D],P=I.getBoundingClientRect(),R=P.height,$=P.width,U=P.top,L=P.right,W=P.bottom,Y=P.left;if(r==="if-needed"&&_>=0&&j>=0&&E<=g&&S<=v&&_>=U&&E<=W&&j>=Y&&S<=L)return A;var V=getComputedStyle(I),H=parseInt(V.borderLeftWidth,10),Q=parseInt(V.borderTopWidth,10),F=parseInt(V.borderRightWidth,10),G=parseInt(V.borderBottomWidth,10),z=0,Z=0,K="offsetWidth"in I?I.offsetWidth-I.clientWidth-H-F:0,J="offsetHeight"in I?I.offsetHeight-I.clientHeight-Q-G:0,X="offsetWidth"in I?I.offsetWidth===0?0:$/I.offsetWidth:0,ee="offsetHeight"in I?I.offsetHeight===0?0:R/I.offsetHeight:0;if(f===I)z=o==="start"?k:o==="end"?k-g:o==="nearest"?n_(x,x+g,g,Q,G,x+k,x+k+w,w):k-g/2,Z=i==="start"?T:i==="center"?T-v/2:i==="end"?T-v:n_(y,y+v,v,H,F,y+T,y+T+C,C),z=Math.max(0,z+x),Z=Math.max(0,Z+y);else{z=o==="start"?k-U-Q:o==="end"?k-W+G+J:o==="nearest"?n_(U,W,R,Q,G+J,k,k+w,w):k-(U+R/2)+J/2,Z=i==="start"?T-Y-H:i==="center"?T-(Y+$/2)+K/2:i==="end"?T-L+F+K:n_(Y,L,$,H,F+K,T,T+C,C);var re=I.scrollLeft,de=I.scrollTop;k+=de-(z=Math.max(0,Math.min(de+z/ee,I.scrollHeight-R/ee+J))),T+=re-(Z=Math.max(0,Math.min(re+Z/X,I.scrollWidth-$/X+K)))}A.push({el:I,top:z,left:Z})}return A};function A5e(e){return e===Object(e)&&Object.keys(e).length!==0}function yIt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(r){var o=r.el,i=r.top,s=r.left;o.scroll&&n?o.scroll({top:i,left:s,behavior:t}):(o.scrollTop=i,o.scrollLeft=s)})}function bIt(e){return e===!1?{block:"end",inline:"nearest"}:A5e(e)?e:{block:"start",inline:"nearest"}}function xIt(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(A5e(t)&&typeof t.behavior=="function")return t.behavior(n?tZ(e,t):[]);if(n){var r=bIt(t);return yIt(tZ(e,r),r.behavior)}}function al(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Bp(e){return!!e&&!!e[na]}function Np(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===TIt}(e)||Array.isArray(e)||!!e[cZ]||!!(!((t=e.constructor)===null||t===void 0)&&t[cZ])||m9(e)||g9(e))}function Xb(e,t,n){n===void 0&&(n=!1),D0(e)===0?(n?Object.keys:w9)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function D0(e){var t=e[na];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:m9(e)?2:g9(e)?3:0}function FR(e,t){return D0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wIt(e,t){return D0(e)===2?e.get(t):e[t]}function D5e(e,t,n){var r=D0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function CIt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function m9(e){return kIt&&e instanceof Map}function g9(e){return jIt&&e instanceof Set}function Nh(e){return e.o||e.t}function v9(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=AIt(e);delete t[na];for(var n=w9(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function y9(e,t){return t===void 0&&(t=!1),b9(e)||Bp(e)||!Np(e)||(D0(e)>1&&(e.set=e.add=e.clear=e.delete=_It),Object.freeze(e),t&&Xb(e,function(n,r){return y9(r,!0)},!0)),e}function _It(){al(2)}function b9(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function yc(e){var t=DIt[e];return t||al(18,e),t}function nZ(){return Qb}function oP(e,t){t&&(yc("Patches"),e.u=[],e.s=[],e.v=t)}function dE(e){LR(e),e.p.forEach(SIt),e.p=null}function LR(e){e===Qb&&(Qb=e.l)}function rZ(e){return Qb={p:[],l:Qb,h:e,m:!0,_:0}}function SIt(e){var t=e[na];t.i===0||t.i===1?t.j():t.g=!0}function iP(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||yc("ES5").S(t,e,r),r?(n[na].P&&(dE(t),al(4)),Np(e)&&(e=fE(t,e),t.l||hE(t,e)),t.u&&yc("Patches").M(n[na].t,e,t.u,t.s)):e=fE(t,n,[]),dE(t),t.u&&t.v(t.u,t.s),e!==I5e?e:void 0}function fE(e,t,n){if(b9(t))return t;var r=t[na];if(!r)return Xb(t,function(a,l){return oZ(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return hE(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=v9(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),Xb(i,function(a,l){return oZ(e,r,o,a,l,n,s)}),hE(e,o,!1),n&&e.u&&yc("Patches").N(r,n,e.u,e.s)}return r.o}function oZ(e,t,n,r,o,i,s){if(Bp(o)){var a=fE(e,o,i&&t&&t.i!==3&&!FR(t.R,r)?i.concat(r):void 0);if(D5e(n,r,a),!Bp(a))return;e.m=!1}else s&&n.add(o);if(Np(o)&&!b9(o)){if(!e.h.D&&e._<1)return;fE(e,o),t&&t.A.l||hE(e,o)}}function hE(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&y9(t,n)}function sP(e,t){var n=e[na];return(n?Nh(n):e)[t]}function iZ(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function BR(e){e.P||(e.P=!0,e.l&&BR(e.l))}function aP(e){e.o||(e.o=v9(e.t))}function NR(e,t,n){var r=m9(t)?yc("MapSet").F(t,n):g9(t)?yc("MapSet").T(t,n):e.O?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:nZ(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},l=a,u=zR;s&&(l=[a],u=fy);var d=Proxy.revocable(l,u),f=d.revoke,p=d.proxy;return a.k=p,a.j=f,p}(t,n):yc("ES5").J(t,n);return(n?n.A:nZ()).p.push(r),r}function EIt(e){return Bp(e)||al(22,e),function t(n){if(!Np(n))return n;var r,o=n[na],i=D0(n);if(o){if(!o.P&&(o.i<4||!yc("ES5").K(o)))return o.t;o.I=!0,r=sZ(n,i),o.I=!1}else r=sZ(n,i);return Xb(r,function(s,a){o&&wIt(o.t,s)===a||D5e(r,s,t(a))}),i===3?new Set(r):r}(e)}function sZ(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v9(e)}var aZ,Qb,x9=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",kIt=typeof Map<"u",jIt=typeof Set<"u",lZ=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",I5e=x9?Symbol.for("immer-nothing"):((aZ={})["immer-nothing"]=!0,aZ),cZ=x9?Symbol.for("immer-draftable"):"__$immer_draftable",na=x9?Symbol.for("immer-state"):"__$immer_state",TIt=""+Object.prototype.constructor,w9=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,AIt=Object.getOwnPropertyDescriptors||function(e){var t={};return w9(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},DIt={},zR={get:function(e,t){if(t===na)return e;var n=Nh(e);if(!FR(n,t))return function(o,i,s){var a,l=iZ(i,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Np(r)?r:r===sP(e.t,t)?(aP(e),e.o[t]=NR(e.A.h,r,e)):r},has:function(e,t){return t in Nh(e)},ownKeys:function(e){return Reflect.ownKeys(Nh(e))},set:function(e,t,n){var r=iZ(Nh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=sP(Nh(e),t),i=o==null?void 0:o[na];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(CIt(n,o)&&(n!==void 0||FR(e.t,t)))return!0;aP(e),BR(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return sP(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,aP(e),BR(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Nh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){al(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){al(12)}},fy={};Xb(zR,function(e,t){fy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),fy.deleteProperty=function(e,t){return fy.set.call(this,e,t,void 0)},fy.set=function(e,t,n){return zR.set.call(this,e[0],t,n,e[0])};var IIt=function(){function e(n){var r=this;this.O=lZ,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var l=r;return function(g){var y=this;g===void 0&&(g=a);for(var x=arguments.length,b=Array(x>1?x-1:0),w=1;w<x;w++)b[w-1]=arguments[w];return l.produce(g,function(C){var _;return(_=i).call.apply(_,[y,C].concat(b))})}}var u;if(typeof i!="function"&&al(6),s!==void 0&&typeof s!="function"&&al(7),Np(o)){var d=rZ(r),f=NR(r,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?dE(d):LR(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return oP(d,s),iP(g,d)},function(g){throw dE(d),g}):(oP(d,s),iP(u,d))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===I5e&&(u=void 0),r.D&&y9(u,!0),s){var m=[],v=[];yc("Patches").M(o,u,m,v),s(m,v)}return u}al(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,l=r.produce(o,i,function(u,d){s=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Np(n)||al(8),Bp(n)&&(n=EIt(n));var r=rZ(this),o=NR(this,n,void 0);return o[na].C=!0,LR(r),o},t.finishDraft=function(n,r){var o=n&&n[na],i=o.A;return oP(i,r),iP(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!lZ&&al(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=yc("Patches").$;return Bp(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),ra=new IIt,C9=ra.produce;ra.produceWithPatches.bind(ra);ra.setAutoFreeze.bind(ra);ra.setUseProxies.bind(ra);ra.applyPatches.bind(ra);var uZ=ra.createDraft.bind(ra),dZ=ra.finishDraft.bind(ra),PIt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=te.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},OIt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=It.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},$It={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},pE=new WeakMap,mE=new WeakMap,eb=new WeakMap,P5e=new WeakMap,fZ=new WeakMap,hZ=new WeakMap,pZ=new WeakMap,te={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=te.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return te.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return te.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&te.compare(e,t)===0},isBefore(e,t){return te.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&te.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&te.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&te.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&te.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&te.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!te.isAncestor(t,e)&&!te.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(te.equals(i,r)||te.endsBefore(i,r)||te.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(te.equals(s,r)||te.isAncestor(s,r))return null;te.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:l}=t;te.equals(a,r)||te.endsBefore(a,r)?r[a.length-1]-=1:te.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=l);break}case"split_node":{var{path:u,position:d}=t;if(te.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else te.endsBefore(u,r)?r[u.length-1]+=1:te.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(te.equals(f,p))return r;if(te.isAncestor(f,r)||te.equals(f,r)){var m=p.slice();return te.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else te.isSibling(f,p)&&(te.isAncestor(p,r)||te.equals(p,r))?te.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:te.endsBefore(p,r)||te.equals(p,r)||te.isAncestor(p,r)?(te.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):te.endsBefore(f,r)&&(te.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function T1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RIt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=je.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,l]of ue.points(t))t[l]=It.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=je.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,y]of ue.points(t))t[y]=It.transform(g,n);break}case"merge_node":{var{path:x}=n,b=je.get(e,x),w=te.previous(x),C=je.get(e,w),_=je.parent(e,x),S=x[x.length-1];if(Se.isText(b)&&Se.isText(C))C.text+=b.text;else if(!Se.isText(b)&&!Se.isText(C))C.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat($o.stringify(b)," ").concat($o.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=It.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(te.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=je.get(e,k),D=je.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var P=te.transform(k,n),R=je.get(e,te.parent(P)),$=P[P.length-1];if(R.children.splice($,0,A),t)for(var[U,L]of ue.points(t))t[L]=It.transform(U,n);break}case"remove_node":{var{path:W}=n,Y=W[W.length-1],V=je.parent(e,W);if(V.children.splice(Y,1),t)for(var[H,Q]of ue.points(t)){var F=It.transform(H,n);if(t!=null&&F!=null)t[Q]=F;else{var G=void 0,z=void 0;for(var[Z,K]of je.texts(e))if(te.compare(K,W)===-1)G=[Z,K];else{z=[Z,K];break}var J=!1;G&&z&&(te.equals(z[1],W)?J=!te.hasPrevious(z[1]):J=te.common(G[1],W).length<te.common(z[1],W).length),G&&!J?(H.path=G[1],H.offset=G[0].text.length):z?(H.path=z[1],H.offset=0):t=null}}break}case"remove_text":{var{path:X,offset:ee,text:re}=n;if(re.length===0)break;var de=je.leaf(e,X),ie=de.text.slice(0,ee),fe=de.text.slice(ee+re.length);if(de.text=ie+fe,t)for(var[xe,be]of ue.points(t))t[be]=It.transform(xe,n);break}case"set_node":{var{path:ve,properties:qe,newProperties:Le}=n;if(ve.length===0)throw new Error("Cannot set properties on the root node!");var ot=je.get(e,ve);for(var Qe in Le){if(Qe==="children"||Qe==="text")throw new Error('Cannot set the "'.concat(Qe,'" property of nodes!'));var lt=Le[Qe];lt==null?delete ot[Qe]:ot[Qe]=lt}for(var _e in qe)Le.hasOwnProperty(_e)||delete ot[_e];break}case"set_selection":{var{newProperties:me}=n;if(me==null)t=me;else{if(t==null){if(!ue.isRange(me))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat($o.stringify(me)," when there is no current selection."));t=T1({},me)}for(var We in me){var Ge=me[We];if(Ge==null){if(We==="anchor"||We==="focus")throw new Error('Cannot remove the "'.concat(We,'" selection property'));delete t[We]}else t[We]=Ge}}break}case"split_node":{var{path:$e,position:xt,properties:Tt}=n;if($e.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat($e,"] because the root node cannot be split."));var Et=je.get(e,$e),Kt=je.parent(e,$e),Ai=$e[$e.length-1],ts;if(Se.isText(Et)){var As=Et.text.slice(0,xt),Ut=Et.text.slice(xt);Et.text=As,ts=T1(T1({},Tt),{},{text:Ut})}else{var Hr=Et.children.slice(0,xt),Bl=Et.children.slice(xt);Et.children=Hr,ts=T1(T1({},Tt),{},{children:Bl})}if(Kt.children.splice(Ai+1,0,ts),t)for(var[Qa,ri]of ue.points(t))t[ri]=It.transform(Qa,n);break}}return t},MIt={transform(e,t){e.children=uZ(e.children);var n=e.selection&&uZ(e.selection);try{n=RIt(e,n,t)}finally{e.children=dZ(e.children),n?e.selection=Bp(n)?dZ(n):n:e.selection=null}}},FIt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},LIt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},O5e=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(Uo(r)&&Uo(o)){if(!O5e(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function BIt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ru(e,t){if(e==null)return{};var n=BIt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var NIt=["anchor","focus"];function gZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zIt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return It.equals(e.anchor,t.anchor)&&It.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return It.isBefore(n,o)&&It.isAfter(r,i)}var[s,a]=ue.edges(e),l=!1,u=!1;return It.isPoint(t)?(l=It.compare(t,s)>=0,u=It.compare(t,a)<=0):(l=te.compare(t,s.path)>=0,u=te.compare(t,a.path)<=0),l&&u},intersection(e,t){var n=Ru(e,NIt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=It.isBefore(r,i)?i:r,l=It.isBefore(o,s)?o:s;return It.isBefore(l,a)?null:zIt({anchor:a,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return It.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return It.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return Uo(e)&&It.isPoint(e.anchor)&&It.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var l=It.transform(r.anchor,t,{affinity:i}),u=It.transform(r.focus,t,{affinity:s});if(!l||!u)return null;r.anchor=l,r.focus=u})}},vZ=e=>Uo(e)&&je.isNodeList(e.children)&&!M.isEditor(e),Pe={isAncestor(e){return Uo(e)&&je.isNodeList(e.children)},isElement:vZ,isElementList(e){return Array.isArray(e)&&e.every(t=>Pe.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return vZ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},VIt=["children"],HIt=["text"],yZ=new WeakMap,je={ancestor(e,t){var n=je.get(e,t);if(Se.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat($o.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of te.ancestors(t,n)){var o=je.ancestor(e,r),i=[o,r];yield i}},child(e,t){if(Se.isText(e))throw new Error("Cannot get the child of a text node: ".concat($o.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat($o.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,o=je.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=je.child(o,s),l=t.concat(s);yield[a,l],s=r?s-1:s+1}},common(e,t,n){var r=te.common(t,n),o=je.get(e,r);return[o,r]},descendant(e,t){var n=je.get(e,t);if(M.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat($o.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of je.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of je.nodes(e,t))Pe.isElement(n)&&(yield[n,r])},extractProps(e){if(Pe.isAncestor(e)){var t=Ru(e,VIt);return t}else{var t=Ru(e,HIt);return t}},first(e,t){for(var n=t.slice(),r=je.get(e,n);r&&!(Se.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(Se.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat($o.stringify(e)));var n=C9({children:e.children},r=>{var[o,i]=ue.edges(t),s=je.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var l=je.parent(r,a),u=a[a.length-1];l.children.splice(u,1)}if(te.equals(a,i.path)){var d=je.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(te.equals(a,o.path)){var f=je.leaf(r,a);f.text=f.text.slice(o.offset)}}M.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Se.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat($o.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Se.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return Se.isText(e)||Pe.isElement(e)||M.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=yZ.get(e);if(t!==void 0)return t;var n=e.every(r=>je.isNode(r));return yZ.set(e,n),n},last(e,t){for(var n=t.slice(),r=je.get(e,n);r&&!(Se.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=je.get(e,t);if(!Se.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat($o.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of te.levels(t,n)){var o=je.get(e,r);yield[o,r]}},matches(e,t){return Pe.isElement(e)&&Pe.isElementProps(t)&&Pe.matches(e,t)||Se.isText(e)&&Se.isTextProps(t)&&Se.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],l=e;!(i&&(r?te.isBefore(a,i):te.isAfter(a,i)));){if(s.has(l)||(yield[l,a]),!s.has(l)&&!Se.isText(l)&&l.children.length!==0&&(n==null||n([l,a])===!1)){s.add(l);var u=r?l.children.length-1:0;te.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),l=je.get(e,a);continue}if(a.length===0)break;if(!r){var d=te.next(a);if(je.has(e,d)){a=d,l=je.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=te.previous(a);a=f,l=je.get(e,a);continue}a=te.parent(a),l=je.get(e,a),s.add(l)}},parent(e,t){var n=te.parent(t),r=je.get(e,n);if(Se.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return Se.isText(e)?e.text:e.children.map(je.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of je.nodes(e,t))Se.isText(n)&&(yield[n,r])}};function bZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $g={isNodeOperation(e){return $g.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Uo(e))return!1;switch(e.type){case"insert_node":return te.isPath(e.path)&&je.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"merge_node":return typeof e.position=="number"&&te.isPath(e.path)&&Uo(e.properties);case"move_node":return te.isPath(e.path)&&te.isPath(e.newPath);case"remove_node":return te.isPath(e.path)&&je.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"set_node":return te.isPath(e.path)&&Uo(e.properties)&&Uo(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||Uo(e.properties)&&Uo(e.newProperties);case"split_node":return te.isPath(e.path)&&typeof e.position=="number"&&Uo(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>$g.isOperation(t))},isSelectionOperation(e){return $g.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return $g.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return fr(fr({},e),{},{type:"remove_node"});case"insert_text":return fr(fr({},e),{},{type:"remove_text"});case"merge_node":return fr(fr({},e),{},{type:"split_node",path:te.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(te.equals(t,n))return e;if(te.isSibling(n,t))return fr(fr({},e),{},{path:t,newPath:n});var r=te.transform(n,e),o=te.transform(te.next(n),e);return fr(fr({},e),{},{path:r,newPath:o})}case"remove_node":return fr(fr({},e),{},{type:"insert_node"});case"remove_text":return fr(fr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return fr(fr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:l}=e;return a==null?fr(fr({},e),{},{properties:l,newProperties:null}):l==null?fr(fr({},e),{},{properties:null,newProperties:a}):fr(fr({},e),{},{properties:l,newProperties:a})}case"split_node":return fr(fr({},e),{},{type:"merge_node",path:te.next(e.path)})}}},xZ=new WeakMap,UIt=e=>{var t=xZ.get(e);if(t!==void 0)return t;if(!Uo(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||Uo(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&je.isNodeList(e.children)&&$g.isOperationList(e.operations);return xZ.set(e,n),n},M={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return UIt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},WIt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(te.isPath)}};function wZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function CZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var It={compare(e,t){var n=te.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return It.compare(e,t)===1},isBefore(e,t){return It.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&te.equals(e.path,t.path)},isPoint(e){return Uo(e)&&typeof e.offset=="number"&&te.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=te.transform(i,t,n);break}case"insert_text":{te.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{te.equals(t.path,i)&&(r.offset+=t.position),r.path=te.transform(i,t,n);break}case"remove_text":{te.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(te.equals(t.path,i)||te.isAncestor(t.path,i))return null;r.path=te.transform(i,t,n);break}case"split_node":{if(te.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=te.transform(i,t,CZ(CZ({},n),{},{affinity:"forward"})))}else r.path=te.transform(i,t,n);break}}})}},_Z=void 0,$o={setScrubber(e){_Z=e},stringify(e){return JSON.stringify(e,_Z)}},YIt=["text"],qIt=["anchor","focus"];function SZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Se={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=Ru(i,YIt);return s}return O5e(r?o(e):e,r?o(t):t)},isText(e){return Uo(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>Se.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Wc({},e)];for(var r of t){var o=Ru(r,qIt),[i,s]=ue.edges(r),a=[],l=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=l;if(l+=p,u<=m&&l<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===l||d===m)||u>l||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,y=void 0;if(d<l){var x=d-m;y=Wc(Wc({},v),{},{text:v.text.slice(x)}),v=Wc(Wc({},v),{},{text:v.text.slice(0,x)})}if(u>m){var b=u-m;g=Wc(Wc({},v),{},{text:v.text.slice(0,b)}),v=Wc(Wc({},v),{},{text:v.text.slice(b)})}Object.assign(v,o),g&&a.push(g),a.push(v),y&&a.push(y)}n=a}return n}},_9=e=>e.selection?e.selection:e.children.length>0?M.end(e,[]):[0],I0=(e,t)=>{var[n]=M.node(e,t);return r=>r===n},S9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?JIt(t):t,i=pt.None,s=pt.None,a=0,l=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=dPt(d,f);if([i,s]=r?[s,p]:[p,i],Rg(i,pt.ZWJ)&&Rg(s,pt.ExtPict)&&(r?l=EZ(t.substring(0,a)):l=EZ(t.substring(0,t.length-a)),!l)||Rg(i,pt.RI)&&Rg(s,pt.RI)&&(u!==null?u=!u:r?u=!0:u=gPt(t.substring(0,t.length-a)),!u)||i!==pt.None&&s!==pt.None&&hPt(i,s))break;a+=d.length}return a||1},GIt=/\s/,KIt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ZIt=/['\u2018\u2019]/,XIt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=S9(t,n),[s,a]=E9(t,i,n);if(QIt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},E9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},QIt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(GIt.test(t))return!1;if(ZIt.test(t)){var o=S9(n,r),[i,s]=E9(n,o,r);if(e(i,s,r))return!0}return!KIt.test(t)},JIt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(tPt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(ePt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},ePt=e=>e>=55296&&e<=56319,tPt=e=>e>=56320&&e<=57343,pt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(pt||(pt={}));var nPt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,rPt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,oPt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,iPt=/^[\u1100-\u115F\uA960-\uA97C]$/,sPt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,aPt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,lPt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,cPt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,uPt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,dPt=(e,t)=>{var n=pt.Any;return e.search(nPt)!==-1&&(n|=pt.Extend),t===8205&&(n|=pt.ZWJ),t>=127462&&t<=127487&&(n|=pt.RI),e.search(rPt)!==-1&&(n|=pt.Prepend),e.search(oPt)!==-1&&(n|=pt.SpacingMark),e.search(iPt)!==-1&&(n|=pt.L),e.search(sPt)!==-1&&(n|=pt.V),e.search(aPt)!==-1&&(n|=pt.T),e.search(lPt)!==-1&&(n|=pt.LV),e.search(cPt)!==-1&&(n|=pt.LVT),e.search(uPt)!==-1&&(n|=pt.ExtPict),n};function Rg(e,t){return(e&t)!==0}var fPt=[[pt.L,pt.L|pt.V|pt.LV|pt.LVT],[pt.LV|pt.V,pt.V|pt.T],[pt.LVT|pt.T,pt.T],[pt.Any,pt.Extend|pt.ZWJ],[pt.Any,pt.SpacingMark],[pt.Prepend,pt.Any],[pt.ZWJ,pt.ExtPict],[pt.RI,pt.RI]];function hPt(e,t){return fPt.findIndex(n=>Rg(e,n[0])&&Rg(t,n[1]))===-1}var pPt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,EZ=e=>e.search(pPt)!==-1,mPt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,gPt=e=>{var t=e.match(mPt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},vPt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=_9(e)}=n;if(te.isPath(o)&&(o=M.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&M.void(e,{at:i}))return;var s=ue.start(o),a=M.pointRef(e,s),l=M.pointRef(e,i);ae.delete(e,{at:o,voids:r});var u=a.unref(),d=l.unref();o=u||d,ae.setSelection(e,{anchor:o,focus:o})}if(!(!r&&M.void(e,{at:o})||M.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function kZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function r_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ae=r_(r_(r_(r_({},MIt),FIt),LIt),vPt),yPt=(e,t)=>{for(var n of M.pathRefs(e))PIt.transform(n,t);for(var r of M.pointRefs(e))OIt.transform(r,t);for(var o of M.rangeRefs(e))$It.transform(o,t);var i=pE.get(e)||[],s=mE.get(e)||new Set,a,l,u=v=>{if(v){var g=v.join(",");l.has(g)||(l.add(g),a.push(v))}};if(te.operationCanTransformPath(t)){a=[],l=new Set;for(var d of i){var f=te.transform(d,t);u(f)}}else a=i,l=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);pE.set(e,a),mE.set(e,l),ae.transform(e,t),e.operations.push(t),M.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),eb.get(e)||(eb.set(e,!0),Promise.resolve().then(()=>{eb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},bPt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return te.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=te.levels(o),s=Se.isText(r)?[]:Array.from(je.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,l=te.ancestors(a),u=te.previous(a);return[...l,u]}case"move_node":{var{path:d,newPath:f}=t;if(te.equals(d,f))return[];var p=[],m=[];for(var v of te.ancestors(d)){var g=te.transform(v,t);p.push(g)}for(var y of te.ancestors(f)){var x=te.transform(y,t);m.push(x)}var b=m[m.length-1],w=f[f.length-1],C=b.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=te.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=te.levels(E),k=te.next(E);return[...j,k]}default:return[]}},xPt=e=>{var{selection:t}=e;return t?je.fragment(e,t):[]},wPt=(e,t)=>{var[n,r]=t;if(!Se.isText(n)){if(Pe.isElement(n)&&n.children.length===0){var o={text:""};ae.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=M.isEditor(n)?!1:Pe.isElement(n)&&(e.isInline(n)||n.children.length===0||Se.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var l=je.get(e,r);if(!Se.isText(l)){var u=l.children[s],d=l.children[s-1],f=a===n.children.length-1,p=Se.isText(u)||Pe.isElement(u)&&e.isInline(u);if(p!==i)ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Pe.isElement(u)){if(e.isInline(u)){if(d==null||!Se.isText(d)){var m={text:""};ae.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};ae.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&Se.isText(d)&&(Se.equals(u,d,{loose:!0})?(ae.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(ae.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},CPt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},_Pt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=M.path(t,i),l=o==="lowest";for(var[u,d]of M.levels(t,{at:a,voids:r,match:s,reverse:l}))if(!Se.isText(u)){if(ue.isRange(i)){if(te.isAncestor(d,i.anchor.path)&&te.isAncestor(d,i.focus.path))return[u,d]}else if(!te.equals(a,d))return[u,d]}}};function jZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function TZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SPt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!Se.isText(f))return!1;var[m,v]=M.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,l]=M.node(e,r);if(a&&o(a,l)){var[u]=M.parent(e,l);s=u&&e.markableVoid(u)}}if(i||s)ae.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=TZ(TZ({},M.marks(e)||{}),{},{[t]:n});e.marks=d,eb.get(e)||e.onChange()}}};function AZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function DZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var EPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=M.point(t,n,{edge:"end"}),i=M.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of M.positions(t,DZ(DZ({},r),{},{at:s}))){if(l>a)break;l!==0&&(u=d),l++}return u};function IZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function PZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=M.start(t,[]),i=M.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,l=0,u;for(var d of M.positions(t,PZ(PZ({},r),{},{at:s,reverse:!0}))){if(l>a)break;l!==0&&(u=d),l++}return u},jPt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&ae.delete(e,{unit:t,reverse:!0})},TPt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&ae.delete(e,{unit:t})},APt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&ae.delete(t,{reverse:n==="backward"})},DPt=(e,t)=>[M.start(e,t),M.end(e,t)];function OZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var IPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(t,$Z($Z({},n),{},{match:r=>Pe.isElement(r)&&M.isElementReadOnly(t,r)}))},PPt=(e,t)=>M.point(e,t,{edge:"end"}),OPt=(e,t)=>{var n=M.path(e,t,{edge:"start"});return M.node(e,n)},$Pt=(e,t)=>{var n=M.range(e,t);return je.fragment(e,n)};function RZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function MZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M.above(t,MZ(MZ({},n),{},{match:r=>Pe.isElement(r)&&M.isVoid(t,r)}))},MPt=(e,t)=>t.children.some(n=>Pe.isElement(n)&&M.isBlock(e,n)),FPt=(e,t)=>t.children.some(n=>Se.isText(n)||M.isInline(e,n)),LPt=(e,t)=>je.has(e,t),BPt=(e,t)=>t.children.every(n=>Se.isText(n)),NPt=e=>{ae.splitNodes(e,{always:!0})},zPt=(e,t,n)=>{ae.insertNodes(e,t,n)},VPt=e=>{ae.splitNodes(e,{always:!0})};function FZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function HPt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var UPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=HPt({text:n},i);ae.insertNodes(t,s,{at:r.at,voids:r.voids})}else ae.insertText(t,n,r);t.marks=null}},WPt=(e,t)=>!e.isInline(t),YPt=(e,t,n)=>M.isStart(e,t,n)||M.isEnd(e,t,n),qPt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&Se.isText(r)&&r.text===""&&!e.isVoid(t)},GPt=(e,t,n)=>{var r=M.end(e,n);return It.equals(t,r)},KPt=e=>{var t=P5e.get(e);return t===void 0?!0:t},ZPt=(e,t,n)=>{if(t.offset!==0)return!1;var r=M.start(e,n);return It.equals(t,r)},XPt=(e,t)=>{var n=M.path(e,t,{edge:"end"});return M.node(e,n)},QPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=M.path(t,n,r),i=je.leaf(t,o);return[i,o]};function*JPt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=M.path(e,n);for(var[l,u]of je.levels(e,a))if(i(l,u)&&(s.push([l,u]),!o&&Pe.isElement(l)&&M.isVoid(e,l)))break;r&&s.reverse(),yield*s}}var eOt=["text"],tOt=["text"],nOt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=M.nodes(t,{match:Se.isText});if(o){var[i]=o,s=Ru(i,eOt);return s}else return{}}var{anchor:a}=r,{path:l}=a,[u]=M.leaf(t,l);if(a.offset===0){var d=M.previous(t,{at:l,match:Se.isText}),f=M.above(t,{match:x=>Pe.isElement(x)&&M.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=M.above(t,{match:x=>Pe.isElement(x)&&M.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;te.isAncestor(g,v)&&(u=m)}}}var y=Ru(u,tOt);return y},rOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=M.after(t,s,{voids:o});if(a){var[,l]=M.last(t,[]),u=[a.path,l];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(te.isPath(s)){var[d]=M.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=M.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},oOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=M.path(t,n,r),i=je.get(t,o);return[i,o]};function*iOt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:l}=t;if(l||(l=()=>!0),!!n){var u,d;if(WIt.isSpan(n))u=n[0],d=n[1];else{var f=M.path(e,n,{edge:"start"}),p=M.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=je.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Pe.isElement(_)?!!(!s&&(M.isVoid(e,_)||M.isElementReadOnly(e,_))||a&&!M.isSelectable(e,_)):!1}}),v=[],g;for(var[y,x]of m)if(!(a&&Pe.isElement(y)&&!M.isSelectable(e,y))){var b=g&&te.compare(x,g[1])===0;if(!(r==="highest"&&b)){if(!l(y,x)){if(o&&!b&&Se.isText(y))return;continue}if(r==="lowest"&&b){g=[y,x];continue}var w=r==="lowest"?g:[y,x];w&&(o?v.push(w):yield w),g=[y,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}var sOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>pE.get(d)||[],s=d=>mE.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(M.isNormalizing(t)){if(r){var l=Array.from(je.nodes(t),d=>{var[,f]=d;return f}),u=new Set(l.map(d=>d.join(",")));pE.set(t,l),mE.set(t,u)}i(t).length!==0&&M.withoutNormalizing(t,()=>{for(var d of i(t))if(je.has(t,d)){var f=M.node(t,d),[p,m]=f;Pe.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,y=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:y,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(je.has(t,x)){var b=M.node(t,x);t.normalizeNode(b,{operation:o})}y++,v=i(t)}})}},aOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=M.path(t,n,r),i=te.parent(o),s=M.node(t,i);return s},lOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=M.pathRefs(t);return l.delete(i),i.current=null,a}},s=M.pathRefs(t);return s.add(i),i},cOt=e=>{var t=fZ.get(e);return t||(t=new Set,fZ.set(e,t)),t},uOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(te.isPath(n)){if(i==="start"){var[,s]=je.first(t,n);n=s}else if(i==="end"){var[,a]=je.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=te.common(n.anchor.path,n.focus.path)),It.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},dOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=M.pointRefs(t);return l.delete(i),i.current=null,a}},s=M.pointRefs(t);return s.add(i),i},fOt=e=>{var t=hZ.get(e);return t||(t=new Set,hZ.set(e,t)),t},hOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(te.isPath(n)){var i;if(o==="end"){var[,s]=je.last(t,n);i=s}else{var[,a]=je.first(t,n);i=a}var l=je.get(t,i);if(!Se.isText(l))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?l.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function*pOt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=M.range(e,n),[l,u]=ue.edges(a),d=o?u:l,f=!1,p="",m=0,v=0,g=0;for(var[y,x]of M.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Pe.isElement(y)){if(!i&&(e.isVoid(y)||e.isElementReadOnly(y))){yield M.start(e,x);continue}if(e.isInline(y))continue;if(M.hasInlines(e,y)){var b=te.isAncestor(x,u.path)?u:M.end(e,x),w=te.isAncestor(x,l.path)?l:M.start(e,x);p=M.string(e,{anchor:w,focus:b},{voids:i}),f=!0}}if(Se.isText(y)){var C=te.equals(x,d.path);for(C?(v=o?d.offset:y.text.length-d.offset,g=d.offset):(v=y.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=E9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?S9(S,j):E==="word"?XIt(S,j):E==="line"||E==="block"?S.length:1}}var mOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=M.before(t,s,{voids:o});if(a){var[,l]=M.first(t,[]),u=[a.path,l];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(te.isPath(s)){var[d]=M.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=M.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},gOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,l=M.rangeRefs(t);return l.delete(i),i.current=null,a}},s=M.rangeRefs(t);return s.add(i),i},vOt=e=>{var t=pZ.get(e);return t||(t=new Set,pZ.set(e,t)),t},yOt=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=M.start(e,t),o=M.end(e,n||t);return{anchor:r,focus:o}};function LZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function bOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xOt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!Se.isText(d))return!1;var[p,m]=M.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=M.node(e,n);if(s&&r(s,a)){var[l]=M.parent(e,a);i=l&&e.markableVoid(l)}}if(o||i)ae.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=bOt({},M.marks(e)||{});delete u[t],e.marks=u,eb.get(e)||e.onChange()}}},wOt=(e,t)=>{P5e.set(e,t)},COt=(e,t)=>M.point(e,t,{edge:"start"}),_Ot=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=M.range(t,n),[s,a]=ue.edges(i),l="";for(var[u,d]of M.nodes(t,{at:i,match:Se.isText,voids:o})){var f=u.text;te.equals(d,a.path)&&(f=f.slice(0,a.offset)),te.equals(d,s.path)&&(f=f.slice(s.offset)),l+=f}return l},SOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||te.hasPrevious(s.path))return n;var a=M.above(t,{at:s,match:v=>Pe.isElement(v)&&M.isBlock(t,v),voids:o}),l=a?a[1]:[],u=M.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of M.nodes(t,{at:d,match:Se.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||te.isBefore(m,l)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},EOt=(e,t)=>{var n=M.isNormalizing(e);M.setNormalizing(e,!1);try{t()}finally{M.setNormalizing(e,n)}M.normalize(e)},kOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:l=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),It.isPoint(u)){var p=M.void(t,{at:u,mode:"highest"});if(!l&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?M.before(t,u,v)||M.start(t,[]):M.after(t,u,v)||M.end(t,[]);u={anchor:u,focus:g},d=!0}}if(te.isPath(u)){ae.removeNodes(t,{at:u,voids:l});return}if(!ue.isCollapsed(u)){if(!d){var[,y]=ue.edges(u),x=M.end(t,[]);It.equals(y,x)||(u=M.unhangRange(t,u,{voids:l}))}var[b,w]=ue.edges(u),C=M.above(t,{match:ie=>Pe.isElement(ie)&&M.isBlock(t,ie),at:b,voids:l}),_=M.above(t,{match:ie=>Pe.isElement(ie)&&M.isBlock(t,ie),at:w,voids:l}),S=C&&_&&!te.equals(C[1],_[1]),E=te.equals(b.path,w.path),j=l?null:(r=M.void(t,{at:b,mode:"highest"}))!==null&&r!==void 0?r:M.elementReadOnly(t,{at:b,mode:"highest"}),k=l?null:(o=M.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:M.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=M.before(t,b);T&&C&&te.isAncestor(C[1],T.path)&&(b=T)}if(k){var A=M.after(t,w);A&&_&&te.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var P of M.nodes(t,{at:u,voids:l})){var[R,$]=P;I&&te.compare($,I)===0||(!l&&Pe.isElement(R)&&(M.isVoid(t,R)||M.isElementReadOnly(t,R))||!te.isCommon($,b.path)&&!te.isCommon($,w.path))&&(D.push(P),I=$)}var U=Array.from(D,ie=>{var[,fe]=ie;return M.pathRef(t,fe)}),L=M.pointRef(t,b),W=M.pointRef(t,w),Y="";if(!E&&!j){var V=L.current,[H]=M.leaf(t,V),{path:Q}=V,{offset:F}=b,G=H.text.slice(F);G.length>0&&(t.apply({type:"remove_text",path:Q,offset:F,text:G}),Y=G)}if(U.reverse().map(ie=>ie.unref()).filter(ie=>ie!==null).forEach(ie=>ae.removeNodes(t,{at:ie,voids:l})),!k){var z=W.current,[Z]=M.leaf(t,z),{path:K}=z,J=E?b.offset:0,X=Z.text.slice(J,w.offset);X.length>0&&(t.apply({type:"remove_text",path:K,offset:J,text:X}),Y=X)}!E&&S&&W.current&&L.current&&ae.mergeNodes(t,{at:W.current,hanging:!0,voids:l}),f&&i&&s==="character"&&Y.length>1&&Y.match(/[\u0E00-\u0E7F]+/)&&ae.insertText(t,Y.slice(0,Y.length-a));var ee=L.unref(),re=W.unref(),de=i?ee||re:re||ee;n.at==null&&de&&ae.select(t,de)}}})},jOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=_9(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=M.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&M.void(t,{at:a}))return;var l=M.pointRef(t,a);ae.delete(t,{at:s}),s=l.unref()}else te.isPath(s)&&(s=M.start(t,s));if(!(!i&&M.void(t,{at:s}))){var u=M.above(t,{at:s,match:F=>Pe.isElement(F)&&M.isInline(t,F),mode:"highest",voids:i});if(u){var[,d]=u;if(M.isEnd(t,s,d)){var f=M.after(t,d);s=f}else if(M.isStart(t,s,d)){var p=M.before(t,d);s=p}}var m=M.above(t,{match:F=>Pe.isElement(F)&&M.isBlock(t,F),at:s,voids:i}),[,v]=m,g=M.isStart(t,s,v),y=M.isEnd(t,s,v),x=g&&y,b=!g||g&&y,w=!y,[,C]=je.first({children:n},[]),[,_]=je.last({children:n},[]),S=[],E=F=>{var[G,z]=F,Z=z.length===0;return Z?!1:x?!0:!(b&&te.isAncestor(z,C)&&Pe.isElement(G)&&!t.isVoid(G)&&!t.isInline(G)||w&&te.isAncestor(z,_)&&Pe.isElement(G)&&!t.isVoid(G)&&!t.isInline(G))};for(var j of je.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[P]of S)Pe.isElement(P)&&!t.isInline(P)?(D=!1,I=!0,T.push(P)):D?k.push(P):A.push(P);var[R]=M.nodes(t,{at:s,match:F=>Se.isText(F)||M.isInline(t,F),mode:"highest",voids:i}),[,$]=R,U=M.isStart(t,s,$),L=M.isEnd(t,s,$),W=M.pathRef(t,y&&!A.length?te.next(v):v),Y=M.pathRef(t,L?te.next($):$);ae.splitNodes(t,{at:s,match:F=>I?Pe.isElement(F)&&M.isBlock(t,F):Se.isText(F)||M.isInline(t,F),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!y||A.length>0),voids:i});var V=M.pathRef(t,!U||U&&L?te.next($):$);if(ae.insertNodes(t,k,{at:V.current,match:F=>Se.isText(F)||M.isInline(t,F),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&ae.delete(t,{at:v,voids:i}),ae.insertNodes(t,T,{at:W.current,match:F=>Pe.isElement(F)&&M.isBlock(t,F),mode:"lowest",voids:i}),ae.insertNodes(t,A,{at:Y.current,match:F=>Se.isText(F)||M.isInline(t,F),mode:"highest",voids:i}),!r.at){var H;if(A.length>0&&Y.current?H=te.previous(Y.current):T.length>0&&W.current?H=te.previous(W.current):V.current&&(H=te.previous(V.current)),H){var Q=M.end(t,H);ae.select(t,Q)}}V.unref(),W.unref(),Y.unref()}}})},TOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")ae.select(t,o.anchor);else if(r==="focus")ae.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);ae.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);ae.select(t,s)}}else return},AOt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},DOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:l,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?M.before(t,l,d):M.after(t,l,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?M.before(t,u,d):M.after(t,u,d);m&&(f.focus=m)}ae.setSelection(t,f)}},IOt=(e,t)=>{var{selection:n}=e;if(t=M.range(e,t),n){ae.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat($o.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function BZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function NZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var POt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,l=i==="anchor"?s:a;ae.setSelection(t,{[i==="anchor"?"anchor":"focus"]:NZ(NZ({},l),n)})}},OOt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!It.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!It.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},$Ot=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:l,select:u}=r;if(je.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=_9(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=M.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=M.pointRef(t,f);ae.delete(t,{at:a}),a=p.unref()}if(It.isPoint(a)){l==null&&(Se.isText(d)?l=E=>Se.isText(E):t.isInline(d)?l=E=>Se.isText(E)||M.isInline(t,E):l=E=>Pe.isElement(E)&&M.isBlock(t,E));var[m]=M.nodes(t,{at:a.path,match:l,mode:s,voids:i});if(m){var[,v]=m,g=M.pathRef(t,v),y=M.isEnd(t,a,v);ae.splitNodes(t,{at:a,match:l,mode:s,voids:i});var x=g.unref();a=y?te.next(x):x}else return}var b=te.parent(a),w=a[a.length-1];if(!(!i&&M.void(t,{at:b}))){for(var C of n){var _=b.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=te.next(a)}if(a=te.previous(a),u){var S=M.end(t,a);S&&ae.select(t,S)}}}})},ROt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=te.isPath(r)?I0(t,r):C=>Pe.isElement(C)&&M.isBlock(t,C)),!!r){var a=M.nodes(t,{at:r,match:s,mode:o,voids:i}),l=Array.from(a,C=>{var[,_]=C;return M.pathRef(t,_)});for(var u of l){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=M.node(t,te.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var y=te.next(m);ae.moveNodes(t,{at:d,to:y,voids:i}),ae.removeNodes(t,{at:m,voids:i})}else if(v===0)ae.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=te.next(m);ae.moveNodes(t,{at:d,to:x,voids:i})}else{var b=te.next(d),w=te.next(m);ae.splitNodes(t,{at:b,voids:i}),ae.moveNodes(t,{at:d,to:w,voids:i})}}}})},MOt=["text"],FOt=["children"],$5e=(e,t)=>{if(Pe.isElement(t)){var n=t;return M.isVoid(e,t)?!0:n.children.length===1?$5e(e,n.children[0]):!1}else return!M.isEditor(t)},LOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(te.isPath(o)){var[l]=M.parent(t,o);r=T=>l.children.includes(T)}else r=T=>Pe.isElement(T)&&M.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=M.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=M.pointRef(t,u);ae.delete(t,{at:o}),o=d.unref(),n.at==null&&ae.select(t,o)}var[f]=M.nodes(t,{at:o,match:r,voids:s,mode:a}),p=M.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,y]=p;if(!(v.length===0||y.length===0)){var x=te.next(y),b=te.common(v,y),w=te.isSibling(v,y),C=Array.from(M.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(b.length).slice(0,-1),_=M.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&$5e(t,T)}),S=_&&M.pathRef(t,_[1]),E,j;if(Se.isText(m)&&Se.isText(g)){var k=Ru(m,MOt);j=g.text.length,E=k}else if(Pe.isElement(m)&&Pe.isElement(g)){var k=Ru(m,FOt);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat($o.stringify(m)," ").concat($o.stringify(g)));w||ae.moveNodes(t,{at:v,to:x,voids:s}),S&&ae.removeNodes(t,{at:S.current,voids:s}),Pe.isElement(g)&&M.isEmpty(t,g)||Se.isText(g)&&g.text===""&&y[y.length-1]!==0?ae.removeNodes(t,{at:y,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},BOt=(e,t)=>{M.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=te.isPath(r)?I0(e,r):m=>Pe.isElement(m)&&M.isBlock(e,m));var a=M.pathRef(e,n),l=M.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(l,m=>{var[,v]=m;return M.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&te.isSibling(p,f)&&te.isAfter(p,f)&&(a.current=te.next(a.current))}a.unref()}})},NOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?I0(t,s):m=>Pe.isElement(m)&&M.isBlock(t,m)),!r&&ue.isRange(s)&&(s=M.unhangRange(t,s,{voids:o}));var l=M.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(l,m=>{var[,v]=m;return M.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=M.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},zOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:l=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=te.isPath(i)?I0(t,i):j=>Pe.isElement(j)&&M.isBlock(t,j)),!l&&ue.isRange(i)&&(i=M.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&M.leaf(t,i.anchor)[0].text.length>0)return;var p=M.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",y=M.isEnd(t,v,v.path);ae.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!y});var x=M.isStart(t,m,m.path);ae.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&ae.select(t,i)}s||(s=(j,k)=>j!==k);for(var[b,w]of M.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],b[E])&&(S=!0,b.hasOwnProperty(E)&&(C[E]=b[E]),a?n[E]!=null&&(_[E]=a(b[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},VOt=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=M.pointRef(e,n);return ae.delete(e,{at:t}),r.unref()},HOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:l=!1}=n;if(i==null&&(i=W=>Pe.isElement(W)&&M.isBlock(t,W)),ue.isRange(s)&&(s=VOt(t,s)),te.isPath(s)){var u=s,d=M.point(t,u),[f]=M.parent(t,u);i=W=>W===f,a=d.path.length-u.length+1,s=d,l=!0}if(s){var p=M.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=M.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=M.void(t,{at:s,mode:"highest"}),y=0;if(!o&&g){var[x,b]=g;if(Pe.isElement(x)&&t.isInline(x)){var w=M.after(t,b);if(!w){var C={text:""},_=te.next(b);ae.insertNodes(t,C,{at:_,voids:o}),w=M.point(t,_)}s=w,l=!0}var S=s.path.length-b.length;a=S+1,l=!0}m=M.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+y;for(var[A,D]of M.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Pe.isElement(A)&&M.isVoid(t,A))break;var P=p.current,R=M.isEnd(t,P,D);if(l||!p||!M.isEdge(t,P,D)){I=!0;var $=je.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:$})}T=D[D.length-1]+(I||R?1:0)}if(n.at==null){var U=m.current||M.end(t,[]);ae.select(t,U)}}finally{var L;p.unref(),(L=m)===null||L===void 0||L.unref()}}})},UOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;ae.setNodes(t,o,r)},WOt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?I0(t,s):m=>Pe.isElement(m)&&M.isBlock(t,m)),te.isPath(s)&&(s=M.range(t,s));var l=ue.isRange(s)?M.rangeRef(t,s):null,u=M.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return M.pathRef(t,v)}).reverse(),f=function(v){var g=v.unref(),[y]=M.node(t,g),x=M.range(t,g);o&&l&&(x=ue.intersection(l.current,x)),ae.liftNodes(t,{at:x,match:b=>Pe.isAncestor(y)&&y.children.includes(b),voids:i})};for(var p of d)f(p);l&&l.unref()}})};function zZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function VZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zZ(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var YOt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:l=t.selection}=r;if(l){if(a==null&&(te.isPath(l)?a=I0(t,l):t.isInline(n)?a=x=>Pe.isElement(x)&&M.isInline(t,x)||Se.isText(x):a=x=>Pe.isElement(x)&&M.isBlock(t,x)),i&&ue.isRange(l)){var[u,d]=ue.edges(l),f=M.rangeRef(t,l,{affinity:"inward"});ae.splitNodes(t,{at:d,match:a,voids:s}),ae.splitNodes(t,{at:u,match:a,voids:s}),l=f.unref(),r.at==null&&ae.select(t,l)}var p=Array.from(M.nodes(t,{at:l,match:t.isInline(n)?x=>Pe.isElement(x)&&M.isBlock(t,x):x=>M.isEditor(x),mode:"lowest",voids:s}));for(var[,m]of p){var v=ue.isRange(l)?ue.intersection(l,M.range(t,m)):l;if(v){var g=Array.from(M.nodes(t,{at:v,match:a,mode:o,voids:s}));if(g.length>0){var y=function(){var[x]=g,b=g[g.length-1],[,w]=x,[,C]=b;if(w.length===0&&C.length===0)return"continue";var _=te.equals(w,C)?te.parent(w):te.common(w,C),S=M.range(t,w,C),E=M.node(t,_),[j]=E,k=_.length+1,T=te.next(C.slice(0,k)),A=VZ(VZ({},n),{},{children:[]});ae.insertNodes(t,A,{at:T,voids:s}),ae.moveNodes(t,{at:S,match:D=>Pe.isAncestor(j)&&j.children.includes(D),to:T.concat(0),voids:s})}();if(y==="continue")continue}}}}})},qOt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yPt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SPt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jPt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TPt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return APt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xPt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NPt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VPt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jOt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zPt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UPt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wPt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xOt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bPt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CPt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Pt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EPt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kPt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TOt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kOt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AOt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DPt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IPt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PPt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OPt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Pt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nOt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MPt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FPt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LPt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BPt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Ot(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WPt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YPt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qPt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GPt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KPt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZPt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XPt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QPt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JPt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ROt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LOt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DOt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BOt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rOt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oOt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iOt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sOt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aOt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uOt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lOt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cOt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hOt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dOt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fOt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pOt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mOt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yOt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gOt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vOt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NOt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IOt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zOt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wOt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return POt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OOt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HOt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return COt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Ot(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SOt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UOt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WOt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RPt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EOt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YOt(e,...r)}};return e},rd={};Object.defineProperty(rd,"__esModule",{value:!0});var GOt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),lP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},KOt={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:GOt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},R5e={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var o_=1;o_<20;o_++)R5e["f"+o_]=111+o_;function jT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return M5e(s,t)}),o=function(a){return r.some(function(l){return F5e(l,a)})},i=n==null?o:o(n);return i}function ZOt(e,t){return jT(e,t)}function XOt(e,t){return jT(e,{byKey:!0},t)}function M5e(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in lP)r[lP[s]]=!1;var a=!0,l=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=k9(p),g=lP[v];(i===1||!g)&&(n?r.key=v:r.which=L5e(p)),g&&(r[g]=m?null:!0)}}catch(y){l=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return r}function F5e(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function L5e(e){e=k9(e);var t=R5e[e]||e.toUpperCase().charCodeAt(0);return t}function k9(e){return e=e.toLowerCase(),e=KOt[e]||e,e}var Oi=rd.default=jT,cP=rd.isHotkey=jT;rd.isCodeHotkey=ZOt;rd.isKeyHotkey=XOt;rd.parseHotkey=M5e;rd.compareHotkey=F5e;rd.toKeyCode=L5e;rd.toKeyName=k9;function TT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QOt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Mv(e,t){if(e==null)return{};var n=QOt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var j9=h.createContext(null),Fc=()=>{var e=h.useContext(j9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},B5e=parseInt(se.version.split(".")[0],10),JOt=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,HZ=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),ms=typeof navigator<"u"&&/Android/.test(navigator.userAgent),tb=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),hy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),e3t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),N5e=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),t3t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),n3t=ms&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),r3t=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),o3t=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),i3t=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),Y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fd=(!t3t||!n3t)&&!e3t&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",T9=new WeakMap,A9=new WeakMap,z5e=new WeakMap,q2=new WeakMap,VR=new WeakMap,Jb=new WeakMap,bp=new WeakMap,HR=new WeakMap,AT=new WeakMap,UR=new WeakMap,Jh=new WeakMap,ep=new WeakMap,nb=new WeakMap,WR=new WeakMap,D9=new WeakMap,pl=new WeakMap,hu=new WeakMap,cs=new WeakMap,Ed=new WeakMap,kd=new WeakMap,V5e=new WeakMap,Fv=Symbol("placeholder"),H5e=Symbol("mark-placeholder"),s3t=globalThis.Text,I9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,a3t=e=>Rf(e)&&e.nodeType===8,ka=e=>Rf(e)&&e.nodeType===1,Rf=e=>{var t=I9(e);return!!t&&e instanceof t.Node},YR=e=>{var t=e&&e.anchorNode&&I9(e.anchorNode);return!!t&&e instanceof t.Selection},U5e=e=>Rf(e)&&e.nodeType===3,l3t=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,c3t=e=>{var[t,n]=e;if(ka(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=W5e(t,o,r?"backward":"forward"),r=o<n;ka(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=d3t(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},u3t=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},W5e=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(a3t(o)||ka(o)&&o.childNodes.length===0||ka(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},d3t=(e,t,n)=>{var[r]=W5e(e,t,n);return r},Y5e=e=>{var t="";if(U5e(e)&&e.nodeValue)return e.nodeValue;if(ka(e)){for(var n of Array.from(e.childNodes))t+=Y5e(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},f3t=/data-slate-fragment="(.+?)"/m,h3t=e=>{var t=e.getData("text/html"),[,n]=t.match(f3t)||[];return n},P9=(e,t,n)=>{var{target:r}=t;if(ka(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=ge.getWindow(e);if(o.contains(r))return ge.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:l}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of l)if(d===r||d.contains(r))return!0});return!i||i===t?!1:P9(e,i,n)},p3t=0;class m3t{constructor(){this.id="".concat(p3t++)}}var ge={androidPendingDiffs:e=>cs.get(e),androidScheduleFlush:e=>{var t;(t=D9.get(e))===null||t===void 0||t()},blur:e=>{var t=ge.toDOMNode(e,e),n=ge.findDocumentOrShadowRoot(e);Jh.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=ge.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&ae.deselect(e)},findDocumentOrShadowRoot:e=>{var t=ge.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=ge.toSlateNode(e,t.target),s=ge.findPath(e,i);if(Pe.isElement(i)&&M.isVoid(e,i)){var a=o.getBoundingClientRect(),l=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=M.point(e,s,{edge:l?"start":"end"}),d=l?M.before(e,u):M.after(e,u);if(d){var f=M.range(e,d);return f}}var p,{document:m}=ge.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=ge.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=HR.get(t);return n||(n=new m3t,HR.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=A9.get(r);if(o==null){if(M.isEditor(r))return n;break}var i=T9.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat($o.stringify(t)))},focus:e=>{var t=ge.toDOMNode(e,e),n=ge.findDocumentOrShadowRoot(e);Jh.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:e=>{var t=z5e.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=ge.toDOMNode(t,t),s;try{s=ka(n)?n:n.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Rf(t)&&ge.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return M.hasPath(e,n.path)&&M.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>ge.hasEditableTarget(e,t)||ge.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Rf(t)&&ge.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!ep.get(e),isFocused:e=>!!Jh.get(e),isReadOnly:e=>!!UR.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(UR.get(e))return!1;var n=ge.hasTarget(e,t)&&ge.toSlateNode(e,t);return Pe.isElement(n)&&M.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=AT.get(e),r=M.isEditor(t)?q2.get(e):n==null?void 0:n.get(ge.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat($o.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=M.node(e,t.path),r=ge.toDOMNode(e,n),o;M.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,l=0;l<s.length;l++){var u=s[l],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[l+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var y,x=g.childNodes[0];o=[x instanceof s3t?x:g,(y=g.textContent)!==null&&y!==void 0&&y.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var b=Math.min(f,Math.max(0,t.offset-a));o=[d,b];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat($o.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=ge.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:ge.toDOMPoint(e,r),a=ge.getWindow(e),l=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=ka(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=ka(f)?f:f.parentElement,y=!!g.getAttribute("data-slate-zero-width");return l.setStart(u,v?1:d),l.setEnd(f,y?1:p),l},toSlateNode:(e,t)=>{var n=ka(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Jb.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:c3t(t),a=i.parentNode,l=null,u=0;if(a){var d,f,p=ge.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),y=null;if(g){if(l=g.closest('[data-slate-node="text"]'),l){var x=ge.getWindow(e),b=x.document.createRange();b.setStart(l,0),b.setEnd(i,s);var w=b.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(P=>{if(ms&&!r&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),u=w.textContent.length,y=l}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(ge.hasDOMNode(e,E)){g=E;break}}g?(l=g.closest('[data-slate-node="text"]'),y=g,u=y.textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(P=>{u-=P.textContent.length})):u=1}y&&u===y.textContent.length&&ms&&y.getAttribute("data-slate-zero-width")==="z"&&(d=y.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||tb&&(f=y.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(ms&&!l&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&ge.hasDOMNode(e,j,{editable:!0})){var k=ge.toSlateNode(e,j),{path:T,offset:A}=M.start(e,ge.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!l){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=ge.toSlateNode(e,l),I=ge.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,i=YR(t)?t.anchorNode:t.startContainer,s,a,l,u,d;if(i)if(YR(t)){if(tb&&t.rangeCount>1){l=t.focusNode;var f=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(l instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let _=function(S){return S.childElementCount>0?_(S.children[0]):S};var m=f.startContainer,v=p.startContainer,g=_(m.children[f.startOffset]),y=_(v.children[p.startOffset]);u=0,y.childNodes.length>0?s=y.childNodes[0]:s=y,g.childNodes.length>0?l=g.childNodes[0]:l=g,y instanceof HTMLElement?a=y.innerHTML.length:a=0}else f.startContainer===l?(s=p.endContainer,a=p.endOffset,u=f.startOffset):(s=f.startContainer,a=f.endOffset,u=p.startOffset)}else s=t.anchorNode,a=t.anchorOffset,l=t.focusNode,u=t.focusOffset;N5e&&u3t(s)||tb?d=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:d=t.isCollapsed}else s=t.startContainer,a=t.startOffset,l=t.endContainer,u=t.endOffset,d=t.collapsed;if(s==null||l==null||a==null||u==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in l&&l.getAttribute("contenteditable")==="false"&&l.getAttribute("data-slate-void")!=="true"){var x;l=s,u=((x=s.textContent)===null||x===void 0?void 0:x.length)||0}var b=ge.toSlatePoint(e,[s,a],{exactMatch:r,suppressThrow:o});if(!b)return null;var w=d?b:ge.toSlatePoint(e,[l,u],{exactMatch:r,suppressThrow:o});if(!w)return null;var C={anchor:b,focus:w};return ue.isExpanded(C)&&ue.isForward(C)&&ka(l)&&M.void(e,{at:C.focus,mode:"highest"})&&(C=M.unhangRange(e,C,{voids:!0})),C}};function g3t(e,t){var{path:n,diff:r}=t;if(!M.hasPath(e,n))return!1;var o=je.get(e,n);if(!Se.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=te.next(n);if(!M.hasPath(e,i))return!1;var s=je.get(e,i);return Se.isText(s)&&s.text.startsWith(r.text)}function q5e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function v3t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function y3t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function G5e(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=v3t(i,o),a=Math.min(i.length-s,o.length-s),l=y3t(i,o,a),u={start:n+s,end:r-l,text:o.slice(s,o.length-l)};return u.start===u.end&&u.text.length===0?null:u}function b3t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=q5e(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),l=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return G5e(e,{start:r,end:l,text:a})}function x3t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function qR(e,t){var{path:n,offset:r}=t;if(!M.hasPath(e,n))return null;var o=je.get(e,n);if(!Se.isText(o))return null;var i=M.above(e,{match:a=>Pe.isElement(a)&&M.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=M.next(e,{at:n,match:Se.isText});if(!s||!te.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function UZ(e,t){var n=qR(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=qR(e,t.focus);return r?{anchor:n,focus:r}:null}function GR(e,t,n){var r=cs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return te.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return It.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=It.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var l={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=It.transform(l,n,{affinity:"backward"});return u?n.type==="split_node"&&te.equals(n.path,t.path)&&l.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function WZ(e,t,n){var r=GR(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=GR(e,t.focus,n);return o?{anchor:r,focus:o}:null}function w3t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!te.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:te.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:te.transform(n,t,{affinity:"forward"})};case"merge_node":return te.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:te.transform(n,t)}:{diff:r,id:o,path:te.transform(n,t)}}var i=te.transform(n,t);return i?{diff:r,path:i,id:o}:null}function YZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function i_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YZ(Object(n),!0).forEach(function(r){TT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var C3t=25,_3t=200,S3t=function(){},E3t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function k3t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,l=0,u=!1,d=()=>{var D=kd.get(t);if(kd.delete(t),D){var{selection:I}=t,P=UZ(t,D);P&&(!I||!ue.equals(P,I))&&ae.select(t,P)}},f=()=>{var D=Ed.get(t);if(Ed.delete(t),!!D){if(D.at){var I=It.isPoint(D.at)?qR(t,D.at):UZ(t,D.at);if(!I)return;var P=M.range(t,I);(!t.selection||!ue.equals(t.selection,P))&&ae.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&M.rangeRef(t,t.selection,{affinity:"forward"});hu.set(t,t.marks),S3t("flush",Ed.get(t),cs.get(t));for(var I=C(),P;P=(R=cs.get(t))===null||R===void 0?void 0:R[0];){var R,$,U=pl.get(t);U!==void 0&&(pl.delete(t),t.marks=U),U&&u===!1&&(u=null);var L=x3t(P);(!t.selection||!ue.equals(t.selection,L))&&ae.select(t,L),P.diff.text?M.insertText(t,P.diff.text):M.deleteFragment(t),cs.set(t,($=cs.get(t))===null||$===void 0?void 0:$.filter(V=>{var{id:H}=V;return H!==P.id})),g3t(t,P)||(I=!1,Ed.delete(t),hu.delete(t),o="action",kd.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var W=D==null?void 0:D.unref();if(W&&!kd.get(t)&&(!t.selection||!ue.equals(W,t.selection))&&ae.select(t,W),w()){f();return}I&&n(),n.flush(),r.flush(),d();var Y=hu.get(t);hu.delete(t),Y!==void 0&&(t.marks=Y,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{ep.set(t,!1),p()},C3t)},v=D=>{ep.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=VR.get(t);if(P){if(C()||I){P.style.display="none";return}P.style.removeProperty("display")}},y=(D,I)=>{var P,R=(P=cs.get(t))!==null&&P!==void 0?P:[];cs.set(t,R);var $=je.leaf(t,D),U=R.findIndex(Y=>te.equals(Y.path,D));if(U<0){var L=G5e($.text,I);L&&R.push({path:D,diff:I,id:l++}),g();return}var W=b3t($.text,R[U].diff,I);if(!W){R.splice(U,1),g();return}R[U]=i_(i_({},R[U]),{},{diff:W})},x=function(I){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,kd.delete(t),n.cancel(),r.cancel(),w()&&p(),Ed.set(t,{at:P,run:I}),a=setTimeout(p)},b=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:P}=D,R=null,$=D.dataTransfer||D.data||void 0;u!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(u=!1);var[U]=D.getTargetRanges();U&&(R=ge.toSlateRange(t,U,{exactMatch:!1,suppressThrow:!0}));var L=ge.getWindow(t),W=L.getSelection();if(!R&&W&&(U=W,R=ge.toSlateRange(t,W,{exactMatch:!1,suppressThrow:!0})),R=(I=R)!==null&&I!==void 0?I:t.selection,!!R){var Y=!0;if(P.startsWith("delete")){if(ue.isExpanded(R)){var[V,H]=ue.edges(R),Q=je.leaf(t,V.path);if(Q.text.length===V.offset&&H.offset===0){var F=M.next(t,{at:V.path,match:Se.isText});F&&te.equals(F[1],H.path)&&(R={anchor:H,focus:H})}}var G=P.endsWith("Backward")?"backward":"forward",[z,Z]=ue.edges(R),[K,J]=M.leaf(t,z.path),X={text:"",start:z.offset,end:Z.offset},ee=cs.get(t),re=ee==null?void 0:ee.find($e=>te.equals($e.path,J)),de=re?[re.diff,X]:[X],ie=q5e(K.text,...de);if(ie.length===0&&(Y=!1),ue.isExpanded(R)){if(Y&&te.equals(R.anchor.path,R.focus.path)){var fe={path:R.anchor.path,offset:z.offset},xe=M.range(t,fe,fe);return E(xe),y(R.anchor.path,{text:"",end:Z.offset,start:z.offset})}return x(()=>M.deleteFragment(t,{direction:G}),{at:R})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>M.deleteFragment(t),{at:R});case"deleteContent":case"deleteContentForward":{var{anchor:be}=R;if(Y&&ue.isCollapsed(R)){var ve=je.leaf(t,be.path);if(be.offset<ve.text.length)return y(be.path,{text:"",start:be.offset,end:be.offset+1})}return x(()=>M.deleteForward(t),{at:R})}case"deleteContentBackward":{var qe,{anchor:Le}=R,ot=YR(U)?U.isCollapsed:!!((qe=U)!==null&&qe!==void 0&&qe.collapsed);return Y&&ot&&ue.isCollapsed(R)&&Le.offset>0?y(Le.path,{text:"",start:Le.offset-1,end:Le.offset}):x(()=>M.deleteBackward(t),{at:R})}case"deleteEntireSoftLine":return x(()=>{M.deleteBackward(t,{unit:"line"}),M.deleteForward(t,{unit:"line"})},{at:R});case"deleteHardLineBackward":return x(()=>M.deleteBackward(t,{unit:"block"}),{at:R});case"deleteSoftLineBackward":return x(()=>M.deleteBackward(t,{unit:"line"}),{at:R});case"deleteHardLineForward":return x(()=>M.deleteForward(t,{unit:"block"}),{at:R});case"deleteSoftLineForward":return x(()=>M.deleteForward(t,{unit:"line"}),{at:R});case"deleteWordBackward":return x(()=>M.deleteBackward(t,{unit:"word"}),{at:R});case"deleteWordForward":return x(()=>M.deleteForward(t,{unit:"word"}),{at:R});case"insertLineBreak":return x(()=>M.insertSoftBreak(t),{at:R});case"insertParagraph":return x(()=>M.insertBreak(t),{at:R});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(E3t($))return x(()=>ge.insertData(t,$),{at:R});var Qe=$??"";if(pl.get(t)&&(Qe=Qe.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(Qe)&&(Qe=Qe.slice(0,-1)),Qe.includes(`
`))return x(()=>{var $e=Qe.split(`
`);$e.forEach((xt,Tt)=>{xt&&M.insertText(t,xt),Tt!==$e.length-1&&M.insertSoftBreak(t)})},{at:R});if(te.equals(R.anchor.path,R.focus.path)){var[lt,_e]=ue.edges(R),me={start:lt.offset,end:_e.offset,text:Qe};if(Qe&&u&&P==="insertCompositionText"){var We=u.start+u.text.search(/\S|$/),Ge=me.start+me.text.search(/\S|$/);Ge===We+1&&me.end===u.start+u.text.length?(me.start-=1,u=null,T()):u=!1}else P==="insertText"?u===null?u=me:u&&ue.isCollapsed(R)&&u.end+u.text.length===lt.offset?u=i_(i_({},u),{},{text:u.text+Qe}):u=!1:u=!1;if(Y){y(lt.path,me);return}}return x(()=>M.insertText(t,Qe),{at:R})}}}},w=()=>!!Ed.get(t),C=()=>{var D;return!!((D=cs.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{kd.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var P=!I||!te.equals(I.anchor.path,D.anchor.path),R=!I||!te.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(P&&u||R)&&(u=!1),(P||C())&&(s=setTimeout(p,_3t))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(P=>P9(t,P,D))){var I;(I=V5e.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:b,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function j3t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var ex=Y2?h.useLayoutEffect:h.useEffect;function T3t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));ex(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var A3t=["node"];function qZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function D3t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qZ(Object(n),!0).forEach(function(r){TT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var I3t={subtree:!0,childList:!0,characterData:!0},P3t=ms?e=>{var{node:t}=e,n=Mv(e,A3t);if(!ms)return null;var r=Fc(),o=j3t(),[i]=h.useState(()=>k3t(D3t({editor:r},n)));return T3t(t,i.handleDomMutations,I3t),D9.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,O3t=["anchor","focus"],$3t=["anchor","focus"],R3t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),K5e=(e,t)=>{var n=Mv(e,O3t),r=Mv(t,$3t);return e[Fv]===t[Fv]&&R3t(n,r)},M3t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!K5e(r,o))return!1}return!0},F3t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!K5e(r,o))return!1}return!0},L3t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Fc(),s=ge.findPath(i,o),a=te.parent(s),l=n[H5e]===!0;return i.isVoid(r)?se.createElement(uP,{length:je.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&M.string(i,a)===""?se.createElement(uP,{isLineBreak:!0,isMarkPlaceholder:l}):n.text===""?se.createElement(uP,{isMarkPlaceholder:l}):t&&n.text.slice(-1)===`
`?se.createElement(GZ,{isTrailing:!0,text:n.text}):se.createElement(GZ,{text:n.text})},GZ=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return ex(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),se.createElement(B3t,{ref:r},i)},B3t=h.memo(h.forwardRef((e,t)=>se.createElement("span",{"data-slate-string":!0,ref:t},e.children))),uP=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),se.createElement("span",Object.assign({},o),!ms||!n?"\uFEFF":null,n?se.createElement("br",null):null)};function N3t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function KZ(e){e.current&&(clearTimeout(e.current),e.current=null)}var z3t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=b=>se.createElement(H3t,Object.assign({},b))}=e,a=Fc(),l=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(b=>{if(N3t(l,b==null),b==null){var w;VR.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(VR.set(a,b),!l.current){var C=window.ResizeObserver||Hwe;l.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,b)})}l.current.observe(b),u.current=b}},[u,t,a]),v=se.createElement(L3t,{isLast:n,leaf:t,parent:o,text:r}),g=t[Fv];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(KZ(p),f(!1)),()=>KZ(p)),[g,f]),g&&d){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:hy?"inherit":void 0},contentEditable:!1,ref:m}};v=se.createElement(se.Fragment,null,i(y),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},V3t=se.memo(z3t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Se.equals(t.leaf,e.leaf)&&t.leaf[Fv]===e.leaf[Fv]),H3t=e=>{var{attributes:t,children:n}=e;return se.createElement("span",Object.assign({},t),n)},U3t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Fc(),l=h.useRef(null),u=Se.decorations(s,t),d=ge.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(se.createElement(V3t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var y=AT.get(a);g?(y==null||y.set(d,g),bp.set(s,g),Jb.set(g,s)):(y==null||y.delete(d),bp.delete(s),l.current&&Jb.delete(l.current)),l.current=g},[l,a,d,s]);return se.createElement("span",{"data-slate-node":"text",ref:v},f)},Z5e=se.memo(U3t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&F3t(t.decorations,e.decorations)),W3t=e=>{var{decorations:t,element:n,renderElement:r=b=>se.createElement(q3t,Object.assign({},b)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Fc(),l=K3t(),u=a.isInline(n),d=ge.findKey(a,n),f=h.useCallback(b=>{var w=AT.get(a);b?(w==null||w.set(d,b),bp.set(n,b),Jb.set(b,n)):(w==null||w.delete(d),bp.delete(n))},[a,d,n]),p=eEe({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&M.hasInlines(a,n)){var v=je.string(n),g=T5e(v);g==="rtl"&&(m.dir=g)}if(M.isVoid(a,n)){m["data-slate-void"]=!0,!l&&u&&(m.contentEditable=!1);var y=u?"span":"div",[[x]]=je.texts(n);p=se.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},se.createElement(Z5e,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),T9.set(x,0),A9.set(x,n)}return r({attributes:m,children:p,element:n})},Y3t=se.memo(W3t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&M3t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),q3t=e=>{var{attributes:t,children:n,element:r}=e,o=Fc(),i=o.isInline(r)?"span":"div";return se.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},X5e=h.createContext(()=>[]),G3t=()=>h.useContext(X5e),Q5e=h.createContext(!1),J5e=()=>h.useContext(Q5e),eEe=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=G3t(),l=Fc(),u=ge.findPath(l,n),d=[],f=Pe.isElement(n)&&!l.isInline(n)&&M.hasInlines(l,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=ge.findKey(l,v),y=M.range(l,m),x=s&&ue.intersection(y,s),b=a([v,m]);for(var w of t){var C=ue.intersection(w,y);C&&b.push(C)}Pe.isElement(v)?d.push(se.createElement(Q5e.Provider,{key:"provider-".concat(g.id),value:!!x},se.createElement(Y3t,{decorations:b,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(se.createElement(Z5e,{decorations:b,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),T9.set(v,p),A9.set(v,n)}return d},tEe=h.createContext(!1),K3t=()=>h.useContext(tEe),nEe=h.createContext(null),DT=()=>{var e=h.useContext(nEe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function Z3t(){var e=Fc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=ge.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var X3t=3,Q3t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},J3t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},e$t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},hr=e=>{var t=Q3t[e],n=J3t[e],r=e$t[e],o=t&&cP(t),i=n&&cP(n),s=r&&cP(r);return a=>!!(o&&o(a)||HZ&&i&&i(a)||!HZ&&s&&s(a))},Sr={isBold:hr("bold"),isCompose:hr("compose"),isMoveBackward:hr("moveBackward"),isMoveForward:hr("moveForward"),isDeleteBackward:hr("deleteBackward"),isDeleteForward:hr("deleteForward"),isDeleteLineBackward:hr("deleteLineBackward"),isDeleteLineForward:hr("deleteLineForward"),isDeleteWordBackward:hr("deleteWordBackward"),isDeleteWordForward:hr("deleteWordForward"),isExtendBackward:hr("extendBackward"),isExtendForward:hr("extendForward"),isExtendLineBackward:hr("extendLineBackward"),isExtendLineForward:hr("extendLineForward"),isItalic:hr("italic"),isMoveLineBackward:hr("moveLineBackward"),isMoveLineForward:hr("moveLineForward"),isMoveWordBackward:hr("moveWordBackward"),isMoveWordForward:hr("moveWordForward"),isRedo:hr("redo"),isSoftBreak:hr("insertSoftBreak"),isSplitBlock:hr("splitBlock"),isTransposeCharacter:hr("transposeCharacter"),isUndo:hr("undo")},t$t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(l=>P9(e,l,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},n$t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class rEe extends h.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,n$t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=t$t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}rEe.contextType=j9;var r$t=ms?rEe:e=>{var{children:t}=e;return se.createElement(se.Fragment,null,t)},o$t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],i$t=["text"];function ZZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZZ(Object(n),!0).forEach(function(r){TT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s$t=e=>se.createElement(se.Fragment,null,eEe(e)),a$t=e=>{var t=h.useCallback(F=>se.createElement(l$t,Object.assign({},F)),[]),{autoFocus:n,decorate:r=c$t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:l,renderPlaceholder:u=t,scrollSelectionIntoView:d=u$t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=Mv(e,o$t),g=DT(),[y,x]=h.useState(!1),b=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=Z3t(),[,j]=h.useReducer(F=>F+1,0);V5e.set(g,j),UR.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{b.current&&n&&b.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>Yj(()=>{var F=T.current;if((ms||!ge.isComposing(g))&&(!k.isUpdatingSelection||F!=null&&F.isFlushing())&&!k.isDraggingInternally){var G=ge.findDocumentOrShadowRoot(g),{activeElement:z}=G,Z=ge.toDOMNode(g,g),K=G.getSelection();if(z===Z?(k.latestElement=z,Jh.set(g,!0)):Jh.delete(g),!K)return ae.deselect(g);var{anchorNode:J,focusNode:X}=K,ee=ge.hasEditableTarget(g,J)||ge.isTargetInsideNonReadonlyVoid(g,J),re=ge.hasEditableTarget(g,X)||ge.isTargetInsideNonReadonlyVoid(g,X);if(ee&&re){var de=ge.toSlateRange(g,K,{exactMatch:!1,suppressThrow:!0});de&&(!ge.isComposing(g)&&!(F!=null&&F.hasPendingChanges())&&!(F!=null&&F.isFlushing())?ae.select(g,de):F==null||F.handleUserSelect(de))}s&&(!ee||!re)&&ae.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>Bx(A,0),[A]);T.current=P3t({node:b,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),ex(()=>{var F,G,z;b.current&&(z=I9(b.current))?(z5e.set(g,z),q2.set(g,b.current),bp.set(g,b.current),Jb.set(b.current,g)):bp.delete(g);var{selection:Z}=g,K=ge.findDocumentOrShadowRoot(g),J=K.getSelection();if(!(!J||!ge.isFocused(g)||(F=T.current)!==null&&F!==void 0&&F.hasPendingAction())){var X=ie=>{var fe=J.type!=="None";if(!(!Z&&!fe)){var xe=J.focusNode,be;if(tb&&J.rangeCount>1){var ve=J.getRangeAt(0),qe=J.getRangeAt(J.rangeCount-1);ve.startContainer===xe?be=qe.endContainer:be=ve.startContainer}else be=J.anchorNode;var Le=q2.get(g),ot=!1;if(Le.contains(be)&&Le.contains(xe)&&(ot=!0),fe&&ot&&Z&&!ie){var Qe=ge.toSlateRange(g,J,{exactMatch:!0,suppressThrow:!0});if(Qe&&ue.equals(Qe,Z)){var lt,_e;if(!k.hasMarkPlaceholder||(lt=be)!==null&&lt!==void 0&&(_e=lt.parentElement)!==null&&_e!==void 0&&_e.hasAttribute("data-slate-mark-placeholder"))return}}if(Z&&!ge.hasRange(g,Z)){g.selection=ge.toSlateRange(g,J,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var me=Z&&ge.toDOMRange(g,Z);return me?(ge.isComposing(g)&&!ms?J.collapseToEnd():ue.isBackward(Z)?J.setBaseAndExtent(me.endContainer,me.endOffset,me.startContainer,me.startOffset):J.setBaseAndExtent(me.startContainer,me.startOffset,me.endContainer,me.endOffset),d(g,me)):J.removeAllRanges(),me}};J.rangeCount<=1&&X();var ee=((G=T.current)===null||G===void 0?void 0:G.isFlushing())==="action";if(!ms||!ee){setTimeout(()=>{k.isUpdatingSelection=!1});return}var re=null,de=requestAnimationFrame(()=>{if(ee){var ie=fe=>{try{var xe=ge.toDOMNode(g,g);xe.focus(),X(fe)}catch{}};ie(),re=setTimeout(()=>{ie(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(de),re&&clearTimeout(re)}}});var I=h.useCallback(F=>{if(S(),!s&&ge.hasEditableTarget(g,F.target)&&!d$t(F,o)){var G;if(T.current)return T.current.handleDOMBeforeInput(F);D.flush(),A.flush();var{selection:z}=g,{inputType:Z}=F,K=F.dataTransfer||F.data||void 0,J=Z==="insertCompositionText"||Z==="deleteCompositionText";if(J&&ge.isComposing(g))return;var X=!1;if(Z==="insertText"&&z&&ue.isCollapsed(z)&&F.data&&F.data.length===1&&/[a-z ]/i.test(F.data)&&z.anchor.offset!==0){var ee,re;X=!0,g.marks&&(X=!1);var{anchor:de}=z,[ie,fe]=ge.toDOMPoint(g,de),xe=(ee=ie.parentElement)===null||ee===void 0?void 0:ee.closest("a"),be=ge.getWindow(g);if(X&&xe&&ge.hasDOMNode(g,xe)){var ve,qe=be==null?void 0:be.document.createTreeWalker(xe,NodeFilter.SHOW_TEXT).lastChild();qe===ie&&((ve=qe.textContent)===null||ve===void 0?void 0:ve.length)===fe&&(X=!1)}if(X&&ie.parentElement&&(be==null||(re=be.getComputedStyle(ie.parentElement))===null||re===void 0?void 0:re.whiteSpace)==="pre"){var Le=M.above(g,{at:de.path,match:We=>Pe.isElement(We)&&M.isBlock(g,We)});Le&&je.string(Le[0]).includes("	")&&(X=!1)}}if(!Z.startsWith("delete")||Z.startsWith("deleteBy")){var[ot]=F.getTargetRanges();if(ot){var Qe=ge.toSlateRange(g,ot,{exactMatch:!1,suppressThrow:!1});if(!z||!ue.equals(z,Qe)){X=!1;var lt=!J&&g.selection&&M.rangeRef(g,g.selection);ae.select(g,Qe),lt&&nb.set(g,lt)}}}if(J)return;if(X||F.preventDefault(),z&&ue.isExpanded(z)&&Z.startsWith("delete")){var _e=Z.endsWith("Backward")?"backward":"forward";M.deleteFragment(g,{direction:_e});return}switch(Z){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{M.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{M.deleteForward(g);break}case"deleteContentBackward":{M.deleteBackward(g);break}case"deleteEntireSoftLine":{M.deleteBackward(g,{unit:"line"}),M.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{M.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{M.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{M.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{M.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{M.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{M.deleteForward(g,{unit:"word"});break}case"insertLineBreak":M.insertSoftBreak(g);break;case"insertParagraph":{M.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Z==="insertFromComposition"&&ge.isComposing(g)&&(x(!1),ep.set(g,!1)),(K==null?void 0:K.constructor.name)==="DataTransfer"?ge.insertData(g,K):typeof K=="string"&&(X?w.current.push(()=>M.insertText(g,K)):M.insertText(g,K));break}}var me=(G=nb.get(g))===null||G===void 0?void 0:G.unref();nb.delete(g),me&&(!g.selection||!ue.equals(g.selection,me))&&ae.select(g,me)}},[g,A,S,o,s,D]),P=h.useCallback(F=>{F==null?(A.cancel(),D.cancel(),q2.delete(g),bp.delete(g),b.current&&fd&&b.current.removeEventListener("beforeinput",I)):fd&&F.addEventListener("beforeinput",I),b.current=F},[A,D,g,I]);ex(()=>{var F=ge.getWindow(g);return F.document.addEventListener("selectionchange",D),()=>{F.document.removeEventListener("selectionchange",D)}},[D]);var R=r([g,[]]),$=i&&g.children.length===1&&Array.from(je.texts(g)).length===1&&je.string(g)===""&&!y,U=h.useCallback(F=>{if(F&&$){var G;_((G=F.getBoundingClientRect())===null||G===void 0?void 0:G.height)}else _(void 0)},[$]);if($){var L=M.start(g,[]);R.push({[Fv]:!0,placeholder:i,onPlaceholderResize:U,anchor:L,focus:L})}var{marks:W}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&W){var{anchor:Y}=g.selection,V=je.leaf(g,Y.path),H=Mv(V,i$t);if(!Se.equals(V,W,{loose:!0})){k.hasMarkPlaceholder=!0;var Q=Object.fromEntries(Object.keys(H).map(F=>[F,null]));R.push(Vm(Vm(Vm({[H5e]:!0},Q),W),{},{anchor:Y,focus:Y}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:F}=g;if(F){var{anchor:G}=F,z=je.leaf(g,G.path);if(W&&!Se.equals(z,W,{loose:!0})){pl.set(g,W);return}}pl.delete(g)})}),se.createElement(tEe.Provider,{value:s},se.createElement(X5e.Provider,{value:r},se.createElement(r$t,{node:b,receivedUserInput:E},se.createElement(p,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v,{spellCheck:fd||!Y2?v.spellCheck:!1,autoCorrect:fd||!Y2?v.autoCorrect:"false",autoCapitalize:fd||!Y2?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:P,style:Vm(Vm({},m?{}:Vm({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(F=>{if(!fd&&!s&&!Pi(F,v.onBeforeInput)&&ge.hasSelectableTarget(g,F.target)&&(F.preventDefault(),!ge.isComposing(g))){var G=F.data;M.insertText(g,G)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(F=>{if(!Pi(F,v.onInput)){if(T.current){T.current.handleInput();return}for(var G of w.current)G();w.current=[]}},[v.onInput]),onBlur:h.useCallback(F=>{if(!(s||k.isUpdatingSelection||!ge.hasSelectableTarget(g,F.target)||Pi(F,v.onBlur))){var G=ge.findDocumentOrShadowRoot(g);if(k.latestElement!==G.activeElement){var{relatedTarget:z}=F,Z=ge.toDOMNode(g,g);if(z!==Z&&!(ka(z)&&z.hasAttribute("data-slate-spacer"))){if(z!=null&&Rf(z)&&ge.hasDOMNode(g,z)){var K=ge.toSlateNode(g,z);if(Pe.isElement(K)&&!g.isVoid(K))return}if(hy){var J=G.getSelection();J==null||J.removeAllRanges()}Jh.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(F=>{if(ge.hasTarget(g,F.target)&&!Pi(F,v.onClick)&&Rf(F.target)){var G=ge.toSlateNode(g,F.target),z=ge.findPath(g,G);if(!M.hasPath(g,z)||je.get(g,z)!==G)return;if(F.detail===X3t&&z.length>=1){var Z=z;if(!(Pe.isElement(G)&&M.isBlock(g,G))){var K,J=M.above(g,{match:xe=>Pe.isElement(xe)&&M.isBlock(g,xe),at:z});Z=(K=J==null?void 0:J[1])!==null&&K!==void 0?K:z.slice(0,1)}var X=M.range(g,Z);ae.select(g,X);return}if(s)return;var ee=M.start(g,z),re=M.end(g,z),de=M.void(g,{at:ee}),ie=M.void(g,{at:re});if(de&&ie&&te.equals(de[1],ie[1])){var fe=M.range(g,ee);ae.select(g,fe)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(F=>{if(ge.hasSelectableTarget(g,F.target)){var G;if(ge.isComposing(g)&&(x(!1),ep.set(g,!1)),(G=T.current)===null||G===void 0||G.handleCompositionEnd(F),Pi(F,v.onCompositionEnd)||ms)return;if(!hy&&!r3t&&!JOt&&!i3t&&!o3t&&F.data){var z=pl.get(g);pl.delete(g),z!==void 0&&(hu.set(g,g.marks),g.marks=z),M.insertText(g,F.data);var Z=hu.get(g);hu.delete(g),Z!==void 0&&(g.marks=Z)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(F=>{ge.hasSelectableTarget(g,F.target)&&!Pi(F,v.onCompositionUpdate)&&(ge.isComposing(g)||(x(!0),ep.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(F=>{if(ge.hasSelectableTarget(g,F.target)){var G;if((G=T.current)===null||G===void 0||G.handleCompositionStart(F),Pi(F,v.onCompositionStart)||ms)return;x(!0);var{selection:z}=g;if(z){if(ue.isExpanded(z)){M.deleteFragment(g);return}var Z=M.above(g,{match:X=>Pe.isElement(X)&&M.isInline(g,X),mode:"highest"});if(Z){var[,K]=Z;if(M.isEnd(g,z.anchor,K)){var J=M.after(g,K);ae.setSelection(g,{anchor:J,focus:J})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(F=>{ge.hasSelectableTarget(g,F.target)&&!Pi(F,v.onCopy)&&!XZ(F)&&(F.preventDefault(),ge.setFragmentData(g,F.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(F=>{if(!s&&ge.hasSelectableTarget(g,F.target)&&!Pi(F,v.onCut)&&!XZ(F)){F.preventDefault(),ge.setFragmentData(g,F.clipboardData,"cut");var{selection:G}=g;if(G)if(ue.isExpanded(G))M.deleteFragment(g);else{var z=je.parent(g,G.anchor.path);M.isVoid(g,z)&&ae.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(F=>{if(ge.hasTarget(g,F.target)&&!Pi(F,v.onDragOver)){var G=ge.toSlateNode(g,F.target);Pe.isElement(G)&&M.isVoid(g,G)&&F.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(F=>{if(!s&&ge.hasTarget(g,F.target)&&!Pi(F,v.onDragStart)){var G=ge.toSlateNode(g,F.target),z=ge.findPath(g,G),Z=Pe.isElement(G)&&M.isVoid(g,G)||M.void(g,{at:z,voids:!0});if(Z){var K=M.range(g,z);ae.select(g,K)}k.isDraggingInternally=!0,ge.setFragmentData(g,F.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(F=>{if(!s&&ge.hasTarget(g,F.target)&&!Pi(F,v.onDrop)){F.preventDefault();var G=g.selection,z=ge.findEventRange(g,F),Z=F.dataTransfer;ae.select(g,z),k.isDraggingInternally&&G&&!ue.equals(G,z)&&!M.void(g,{at:z,voids:!0})&&ae.delete(g,{at:G}),ge.insertData(g,Z),ge.isFocused(g)||ge.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(F=>{!s&&k.isDraggingInternally&&v.onDragEnd&&ge.hasTarget(g,F.target)&&v.onDragEnd(F),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(F=>{if(!s&&!k.isUpdatingSelection&&ge.hasEditableTarget(g,F.target)&&!Pi(F,v.onFocus)){var G=ge.toDOMNode(g,g),z=ge.findDocumentOrShadowRoot(g);if(k.latestElement=z.activeElement,tb&&F.target!==G){G.focus();return}Jh.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(F=>{if(!s&&ge.hasEditableTarget(g,F.target)){var G;(G=T.current)===null||G===void 0||G.handleKeyDown(F);var{nativeEvent:z}=F;if(ge.isComposing(g)&&z.isComposing===!1&&(ep.set(g,!1),x(!1)),Pi(F,v.onKeyDown)||ge.isComposing(g))return;var{selection:Z}=g,K=g.children[Z!==null?Z.focus.path[0]:0],J=T5e(je.string(K))==="rtl";if(Sr.isRedo(z)){F.preventDefault();var X=g;typeof X.redo=="function"&&X.redo();return}if(Sr.isUndo(z)){F.preventDefault();var ee=g;typeof ee.undo=="function"&&ee.undo();return}if(Sr.isMoveLineBackward(z)){F.preventDefault(),ae.move(g,{unit:"line",reverse:!0});return}if(Sr.isMoveLineForward(z)){F.preventDefault(),ae.move(g,{unit:"line"});return}if(Sr.isExtendLineBackward(z)){F.preventDefault(),ae.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(Sr.isExtendLineForward(z)){F.preventDefault(),ae.move(g,{unit:"line",edge:"focus"});return}if(Sr.isMoveBackward(z)){F.preventDefault(),Z&&ue.isCollapsed(Z)?ae.move(g,{reverse:!J}):ae.collapse(g,{edge:"start"});return}if(Sr.isMoveForward(z)){F.preventDefault(),Z&&ue.isCollapsed(Z)?ae.move(g,{reverse:J}):ae.collapse(g,{edge:"end"});return}if(Sr.isMoveWordBackward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:!J});return}if(Sr.isMoveWordForward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:J});return}if(fd){if((N5e||hy)&&Z&&(Sr.isDeleteBackward(z)||Sr.isDeleteForward(z))&&ue.isCollapsed(Z)){var re=je.parent(g,Z.anchor.path);if(Pe.isElement(re)&&M.isVoid(g,re)&&(M.isInline(g,re)||M.isBlock(g,re))){F.preventDefault(),M.deleteBackward(g,{unit:"block"});return}}}else{if(Sr.isBold(z)||Sr.isItalic(z)||Sr.isTransposeCharacter(z)){F.preventDefault();return}if(Sr.isSoftBreak(z)){F.preventDefault(),M.insertSoftBreak(g);return}if(Sr.isSplitBlock(z)){F.preventDefault(),M.insertBreak(g);return}if(Sr.isDeleteBackward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)?M.deleteFragment(g,{direction:"backward"}):M.deleteBackward(g);return}if(Sr.isDeleteForward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)?M.deleteFragment(g,{direction:"forward"}):M.deleteForward(g);return}if(Sr.isDeleteLineBackward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)?M.deleteFragment(g,{direction:"backward"}):M.deleteBackward(g,{unit:"line"});return}if(Sr.isDeleteLineForward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)?M.deleteFragment(g,{direction:"forward"}):M.deleteForward(g,{unit:"line"});return}if(Sr.isDeleteWordBackward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)?M.deleteFragment(g,{direction:"backward"}):M.deleteBackward(g,{unit:"word"});return}if(Sr.isDeleteWordForward(z)){F.preventDefault(),Z&&ue.isExpanded(Z)?M.deleteFragment(g,{direction:"forward"}):M.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(F=>{!s&&ge.hasEditableTarget(g,F.target)&&!Pi(F,v.onPaste)&&(!fd||l3t(F.nativeEvent)||hy)&&(F.preventDefault(),ge.insertData(g,F.clipboardData))},[s,g,v.onPaste])}),se.createElement(s$t,{decorations:R,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:l,selection:g.selection})))))},l$t=e=>{var{attributes:t,children:n}=e;return se.createElement("span",Object.assign({},t),n,ms&&se.createElement("br",null))},c$t=()=>[],u$t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),xIt(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Pi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},XZ=e=>Rf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),d$t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},f$t=h.createContext(!1),h$t=h.createContext({});function p$t(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var m$t=["editor","children","onChange","initialValue"],g$t=e=>{var{editor:t,children:n,onChange:r,initialValue:o}=e,i=Mv(e,m$t),s=h.useRef(!1),[a,l]=se.useState(()=>{if(!je.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat($o.stringify(o)));if(!M.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat($o.stringify(t)));return t.children=o,Object.assign(t,i),{v:0,editor:t}}),{selectorContext:u,onChange:d}=p$t(t),f=h.useCallback(()=>{r&&r(t.children),l(v=>({v:v.v+1,editor:t})),d(t)},[t,d,r]);h.useEffect(()=>(WR.set(t,f),()=>{WR.set(t,()=>{}),s.current=!0}),[t,f]);var[p,m]=h.useState(ge.isFocused(t));return h.useEffect(()=>{m(ge.isFocused(t))},[t]),ex(()=>{var v=()=>m(ge.isFocused(t));return B5e>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),se.createElement(h$t.Provider,{value:u},se.createElement(nEe.Provider,{value:a},se.createElement(j9.Provider,{value:a.editor},se.createElement(f$t.Provider,{value:p},n))))},QZ=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},JZ=(e,t,n)=>{var r=ge.toDOMRange(e,t).getBoundingClientRect(),o=ge.toDOMRange(e,n).getBoundingClientRect();return QZ(r,o)&&QZ(o,r)},v$t=(e,t)=>{var n=M.range(e,ue.end(t)),r=Array.from(M.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(JZ(e,M.range(e,r[o]),n))return M.range(e,r[o],n);if(r.length<2)return M.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)JZ(e,M.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return M.range(e,r[i],n)};function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(r){TT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var y$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:l}=r;return AT.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=D9.get(r))===null||f===void 0||f(),!pl.get(r)&&(p=cs.get(r))!==null&&p!==void 0&&p.length&&pl.set(r,null),hu.delete(r),a(u,d)},r.removeMark=u=>{var d;!pl.get(r)&&(d=cs.get(r))!==null&&d!==void 0&&d.length&&pl.set(r,null),hu.delete(r),l(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=M.above(r,{match:v=>Pe.isElement(v)&&M.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=M.range(r,f,r.selection.anchor),m=v$t(r,p);ue.isCollapsed(m)||ae.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=cs.get(r);if(f!=null&&f.length){var p=f.map(S=>w3t(S,u)).filter(Boolean);cs.set(r,p)}var m=kd.get(r);m&&kd.set(r,WZ(r,m,u));var v=Ed.get(r);if(v!=null&&v.at){var g=It.isPoint(v==null?void 0:v.at)?GR(r,v.at,u):WZ(r,v.at,u);Ed.set(r,g?tX(tX({},v),{},{at:g}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...s_(r,u.path));break}case"set_selection":{var y;(y=nb.get(r))===null||y===void 0||y.unref(),nb.delete(r);break}case"insert_node":case"remove_node":{d.push(...s_(r,te.parent(u.path)));break}case"merge_node":{var x=te.previous(u.path);d.push(...s_(r,x));break}case"move_node":{var b=te.common(te.parent(u.path),te.parent(u.newPath));d.push(...s_(r,b));break}}o(u);for(var[w,C]of d){var[_]=M.node(r,w);HR.set(_,C)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=M.void(r,{at:f.path}),v=M.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=ge.toDOMRange(r,d),y=g.cloneContents(),x=y.childNodes[0];if(y.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[b]=v,w=g.cloneRange(),C=ge.toDOMNode(r,b);w.setEndAfter(C),y=w.cloneContents()}if(m&&(x=y.querySelector("[data-slate-spacer]")),Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),U5e(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),y.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=y.ownerDocument.createElement("div");return k.appendChild(y),k.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",Y5e(k)),y.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||h3t(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&ae.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=B5e<18?Vze.unstable_batchedUpdates:f=>f();d(()=>{var f=WR.get(r);f&&f(),i(u)})},r},s_=(e,t)=>{var n=[];for(var[r,o]of M.levels(e,{at:t})){var i=ge.findKey(e,r);n.push([o,i])}return n},b$t=yge,nX=1/0,x$t=17976931348623157e292;function w$t(e){if(!e)return e===0?e:0;if(e=b$t(e),e===nX||e===-nX){var t=e<0?-1:1;return t*x$t}return e===e?e:0}var oEe=w$t,C$t=oEe;function _$t(e){var t=C$t(e),n=t%1;return t===t?n?t-n:t:0}var S$t=_$t,E$t=fCe,k$t=Kf,j$t=S$t,T$t=Math.max;function A$t(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:j$t(n);return o<0&&(o=T$t(r+o,0)),E$t(e,k$t(t),o)}var iEe=A$t;const O9=Ie(iEe);var D$t=v8,I$t=4;function P$t(e){return D$t(e,I$t)}var O$t=P$t;const sEe=Ie(O$t);function G2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function gE(e){return G2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>G2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>G2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function dP(e){return G2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Mu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function rX(e){return Mu(e)?e.jsonType==="object":!1}function $$t(e){return Mu(e)?e.jsonType==="array":!1}function R$t(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function M$t(e){return Mu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function F$t(e){if(!Mu(e)||!Array.isArray(e.fields))return!1;const[t,n,r]=e.fields;return cEe(t)&&aEe(n)&&lEe(r)}function aEe(e){return!Mu(e)||e.name!=="style"?!1:Mu(e.type)&&e.type.jsonType==="string"}function lEe(e){return!Mu(e)||e.name!=="list"?!1:Mu(e.type)&&e.type.jsonType==="string"}function cEe(e){return!Mu(e)||e.name!=="children"||!$$t(e.type)?!1:e.type.of.some(M$t)}function $9(e){return e.type?$9(e.type):e.name==="block"}function L$t(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find($9);if(!F$t(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(cEe))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(l=>l.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(l=>l.name!=="span"&&rX(l)),a=e.of.filter(l=>l.name!==r.name&&rX(l));return{styles:B$t(r),decorators:z$t(i),annotations:N$t(i),lists:V$t(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function B$t(e){const t=e.fields.find(aEe);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=uEe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function N$t(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function z$t(e){return e.decorators}function V$t(e){const t=e.fields.find(lEe);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=uEe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function uEe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>R$t(n)?n:{title:n,value:n}):[]}const H$t=Object.prototype.toString;function dEe(e){switch(H$t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function U$t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return h9(t),t}const fEe=[];for(let e=0;e<256;++e)fEe[e]=(e+256).toString(16).substring(1);function KR(e){return U$t(e).reduce((t,n)=>t+fEe[n],"").slice(0,e)}const W$t=["pre","textarea","code"],Lv="normal",fs=Object.freeze({_type:"block",markDefs:[],style:Lv}),K2=Object.freeze({_type:"span",marks:[]}),vE={p:fs,blockquote:{...fs,style:"blockquote"}},hEe={span:{object:"text"}},yE={ol:{object:null},ul:{object:null}},bE={h1:{...fs,style:"h1"},h2:{...fs,style:"h2"},h3:{...fs,style:"h3"},h4:{...fs,style:"h4"},h5:{...fs,style:"h5"},h6:{...fs,style:"h6"}},Y$t={br:{...fs,style:Lv}},pEe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},mEe={li:{...fs,style:Lv,level:1,listItem:"bullet"}},q$t={...vE,...hEe,...yE,...mEe,...bE,...Y$t};ao(Object.values(q$t).filter(e=>"style"in e).map(e=>e.style));ao(Object.values(pEe));const zp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var G$t=(e,t)=>{function n(r){var o,i;if(r.nodeType===zp.BOOLEAN_TYPE&&!W$t.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const K$t=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var Z$t=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const l=i.snapshotItem(a),u=l.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=l.parentNode)==null||n.replaceChild(d,l)}else(r=l.parentNode)==null||r.removeChild(l)}const s=t.evaluate(K$t.join("|"),t,null,zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const l=s.snapshotItem(a);l&&((o=l.parentNode)==null||o.removeChild(l))}return t};const X$t=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,Q$t=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],J$t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],eRt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function tRt(e){return X$t.test(e)}var nRt=(e,t)=>{var n;if(!tRt(e))return t;const r=t.evaluate(Q$t.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(J$t.join("|"),t,null,zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=eRt[s.className],l=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(l),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},rRt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,zp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,zp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},oRt=[G$t,nRt,rRt,Z$t];function iRt(e){const t=L$t(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Er(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function sRt(e,t){const n=t(aRt(e));return oRt.forEach(r=>{r(e,n)}),n}function aRt(e){return e.trim()}function lRt(){if(dEe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function cRt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),gE(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function uRt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function dRt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function oX(e){return[""," "].includes(e)}function fRt(e){return e.forEach(t=>{gE(t)&&t.children.forEach((n,r)=>{if(!ov(n))return;const o=uRt(t,r),i=dRt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&ov(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&ov(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Yt(i.marks,n.marks)&&oX(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Yt(o.marks,n.marks)&&oX(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function hRt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!gE(o[r-1])&&gE(i))return i.children.push(n),t;const s={...fs,children:[n]};return t.push(s),t},[])}function pRt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function ov(e){return e._type==="span"}function iX(e){return e._type==="block"}function sX(e){return e._type==="__decorator"}function aX(e){return e._type==="__annotation"}function Qf(e){return e.nodeType===1}function mRt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function gRt(e,t){return[{deserialize(n){if(Er(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Er(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...K2,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Er(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...K2,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Er(n)!=="blockquote")return;const o={...vE,...bE};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const l=n.ownerDocument.createElement("span");l.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{l.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&l.appendChild(n.ownerDocument.createTextNode("\r")),i.push(l)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...vE,...bE},i=Er(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Er(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=fs),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in hEe)))return r(n.childNodes)}},{deserialize(n,r){if(Er(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in yE)))return r(n.childNodes)}},{deserialize(n){if(Er(n)==="br")return{...K2,text:`
`}}},{deserialize(n,r,o){const i=Er(n),s=i?mEe[i]:void 0,a=Er(n.parentNode)||"";if(!s||!n.parentNode||!yE[a])return;const l=mRt(a,t.enabledListTypes);return l?(s.listItem=l,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=pEe[Er(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Er(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=Qf(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:KR(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const gEe=Object.keys(yE);function vRt(e){const t=Qf(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function yRt(e){const t=Qf(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function lX(e){return Qf(e)&&!!e.getAttribute("data-is-google-docs")}function bRt(e){const t=Er(e.parentNode);if(!(t&&!gEe.includes(t)))return Er(e.parentNode)==="ul"?"bullet":"number"}function xRt(e){let t=0;if(Er(e)==="li"){let n=e.parentNode;for(;n;){const r=Er(n);r&&gEe.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const wRt={...vE,...bE};function CRt(e,t){const n=Er(e.firstChild),r=n&&wRt[n];return!r||!t.includes(r.style)?Lv:r.style}function _Rt(e,t){return[{deserialize(n){if(Qf(n)&&Er(n)==="span"&&lX(n)){const r={...K2,marks:[],text:n.textContent};return yRt(n)&&r.marks.push("strong"),vRt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Er(n)==="li"&&lX(n))return{...fs,listItem:bRt(n),level:xRt(n),style:CRt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function SRt(e){const t=Qf(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function ERt(e){const t=Qf(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function kRt(e){return Qf(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function jRt(){return[{deserialize(e,t){if(Er(e)==="p"&&kRt(e))return{...fs,listItem:SRt(e),level:ERt(e),style:Lv,children:t(e.childNodes)}}}]}function TRt(e,t){return[...jRt(),..._Rt(e,t),...gRt(e,t)]}var ARt=Object.defineProperty,DRt=(e,t,n)=>t in e?ARt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yc=(e,t,n)=>(DRt(e,typeof t!="symbol"?t+"":t,n),n);class IRt{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yc(this,"blockContentType"),Yc(this,"rules"),Yc(this,"parseHtml"),Yc(this,"_markDefs",[]),Yc(this,"deserialize",a=>{this._markDefs=[];const{parseHtml:l}=this,u=l(a),d=Array.from(u.childNodes),f=fRt(cRt(hRt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>_n(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find($9);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f}),Yc(this,"deserializeElements",function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=[];return a.forEach(u=>{l=l.concat(n.deserializeElement(u))}),l}),Yc(this,"deserializeElement",a=>{var l,u;const d=m=>{if(pRt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),y=dEe(g);if(y!=="array"&&y!=="object"&&y!=="null"&&y!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:sX(g)?p=this.deserializeDecorator(g):aX(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&iX(g)&&"listItem"in g){let x=(l=a.parentNode)==null?void 0:l.parentNode;for(;x&&Er(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&iX(g)&&g.style==="blockquote"&&g.children.forEach((x,b)=>{ov(x)&&x.text==="\r"&&(x.text=`

`,(b===0||b===g.children.length-1)&&g.children.splice(b,1))});break}}return p||d(a.childNodes)||[]}),Yc(this,"deserializeDecorator",a=>{const{name:l}=a,u=d=>{if(sX(d))return this.deserializeDecorator(d);if(ov(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])}),Yc(this,"deserializeAnnotation",a=>{const{markDef:l}=a;this._markDefs.push(l);const u=d=>{if(aX(d))return this.deserializeAnnotation(d);if(ov(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])});const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=TRt(t,iRt(t));this.rules=[...o,...i];const s=r.parseHtml||lRt();this.blockContentType=t,this.parseHtml=a=>sRt(a,s).body}}function tx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:KR(12)};const n={_key:KR(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const l=s[s.length-1];return l&&dP(a)&&dP(l)&&Yt(l.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(l.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),dP(s)&&(s.marks?i&&(s.marks=s.marks.filter(l=>{var u;const d=i.includes(l),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===l);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function cX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new IRt(t,n).deserialize(e).map(o=>tx(o))}function uX(e){return x8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function dX(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(vEe);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const l=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:PRt(o),decorators:ORt(a),lists:$Rt(o),block:o,span:a,portableText:e,inlineObjects:l,blockObjects:u,annotations:a.annotations}}function PRt(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function ORt(e){return e.decorators}function $Rt(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="list");if(!r)throw new Error("A field with name 'list' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function vEe(e){return e.type?vEe(e.type):e.name==="block"?e:null}const ZR="sanity-pte:";dy(ZR);function Vr(e){const t="".concat(ZR).concat(e);return dy&&dy.enabled(t)?dy(t):dy(ZR)}const xE=()=>kw(12),yEe=h.createContext(xE),RRt=()=>{const e=h.useContext(yEe);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},wE=new WeakMap,Z2=new WeakMap,a_=new WeakMap,A1=new WeakMap,D1=new WeakMap,I1=new WeakMap,XR=new WeakMap,ya=new WeakMap,CE=new WeakMap;function MRt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function QR(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function jw(e){const[t,n]=e;return[t,n]}function fX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,l=1;for(let u=0;u!==-1;){const d=n.substring(s-l);if(u=r.indexOf(d),u===-1)return a;l+=u,(u===0||n.substring(s-l)===r.substring(0,l))&&(a=l,l++)}return a}function R9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function IT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function bEe(e){let t=e.map(f=>jw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,l=0,u=0,d=0;for(;s<t.length;)t[s][0]===vt?(r[o++]=s,a=u,l=d,u=0,d=0,i=t[s][1]):(t[s][0]===qn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[In,i]),t[r[o-1]+1][0]=qn,o--,o--,s=o>0?r[o-1]:-1,a=0,l=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=PT(t)),t=xEe(t),s=1;s<t.length;){if(t[s-1][0]===In&&t[s][0]===qn){const f=t[s-1][1],p=t[s][1],m=fX(f,p),v=fX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[vt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[vt,f.substring(0,v)]),t[s-1][0]=qn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=In,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const hX=/[^a-zA-Z0-9]/,pX=/\s/,mX=/[\r\n]/,FRt=/\n\r?\n$/,LRt=/^\r?\n\r?\n/;function xEe(e){const t=e.map(o=>jw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),l=s.match(hX),u=a.match(hX),d=l&&s.match(pX),f=u&&a.match(pX),p=d&&s.match(mX),m=f&&a.match(mX),v=p&&o.match(FRt),g=m&&i.match(LRt);return v||g?5:p||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===vt&&t[r+1][0]===vt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=IT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let l=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,l=o,u=i,d=s)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function PT(e){let t=e.map(u=>jw(u));t.push([vt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case qn:o++,s+=t[n][1],n++;break;case In:r++,i+=t[n][1],n++;break;case vt:r+o>1?(r!==0&&o!==0&&(a=R9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===vt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[vt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=IT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[In,i]),n++),s.length&&(t.splice(n,0,[qn,s]),n++),n++):n!==0&&t[n-1][0]===vt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===vt&&t[n+1][0]===vt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=PT(t)),t}function BRt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function wEe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>jw(p)),r=!1;const o=[];let i=0,s=null,a=0,l=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===vt?(n[a][1].length<t&&(d||f)?(o[i++]=a,l=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===In?f=!0:d=!0,s&&(l&&u&&d&&f||s.length<t/2&&BRt(l,u,d,f)===3)&&(n.splice(o[i-1],0,[In,s]),n[o[i-1]+1][0]=qn,i--,s=null,l&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=PT(n)),n}function NRt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,l=new Array(a),u=new Array(a);for(let y=0;y<a;y++)l[y]=-1,u[y]=-1;l[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&l[b-1]<l[b+1]?w=l[b+1]:w=l[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return gX(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&l[_]!==-1){const S=l[_],E=s+S-_;if(w=r-w,S>=w)return gX(e,t,S,E,n)}}}}return[[In,e],[qn,t]]}function gX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=Vp(i,s,{checkLines:!1,deadline:o}),d=Vp(a,l,{checkLines:!1,deadline:o});return u.concat(d)}function zRt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=vX(r,o,Math.ceil(r.length/4)),s=vX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);const p=a[4];return[l,u,d,f,p]}function vX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,l,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=R9(e.slice(n),t.slice(o)),f=IT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),l=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",l||"",u||"",i||""]:null}function VRt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function HRt(e,t){const n=[],r={};n[0]="";function o(l){let u="",d=0,f=-1,p=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function URt(e,t,n){let r=e,o=t;const i=HRt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Vp(r,o,{checkLines:!1,deadline:n.deadline});VRt(a,s),a=bEe(a),a.push([vt,""]);let l=0,u=0,d=0,f="",p="";for(;l<a.length;){switch(a[l][0]){case qn:d++,p+=a[l][1];break;case In:u++,f+=a[l][1];break;case vt:if(u>=1&&d>=1){a.splice(l-u-d,u+d),l=l-u-d;const m=Vp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(l,0,m[v]);l+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return a.pop(),a}function WRt(e,t,n){let r;if(!e)return[[qn,t]];if(!t)return[[In,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[qn,o.substring(0,s)],[vt,i],[qn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=In,r[2][0]=In),r;if(i.length===1)return[[In,e],[qn,t]];const a=zRt(e,t);if(a){const l=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Vp(l,d,n),v=Vp(u,f,n);return m.concat([[vt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?URt(e,t,n):NRt(e,t,n.deadline)}const In=-1,qn=1,vt=0;function M9(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Vp(e,t,qRt(n||{}));return KRt(r),r}function Vp(e,t,n){let r=e,o=t;if(r===o)return r?[[vt,r]]:[];let i=R9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=IT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let l=WRt(r,o,n);return s&&l.unshift([vt,s]),a&&l.push([vt,a]),l=PT(l),l}function YRt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function qRt(e){return{checkLines:!0,deadline:YRt(e.timeout||1),...e}}function l_(e,t,n){return n===1?e+t:t+e}function c_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function GRt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function yX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===qn){o===null&&(o=s);continue}else if(u===In){i===null&&(i=s);continue}else if(u===vt){if(o===null&&i===null){const[f,p]=c_(e[t][1],n);e[t][1]=f,e[s][1]=l_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&GRt(e,o,i,n)){const[u,d]=c_(e[o][1],r),[f]=c_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=l_(e[t][1],d,n);return}const[a,l]=c_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[qn,l]),i!==null&&i>=s&&i++):e[o][1]=l_(e[o][1],l,r),i===null?e.splice(s,0,[In,l]):e[i][1]=l_(e[i][1],l,r)}function KRt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];MRt(i)&&n===vt&&yX(e,t,1),QR(o)&&n===vt&&yX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const ZRt={threshold:.5,distance:1e3};function XRt(e){return{...ZRt,...e}}const QRt=32;function JRt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>QRt)throw new Error("Pattern too long for this browser.");const o=XRt(r),i=eMt(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,l=e.indexOf(t,n);l!==-1&&(a=Math.min(s(0,l),a),l=e.lastIndexOf(t,n+t.length),l!==-1&&(a=Math.min(s(0,l),a)));const u=1<<t.length-1;l=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,l=b-1,l>n)g=Math.max(1,2*n-l);else break}}if(s(v+1,n)>a)break;m=x}return l}function eMt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function fP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return JRt(e,t,r)}function _E(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function F9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==qn&&(t[n]=e[n][1]);return t.join("")}function CEe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==In&&(t[n]=e[n][1]);return t.join("")}function Hd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=_Ee(r)}return t}function tMt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const l=t.codePointAt(o);if(typeof l>"u")return o;r+=_Ee(l),l>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(l=>jw(l)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function _Ee(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const jd=32,L9=4,nMt={margin:4};function hP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...nMt,...e}}function rMt(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=M9(e,t,{checkLines:!0});return r.length>2&&(r=bEe(r),r=wEe(r)),pP(e,r,hP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return pP(F9(e),e,hP(n));if(typeof e=="string"&&t&&Array.isArray(t))return pP(e,t,hP(n));throw new Error("Unknown call format to make()")}function pP(e,t,n){if(t.length===0)return[];const r=[];let o=_E(0,0),i=0,s=0,a=0,l=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=Hd(g);switch(!i&&v!==vt&&(o.start1=s,o.start2=a,o.utf8Start1=l,o.utf8Start2=u),v){case qn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case In:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case vt:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(bX(o,d,n),r.push(o),o=_E(-1,-1),i=0,d=f,s=a,l=u);break;default:throw new Error("Unknown diff type")}v!==qn&&(s+=y,l+=x),v!==In&&(a+=y,u+=x)}return i&&(bX(o,d,n),r.push(o)),r}function bX(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<jd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&QR(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([vt,s]);const a=s.length,l=Hd(s);let u=e.start2+e.length1+o;u<t.length&&QR(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([vt,d]);const f=d.length,p=Hd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function oMt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case qn:n+=s.length;break;case In:r+=s.length;break;case vt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function xX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==qn&&(n+=e[s][1].length),e[s][0]!==In&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===In?i:i+(t-o)}function iMt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==vt)i.unshift([vt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==vt)i.push([vt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function sMt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L9;const n=jd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const l=_E(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Hd(a);l.length1=a.length,l.utf8Length1=p,l.length2=a.length,l.utf8Length2=p,l.diffs.push([vt,a])}for(;o.diffs.length!==0&&l.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Hd(m);if(p===qn){l.length2+=m.length,l.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&l.diffs.push(g),u=!1}else p===In&&l.diffs.length===1&&l.diffs[0][0]===vt&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=v,i+=m.length,u=!1,l.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-l.length1-t),v=Hd(m),l.length1+=m.length,l.utf8Length1+=v,i+=m.length,p===vt?(l.length2+=m.length,l.utf8Length2+=v,s+=m.length):u=!1,l.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=CEe(l.diffs),a=a.substring(a.length-t);const d=F9(o.diffs).substring(0,t),f=Hd(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===vt?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([vt,d])),u||e.splice(++r,0,l)}}}function SEe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=tMt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||L9,s=n.deleteThreshold||.4,a=iMt(o,i);r=a+r+a,sMt(o,i);let l=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+l,p=F9(o[d].diffs);let m,v=-1;if(p.length>jd?(m=fP(r,p.substring(0,jd),f),m!==-1&&(v=fP(r,p.substring(p.length-jd),f+p.length-jd),(v===-1||m>=v)&&(m=-1))):m=fP(r,p,f),m===-1)u[d]=!1,l-=o[d].length2-o[d].length1;else{u[d]=!0,l=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+jd),p===g)r=r.substring(0,m)+CEe(o[d].diffs)+r.substring(m+p.length);else{let y=M9(p,g,{checkLines:!1});if(p.length>jd&&oMt(y)/p.length>s)u[d]=!1;else{y=xEe(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==vt&&(b=xX(y,x)),C[0]===qn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===In&&(r=r.substring(0,m+b)+r.substring(m+xX(y,x+C[1].length))),C[0]!==In&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function aMt(e){return e.map(lMt).join("")}function lMt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const l=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case qn:u="+";break;case In:u="-";break;case vt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const cMt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function B9(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(cMt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=_E(u_(o[1]),u_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=u_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=u_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let l;try{l=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Hd(l)-l.length;if(a==="-")i.diffs.push([In,l]),i.length1-=u;else if(a==="+")i.diffs.push([qn,l]),i.length2-=u;else if(a===" ")i.diffs.push([vt,l]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(l));r++}}return t}function u_(e){return parseInt(e,10)}function EEe(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function wX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=rMt(e,t),o=aMt(r);return{type:"diffMatchPatch",path:n,value:o}}function ru(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function sl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Vs(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const uMt=[];function iv(e,t){const n=t[e._key];return n&&Yt(e,n)?n:(t[e._key]=e,e)}function bc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,l=[{_key:"".concat(s,"-void-child"),_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:y,_key:x,...b}=g;return y!=="span"?(f=!0,iv({_type:y,_key:x,children:l,value:b,__inline:!0},r)):g});return!p&&!m&&!f&&Pe.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=uMt),iv({_type:i,_key:s,...a,children:v},r))}return iv({_type:i,_key:s,children:l,value:a},r)}):[]}function gr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const l=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...y}=u;return iv({...y,...f,_key:p,_type:m},n)}return u});return a?iv({...r,children:l,_key:o,_type:i},n):r}const s="value"in r&&r.value;return iv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function SE(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Pe.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&Se.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const zh=Vr("operationToPatches");zh.enabled=!1;function dMt(e){const t=e.block.name;function n(d,f,p){zh.enabled&&zh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],y=p[f.path[0]],x=d.isTextBlock(y)&&y.children[f.path[1]],b=d.isTextSpan(x)?x.text:"",w=wX(b,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const y=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(b)&&b.text,C=wX(w||"",g.text,y);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=b2e({...d.children[f.path[0]],...f.newProperties},x2e);return[sl(gr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,y=[];return Object.keys(f.newProperties).forEach(x=>{const b=Nn(f.newProperties,x);y.push(sl(b,[{_key:v},"children",{_key:g},x]))}),y}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",y=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:y==null?void 0:y._key;return x?[ru([gr([f.node],t)[0]],g,[{_key:x}])]:[EEe(p,[]),ru([gr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",y={...f.node};!y._type&&Se.isText(y)&&(y._type="span",y.marks=[]);const b=gr([{_key:"bogus",_type:t,children:[y]}],t)[0].children[0];return[ru([b],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return zh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const y=gr([d.children[f.path[0]+1]],t)[0];y&&(m.push(ru([y],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(b=>{const w=[{_key:g._key},"children",{_key:b._key}];m.push(Vs(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const y=gr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(ru(y,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(sl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Vs([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Vs([{_key:m._key},"children",{_key:v._key}])]:(zh("Span not found in editor trying to remove node"),[])}else return zh("Not creating patch inside object block"),[]}function l(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const y=gr([d.children[f.path[0]-1]],t)[0];m.push(sl(y,[{_key:y._key}])),m.push(Vs([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const y=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(sl(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),y&&m.push(Vs([{_key:v._key},"children",{_key:y._key}])))}else zh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const y=f.path[0]>f.newPath[0]?"before":"after";m.push(Vs([{_key:v._key}])),m.push(ru([gr([v],t)[0]],y,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const y=v.children[f.path[1]],x=g.children[f.newPath[1]],b=f.newPath[1]===g.children.length?"after":"before",w=gr([v],t)[0].children[f.path[1]];m.push(Vs([{_key:v._key},"children",{_key:y._key}])),m.push(ru([w],b,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:l,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function CX(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),l=Array.isArray(o.children)&&o.children[a[1]];return l&&(s=["children",{_key:l._key}]),s?[...i,...s]:i}function _X(e,t){if(!t)return[];const[n,r]=Array.from(M.nodes(t,{at:[],match:s=>Pr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Pe.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Yt([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Pe.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function tp(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&CX(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&CX(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function X2(e,t){if(!e||!t)return null;const n={path:_X(e.anchor,t),offset:e.anchor.offset},r={path:_X(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function EE(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const d_=Vr("API:editable");function fMt(e,t,n){return function(o){return e.setEditable({focus:()=>{if(!o.selection){const i={path:[0,0],offset:0};ae.select(o,{focus:i,anchor:i}),o.onChange()}ge.focus(o)},blur:()=>{ge.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...M.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=X2(i,o);s?ae.select(o,s):ae.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=je.descendant(o,o.selection.focus.path.slice(0,1));if(i)return gr([i],t.block.name,ya.get(o))[0]}},focusChild:()=>{if(o.selection){const i=je.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return gr([i],t.block.name,ya.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[l]=Array.from(M.nodes(o,{at:o.selection.focus.path.slice(0,1)}))[0]||[void 0];if(!l)throw new Error("No focus block");const d=bc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0];return M.insertNode(o,d),o.onChange(),((a=tp(gr(o.children,t.block.name,ya.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const l=bc([{_key:n(),_type:i.name,...s||{}}],e)[0];return M.insertNode(o,l),o.onChange(),((a=tp(gr(o.children,t.block.name,ya.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=X2({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,l]=M.node(o,s.focus.path.slice(0,1));if(a&&l&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[gr([a],t.block.name)[0],[{_key:a._key}]];const u=gr([a],t.block.name,ya.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(M.nodes(o,{at:[],match:l=>l._key===i._key})||[])[0]||[void 0];s=ge.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=M.nodes(o,{at:o.selection,match:l=>Se.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0});for(const[l,u]of a){const[d]=M.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{Se.isText(l)&&l.marks&&Array.isArray(l.marks)&&l.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[l]=M.node(o,a.focus,{depth:1});if(Pe.isElement(l)&&l._type===t.block.name){const u=n();if(o.isTextBlock(l)){ae.setNodes(o,{markDefs:[...l.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=M.node(o,a.focus,{depth:2});if(o.selection){M.withoutNormalizing(o,()=>{ae.setNodes(o,{},{match:Se.isText,split:!0}),o.selection&&Se.isText(d)&&(ae.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),M.normalize(o),o.onChange();const f=tp(gr(o.children,t.block.name,ya.get(o)),o.selection,t);if(f&&typeof l._key=="string")return M.withoutNormalizing(o,()=>{o.selection&&(ae.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:l._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=X2(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){d_("Deleting content in selection"),ae.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(d_("Deleting blocks touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Pe.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(d_("Deleting children touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Pe.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(d_("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,l]=M.node(o,s,{depth:2});Se.isText(a)&&a.marks&&typeof a.text=="string"&&(ae.select(o,l),s=o.selection)}M.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;ae.setNodes(o,{},{match:Se.isText,split:!0}),o.onChange(),[...M.nodes(o,{at:s,match:l=>Se.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0})].forEach(l=>{let[u,d]=l;var f;const[p]=M.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(Se.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];ae.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),M.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=CE.get(o.selection);if(s)return s;i=tp(gr(o.children,t.block.name,ya.get(o)),o.selection,t),CE.set(o.selection,i)}return i},getValue:()=>gr(o.children,t.block.name,ya.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function hMt(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const kE=new WeakMap;function nx(e,t){const n=kEe(e);kE.set(e,!0),t(),kE.set(e,n)}function kEe(e){return kE.get(e)}function pMt(e,t){return function(r){kE.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!kEe(r)||!("_key"in s.node);M.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,l]=s;if(Pe.isElement(a)&&a._type===e.block.name){a._key||ae.setNodes(r,{_key:t()},{at:l});for(const[u,d]of je.children(r,l))if(!u._key){ae.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const jE=new WeakMap;function JR(e,t){const n=jEe(e);jE.set(e,!1),t(),jE.set(e,n)}function jEe(e){return jE.get(e)}const SX="before",EX="after";function mMt(e,t,n){if(t!==SX&&t!==EX)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(SX," or ").concat(EX));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=kX(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...kX(s)),d}function kX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const jX=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function gMt(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function vMt(e,t){if(typeof t=="number")return t;const n=O9(e,t);return n===-1?!1:n}function yMt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!jX(t.value,"from")||!jX(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return gMt(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=vMt(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return mMt(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=N9(n[i],{...t,path:o}),n}function bMt(e,t){const n=sEe(e);if(t.path.length===0){if(t.type==="set"){if(!Lx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?_i(n,r):(n[r]=N9(n[r],{...t,path:o}),n)}const TEe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},xMt=Object.keys(TEe);function wMt(e,t){if(!xMt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return TEe[t.type](e,t.value)}const AEe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=SEe(B9(t),e,{allowExceedingIndices:!0});return n}},CMt=Object.keys(AEe);function _Mt(e,t){if(!CMt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=AEe[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function SMt(e,t){return t.reduce(N9,e)}function EMt(e,t){return Array.isArray(e)?yMt(e,t):nT(e)?_Mt(e,t):Lx(e)?bMt(e,t):wMt(e,t)}function N9(e,t){return EMt(e,t)}const br=Vr("applyPatches"),z9=br.enabled&&!0;function kMt(e){let t;return function(n,r){let o=!1;z9&&(br(`

NEW PATCH =============================================================`),br(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=TMt(n,r,e);break;case"unset":o=DMt(n,r,t);break;case"set":o=AMt(n,r);break;case"diffMatchPatch":o=jMt(n,r);break;default:br("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function jMt(e,t){const{block:n,child:r,childPath:o}=OT(e,t.path);if(!n)return br("Block not found"),!1;if(!r||!o)return br("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!Se.isText(r))return!1;const s=B9(t.value),[a]=SEe(s,r.text,{allowExceedingIndices:!0}),l=wEe(M9(r.text,a),5);hs(e,"before");let u=0;for(const[d,f]of l)d===qn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===In?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===vt&&(u+=f.length);return hs(e,"after"),!0}function TMt(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=OT(e,t.path);if(!r||!i)return br("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return br("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=bc(m,{schemaTypes:n},XR.get(e)),y=i[0],x=v==="after"?y+1:y;return br("Inserting blocks at path [".concat(x,"]")),hs(e,"before"),ae.insertNodes(e,g,{at:[x]}),hs(e,"after"),!0}const{items:a,position:l}=t;if(!o||!s)return br("Child not found"),!1;const u=r&&bc([{...r,children:a}],{schemaTypes:n},XR.get(e)),d=s[1],f=l==="after"?d+1:d,p=[s[0],f];return br("Inserting children at path ".concat(p)),hs(e,"before"),u&&Pe.isElement(u[0])&&ae.insertNodes(e,u[0].children,{at:p}),hs(e,"after"),!0}function AMt(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=OT(e,t.path);if(!r)return br("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return br("Ignoring setting void value"),!1;if(hs(e,"before"),a&&i&&s){if(Se.isText(n)&&Se.isText(i)){const l=i.text;n.text!==l&&(br("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:l}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else br("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Pe.isElement(r)&&t.path.length===1&&o){br("Setting block property");const{children:l,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(l)&&l.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const l=SMt([r.value],[t])[0];return ae.setNodes(e,{...r,value:l},{at:o}),!0}return hs(e,"after"),!0}function DMt(e,t,n){if(t.path.length===0){br("Removing everything"),hs(e,"before");const a=e.selection;return ae.deselect(e),e.children.forEach((l,u)=>{ae.removeNodes(e,{at:[u]})}),ae.insertNodes(e,e.createPlaceholderBlock()),a&&ae.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),hs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=OT(e,t.path);if(t.path.length===1){if(!r||!o)return br("Block not found"),!1;const a=o[0];return br("Removing block at path [".concat(a,"]")),hs(e,"before"),ae.removeNodes(e,{at:[a]}),hs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return br("Child not found"),!1;const a=s[1];return br("Unsetting child at path ".concat(JSON.stringify(s))),hs(e,"before"),z9&&br("Removing child at path ".concat(JSON.stringify([s,a]))),ae.removeNodes(e,{at:s}),hs(e,"after"),!0}return!1}function DEe(e){return typeof e=="object"&&"_key"in e}function hs(e,t){z9&&(br("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),br("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function IMt(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=DEe(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function OT(e,t){const{block:n,path:r}=IMt(e,t);if(!(Pe.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const l=DEe(t[2])?s._key===t[2]._key:a===t[2];return l&&(o=a),l});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function IEe(e,t){const n=PEe(e)||!1;wE.set(e,!0),t(),wE.set(e,n)}function PEe(e){return wE.get(e)}function PMt(e){return Z2.get(e)}const Ho=Vr("plugin:withUndoRedo"),TX=Ho.enabled&&!1,sv=new WeakMap,mP=new WeakMap,OMt=1e3,OEe=e=>{const t=sv.get(e);return t===void 0?!0:t},$Mt=e=>(mP.get(e)||mP.set(e,[]),mP.get(e)||[]);function RMt(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=gr(o.children,r.name);const s=$Mt(o);n&&o.subscriptions.push(()=>{Ho("Subscribing to patches");const l=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Ho("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),sv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Ho("Unsubscribing to patches"),l.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=l=>{if(t){a(l);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=FMt(l,m),g=OEe(o);let y=!0;if(g){if(p?u.length===0&&(y=MMt(l,m)||v):y=!1,p&&y)p.operations.push(l);else{const x={operations:[...o.selection===null?[]:[BMt(o)],l],timestamp:new Date};f.push(x),Ho("Created new undo step",p)}for(;f.length>OMt;)f.shift();LMt(l)&&(d.redos=[])}a(l)},o.undo=()=>{if(t)return;const{undos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(Ho("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=_n(f.map(m=>AX(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),EE(!!o.selection);try{M.withoutNormalizing(o,()=>{rx(o,()=>{f.map($g.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Ho("Could not perform undo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},sv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:l}=o.history;if(l.length>0){const u=l[l.length-1];if(Ho("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=_n(f.map(m=>AX(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),EE(!!o.selection);try{M.withoutNormalizing(o,()=>{rx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Ho("Could not perform redo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},sv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function AX(e,t,n,r,o){TX&&(Ho("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Ho("Operation ".concat(JSON.stringify(n))),Ho("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Yt({_key:a._key},t.path[0]));return Ho("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[DX(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Yt({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Ho("Skipping transformation that targeted removed block"),[]):(TX&&(Ho("Selection ".concat(JSON.stringify(e.selection))),Ho("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[DX(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Ho("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=NMt(e,i);return!s||!Yt({_key:s._key},t.path[0])?[i]:(B9(t.value).forEach(l=>{var u,d,f,p;let m=0,v=l.utf8Start1;const{diffs:g}=l;if(g.forEach((y,x)=>{const[b,w]=y;b===qn?(m+=w.length,v+=w.length):b===In?(m-=w.length,v-=w.length):b===vt&&(g.slice(x).every(C=>{let[_]=C;return _===vt})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const y=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,b=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(y&&x||b&&w)&&([y,x,b,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),y&&x&&(i.properties={focus:y,anchor:x}),b&&w&&(i.newProperties={focus:b,anchor:w}))}}),[i])}return[i]}function DX(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const l=[a.path[0]+t,...a.path.slice(1)];a.path=l}if(a.type==="set_selection"){const l=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(l&&u||d&&f)&&([l,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),l&&u&&(a.properties={focus:l,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const MMt=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&te.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&te.equals(e.path,t.path)),FMt=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),LMt=e=>e.type!=="set_selection";function rx(e,t){const n=OEe(e);sv.set(e,!1),t(),sv.set(e,n)}function BMt(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function NMt(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const f_=Vr("plugin:withPatches");function zMt(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=kMt(i);return function(u){wE.set(u,!1),jE.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;IEe(u,()=>{M.withoutNormalizing(u,()=>{JR(u,()=>{rx(u,()=>{nx(u,()=>{v.forEach(y=>{(y.type==="insert"||y.type==="unset")&&EE(!!u.selection),f_.enabled&&f_("Handling remote patch ".concat(JSON.stringify(y))),g=a(u,y)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const y=g.filter(x=>x.origin!=="local");y.length!==0&&(f=f.concat(y),p())};return n&&u.subscriptions.push(()=>{f_("Subscribing to patches$");const v=n.subscribe(m);return()=>{f_("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const y=SE(s,i);d(v);const x=SE(u.children,i);if(!jEe(u))return u;switch(y&&!x&&v.type!=="set_selection"&&g.push(ru(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!y&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Vs([])],t.next({type:"unset",previousValue:gr(s,i.block.name,ya.get(u))})),y&&g.length>0&&(g=[EEe([],[]),...g]),g.length>0&&g.forEach(b=>{t.next({type:"patch",patch:{...b,origin:"local"}})}),u},u}}const VMt=Vr("plugin:withPlaceholderBlock");function HMt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(VMt("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const h_=Vr("plugin:withPortableTextBlockStyle");function UMt(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!te.equals(s,a.path)){const[l]=M.node(r,[a.path[0]+1,0]);if(Se.isText(l)&&l.text===""){h_("Normalizing split node to ".concat(t," style"),a),ae.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...M.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...M.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[l,u]=a;r.isTextBlock(l)&&l.style===i?(h_("Unsetting block style '".concat(i,"'")),ae.setNodes(r,{...l,style:t},{at:u})):(i?h_("Setting style '".concat(i,"'")):h_("Setting default style",t),ae.setNodes(r,{...l,style:i||t},{at:u}))}),r.onChange()},r}}const gh=Vr("plugin:withPortableTextLists"),gP=10;function WMt(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(gh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(gh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...M.nodes(n,{at:n.selection,match:i=>Pe.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:l,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};gh("Unsetting list '".concat(r,"'")),ae.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...M.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;gh("Setting list '".concat(r,"'")),ae.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...M.nodes(n,{at:n.selection,match:o=>Pe.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&Se.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Pe.isElement(i)&&(gh("Unset list"),ae.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...M.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let l=s.level||1;r?(l--,gh("Decrementing list level",Math.min(gP,Math.max(1,l)))):(l++,gh("Incrementing list level",Math.min(gP,Math.max(1,l)))),ae.setNodes(n,{level:Math.min(gP,Math.max(1,l))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...M.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const vh=Vr("plugin:withPortableTextMarkModel");function YMt(e,t){return function(i){const{apply:s,normalizeNode:a}=i,l=e.decorators.map(d=>d.value),u=()=>{i.selection&&(ae.select(i,{...i.selection}),i.selection={...i.selection});const d=tp(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=Se.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(vh("Adding .marks to span node"),ae.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[y,x]=M.node(i,[g.path[0]-1]);if(vh("Copying markDefs over to merged block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[],w=ao([...b,...g.properties.markDefs]);Yt(w,y.markDefs)||(ae.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Pe.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[y,x]=M.node(i,[g.path[0]+1]);if(vh("Copying markDefs over to split block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[];ae.setNodes(i,{markDefs:ao([...b,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[y,x]=M.node(i,[g.path[0]+1,0]);Se.isText(y)&&y.text===""&&Array.isArray(y.marks)&&y.marks.length>0&&(ae.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[y,x]=M.node(i,[g.path[0]]);i.isTextBlock(y)&&y.children.length===1&&y.markDefs&&y.markDefs.length>0&&Se.isText(y.children[0])&&y.children[0].text===""&&(!y.children[0].marks||y.children[0].marks.length===0)&&(ae.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(ae.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=M.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!l.includes(v)))){const[v]=Array.from(M.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(Se.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),ae.splitNodes(i,{match:Se.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...M.marks(i)||{}}.marks||[]).filter(y=>l.includes(y));ae.setNodes(i,{marks:g},{at:te.next(m.focus.path)});return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){ae.setNodes(i,{},{match:Se.isText,split:!0});const f=[...M.nodes(i,{at:i.selection,match:Se.isText})];if(_n(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;M.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const y=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];ae.setNodes(i,{marks:y},{at:g,match:Se.isText,split:!0,hanging:!0})})}),M.normalize(i)}else{const f={...M.marks(i)||{}}.marks||[],p={...M.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))M.withoutNormalizing(i,()=>{ae.setNodes(i,{},{match:Se.isText,split:!0}),i.selection&&[...M.nodes(i,{at:i.selection,match:Se.isText})].forEach(m=>{let[v,g]=m;const y=i.children[g[0]];Pe.isElement(y)&&y.children.includes(v)&&ae.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),M.normalize(i);else{const p={...M.marks(i)||{}}.marks||[],m={...M.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...M.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(M.nodes(i,{match:Se.isText,at:i.selection})).forEach(p=>{const[m]=p;f=ao([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(vh("Remove mark '".concat(d,"'")),M.removeMark(i,d)):(vh("Add mark '".concat(d,"'")),M.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(M.nodes(o,{at:M.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[l]=a.length>1?M.node(o,te.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(l)){const d=l.children[u[1]];Se.isText(s)&&Se.isText(d)&&Yt(d.marks,s.marks)&&(vh("Merging spans"),ae.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=M.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,l]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>Se.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Yt(u,a.markDefs)||(vh("Removing markDef not in use"),ae.setNodes(o,{markDefs:u},{at:l}),o.onChange())}}}}const $Ee=Vr("plugin:withPortableTextSelections"),qMt=$Ee.enabled&&!1;function GMt(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const l=CE.get(o.selection);if(l)a=l;else{const u=o.children;a=tp(u,o.selection,t),CE.set(o.selection,a)}}qMt&&$Ee("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const KMt=Vr("plugin:withSchemaTypes");function ZMt(e){return function(n){n.isTextBlock=o=>Wu(o)&&o._type===e.block.name,n.isTextSpan=o=>Gs(o)&&o._type==e.span.name,n.isListBlock=o=>k$e(o)&&o._type===e.block.name,n.isVoid=o=>e.block.name!==o._type&&(e.blockObjects.map(i=>i.name).includes(o._type)||e.inlineObjects.map(i=>i.name).includes(o._type)),n.isInline=o=>e.inlineObjects.map(s=>s.name).includes(o._type)&&"__inline"in o&&o.__inline===!0;const{normalizeNode:r}=n;return n.normalizeNode=o=>{const[i,s]=o;Se.isText(i)&&s.length===2&&i._type===void 0&&(KMt("Setting span type on text node without a type"),ae.setNodes(n,{_type:"span"},{at:s})),r(o)},n}}const vP=Vr("plugin:withUtils");function XMt(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=M.node(n,r.focus,{depth:2});if(!o||!Se.isText(o)||o.text.length===0){vP("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),l=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=l.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:l.length+1);if(!(f===m||isNaN(f)||isNaN(m))){vP("pteExpandToWord: Expanding to focused word"),ae.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}vP("pteExpandToWord: Can't expand to word here")}},n}}const yP=Vr("plugin:withHotKeys"),QMt={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function JMt(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||QMt,s=()=>bc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(l){return l.pteWithHotKeys=u=>{Object.keys(i).forEach(y=>{if(y==="marks")for(const x in i[y]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Oi(x,u.nativeEvent)){u.preventDefault();const b=i[y];if(b){const w=b[x];yP("HotKey ".concat(x," to toggle ").concat(w)),l.pteToggleMark(w)}}}if(y==="custom")for(const x in i[y]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Oi(x,u.nativeEvent)){const b=i[y];if(b){const w=b[x];w(u,n)}}}});const d=Oi("enter",u.nativeEvent),f=Oi("tab",u.nativeEvent),p=Oi("shift+enter",u.nativeEvent),m=Oi("shift+tab",u.nativeEvent),v=Oi("backspace",u.nativeEvent),g=Oi("delete",u.nativeEvent);if(v&&l.selection&&l.selection.focus.path[0]>0&&ue.isCollapsed(l.selection)){const y=te.previous(l.selection.focus.path.slice(0,1)),x=je.descendant(l,y),b=je.descendant(l,l.selection.focus.path.slice(0,1));if(x&&b&&M.isVoid(l,x)&&l.selection.focus.offset===0){yP("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(l,{match:w=>w===b}),ae.select(l,y),l.onChange();return}}if(g&&l.selection&&l.selection.focus.offset===0&&ue.isCollapsed(l.selection)&&l.children[l.selection.focus.path[0]+1]){const y=je.descendant(l,te.next(l.selection.focus.path.slice(0,1))),x=l.selection.focus.path.slice(0,1),b=je.descendant(l,x);if(y&&b&&!M.isVoid(l,b)&&M.isVoid(l,y)){yP("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(l,{match:w=>w===b}),ae.select(l,x),l.onChange();return}}if((f||m)&&l.selection){const[y]=M.node(l,l.selection.focus,{depth:2}),[x]=Gs(y)?M.node(l,l.selection.focus,{depth:1}):[],b=y&&Wu(x)&&Gs(y)&&(y.marks||[]).filter(_=>(x.markDefs||[]).map(S=>S._key).includes(_)).length>0,[w]=ue.edges(l.selection),C=M.isStart(l,w,w.path);y&&Gs(y)&&(!b||C)&&l.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&l.selection){const y=l.selection.focus.path.slice(0,1),x=je.descendant(l,y);if(l.isListBlock(x)){l.pteEndList()&&u.preventDefault();return}if(l.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,b]=ue.edges(l.selection);if(M.isEnd(l,b,b.path)){M.insertNode(l,s()),u.preventDefault();return}}if(x&&M.isVoid(l,x)){M.insertNode(l,s()),u.preventDefault();return}u.preventDefault(),l.insertBreak()}if(p){u.preventDefault(),l.insertText(`
`);return}if(Oi("mod+z",u.nativeEvent)){u.preventDefault(),l.undo();return}(Oi("mod+y",u.nativeEvent)||Oi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),l.redo())},l}}function TE(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Vs([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,l)=>{if(!Lx(a))return r={patches:[Vs([l])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[sl({...a,_key:n()},[l])],description:"Block at index ".concat(l," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[sl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Vs([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Vs([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[sl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=ao(_n(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>sl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[ru([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[sl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Vs([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[sl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const Jc=Vr("plugin:withInsertData");function e4t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=l=>l.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(l,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=M.void(o,{at:f.path}),v=M.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=ge.toDOMRange(o,d);let y=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=ge.toDOMNode(o,E);j.setEndAfter(k),y=j.cloneContents()}Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(y.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=y.ownerDocument.createElement("div");x.appendChild(y),x.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(x);const b=x.innerHTML;y.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=gr(w,i),_=JSON.stringify(C),S=a(C);l.clearData(),l.setData("text/plain",S),l.setData("text/html",b),l.setData("application/json",_),l.setData("application/x-portable-text",_),Jc("text",S),l.setData("application/x-portable-text-event-origin",u||"external"),Jc("Set fragment data",_,b)},o.insertPortableTextData=l=>{var u;if(!o.selection)return!1;const d=l.getData("application/x-portable-text"),f=l.getData("application/x-portable-text-event-origin");if(Jc("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=r4t(o,bc(p,{schemaTypes:t}),n,s),v=TE(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),Jc("Invalid insert result",v),!1}return IX(o,m,t),!0}}return!1},o.insertTextOrHTMLData=l=>{var u;if(!o.selection)return Jc("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=l.getData("text/html"),f=l.getData("text/plain");if(d||f){Jc("Inserting data",l);let p,m,v;if(d)p=cX(d,t.portableText).map(y=>tx(y,{blockTypeName:i})),m=bc(p,{schemaTypes:t}),v="HTML";else{const y=n4t(f).split(/\n{2,}/).map(b=>b?"<p>".concat(b.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(y,"</body></html>");p=cX(x,t.portableText).map(b=>tx(b,{blockTypeName:i})),m=bc(p,{schemaTypes:t}),v="text"}const g=TE(p,t,n);if(!g.valid){const y=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:y,data:g}),Jc("Invalid insert result",g),!1}return Jc("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),IX(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=l=>{o.insertPortableTextData(l)||o.insertTextOrHTMLData(l)},o.insertFragmentData=l=>{const u=l.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const t4t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function n4t(e){return String(e).replace(/[&<>"'`=/]/g,t=>t4t[t])}function r4t(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const l=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(l)?[...d.marks].filter(f=>f!==l).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function IX(e,t,n){if(!e.selection)return;const[r,o]=M.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;Jc("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Yt(s,t[0].markDefs)||ae.setNodes(e,{markDefs:ao([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}SE(e.children,n)?(ae.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ae.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const PX=new WeakMap,OX=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:l,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():PX.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=dMt(l),f=pMt(l,r),p=ZMt(l),m=fMt(o,l,r),v=zMt({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:l}),g=hMt(a||-1),y=WMt(l),x=RMt({readOnly:s,patches$:i,blockSchemaType:l.block}),b=YMt(l,u),w=UMt(l),C=HMt({keyGenerator:r,schemaTypes:l}),_=XMt(),S=GMt(u,l);return n.destroy=()=>{const E=PX.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(b(w(_(C(y(S(m(n))))))))),subscribe:()=>C2e}:{editor:p(f(b(w(y(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},bP=Vr("component:PortableTextEditor:SlateContainer");function o4t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{bP("Creating new Slate editor instance");const{editor:u,subscribe:d}=OX(y$t(qOt()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return ya.set(u,{}),XR.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{bP("Re-initializing plugin chain"),OX(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const l=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{bP("Destroying Slate editor"),s.destroy()},[s]),c.jsx(g$t,{editor:s,initialValue:l,children:e.children})}const REe=h.createContext(null),P0=()=>{const e=h.useContext(REe);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},MEe=h.createContext(null),fo=()=>{const e=h.useContext(MEe);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},i4t=h.createContext(void 0),FEe=h.createContext(!1),s4t=()=>{const e=h.useContext(FEe);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},no=Vr("hook:useSyncValue"),$X=new WeakMap;function a4t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=DT(),l=h.useRef(),u=h.useCallback(()=>{const f=$X.get(t);if(s.current===f){no("Value is the same object as previous, not need to sync");return}l.current&&f&&(no("Updating the value debounced"),l.current(f))},[t]),d=h.useCallback(Bx(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{$X.set(t,p);const m=PMt(a),v=PEe(a);if(!n){if(m){no("Has local changes, not syncing value right now"),d();return}if(v){no("Has remote changes, not syncing value right now"),d();return}}let g=!1,y=!0;const x=!!a.selection;if((!p||p.length===0)&&(no("Value is empty"),M.withoutNormalizing(a,()=>{rx(a,()=>{JR(a,()=>{x&&ae.deselect(a);const b=a.children.length;a.children.forEach((w,C)=>{ae.removeNodes(a,{at:[b-1-C]})}),ae.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&ae.select(a,[0,0])})})}),g=!0),p&&p.length>0){const b=bc(p,{schemaTypes:i});M.withoutNormalizing(a,()=>{IEe(a,()=>{rx(a,()=>{JR(a,()=>{const w=a.children.length;if(b.length<w){for(let C=w-1;C>b.length-1;C--)ae.removeNodes(a,{at:[C]});g=!0}b.forEach((C,_)=>{const S=a.children[_];if(S&&!Yt(C,S)&&y){const j=[p[_]],k=TE(j,i,r);k.valid?(S._key===C._key?(no.enabled&&no("Updating block",S,C),c4t(a,C,S,_)):(no.enabled&&no("Replacing block",S,C),l4t(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}if(!S&&y){const j=[p[_]],k=TE(j,i,r);no.enabled&&no("Validating and inserting new block in the end of the value",C),k.valid?nx(a,()=>{ae.insertNodes(a,C,{at:[_]})}):(no("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}})})})})})}if(!y){no("Invalid value, returning");return}if(g){no("Server value changed, syncing editor");try{a.onChange()}catch(b){console.error(b),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(ae.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else no("Server value and editor value is equal, no need to sync.");s.current=p};return l.current=f,f},[o,r,t,n,i,a,d])}function l4t(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&ae.deselect(e),ae.removeNodes(e,{at:[n]}),nx(e,()=>{ae.insertNodes(e,t,{at:[n]})}),o&&ae.select(e,r)}function c4t(e,t,n,r){if(ae.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(no("Removing child"),ae.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],l=!Yt(i,a),u=!Yt(i.text,a==null?void 0:a.text),d=[r,s];if(l)if(i._key===(a==null?void 0:a._key)){no("Updating changed child",i,a),ae.setNodes(e,i,{at:d});const f=Se.isText(i)&&i._type==="span"&&Se.isText(a)&&a._type==="span";f&&u?(ae.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),ae.insertText(e,i.text,{at:d}),e.onChange()):f||(no("Updating changed inline object child",i),ae.setNodes(e,{_key:"".concat(t._key,"-void-child")},{at:[...d,0],voids:!0}))}else a?(no("Replacing child",i),ae.removeNodes(e,{at:[r,s]}),nx(e,()=>{ae.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(no("Inserting new child",i),nx(e,()=>{ae.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const eu=Vr("component:PortableTextEditor:Synchronizer"),RX=eu.enabled&&!1,u4t=1e3;function d4t(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,l]=h.useState(null),u=h.useRef([]),d=a4t({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=DT();h.useEffect(()=>{Z2.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){eu("Flushing pending patches"),RX&&eu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const b=Ee.getValue(n);r({type:"mutation",patches:u.current,snapshot:b}),u.current=[]}Z2.set(f,!1)},[f,n,r]),m=h.useCallback(b=>{if(M.isNormalizing(f)){p();return}b()},[p,f]),v=h.useMemo(()=>Yj(()=>{m(v)},u4t,{leading:!1,trailing:!0}),[m]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{eu("Subscribing to editor changes$");const b=t.subscribe(w=>{switch(w.type){case"patch":Z2.set(f,!0),u.current.push(w.patch),v(),r(w);break;case"selection":h.startTransition(()=>{RX&&eu("Setting selection"),l(w.selection)}),r(w);break;default:r(w)}});return()=>{eu("Unsubscribing to changes$"),b.unsubscribe()}},[t,r,p,v,f,d]);const g=h.useCallback(()=>{eu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),y=h.useCallback(()=>{eu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",g),window.addEventListener("offline",y)),()=>{n.props.patches$&&(window.removeEventListener("online",g),window.removeEventListener("offline",y))}));const x=h.useRef(!0);return h.useEffect(()=>{eu("Value from props changed, syncing new value"),d(s),x.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),x.current=!1)},[t,d,s]),c.jsx(yEe.Provider,{value:o,children:c.jsx(MEe.Provider,{value:n,children:c.jsx(i4t.Provider,{value:s,children:c.jsx(FEe.Provider,{value:i,children:c.jsx(REe.Provider,{value:a,children:e.children})})})})})}var f4t=Object.defineProperty,h4t=(e,t,n)=>t in e?f4t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dn=(e,t,n)=>(h4t(e,typeof t!="symbol"?t+"":t,n),n);const O0=Vr("component:PortableTextEditor");class Ee extends se.Component{constructor(t){if(super(t),dn(this,"change$",new Tr),dn(this,"schemaTypes"),dn(this,"editable"),dn(this,"setEditable",n=>{this.editable={...this.editable,...n}}),!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=dX(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:uX(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=dX(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:uX(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,l=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||xE;return c.jsx(o4t,{keyGenerator:d,maxBlocks:l,patches$:a,portableTextEditor:this,readOnly:u,children:c.jsx(d4t,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}dn(Ee,"activeAnnotations",e=>e&&e.editable?e.editable.activeAnnotations():[]);dn(Ee,"addAnnotation",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)});dn(Ee,"blur",e=>{var t;O0("Host blurred"),(t=e.editable)==null||t.blur()});dn(Ee,"delete",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)});dn(Ee,"findDOMNode",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)});dn(Ee,"findByPath",(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]});dn(Ee,"focus",e=>{var t;O0("Host requesting focus"),(t=e.editable)==null||t.focus()});dn(Ee,"focusBlock",e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()});dn(Ee,"focusChild",e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()});dn(Ee,"getSelection",e=>e.editable?e.editable.getSelection():null);dn(Ee,"getValue",e=>{var t;return(t=e.editable)==null?void 0:t.getValue()});dn(Ee,"hasBlockStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)});dn(Ee,"hasListStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)});dn(Ee,"isCollapsedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()});dn(Ee,"isExpandedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()});dn(Ee,"isMarkActive",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)});dn(Ee,"insertChild",(e,t,n)=>{var r;return O0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)});dn(Ee,"insertBlock",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)});dn(Ee,"insertBreak",e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()});dn(Ee,"isVoid",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)});dn(Ee,"isObjectPath",(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n});dn(Ee,"marks",e=>{var t;return(t=e.editable)==null?void 0:t.marks()});dn(Ee,"select",(e,t)=>{var n;O0("Host setting selection",t),(n=e.editable)==null||n.select(t)});dn(Ee,"removeAnnotation",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)});dn(Ee,"toggleBlockStyle",(e,t)=>{var n;return O0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)});dn(Ee,"toggleList",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)});dn(Ee,"toggleMark",(e,t)=>{var n;O0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)});function MX(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(l=>l._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function p4t(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Yt({_key:s._key},o.path[0]))&&(n=MX(o,t)),i&&t.find(s=>Yt({_key:s._key},i.path[0]))&&(r=MX(i,t)),n&&r?{anchor:n,focus:r}:null}function m4t(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return c.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const g4t=Vr("components:Leaf"),FX=[],v4t=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,l=se.useRef(null),u=fo(),d=J5e(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,y=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),b=h.useMemo(()=>ao((r.marks||FX).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:FX,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=Ee.getSelection(u);j&&Yt(j.focus.path,y)&&Ee.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,y,u]);const S=h.useCallback(()=>{if(!_)return;g4t("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);l.current&&k.intersectsNode(l.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=Ee.getSelection(u);T&&Yt(T.focus.path,y)&&Ee.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Yt(k.selection.focus.path,y)&&Ee.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[y,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(Se.isText(r)&&r._type===o.span.name&&(b.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:l,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:l,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=c.jsx("span",{ref:l,children:a(A)})}else j=c.jsx(m4t,{annotation:k,children:c.jsx("span",{ref:l,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=c.jsx(c.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:l,focused:f,path:y,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,b,y,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>c.jsx("span",{...t,ref:l,children:E},r._key),[r,t,E])},p_=e=>c.jsx("div",{children:c.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var LX=Object.freeze,y4t=Object.defineProperty,$T=(e,t)=>LX(y4t(e,"raw",{value:LX(t||e.slice())})),BX,NX,zX,VX;const b4t=O.div(BX||(BX=$T([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");O.span(NX||(NX=$T([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const x4t=O.div(zX||(zX=$T([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>C4t(e.listLevel),e=>S4t(e.listLevel,e.listStyle),e=>E4t(e.listLevel),e=>k4t(e.listLevel),e=>j4t(e.listLevel)),w4t=O.div(VX||(VX=$T([""])));function C4t(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const _4t=["","",""];function S4t(e,t){const n=(e-1)%3;return t==="bullet"?_4t[n]:"*"}function E4t(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function k4t(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function j4t(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Ul=Vr("components:DraggableBlock"),HX=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Fc(),s=h.useRef(),[a,l]=h.useState(!1),u=h.useMemo(()=>M.isVoid(i,n),[i,n]),d=h.useMemo(()=>M.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:ge.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=A1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",D1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,P=k.pageY,R=Math.abs(D-P);let $="bottom";if(n===i.children[0]?$="top":R<I/2?($="top",I1.set(i,$)):($="bottom",I1.set(i,$)),T===n){k.dataTransfer.dropEffect="none";return}l(!0)},[f,i,n]),v=h.useCallback(()=>{l(!1)},[]),g=h.useCallback(k=>{const T=D1.get(i);if(T){a_.set(i,!1),k.preventDefault(),k.stopPropagation(),D1.delete(i),s.current&&(Ul("Removing drag ghost"),document.body.removeChild(s.current));const A=I1.get(i);I1.delete(i);let D=ge.findPath(i,T);const I=ge.findPath(i,n),P=te.isBefore(I,D);if(A==="bottom"&&!P){if(D[0]>=i.children.length-1){Ul("target is already at the bottom, not moving");return}const R=D;D=te.next(D),Ul("Adjusting targetPath from ".concat(JSON.stringify(R)," to ").concat(JSON.stringify(D)))}if(A==="top"&&P&&D[0]!==i.children.length-1){const R=D;D=te.previous(D),Ul("Adjusting targetPath from ".concat(JSON.stringify(R)," to ").concat(JSON.stringify(D)))}if(te.equals(D,I)){k.preventDefault(),Ul("targetPath and myPath is the same, not moving");return}Ul("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),ae.moveNodes(i,{at:I,to:D}),i.onChange();return}Ul("No target element, not doing anything")},[i,n]),y=h.useCallback(k=>{A1.get(i)&&(Ul("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),l(!1))},[i,n]),x=h.useCallback(k=>{if(!u){A1.delete(i);return}a_.set(i,!0),A1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),b=h.useCallback(k=>{if(!u||d){Ul("Not dragging block"),A1.delete(i),a_.set(i,!1);return}if(Ul("Drag start"),a_.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,P=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,P)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===D1.get(i),C=a&&i.children[i.children.length-1]===D1.get(i),_=I1.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>c.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?c.jsx(c.Fragment,{children:t}):c.jsxs("div",{draggable:u,onDragStart:b,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:y,children:[S&&j,t,E&&j]})};Vr("components:Element");const T4t=[],A4t={display:"inline-block"},D4t=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:l,renderStyle:u,spellCheck:d}=e;const f=Fc(),p=J5e(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,y=h.useMemo(()=>gr([r],o.block.name,ya.get(f))[0],[f,r,o.block.name]);let x=n,b;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=ge.findPath(f,r),[j]=M.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Pe.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return c.jsxs("span",{...t,children:[n,c.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:A4t,contentEditable:!1,children:[a&&a({annotations:T4t,children:c.jsx(p_,{value:y}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:y}),!a&&c.jsx(p_,{value:y})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){b="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";b="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),b+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(y)&&E&&r.listItem){const I=o.lists.find(P=>P.value===r.listItem);l&&I?x=l({block:y,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:y.level||1,editorElementRef:m}):x=c.jsx(x4t,{listStyle:y.listItem||o.lists[0].value,listLevel:y.level||1,children:c.jsx(w4t,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return c.jsx("div",{...t,className:b,spellCheck:d,children:c.jsx(HX,{element:r,readOnly:i,blockRef:m,children:c.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));b="pt-block pt-object-block";const _=gr([r],o.block.name,ya.get(f))[0];let S;if(s){const E=Object.defineProperty({children:c.jsx(p_,{value:y}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return c.jsxs("div",{...t,className:b,children:[n,c.jsxs(HX,{element:r,readOnly:i,blockRef:m,children:[S&&c.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&c.jsx(b4t,{selected:p,children:c.jsx(p_,{value:y})})]})]},r._key)},I4t=typeof window>"u"?h.useEffect:h.useLayoutEffect;function P4t(e){const t=h.useRef(null);return I4t(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const Wl=Vr("component:Editable"),O4t={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none"},$4t=[],LEe=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:l,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:y,scrollSelectionIntoView:x,spellCheck:b,...w}=t,C=fo(),_=s4t(),S=RRt(),E=P4t(n),[j,k]=h.useState(!1),{change$:T,schemaTypes:A}=C,D=DT(),I=A.block.name,P=h.useMemo(()=>e4t(T,A,S),[T,S,A]),R=h.useMemo(()=>JMt(A,S,C,r),[r,S,C,A]);h.useMemo(()=>_?(Wl("Editable is in read only mode"),P(D)):(Wl("Editable is in edit mode"),P(R(D))),[_,D,R,P]);const $=h.useCallback(K=>c.jsx(D4t,{...K,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:A,spellCheck:b}),[A,b,_,d,f,m,g]),U=h.useCallback(K=>{const J=c.jsx(v4t,{...K,schemaTypes:A,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&K.leaf.placeholder&&K.text.text===""?c.jsxs(c.Fragment,{children:[c.jsx("span",{style:O4t,contentEditable:!1,children:v()}),J]}):J},[_,u,f,p,v,A]),L=h.useCallback(()=>{if(y){Wl("Selection from props ".concat(JSON.stringify(y)));const K=p4t(y,gr(D.children,I));if(K!==null){Wl("Normalized selection from props ".concat(JSON.stringify(K)));const J=X2(K,D);J&&(ae.select(D,J),D.operations.some(X=>X.type==="set_selection")||T.next({type:"selection",selection:K}),D.onChange())}}},[y,D,I,T]);h.useEffect(()=>{Wl("Subscribing to editor changes$");const K=T.subscribe(J=>{switch(J.type){case"ready":L();break;case"invalidValue":k(!0);break;case"value":k(!1);break}});return()=>{Wl("Unsubscribing to changes$"),K.unsubscribe()}},[T,L]),h.useEffect(()=>{y&&!j&&L()},[j,y,L]);const W=h.useCallback(K=>{l&&l(K)!==void 0&&K.preventDefault()},[l]),Y=h.useCallback(K=>{if(K.preventDefault(),!!D.selection){if(!a){Wl("Pasting normally"),D.insertData(K.clipboardData);return}new Promise(J=>{const X=Ee.getValue(C),ee=tp(X,D.selection,A),re=(ee==null?void 0:ee.focus.path)||[];J(a({event:K,value:X,path:re,schemaTypes:A}))}).then(J=>{if(Wl("Custom paste function from client resolved",J),T.next({type:"loading",isLoading:!0}),!J||!J.insert){Wl("No result from custom paste handler, pasting normally"),D.insertData(K.clipboardData);return}if(J&&J.insert){D.insertFragment(bc(J.insert,{schemaTypes:A})),T.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",J)}).catch(J=>(T.next({type:"loading",isLoading:!1}),console.error(J),J))}},[T,a,C,A,D]),V=h.useCallback(K=>{if(i&&i(K),!K.isDefaultPrevented()){const J=Ee.getSelection(C);T.next({type:"focus",event:K});const X=Ee.getSelection(C);J===X&&T.next({type:"selection",selection:J})}},[T,C,i]),H=h.useCallback(K=>{o&&o(K),K.isPropagationStopped()||T.next({type:"blur",event:K})},[T,o]),Q=h.useCallback(K=>{s&&s(K)},[s]),F=h.useCallback(()=>{let K=null;const J=D.selection;try{K=D.selection&&ge.toDOMRange(D,D.selection)}catch{EE(!0),ae.deselect(D),ae.select(D,[0,0]),D.onChange(),Wl("Could not resolve selection (".concat(JSON.stringify(J),"), unselecting"))}},[D]);h.useEffect(()=>{const K=new MutationObserver(F);return E.current&&K.observe(E.current,{childList:!0,subtree:!0}),()=>{K.disconnect()}},[F,E]);const G=h.useCallback(K=>{t.onKeyDown&&t.onKeyDown(K),K.isDefaultPrevented()||D.pteWithHotKeys(K)},[t,D]),z=h.useMemo(()=>{if(x!==void 0)return x===null?C2e:(K,J)=>{x(C,J)}},[C,x]),Z=h.useCallback(()=>SE(D.children,A)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:$4t,[A,D]);return h.useEffect(()=>{E.current=ge.toDOMNode(D,D)},[D,E]),C?j?null:c.jsx(a$t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:Z,onBlur:H,onCopy:W,onDOMBeforeInput:Q,onFocus:V,onKeyDown:G,onPaste:Y,readOnly:_,renderPlaceholder:void 0,renderElement:$,renderLeaf:U,scrollSelectionIntoView:z}):null});var R4t=hCe,M4t=C0,UX=rT;function F4t(e,t,n){var r=e.length;if(r<2)return r?UX(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=R4t(i[o]||s,e[a],t,n));return UX(M4t(i,1),t,n)}var L4t=F4t,B4t=kwe,N4t=S0,z4t=L4t,V4t=Kj,H4t=N4t(function(e){return z4t(B4t(e,V4t))}),U4t=H4t;const W4t=Ie(U4t);function BEe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(Y4t(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function Y4t(e){return typeof e=="object"&&typeof e._key=="string"}class py extends Error{constructor(t,n,r){const o=BEe(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const q4t=/^[a-z0-9][a-z0-9_.-]+$/i,G4t=/^[a-zA-Z_][a-zA-Z0-9_]*$/,K4t=/^[a-z_]/i;function WX(e,t,n){if(!K4t.test(e))throw new py("Keys must start with a letter (a-z)",n.concat(e),t);if(!G4t.test(e))throw new py("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new py("Keys must be strings",n.concat(e),t);if(!q4t.test(t))throw new py("Invalid key - use less exotic characters",n.concat(e),t)}return e}const Z4t=["_id","_type","_createdAt","_updatedAt","_rev"],eM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function X4t(e){return{...eM,...e,diffMatchPatch:{...eM.diffMatchPatch,...e.diffMatchPatch||{}}}}function RT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",l=s==="undefined";if(a&&!l)return o.push({op:"set",path:r,value:t}),o;if(!a&&l)return o.push({op:"unset",path:r}),o;const u=X4t(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?J4t(e,t,u,r,o):Q4t(e,t,u,r,o):nFt(e,t,u,r,o)}function Q4t(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?YX:GX).map(d=>WX(d,e[d],r)),a=s.length,l=Object.keys(t).filter(i?YX:GX).map(d=>WX(d,t[d],r)),u=l.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=l[d];RT(e[f],t[f],n,r.concat([f]),o)}return o}function J4t(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((l,u)=>V9(l,r,u,n))}),t.length<e.length){const l=e.length-t.length===1,u=e.slice(t.length);iFt(n)||!xP(u)?o.push({op:"unset",path:r.concat([l?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let l=0;l<t.length;l++)if(Array.isArray(t[l]))throw new py("Multi-dimensional arrays not supported",r.concat(l),t[l]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return xP(s)&&xP(a)?eFt(s,a,n,r,o):NEe(s,a,n,r,o)}function NEe(e,t,n,r,o){for(let i=0;i<e.length;i++)RT(e[i],V9(t[i],r,i,n),n,r.concat(i),o);return o}function eFt(e,t,n,r,o){const i=qX(e),s=qX(t);if(!oFt(i.keys,s.keys))return NEe(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const l=s.keys[a],u=i.index[l],d=V9(s.index[l],r,a,n);RT(u,d,n,r.concat({_key:l}),o)}return o}function tFt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let l="";try{const u=ww(e,t),d=H8(u);l=PSe(DSe(d))}catch{return}return l.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:l}}function nFt(e,t,n,r,o){const i=tFt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function YX(e){return Z4t.indexOf(e)===-1}function xP(e){const t=[];for(let n=0;n<e.length;n++){const r=rFt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function rFt(e){return typeof e=="object"&&e!==null&&e._key}function qX(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function oFt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function V9(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=BEe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function iFt(e){return!!e.ifRevisionID}function GX(e){return!0}var sFt=Zj,aFt=S8,lFt=Object.prototype,cFt=lFt.hasOwnProperty,uFt=aFt(function(e,t,n){cFt.call(e,n)?e[n].push(t):sFt(e,n,[t])}),dFt=uFt;const H9=Ie(dFt),KX=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ZX=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",wP=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return ZX(n.overflowY,t)||ZX(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},m_=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,fFt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},XX=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:$=>$!==u;if(!KX(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;KX(v)&&f(v);){if(v=fFt(v),v===p){m.push(v);break}v!=null&&v===document.body&&wP(v)&&!wP(document.documentElement)||v!=null&&wP(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:b}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=($=>{const U=window.getComputedStyle($);return{top:parseFloat(U.scrollMarginTop)||0,right:parseFloat(U.scrollMarginRight)||0,bottom:parseFloat(U.scrollMarginBottom)||0,left:parseFloat(U.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,P=l==="center"?j+C/2-D+T:l==="end"?S+T:j-D;const R=[];for(let $=0;$<m.length;$++){const U=m[$],{height:L,width:W,top:Y,right:V,bottom:H,left:Q}=U.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=y&&S<=g&&_>=Y&&E<=H&&j>=Q&&S<=V)return R;const F=getComputedStyle(U),G=parseInt(F.borderLeftWidth,10),z=parseInt(F.borderTopWidth,10),Z=parseInt(F.borderRightWidth,10),K=parseInt(F.borderBottomWidth,10);let J=0,X=0;const ee="offsetWidth"in U?U.offsetWidth-U.clientWidth-G-Z:0,re="offsetHeight"in U?U.offsetHeight-U.clientHeight-z-K:0,de="offsetWidth"in U?U.offsetWidth===0?0:W/U.offsetWidth:0,ie="offsetHeight"in U?U.offsetHeight===0?0:L/U.offsetHeight:0;if(p===U)J=a==="start"?I:a==="end"?I-y:a==="nearest"?m_(b,b+y,y,z,K,b+I,b+I+w,w):I-y/2,X=l==="start"?P:l==="center"?P-g/2:l==="end"?P-g:m_(x,x+g,g,G,Z,x+P,x+P+C,C),J=Math.max(0,J+b),X=Math.max(0,X+x);else{J=a==="start"?I-Y-z:a==="end"?I-H+K+re:a==="nearest"?m_(Y,H,L,z,K+re,I,I+w,w):I-(Y+L/2)+re/2,X=l==="start"?P-Q-G:l==="center"?P-(Q+W/2)+ee/2:l==="end"?P-V+Z+ee:m_(Q,V,W,G,Z+ee,P,P+C,C);const{scrollLeft:fe,scrollTop:xe}=U;J=ie===0?0:Math.max(0,Math.min(xe+J/ie,U.scrollHeight-L/ie+re)),X=de===0?0:Math.max(0,Math.min(fe+X/de,U.scrollWidth-W/de+ee)),I+=xe-J,P+=fe-X}R.push({el:U,top:J,left:X})}return R},hFt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function ox(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(XX(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of XX(e,hFt(t))){const a=i-n.top+n.bottom,l=s-n.left+n.right;o.scroll({top:a,left:l,behavior:r})}}function pFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function U9(e){return"nodeType"in e}function js(e){var t,n;return e?$0(e)?e:U9(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function W9(e){const{Document:t}=js(e);return e instanceof t}function Tw(e){return $0(e)?!1:e instanceof js(e).HTMLElement}function mFt(e){return e instanceof js(e).SVGElement}function R0(e){return e?$0(e)?e.document:U9(e)?W9(e)?e:Tw(e)?e.ownerDocument:document:document:document}const jl=MT?h.useLayoutEffect:h.useEffect;function Y9(e){const t=h.useRef(e);return jl(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function gFt(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ix(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return jl(()=>{n.current!==e&&(n.current=e)},t),n}function Aw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function AE(e){const t=Y9(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function tM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let CP={};function Dw(e,t){return h.useMemo(()=>{if(t)return t;const n=CP[e]==null?0:CP[e]+1;return CP[e]=n,e+"-"+n},[e,t])}function zEe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[l,u]of a){const d=i[l];d!=null&&(i[l]=d+e*u)}return i},{...t})}}const av=zEe(1),sx=zEe(-1);function vFt(e){return"clientX"in e&&"clientY"in e}function q9(e){if(!e)return!1;const{KeyboardEvent:t}=js(e.target);return t&&e instanceof t}function yFt(e){if(!e)return!1;const{TouchEvent:t}=js(e.target);return t&&e instanceof t}function nM(e){if(yFt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return vFt(e)?{x:e.clientX,y:e.clientY}:null}const ax=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ax.Translate.toString(e),ax.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),QX="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bFt(e){return e.matches(QX)?e:e.querySelector(QX)}const xFt={display:"none"};function wFt(e){let{id:t,value:n}=e;return se.createElement("div",{id:t,style:xFt},n)}const CFt={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function _Ft(e){let{id:t,announcement:n}=e;return se.createElement("div",{id:t,style:CFt,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function SFt(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const VEe=h.createContext(null);function EFt(e){const t=h.useContext(VEe);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function kFt(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const jFt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},TFt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function AFt(e){let{announcements:t=TFt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=jFt}=e;const{announce:i,announcement:s}=SFt(),a=Dw("DndLiveRegion"),[l,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),EFt(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!l)return null;const d=se.createElement(se.Fragment,null,se.createElement(wFt,{id:r,value:o.draggable}),se.createElement(_Ft,{id:a,announcement:s}));return n?ic.createPortal(d,n):d}var yo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(yo||(yo={}));function DE(){}function JX(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function DFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Tl=Object.freeze({x:0,y:0});function HEe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function UEe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function IFt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function eQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function WEe(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function tQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const PFt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=tQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=HEe(tQ(l),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(UEe)},OFt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=eQ(t),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=eQ(l),d=o.reduce((p,m,v)=>p+HEe(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(UEe)};function $Ft(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const l=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const RFt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const l=$Ft(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(IFt)};function MFt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function YEe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Tl}function FFt(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const LFt=FFt(1);function BFt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function NFt(e,t,n){const r=BFt(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const zFt={ignoreTransform:!1};function M0(e,t){t===void 0&&(t=zFt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=js(e).getComputedStyle(e);u&&(n=NFt(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function nQ(e){return M0(e,{ignoreTransform:!0})}function VFt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function HFt(e,t){return t===void 0&&(t=js(e).getComputedStyle(e)),t.position==="fixed"}function UFt(e,t){t===void 0&&(t=js(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function FT(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(W9(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Tw(o)||mFt(o)||n.includes(o))return n;const i=js(e).getComputedStyle(o);return o!==e&&UFt(o,i)&&n.push(o),HFt(o,i)?n:r(o.parentNode)}return e?r(e):n}function qEe(e){const[t]=FT(e,1);return t??null}function _P(e){return!MT||!e?null:$0(e)?e:U9(e)?W9(e)||e===R0(e).scrollingElement?window:Tw(e)?e:null:null}function GEe(e){return $0(e)?e.scrollX:e.scrollLeft}function KEe(e){return $0(e)?e.scrollY:e.scrollTop}function rM(e){return{x:GEe(e),y:KEe(e)}}var Oo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Oo||(Oo={}));function ZEe(e){return!MT||!e?!1:e===document.scrollingElement}function XEe(e){const t={x:0,y:0},n=ZEe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const WFt={x:.2,y:.2};function YFt(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=WFt);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=XEe(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Oo.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&l>=t.bottom-g.height&&(m.y=Oo.Forward,v.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!p&&a>=t.right-g.width?(m.x=Oo.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Oo.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function qFt(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function QEe(e){return e.reduce((t,n)=>av(t,rM(n)),Tl)}function GFt(e){return e.reduce((t,n)=>t+GEe(n),0)}function KFt(e){return e.reduce((t,n)=>t+KEe(n),0)}function ZFt(e,t){if(t===void 0&&(t=M0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);qEe(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const XFt=[["x",["left","right"],GFt],["y",["top","bottom"],KFt]];let G9=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=FT(n),o=QEe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of XFt)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class rb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function QFt(e){const{EventTarget:t}=js(e);return e instanceof t?e:R0(e)}function SP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var xa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(xa||(xa={}));function rQ(e){e.preventDefault()}function JFt(e){e.stopPropagation()}var Zt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Zt||(Zt={}));const JEe={start:[Zt.Space,Zt.Enter],cancel:[Zt.Esc],end:[Zt.Space,Zt.Enter]},e6t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Zt.Right:return{...n,x:n.x+25};case Zt.Left:return{...n,x:n.x-25};case Zt.Down:return{...n,y:n.y+25};case Zt.Up:return{...n,y:n.y-25}}};class K9{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new rb(R0(n)),this.windowListeners=new rb(js(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xa.Resize,this.handleCancel),this.windowListeners.add(xa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&ZFt(r),n(Tl)}handleKeyDown(t){if(q9(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=JEe,coordinateGetter:s=e6t,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Tl;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=sx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=XEe(g),E=qFt(g),j={x:Math.min(y===Zt.Right?E.right-E.width/2:E.right,Math.max(y===Zt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(y===Zt.Down?E.bottom-E.height/2:E.bottom,Math.max(y===Zt.Down?E.top:E.top+E.height/2,f.y))},k=y===Zt.Right&&!b||y===Zt.Left&&!w,T=y===Zt.Down&&!C||y===Zt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=y===Zt.Right&&A<=_.x||y===Zt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=y===Zt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=y===Zt.Down&&A<=_.y||y===Zt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=y===Zt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,av(sx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}K9.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=JEe,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function oQ(e){return!!(e&&"distance"in e)}function iQ(e){return!!(e&&"delay"in e)}class Z9{constructor(t,n,r){var o;r===void 0&&(r=QFt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=R0(s),this.documentListeners=new rb(this.document),this.listeners=new rb(r),this.windowListeners=new rb(js(s)),this.initialCoordinates=(o=nM(i))!=null?o:Tl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(xa.Resize,this.handleCancel),this.windowListeners.add(xa.DragStart,rQ),this.windowListeners.add(xa.VisibilityChange,this.handleCancel),this.windowListeners.add(xa.ContextMenu,rQ),this.documentListeners.add(xa.Keydown,this.handleKeydown),n){if(oQ(n))return;if(iQ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(xa.Click,JFt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const l=(n=nM(t))!=null?n:Tl,u=sx(o,l);if(!r&&a){if(iQ(a))return SP(u,a.tolerance)?this.handleCancel():void 0;if(oQ(a))return a.tolerance!=null&&SP(u,a.tolerance)?this.handleCancel():SP(u,a.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Zt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const t6t={move:{name:"pointermove"},end:{name:"pointerup"}};class X9 extends Z9{constructor(t){const{event:n}=t,r=R0(n.target);super(t,t6t,r)}}X9.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const n6t={move:{name:"mousemove"},end:{name:"mouseup"}};var oM;(function(e){e[e.RightClick=2]="RightClick"})(oM||(oM={}));class r6t extends Z9{constructor(t){super(t,n6t,R0(t.event.target))}}r6t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===oM.RightClick?!1:(r==null||r({event:n}),!0)}}];const EP={move:{name:"touchmove"},end:{name:"touchend"}};class o6t extends Z9{constructor(t){super(t,EP)}static setup(){return window.addEventListener(EP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(EP.move.name,t)};function t(){}}}o6t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var ob;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ob||(ob={}));var IE;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(IE||(IE={}));function i6t(e){let{acceleration:t,activator:n=ob.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=IE.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=a6t({delta:f,disabled:!i}),[v,g]=gFt(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(n){case ob.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ob.DraggableRect:return o}},[n,o,l]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=y.current.x*x.current.x,j=y.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===IE.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=YFt(S,j,b,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),y.current=T,x.current=k;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(b),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const s6t={x:{[Oo.Backward]:!1,[Oo.Forward]:!1},y:{[Oo.Backward]:!1,[Oo.Forward]:!1}};function a6t(e){let{delta:t,disabled:n}=e;const r=tM(t);return Aw(o=>{if(n||!r||!o)return s6t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Oo.Backward]:o.x[Oo.Backward]||i.x===-1,[Oo.Forward]:o.x[Oo.Forward]||i.x===1},y:{[Oo.Backward]:o.y[Oo.Backward]||i.y===-1,[Oo.Forward]:o.y[Oo.Forward]||i.y===1}}},[n,t,r])}function l6t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Aw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function c6t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var lx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(lx||(lx={}));var iM;(function(e){e.Optimized="optimized"})(iM||(iM={}));const sQ=new Map;function u6t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:l,strategy:u}=o,d=h.useRef(e),f=y(),p=ix(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=Aw(x=>{if(f&&!n)return sQ;if(!x||x===sQ||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new G9(l(C),C):null;w.rect.current=_,_&&b.set(w.id,_)}return b}return x},[e,i,n,f,l]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function y(){switch(u){case lx.Always:return!1;case lx.BeforeDragging:return n;default:return!n}}}function eke(e,t){return Aw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function d6t(e,t){return eke(e,t)}function f6t(e){let{callback:t,disabled:n}=e;const r=Y9(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function LT(e){let{callback:t,disabled:n}=e;const r=Y9(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function h6t(e){return new G9(M0(e),e)}function aQ(e,t,n){t===void 0&&(t=h6t);const[r,o]=h.useReducer(a,null),i=f6t({callback(l){if(e)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=LT({callback:o});return jl(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(l){if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function p6t(e){const t=eke(e);return YEe(e,t)}const lQ=[];function m6t(e){const t=h.useRef(e),n=Aw(r=>e?r&&r!==lQ&&e&&t.current&&e.parentNode===t.current.parentNode?r:FT(e):lQ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function g6t(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=_P(i.target);s&&n(a=>a?(a.set(s,rM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(l=>{const u=_P(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,rM(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{const u=_P(l);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>av(i,s),Tl):QEe(e):Tl,[e,t])}function cQ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Tl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?sx(e,n.current):Tl}function v6t(e){h.useEffect(()=>{if(!MT)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function y6t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function tke(e){return h.useMemo(()=>e?VFt(e):null,[e])}const kP=[];function b6t(e,t){t===void 0&&(t=M0);const[n]=e,r=tke(n?js(n):null),[o,i]=h.useReducer(a,kP),s=LT({callback:i});return e.length>0&&o===kP&&i(),jl(()=>{e.length?e.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(l=>ZEe(l)?r:new G9(t(l),l)):kP}}function x6t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Tw(t)?t:e}function w6t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(Tw(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=LT({callback:o}),s=h.useCallback(u=>{const d=x6t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,l]=AE(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const C6t=[{sensor:X9,options:{}},{sensor:K9,options:{}}],_6t={current:{}},Q2={draggable:{measure:nQ},droppable:{measure:nQ,strategy:lx.WhileDragging,frequency:iM.Optimized},dragOverlay:{measure:M0}};class ib extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const S6t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ib,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:DE},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Q2,measureDroppableContainers:DE,windowRect:null,measuringScheduled:!1},E6t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:DE,draggableNodes:new Map,over:null,measureDroppableContainers:DE},BT=h.createContext(E6t),nke=h.createContext(S6t);function k6t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ib}}}function j6t(e,t){switch(t.type){case yo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case yo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case yo.DragEnd:case yo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new ib(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case yo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new ib(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case yo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new ib(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function T6t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(BT),i=tM(r),s=tM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!q9(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=bFt(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function A6t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function D6t(e){return h.useMemo(()=>({draggable:{...Q2.draggable,...e==null?void 0:e.draggable},droppable:{...Q2.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Q2.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function I6t(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;jl(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=YEe(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=qEe(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const rke=h.createContext({...Tl,scaleX:1,scaleY:1});var Td;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Td||(Td={}));const P6t=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:d=C6t,collisionDetection:f=RFt,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(j6t,void 0,k6t),[y,x]=g,[b,w]=kFt(),[C,_]=h.useState(Td.Uninitialized),S=C===Td.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=y,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Rn;return E!=null?{id:E,data:(Rn=A==null?void 0:A.data)!=null?Rn:_6t,rect:D}:null},[E,A]),P=h.useRef(null),[R,$]=h.useState(null),[U,L]=h.useState(null),W=ix(v,Object.values(v)),Y=Dw("DndDescribedBy",s),V=h.useMemo(()=>T.getEnabled(),[T]),H=D6t(p),{droppableRects:Q,measureDroppableContainers:F,measuringScheduled:G}=u6t(V,{dragging:S,dependencies:[k.x,k.y],config:H.droppable}),z=l6t(j,E),Z=h.useMemo(()=>U?nM(U):null,[U]),K=ri(),J=d6t(z,H.draggable.measure);I6t({activeNode:E?j.get(E):null,config:K.layoutShiftCompensation,initialRect:J,measure:H.draggable.measure});const X=aQ(z,H.draggable.measure,J),ee=aQ(z?z.parentElement:null),re=h.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),de=T.getNodeFor((n=re.current.over)==null?void 0:n.id),ie=w6t({measure:H.dragOverlay.measure}),fe=(r=ie.nodeRef.current)!=null?r:z,xe=S?(o=ie.rect)!=null?o:X:null,be=!!(ie.nodeRef.current&&ie.rect),ve=p6t(be?null:X),qe=tke(fe?js(fe):null),Le=m6t(S?de??z:null),ot=b6t(Le),Qe=A6t(m,{transform:{x:k.x-ve.x,y:k.y-ve.y,scaleX:1,scaleY:1},activatorEvent:U,active:I,activeNodeRect:X,containerNodeRect:ee,draggingNodeRect:xe,over:re.current.over,overlayNodeRect:ie.rect,scrollableAncestors:Le,scrollableAncestorRects:ot,windowRect:qe}),lt=Z?av(Z,k):null,_e=g6t(Le),me=cQ(_e),We=cQ(_e,[X]),Ge=av(Qe,me),$e=xe?LFt(xe,Qe):null,xt=I&&$e?f({active:I,collisionRect:$e,droppableRects:Q,droppableContainers:V,pointerCoordinates:lt}):null,Tt=WEe(xt,"id"),[Et,Kt]=h.useState(null),Ai=be?Qe:av(Qe,We),ts=MFt(Ai,(i=Et==null?void 0:Et.rect)!=null?i:null,X),As=h.useCallback((Rn,$r)=>{let{sensor:Qr,options:He}=$r;if(P.current==null)return;const gt=j.get(P.current);if(!gt)return;const Qn=Rn.nativeEvent,gn=new Qr({active:P.current,activeNode:gt,event:Qn,options:He,context:re,onStart(ho){const ns=P.current;if(ns==null)return;const Ds=j.get(ns);if(!Ds)return;const{onDragStart:Nl}=W.current,Vc={active:{id:ns,data:Ds.data,rect:D}};ic.unstable_batchedUpdates(()=>{Nl==null||Nl(Vc),_(Td.Initializing),x({type:yo.DragStart,initialCoordinates:ho,active:ns}),b({type:"onDragStart",event:Vc})})},onMove(ho){x({type:yo.DragMove,coordinates:ho})},onEnd:oi(yo.DragEnd),onCancel:oi(yo.DragCancel)});ic.unstable_batchedUpdates(()=>{$(gn),L(Rn.nativeEvent)});function oi(ho){return async function(){const{active:Ds,collisions:Nl,over:Vc,scrollAdjustedTranslate:Pm}=re.current;let ah=null;if(Ds&&Pm){const{cancelDrop:lh}=W.current;ah={activatorEvent:Qn,active:Ds,collisions:Nl,delta:Pm,over:Vc},ho===yo.DragEnd&&typeof lh=="function"&&await Promise.resolve(lh(ah))&&(ho=yo.DragCancel)}P.current=null,ic.unstable_batchedUpdates(()=>{x({type:ho}),_(Td.Uninitialized),Kt(null),$(null),L(null);const lh=ho===yo.DragEnd?"onDragEnd":"onDragCancel";if(ah){const o1=W.current[lh];o1==null||o1(ah),b({type:lh,event:ah})}})}}},[j]),Ut=h.useCallback((Rn,$r)=>(Qr,He)=>{const gt=Qr.nativeEvent,Qn=j.get(He);if(P.current!==null||!Qn||gt.dndKit||gt.defaultPrevented)return;const gn={active:Qn};Rn(Qr,$r.options,gn)===!0&&(gt.dndKit={capturedBy:$r.sensor},P.current=He,As(Qr,$r))},[j,As]),Hr=c6t(d,Ut);v6t(d),jl(()=>{X&&C===Td.Initializing&&_(Td.Initialized)},[X,C]),h.useEffect(()=>{const{onDragMove:Rn}=W.current,{active:$r,activatorEvent:Qr,collisions:He,over:gt}=re.current;if(!$r||!Qr)return;const Qn={active:$r,activatorEvent:Qr,collisions:He,delta:{x:Ge.x,y:Ge.y},over:gt};ic.unstable_batchedUpdates(()=>{Rn==null||Rn(Qn),b({type:"onDragMove",event:Qn})})},[Ge.x,Ge.y]),h.useEffect(()=>{const{active:Rn,activatorEvent:$r,collisions:Qr,droppableContainers:He,scrollAdjustedTranslate:gt}=re.current;if(!Rn||P.current==null||!$r||!gt)return;const{onDragOver:Qn}=W.current,gn=He.get(Tt),oi=gn&&gn.rect.current?{id:gn.id,rect:gn.rect.current,data:gn.data,disabled:gn.disabled}:null,ho={active:Rn,activatorEvent:$r,collisions:Qr,delta:{x:gt.x,y:gt.y},over:oi};ic.unstable_batchedUpdates(()=>{Kt(oi),Qn==null||Qn(ho),b({type:"onDragOver",event:ho})})},[Tt]),jl(()=>{re.current={activatorEvent:U,active:I,activeNode:z,collisionRect:$e,collisions:xt,droppableRects:Q,draggableNodes:j,draggingNode:fe,draggingNodeRect:xe,droppableContainers:T,over:Et,scrollableAncestors:Le,scrollAdjustedTranslate:Ge},D.current={initial:xe,translated:$e}},[I,z,xt,$e,j,fe,xe,Q,T,Et,Le,Ge]),i6t({...K,delta:k,draggingRect:$e,pointerCoordinates:lt,scrollableAncestors:Le,scrollableAncestorRects:ot});const Bl=h.useMemo(()=>({active:I,activeNode:z,activeNodeRect:X,activatorEvent:U,collisions:xt,containerNodeRect:ee,dragOverlay:ie,draggableNodes:j,droppableContainers:T,droppableRects:Q,over:Et,measureDroppableContainers:F,scrollableAncestors:Le,scrollableAncestorRects:ot,measuringConfiguration:H,measuringScheduled:G,windowRect:qe}),[I,z,X,U,xt,ee,ie,j,T,Q,Et,F,Le,ot,H,G,qe]),Qa=h.useMemo(()=>({activatorEvent:U,activators:Hr,active:I,activeNodeRect:X,ariaDescribedById:{draggable:Y},dispatch:x,draggableNodes:j,over:Et,measureDroppableContainers:F}),[U,Hr,I,X,x,Y,j,Et,F]);return se.createElement(VEe.Provider,{value:w},se.createElement(BT.Provider,{value:Qa},se.createElement(nke.Provider,{value:Bl},se.createElement(rke.Provider,{value:ts},u)),se.createElement(T6t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),se.createElement(AFt,{...a,hiddenTextDescribedById:Y}));function ri(){const Rn=(R==null?void 0:R.autoScrollEnabled)===!1,$r=typeof l=="object"?l.enabled===!1:l===!1,Qr=S&&!Rn&&!$r;return typeof l=="object"?{...l,enabled:Qr}:{enabled:Qr}}}),O6t=h.createContext(null),uQ="button",$6t="Droppable";function R6t(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=Dw($6t),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(BT),{role:m=uQ,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(l==null?void 0:l.id)===t,x=h.useContext(y?rke:O6t),[b,w]=AE(),[C,_]=AE(),S=y6t(s,t),E=ix(n);jl(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&m===uQ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,y,v,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:y,listeners:r?void 0:S,node:b,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function M6t(){return h.useContext(nke)}const F6t="Droppable",L6t={timeout:25};function B6t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=Dw(F6t),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=h.useContext(BT),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...L6t,...o},x=ix(g??r),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=LT({callback:b,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=AE(C),E=ix(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),jl(()=>(a({type:yo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:yo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:yo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(l==null?void 0:l.id)===r,node:_,over:l,setNodeRef:S}}function oke(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function N6t(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function g_(e){return e!==null&&e>=0}function z6t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function V6t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const v_={scaleX:1,scaleY:1},H6t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const l=U6t(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...v_}:null}return s>o&&s<=i?{x:-a.width-l,y:0,...v_}:s<o&&s>=i?{x:a.width+l,y:0,...v_}:{x:0,y:0,...v_}};function U6t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const ike=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=oke(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},y_={scaleX:1,scaleY:1},W6t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...y_}:null}const l=Y6t(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-l,...y_}:o<n&&o>=s?{x:0,y:a.height+l,...y_}:{x:0,y:0,...y_}};function Y6t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const ske="Sortable",ake=se.createContext({activeIndex:-1,containerId:ske,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ike,disabled:{draggable:!1,droppable:!1}});function q6t(e){let{children:t,id:n,items:r,strategy:o=ike,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:d}=M6t(),f=Dw(ske,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!z6t(m,x.current),w=y!==-1&&g===-1||b,C=V6t(i);jl(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:N6t(m,l),strategy:o}),[g,f,C.draggable,C.droppable,w,m,y,l,p,o]);return se.createElement(ake.Provider,{value:_},t)}const G6t=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return oke(n,r,o).indexOf(t)},K6t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===l},Z6t={duration:200,easing:"ease"},lke="transform",X6t=ax.Transition.toString({property:lke,duration:0,easing:"linear"}),Q6t={roleDescription:"sortable"};function J6t(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return jl(()=>{if(!t&&n!==a.current&&r.current){const l=o.current;if(l){const u=M0(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function cke(e){let{animateLayoutChanges:t=K6t,attributes:n,disabled:r,data:o,getNewIndex:i=G6t,id:s,strategy:a,resizeObserverConfig:l,transition:u=Z6t}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(ake),w=eLt(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=B6t({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:P,setNodeRef:R,listeners:$,isDragging:U,over:L,setActivatorNodeRef:W,transform:Y}=R6t({id:s,data:_,attributes:{...Q6t,...n},disabled:w.draggable}),V=pFt(T,R),H=!!A,Q=H&&!v&&g_(p)&&g_(y),F=!x&&U,G=F&&Q?Y:null,Z=Q?G??(a??b)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:y,index:C}):null,K=g_(p)&&g_(y)?i({id:s,items:d,activeIndex:p,overIndex:y}):C,J=A==null?void 0:A.id,X=h.useRef({activeId:J,items:d,newIndex:K,containerId:f}),ee=d!==X.current.items,re=t({active:A,containerId:f,isDragging:U,isSorting:H,id:s,index:C,items:d,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:u,wasDragging:X.current.activeId!=null}),de=J6t({disabled:!re,index:C,node:j,rect:E});return h.useEffect(()=>{H&&X.current.newIndex!==K&&(X.current.newIndex=K),f!==X.current.containerId&&(X.current.containerId=f),d!==X.current.items&&(X.current.items=d)},[H,K,f,d]),h.useEffect(()=>{if(J===X.current.activeId)return;if(J&&!X.current.activeId){X.current.activeId=J;return}const fe=setTimeout(()=>{X.current.activeId=J},50);return()=>clearTimeout(fe)},[J]),{active:A,activeIndex:p,attributes:P,data:_,rect:E,index:C,newIndex:K,items:d,isOver:k,isSorting:H,isDragging:U,listeners:$,node:j,overIndex:y,over:L,setNodeRef:V,setActivatorNodeRef:W,setDroppableNodeRef:T,setDraggableNodeRef:R,transform:de??Z,transition:ie()};function ie(){if(de||ee&&X.current.newIndex===C)return X6t;if(!(F&&!q9(D)||!u)&&(H||re))return ax.Transition.toString({...u,property:lke})}}function eLt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function PE(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const tLt=[Zt.Down,Zt.Right,Zt.Up,Zt.Left],nLt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(tLt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Zt.Down:r.top<p.top&&l.push(f);break;case Zt.Up:r.top>p.top&&l.push(f);break;case Zt.Left:r.left>p.left&&l.push(f);break;case Zt.Right:r.left<p.left&&l.push(f);break}});const u=OFt({active:n,collisionRect:r,droppableRects:o,droppableContainers:l,pointerCoordinates:null});let d=WEe(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=FT(v).some((S,E)=>a[E]!==S),x=uke(f,p),b=rLt(f,p),w=y||!x?{x:0,y:0}:{x:b?r.width-m.width:0,y:b?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:sx(C,w)}}}};function uke(e,t){return!PE(e)||!PE(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function rLt(e,t){return!PE(e)||!PE(t)||!uke(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const oLt=e=>{let{transform:t}=e;return{...t,y:0}},iLt=e=>{let{transform:t}=e;return{...t,x:0}};var sLt=Jp;function aLt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!sLt(s):n(s,a)))var a=s,l=i}return l}var dke=aLt;function lLt(e,t){return e<t}var cLt=lLt,uLt=dke,dLt=cLt,fLt=fm;function hLt(e){return e&&e.length?uLt(e,fLt,dLt):void 0}var pLt=hLt;const mLt=Ie(pLt);function gLt(e,t){return e>t}var vLt=gLt,yLt=dke,bLt=vLt,xLt=fm;function wLt(e){return e&&e.length?yLt(e,xLt,bLt):void 0}var CLt=wLt;const _Lt=Ie(CLt);var sM={exports:{}};function SLt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=Gj(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var ELt=SLt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=ELt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(sM,sM.exports);var kLt=sM.exports;const jLt=Ie(kLt);var TLt=Object.defineProperty,ALt=(e,t,n)=>t in e?TLt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b_=(e,t,n)=>(ALt(e,typeof t!="symbol"?t+"":t,n),n);const DLt=/[0-9]/,ILt=/^[a-zA-Z0-9_]$/,PLt=/^[a-zA-Z_]$/,fke={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},OLt=Object.keys(fke);class $Lt{constructor(t){b_(this,"source"),b_(this,"i"),b_(this,"length"),b_(this,"tokenizers"),this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(PLt)?r:null):r.match(ILt)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(DLt)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of OLt){const r=fke[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function RLt(e){return new $Lt(e).tokenize()}var MLt=Object.defineProperty,FLt=(e,t,n)=>t in e?MLt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jP=(e,t,n)=>(FLt(e,typeof t!="symbol"?t+"":t,n),n);class LLt{constructor(t){jP(this,"tokens"),jP(this,"length"),jP(this,"i"),this.tokens=RLt(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function hke(e){const t=new LLt(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function BLt(e){const[t,n]=pke(e);if(!t)throw new Error("Head cannot be null");return zLt(t,n)}function pke(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function NLt(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function zLt(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=pke(n);return[r,NLt(o,t)]}return[n,t]})}function mke(e){return lg(e,!1)}function lg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(lg(e.rhs,!1)):"",r="".concat(lg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(mke(o));const i=r[0];i&&lg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>lg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(lg(e.term,!1))}}var VLt=Object.defineProperty,HLt=(e,t,n)=>t in e?VLt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ULt=(e,t,n)=>(HLt(e,typeof t!="symbol"?t+"":t,n),n);class Hs{constructor(t){if(ULt(this,"expr"),!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=TP(r,t);let o="end"in this.expr&&this.expr.end||n();o=TP(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return dQ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return dQ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Hs({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return BLt(this.expr).map(t=>{const[n,r]=t;return{head:n?new Hs(n):null,tail:r?new Hs(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Hs(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[TP(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return mke(this.expr)}static fromPath(t){const n=hke(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Hs(n)}static attributeReference(t){return new Hs({type:"attribute",name:t})}static indexReference(t){return new Hs({type:"index",value:t})}}function dQ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function TP(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}var WLt=Object.defineProperty,YLt=(e,t,n)=>t in e?WLt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fQ=(e,t,n)=>(YLt(e,typeof t!="symbol"?t+"":t,n),n);class Mg{constructor(t,n){fQ(this,"head"),fQ(this,"tail"),this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=_n(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Mg(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Mg(new Hs({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Mg(t.head,t.tail)):[new Mg(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}var qLt=Object.defineProperty,GLt=(e,t,n)=>t in e?qLt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AP=(e,t,n)=>(GLt(e,typeof t!="symbol"?t+"":t,n),n);class np{constructor(t,n){AP(this,"active"),AP(this,"recursives"),AP(this,"payload"),this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new np(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Hs({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new np(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new np([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Hs.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Hs.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=hke(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Mg(null,new Hs(n));return new np(r.descend())}}function J2(e){return e!==null&&typeof e=="object"}var KLt=Object.defineProperty,ZLt=(e,t,n)=>t in e?KLt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hQ=(e,t,n)=>(ZLt(e,typeof t!="symbol"?t+"":t,n),n);class OE{constructor(t,n){hQ(this,"_value"),hQ(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new OE(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return J2(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return J2(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!J2(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new OE(this._value[t],this.path.concat(t)):null}get(){return this._value}}function XLt(e,t){const n=[],r=np.fromPath(e).setPayload(function(s){n.push(...s)}),o=new OE(t);return gke(r,o),n}function gke(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{pQ(o.target,t).forEach(i=>{gke(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(pQ(o,t))})}function pQ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return dT(n)}function QLt(e,t){return XLt(e,t).map(r=>({path:r.path,value:r.get()}))}const JLt=/^[a-z_$]+/;function vke(e){let t="";return e.forEach((n,r)=>{t+=e8t(n,r===0)}),t}function e8t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(J2(e)){const n=e;return Object.keys(e).map(r=>t8t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&JLt.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function t8t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}var n8t=Object.defineProperty,r8t=(e,t,n)=>t in e?n8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DP=(e,t,n)=>(r8t(e,typeof t!="symbol"?t+"":t,n),n);class yke{constructor(t,n,r){DP(this,"id"),DP(this,"path"),DP(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}var o8t=Object.defineProperty,i8t=(e,t,n)=>t in e?o8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IP=(e,t,n)=>(i8t(e,typeof t!="symbol"?t+"":t,n),n);function mQ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class gQ{constructor(t,n,r){IP(this,"path"),IP(this,"value"),IP(this,"id"),this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,mQ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),mQ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function NT(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}var s8t=Object.defineProperty,a8t=(e,t,n)=>t in e?s8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x_=(e,t,n)=>(a8t(e,typeof t!="symbol"?t+"":t,n),n);class l8t{constructor(t,n,r,o){x_(this,"location"),x_(this,"path"),x_(this,"items"),x_(this,"id"),this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=c8t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=u8t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=NT(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function c8t(e,t){let n=mLt(NT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function u8t(e,t){let n=_Lt(NT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}var d8t=Object.defineProperty,f8t=(e,t,n)=>t in e?d8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PP=(e,t,n)=>(f8t(e,typeof t!="symbol"?t+"":t,n),n);class bke{constructor(t,n,r){PP(this,"id"),PP(this,"path"),PP(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}var h8t=Object.defineProperty,p8t=(e,t,n)=>t in e?h8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OP=(e,t,n)=>(p8t(e,typeof t!="symbol"?t+"":t,n),n);class m8t{constructor(t,n){OP(this,"id"),OP(this,"path"),OP(this,"value"),this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(NT(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}var g8t=Object.defineProperty,v8t=(e,t,n)=>t in e?g8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$P=(e,t,n)=>(v8t(e,typeof t!="symbol"?t+"":t,n),n);function vQ(e,t){if(typeof t!="string")return t;const[n]=ISe(e,t,{allowExceedingIndices:!0});return n}class y8t{constructor(t,n,r){$P(this,"path"),$P(this,"dmpPatch"),$P(this,"id"),this.id=t,this.path=n,this.dmpPatch=OSe(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),l=vQ(this.dmpPatch,a);r=r.setIndex(i,l)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=vQ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function xke(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(xke(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:l}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new bke(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new yke(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new m8t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new y8t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new gQ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new gQ(e.id,u,-a[u]))}),l){let u,d;const f=l;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new l8t(e.id,u,d,f.items))}return t}var b8t=Object.defineProperty,x8t=(e,t,n)=>t in e?b8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yQ=(e,t,n)=>(x8t(e,typeof t!="symbol"?t+"":t,n),n);class Jl{constructor(t,n){yQ(this,"_value"),yQ(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new Jl(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return P1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return P1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!P1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new Jl(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new Jl(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new Jl(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new Jl(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new Jl(r,this.path)}setAttribute(t,n){if(!P1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new Jl(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!P1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new Jl(n,this.path)}}function P1(e){return e!==null&&typeof e=="object"}var w8t=Object.defineProperty,C8t=(e,t,n)=>t in e?w8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_8t=(e,t,n)=>(C8t(e,typeof t!="symbol"?t+"":t,n),n);let S8t=class{constructor(t){_8t(this,"patches"),this.patches=xke(t)}apply(t){const n=new Jl(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=np.fromPath(i.path).setPayload(i);n=aM(s,n)}return n}};function aM(e,t){const n=e.payload instanceof yke||e.payload instanceof bke;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const l=r.getIndex(a);if(!l)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,aM(s.matcher,l))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const l=aM(s.matcher,a);a!==l&&(r=r.setAttributeAccessor(s.target.name(),l))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&E8t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function E8t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const k8t=ed,Lt=jLt("mutator-document");var j8t=Object.defineProperty,T8t=(e,t,n)=>t in e?j8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RP=(e,t,n)=>(T8t(e,typeof t!="symbol"?t+"":t,n),n);class xc{constructor(t){RP(this,"params"),RP(this,"compiled"),RP(this,"_appliesToMissingDocument"),this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=k8t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new S8t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Lt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Lt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new xc({mutations:r})}}var A8t=Object.defineProperty,D8t=(e,t,n)=>t in e?A8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,el=(e,t,n)=>(D8t(e,typeof t!="symbol"?t+"":t,n),n);let I8t=class{constructor(t){el(this,"incoming",[]),el(this,"submitted",[]),el(this,"pending",[]),el(this,"HEAD"),el(this,"EDGE"),el(this,"onRebase"),el(this,"onMutation"),el(this,"onConsistencyChanged"),el(this,"onRemoteMutation"),el(this,"inconsistentAt",null),el(this,"lastStagedAt",null),this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Lt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Lt.enabled&&Lt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Lt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Lt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Lt.enabled&&(Lt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Lt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Lt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Lt("needRebase === %s",n)),n}return Lt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Lt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Lt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Lt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Lt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=xc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Yt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};var P8t=Object.defineProperty,O8t=(e,t,n)=>t in e?P8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hm=(e,t,n)=>(O8t(e,typeof t!="symbol"?t+"":t,n),n);class w_{constructor(t){Hm(this,"BASIS"),Hm(this,"PRESTAGE"),Hm(this,"setOperations"),Hm(this,"documentPresent"),Hm(this,"out",[]),Hm(this,"staged"),t?Lt("Reset mutation buffer to rev %s",t._rev):Lt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Lt("Purged mutation buffer"),n=new xc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Lt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Lt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=QLt(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=PSe(DSe(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=vke(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new xc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new xc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}var $8t=Object.defineProperty,R8t=(e,t,n)=>t in e?$8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ui=(e,t,n)=>(R8t(e,typeof t!="symbol"?t+"":t,n),n);const M8t=1e3*60;class F8t{constructor(t,n){let{resolve:r,reject:o}=n;ui(this,"mutations"),ui(this,"tries"),ui(this,"resolve"),ui(this,"reject"),this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return xc.applyAll(t,this.mutations)}squash(t){const n=xc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const bQ=(e,t)=>e.concat(t.mutations);class L8t{constructor(t){ui(this,"mutations"),ui(this,"document"),ui(this,"LOCAL"),ui(this,"commits"),ui(this,"buffer"),ui(this,"onMutation"),ui(this,"onRemoteMutation"),ui(this,"onRebase"),ui(this,"onDelete"),ui(this,"onConsistencyChanged"),ui(this,"commitHandler"),ui(this,"committerRunning",!1),this.buffer=new w_(t),this.document=new I8t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Lt("Document state reset to revision %s",t._rev):Lt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Lt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Lt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Lt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Lt("Committing local changes");const r=this.buffer.purge();this.commits.push(new F8t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new w_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Lt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Lt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,M8t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new w_(this.LOCAL),this.committerRunning=!1}};Lt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Lt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Lt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new w_(this.LOCAL),this.onMutation&&this.onMutation(t);return}Lt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Lt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Yt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(bQ,[]),n.reduce(bQ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var wke={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,l,u,d;return o=this._getShortAt(r),l=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[l]*i<=4?u=this._getTagValue(r+8,l,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,l,i)),l===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,l;for(l=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(i);return l}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(gs)})(wke);var B8t=wke.ExifReader,N8t=function(e){var t=new B8t;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[z8t(o)]=n[o].description;return r};function z8t(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const V8t=Ie(N8t);var H8t=Kf,U8t=qf,W8t=Gf;function Y8t(e){return function(t,n,r){var o=Object(t);if(!U8t(t)){var i=H8t(n);t=W8t(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var q8t=Y8t,G8t=q8t,K8t=iEe,Z8t=G8t(K8t),X8t=Z8t;const Cke=Ie(X8t);var Q8t=Math.ceil,J8t=Math.max;function e9t(e,t,n,r){for(var o=-1,i=J8t(Q8t((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var t9t=e9t,n9t=t9t,r9t=zL,MP=oEe;function o9t(e){return function(t,n,r){return r&&typeof r!="number"&&r9t(t,n,r)&&(n=r=void 0),t=MP(t),n===void 0?(n=t,t=0):n=MP(n),r=r===void 0?t<n?1:-1:MP(r),n9t(t,n,r,e)}}var i9t=o9t,s9t=i9t,a9t=s9t(),l9t=a9t;const Q9=Ie(l9t);var _ke={exports:{}};(function(e){(function(t){var n={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],o={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},i={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},s={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,y){var x="-",b="",w="",C=!0,_={},S,E,j,k,T,A,D,I,P,R,$,U,L,W,Y="";if(typeof g!="string")return"";if(typeof y=="string"&&(x=y),D=s.en,I=i.en,typeof y=="object"){S=y.maintainCase||!1,_=y.custom&&typeof y.custom=="object"?y.custom:_,j=+y.truncate>1&&y.truncate||!1,k=y.uric||!1,T=y.uricNoSlash||!1,A=y.mark||!1,C=!(y.symbols===!1||y.lang===!1),x=y.separator||x,k&&(Y+=a),T&&(Y+=l),A&&(Y+=u),D=y.lang&&s[y.lang]&&C?s[y.lang]:C?s.en:{},I=y.lang&&i[y.lang]?i[y.lang]:y.lang===!1||y.lang===!0?{}:i.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(V){_[V+""]=V+""}),E=!0):E=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(V){_[V+""]=V+""}),Object.keys(_).forEach(function(V){var H;V.length>1?H=new RegExp("\\b"+p(V)+"\\b","gi"):H=new RegExp(p(V),"gi"),g=g.replace(H,_[V])});for($ in _)Y+=$}for(Y+=x,Y=p(Y),g=g.replace(/(^\s+|\s+$)/g,""),L=!1,W=!1,R=0,U=g.length;R<U;R++)$=g[R],m($,_)?L=!1:I[$]?($=L&&I[$].match(/[A-Za-z0-9]/)?" "+I[$]:I[$],L=!1):$ in n?(R+1<U&&r.indexOf(g[R+1])>=0?(w+=$,$=""):W===!0?($=o[w]+n[$],w=""):$=L&&n[$].match(/[A-Za-z0-9]/)?" "+n[$]:n[$],L=!1,W=!1):$ in o?(w+=$,$="",R===U-1&&($=o[w]),W=!0):D[$]&&!(k&&a.indexOf($)!==-1)&&!(T&&l.indexOf($)!==-1)?($=L||b.substr(-1).match(/[A-Za-z0-9]/)?x+D[$]:D[$],$+=g[R+1]!==void 0&&g[R+1].match(/[A-Za-z0-9]/)?x:"",L=!0):(W===!0?($=o[w]+$,w="",W=!1):L&&(/[A-Za-z0-9]/.test($)||b.substr(-1).match(/A-Za-z0-9]/))&&($=" "+$),L=!1),b+=$.replace(new RegExp("[^\\w\\s"+Y+"_-]","g"),x);return E&&(b=b.replace(/(\w)(\S*)/g,function(V,H,Q){var F=H.toUpperCase()+(Q!==null?Q:"");return Object.keys(_).indexOf(F.toLowerCase())<0?F:F.toLowerCase()})),b=b.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&b.length>j&&(P=b.charAt(j)===x,b=b.slice(0,j),P||(b=b.slice(0,b.lastIndexOf(x)))),!S&&!E&&(b=b.toLowerCase()),b},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var y in g)if(g[y]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(gs)})(_ke);var c9t=_ke.exports,u9t=c9t;const Ske=Ie(u9t);var d9t=S0,f9t=zL;function h9t(e){return d9t(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&f9t(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var p9t=h9t,m9t=k0,g9t=p9t,v9t=Gf,y9t=g9t(function(e,t,n,r){m9t(t,v9t(t),e,r)}),b9t=y9t;const x9t=Ie(b9t);var w9t=Pc;function C9t(e,t){return w9t(t,function(n){return e[n]})}var _9t=C9t,S9t=_9t,E9t=Gf;function k9t(e){return e==null?[]:S9t(e,E9t(e))}var Eke=k9t;const j9t=Ie(Eke);var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.SKIP=jke;var kke=Hp.reduce=Tke;Hp.withCustomPathSegment=Hp.SKIP_MARKER=void 0;function J9(e,t){return D9t(e)||A9t(e,t)||T9t()}function T9t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function A9t(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function D9t(e){if(Array.isArray(e))return e}function eS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eS=function(n){return typeof n}:eS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eS(e)}function zT(e,t,n){return t}function I9t(e){return Array.isArray(e)?"array":e===null?"null":eS(e)}var e7={_:"SKIP_MARKER"};Hp.SKIP_MARKER=e7;function jke(e){return[e7,e]}function t7(e,t,n,r){var o=t(e,n,r);return o===jke?[!0,e]:Array.isArray(o)&&o[0]===e7?[!0,o[1]]:[!1,o]}function P9t(e,t,n,r){var o=t7(e,t,n,r),i=J9(o,2),s=i[1];return s}function O9t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:zT,i=t7(e,t,n,r),s=J9(i,2),a=s[0],l=s[1];return a?l:Object.keys(n).reduce(function(u,d){return n7(u,t,n[d],r.concat(o(n[d],d,n)),o)},l)}function $9t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:zT,i=t7(e,t,n,r),s=J9(i,2),a=s[0],l=s[1];return a?l:n.reduce(function(u,d,f){return n7(u,t,d,r.concat(o(d,f,n)),o)},l)}function n7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:zT,i=I9t(n);return i==="object"?O9t(e,t,n,r,o):i==="array"?$9t(e,t,n,r,o):P9t(e,t,n,r)}function Tke(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:zT;return n7(n,t,e,[],r)}var R9t=function(t){return function(n,r,o){return Tke(n,r,o,t)}};Hp.withCustomPathSegment=R9t;function Ake(e){return t=>So(()=>{const n=new Tr;return t.pipe(vwe(()=>n,{leading:!0,trailing:!0}),fwe((r,o)=>ewe(e(r,o),Ec).pipe(hwe(()=>{n.next()}))))})}var M9t=Object.defineProperty,F9t=(e,t,n)=>t in e?M9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xQ=(e,t,n)=>(F9t(e,typeof t!="symbol"?t+"":t,n),n);function L9t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B9t(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(L9t(n));return new RegExp("^".concat(t.join("."),"$"))}class Dke{constructor(t){xQ(this,"pattern"),xQ(this,"patternRe"),this.pattern=t,this.patternRe=B9t(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var N9t=Object.defineProperty,z9t=(e,t,n)=>t in e?N9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O1=(e,t,n)=>(z9t(e,typeof t!="symbol"?t+"":t,n),n);class Ud{constructor(t){O1(this,"type","stream"),O1(this,"generator"),O1(this,"ticker"),O1(this,"isDone"),O1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const V9t=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function H9t(e){return V9t.test(e)?new Date(e):null}function U9t(e){const t=yh(e.getUTCFullYear(),4),n=yh(e.getUTCMonth()+1,2),r=yh(e.getUTCDate(),2),o=yh(e.getUTCHours(),2),i=yh(e.getUTCMinutes(),2),s=yh(e.getUTCSeconds(),2);let a="";const l=e.getMilliseconds();return l!=0&&(a=".".concat(yh(l,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function yh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var W9t=Object.defineProperty,Y9t=(e,t,n)=>t in e?W9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lM=(e,t,n)=>(Y9t(e,typeof t!="symbol"?t+"":t,n),n);class od{constructor(t,n){lM(this,"data"),lM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield nr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Oe=new od(null,"null"),Io=new od(!0,"boolean"),oo=new od(!1,"boolean");class Bv{constructor(t){lM(this,"date"),this.date=t}static parseToValue(t){const n=H9t(t);return n?new od(new Bv(n),"datetime"):Oe}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Bv(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return U9t(this.date)}toJSON(){return this.toString()}}function Oa(e){return Number.isFinite(e)?new od(e,"number"):Oe}function $a(e){return new od(e,"string")}function cM(e){return new od(e,"datetime")}function q9t(e){return new od(e,"path")}function G9t(e){return e&&typeof e.next=="function"}function nr(e){return G9t(e)?new Ud(async function*(){for await(const t of e)yield nr(t)}):e==null?Oe:new od(e,Nv(e))}function Nv(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof Dke?"path":e instanceof Bv?"datetime":typeof e}function FP(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const K9t=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Z9t=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,Ike=/(\b\.+|\.+\b)/g,X9t=1024;function Q9t(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function Pke(e){return e.replace(Ike,"").match(K9t)||[]}function J9t(e){return Oke(e).map(n=>r=>r.some(o=>n.test(o)))}function Oke(e){return(e.replace(Ike,"").match(Z9t)||[]).map(n=>new RegExp("^".concat(n.slice(0,X9t).replace(/\*/g,".*"),"$"),"i"))}async function $E(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const wQ={datetime:1,number:2,string:3,boolean:4};function rp(e,t){const n=Nv(e),r=Nv(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function e7t(e,t){const n=Nv(e),r=Nv(t),o=wQ[n]||100,i=wQ[r]||100;if(o!==i)return o-i;let s=rp(e,t);return s===null&&(s=0),s}const t7t={"==":function(t,n){return FP(t,n)?Io:oo},"!=":function(t,n){return FP(t,n)?oo:Io},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=rp(t.data,n.data);return r===null?Oe:r>0?Io:oo},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=rp(t.data,n.data);return r===null?Oe:r>=0?Io:oo},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=rp(t.data,n.data);return r===null?Oe:r<0?Io:oo},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Oe;const r=rp(t.data,n.data);return r===null?Oe:r<=0?Io:oo},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Oe:n.data.matches(t.data)?Io:oo;if(n.isArray()){for await(const r of n)if(FP(t,r))return Io;return oo}return Oe},match:async function(t,n){let r=[],o=[];return await $E(t,a=>{r=r.concat(Pke(a))}),await $E(n,a=>{o=o.concat(J9t(a))})&&Q9t(r,o)?Io:oo},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?cM(t.data.add(n.data)):t.type==="number"&&n.type==="number"?Oa(t.data+n.data):t.type==="string"&&n.type==="string"?$a(t.data+n.data):t.type==="object"&&n.type==="object"?nr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?nr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Ud(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Oe},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?cM(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?Oa(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?Oa(t.data-n.data):Oe},"*":C_((e,t)=>e*t),"/":C_((e,t)=>e/t),"%":C_((e,t)=>e%t),"**":C_((e,t)=>Math.pow(e,t))};function C_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Oa(r)}return Oe}}var n7t=Object.defineProperty,r7t=(e,t,n)=>t in e?n7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Um=(e,t,n)=>(r7t(e,typeof t!="symbol"?t+"":t,n),n);class cx{constructor(t,n,r,o,i){Um(this,"params"),Um(this,"source"),Um(this,"value"),Um(this,"parent"),Um(this,"context"),Um(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new cx(this.params,this.source,t,this.context,this.parent):new cx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function r7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r7;const r=o7t[e.type];return r(e,t,n)}function CQ(e,t){return"then"in e?e.then(t):t(e)}const o7t={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return nr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Oe;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Oe;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=t7t[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),l=n(i,t);return"then"in a||"then"in l?(async()=>s(await a,await l))():s(a,l)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Oe},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),l=await n(o,t),u=await n(i,t),d=rp(await a.get(),await l.get());if(d===null)return Oe;const f=rp(await a.get(),await u.get());return f===null?Oe:s?d>=0&&f<=0?Io:oo:d>=0&&f<0?Io:oo},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Ud(async function*(){for await(const s of i){const a=t.createNested(s),l=await n(o,a);l.type==="boolean"&&l.data===!0&&(yield s)}}):Oe},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Oe;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?nr(i.data[o]):Oe},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Oe;const s=await i.get(),a=o<0?o+s.length:o;return nr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Oe;const l=await a.get();let u=o,d=i;return u<0&&(u=l.length+u),d<0&&(d=l.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),nr(l.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Oe;const i=o.data._ref;if(typeof i!="string")return Oe;if(t.context.dereference)return nr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Oe},Value(e){let{value:t}=e;return nr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const l=await n(i.value,t);l.type==="object"&&Object.assign(o,l.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return nr(o)},Array(e,t,n){let{elements:r}=e;return new Ud(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?Io:i.type!=="boolean"||s.type!=="boolean"?Oe:oo},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?oo:i.type!=="boolean"||s.type!=="boolean"?Oe:Io},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Oe:o.data?oo:Io},Neg(e,t,n){let{base:r}=e;return CQ(n(r,t),o=>o.type!=="number"?Oe:Oa(-o.data))},Pos(e,t,n){let{base:r}=e;return CQ(n(r,t),o=>o.type!=="number"?Oe:Oa(o.data))},Asc(){return Oe},Desc(){return Oe},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Oe},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Ud(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Oe},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Ud(async function*(){for await(const s of i){const a=t.createHidden(s),l=await n(o,a);if(l.isArray())for await(const u of l)yield u;else yield l}}):Oe}};function $ke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=nr(t.root),r=nr(t.dataset),o={...t.params},i=new cx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?nr(t.after):null,before:t.before?nr(t.before):null,dereference:t.dereference},null);return r7(e,i)}function my(e){switch(e.type){case"Group":return my(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return my(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return my(e.left)&&my(e.right);default:return!1}default:return!1}}const i7t=new cx({},Oe,Oe,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function LP(e){return my(e)?Rke(e):null}function Rke(e){const t=r7(e,i7t,Rke);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function s7t(e){if(e.type==="object")return Fke(e.data);if(e.isArray()){const t=await Mke(e);if(t.length>0)return t.join(`

`)}return null}async function Mke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=Fke(n.data);r!==null&&t.push(r)}else n.isArray()&&await Mke(n,t);return t}function Fke(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const _Q=1.2;async function cg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return a7t(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await cg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await cg(e.left,t,n),o=await cg(e.right,t,n);return r+o}case"And":{const r=await cg(e.left,t,n),o=await cg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function a7t(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await $E(o,d=>{s=s.concat(Pke(d))}),!await $E(i,d=>{a=a.concat(Oke(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(_Q+1)/(f+_Q)}return u}function uM(e,t){switch(Nv(e)){case"array":for(const n of e)if(uM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(uM(n,t))return!0;break}return!1}function l7t(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const $n={};$n.anywhere=async function(){throw new Error("not implemented")};$n.anywhere.arity=1;$n.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Oe};$n.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Oe;let i=0;for await(const s of o)i++;return Oa(i)};$n.count.arity=1;$n.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Oe:Bv.parseToValue(o.data)};$n.dateTime.arity=1;$n.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?oo:Io};$n.defined.arity=1;$n.identity=async function(t,n){return $a(n.context.identity)};$n.identity.arity=0;$n.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return Oa(l7t(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return Oa(i)}return Oe};$n.length.arity=1;$n.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Oe:q9t(new Dke(o.data))};$n.path.arity=1;$n.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return $a("".concat(o.data));default:return Oe}};$n.string.arity=1;$n.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const l of a)l.type==="string"&&o.add(l.data)}if(o.size===0)return oo;const i=await n.value.get();return uM(i,o)?Io:oo};$n.references.arity=e=>e>=1;$n.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Oe;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Oe;s=a.data}return s===0?i<0?Oa(-Math.round(-i)):Oa(Math.round(i)):Oa(Number(i.toFixed(s)))};$n.round.arity=e=>e>=1&&e<=2;$n.now=async function(t,n){return $a(n.context.timestamp.toISOString())};$n.now.arity=0;$n.boost=async function(){throw new Error("unexpected boost call")};$n.boost.arity=2;const $l={};$l.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Oe:$a(r.data.toLowerCase())};$l.lower.arity=1;$l.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Oe:$a(r.data.toUpperCase())};$l.upper.arity=1;$l.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Oe;const o=await n(e[1],t);return o.type!=="string"?Oe:r.data.length===0?nr([]):o.data.length===0?nr(Array.from(r.data)):nr(r.data.split(o.data))};$l.split.arity=2;$n.lower=$l.lower;$n.upper=$l.upper;$l.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Oe;const o=await n(e[1],t);return o.type!=="string"?Oe:r.data.startsWith(o.data)?Io:oo};$l.startsWith.arity=2;const bm={};bm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;const o=await n(e[1],t);if(o.type!=="string")return Oe;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Oe}s=!0}return nr(i)};bm.join.arity=2;bm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Ud(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Oe};bm.compact.arity=1;bm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Ud(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Oe};bm.unique.arity=1;const o7={};o7.text=async function(e,t,n){const r=await n(e[0],t),o=await s7t(r);return o===null?Oe:$a(o)};o7.text.arity=1;const i7={};i7.projectId=async function(e,t){return t.context.sanity?$a(t.context.sanity.projectId):Oe};i7.dataset=async function(e,t){return t.context.sanity?$a(t.context.sanity.dataset):Oe};const Iw={};Iw.order=async function(t,n,r,o){if(await!0,!t.isArray())return Oe;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const l=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}l.push(p),u++}return l.sort((d,f)=>{for(let p=0;p<a;p++){let m=e7t(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),nr(l.map(d=>d[0]))};Iw.order.arity=e=>e>=1;Iw.score=async function(t,n,r,o){if(!t.isArray())return Oe;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const l=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await cg(f,l,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,l)=>l._score-a._score),nr(s)};Iw.score.arity=e=>e>=1;const Jf={};Jf.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?$a("update"):r?$a("create"):n?$a("delete"):Oe};Jf.changedAny=()=>{throw new Error("not implemented")};Jf.changedAny.arity=1;Jf.changedAny.mode="delta";Jf.changedOnly=()=>{throw new Error("not implemented")};Jf.changedOnly.arity=1;Jf.changedOnly.mode="delta";const Pw={};Pw.changedAny=()=>{throw new Error("not implemented")};Pw.changedAny.arity=3;Pw.changedOnly=()=>{throw new Error("not implemented")};Pw.changedOnly.arity=3;const id={};id.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;(o===void 0||i.data<o)&&(o=i.data)}return nr(o)};id.min.arity=1;id.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;(o===void 0||i.data>o)&&(o=i.data)}return nr(o)};id.max.arity=1;id.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Oe;o+=i.data}return nr(o)};id.sum.arity=1;id.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Oe;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Oe;o+=s.data,i++}return i===0?Oe:nr(o/i)};id.avg.arity=1;const s7={};s7.now=async function(t,n,r){return cM(new Bv(n.context.timestamp))};s7.now.arity=0;const c7t={global:$n,string:$l,array:bm,pt:o7,delta:Jf,diff:Pw,sanity:i7,math:id,dateTime:s7};var u7t=Object.defineProperty,d7t=(e,t,n)=>t in e?u7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$1=(e,t,n)=>(d7t(e,typeof t!="symbol"?t+"":t,n),n);class f7t{constructor(t,n,r){$1(this,"string"),$1(this,"marks"),$1(this,"index"),$1(this,"parseOptions"),$1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const h7t=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,BP=/^\d+/,op=/^[a-zA-Z_][a-zA-Z_0-9]*/,__=1,S_=2,E_=3,Jr=4,Wm=4,k_=6,j_=6,T_=7,A_=7,D_=7,I_=8,p7t=10,m7t=10,g7t=8;function v7t(e){let t=0;t=Je(e,t);let n=Tn(e,t,0);return n.type==="error"?n:(t=Je(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function Tn(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=Tn(e,Je(e,t+1),p7t);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=Tn(e,Je(e,t+1),g7t);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=Tn(e,Je(e,t+1),0);if(u.type==="error")return u;switch(t=Je(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Je(e,t+1);;){if(u=Tn(e,t,0),u.type==="error")return u;if(t=Je(e,u.position),e[t]!==",")break;t=Je(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=Tn(e,Je(e,t+1),m7t);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=dM(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Je(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Je(e,t+3));let u=Tn(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Je(e,t),e[t]!==","||(t=Je(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=y7t(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=nc(e,t+1,op);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=nc(e,t,BP);if(u){t+=u;let f="integer";if(e[t]==="."){let p=nc(e,t+1,BP);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=nc(e,t,BP);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=nc(e,t,op);if(d){switch(t+=d,e[t]){case":":case"(":{let f=EQ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Je(e,t);if(u===e.length){t=u;break}if(a=SQ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=SQ(e,Je(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>__||s<=__)break e;let p=Tn(e,Je(e,u+2),__);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=__;break}case"=":{if(n>Jr||s<=Jr)break e;let p=Tn(e,Je(e,u+2),Jr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=Jr;break}default:break e}break}case"+":{if(n>k_||s<k_)break e;let f=Tn(e,Je(e,u+1),k_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=k_;break}case"-":{if(n>j_||s<j_)break e;let f=Tn(e,Je(e,u+1),j_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=j_;break}case"*":{if(e[u+1]==="*"){if(n>I_||s<=I_)break e;let p=Tn(e,Je(e,u+2),I_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=I_;break}if(n>T_||s<T_)break e;let f=Tn(e,Je(e,u+1),T_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=T_;break}case"/":{if(n>A_||s<A_)break e;let f=Tn(e,Je(e,u+1),A_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=A_;break}case"%":{if(n>D_||s<D_)break e;let f=Tn(e,Je(e,u+1),D_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=D_;break}case"<":case">":{if(n>Jr||s<=Jr)break e;let f=u+1;e[f]==="="&&f++;let p=Tn(e,Je(e,f),Jr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=Jr;break}case"|":{if(e[u+1]==="|"){if(n>S_||s<S_)break e;let f=Tn(e,Je(e,u+2),S_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=S_}else{if(n>11||s<11)break e;let f=Je(e,u+1),p=nc(e,f,op);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=EQ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>E_||s<E_)break e;let f=Tn(e,Je(e,u+2),E_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=E_;break}case"!":{if(e[u+1]!=="="||n>Jr||s<=Jr)break e;let f=Tn(e,Je(e,u+2),Jr+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=Jr;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>Wm||s<Wm)break e;i.unshift({name:"desc",position:r}),t=u+4,s=Wm;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>Wm||s<Wm)break e;i.unshift({name:"asc",position:r}),t=u+3,s=Wm;break}default:switch(b7t(e,u,op)){case"in":{if(n>Jr||s<=Jr)break e;t=Je(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Je(e,t+1));let m=t,v=Tn(e,t,Jr+1);if(v.type==="error")return v;if(t=Je(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Je(e,t+3)):t=Je(e,t+2);let y=Tn(e,t,Jr+1);if(y.type==="error")return y;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,y.marks),t=y.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Je(e,t),e[t]!==")")return{type:"error",position:t};t++}s=Jr;break}case"match":{if(n>Jr||s<=Jr)break e;let p=Tn(e,Je(e,u+5),Jr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let l=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:l}}function SQ(e,t){let n=t;switch(e[t]){case".":{t=Je(e,t+1);let s=t,a=nc(e,t,op);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Je(e,t),i=nc(e,o,op);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Je(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=Tn(e,t,0);if(a.type==="error")return a;if(t=Je(e,a.position),e[t]==="."&&e[t+1]==="."){let l="inc_range";e[t+2]==="."?(l="exc_range",t+=3):t+=2,t=Je(e,t);let u=Tn(e,t,0);return u.type==="error"?u:(t=Je(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Je(e,t+1),e[t]==="{"){let s=dM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=dM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function EQ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Je(e,n+2);let i=nc(e,n,op);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Je(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Je(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Je(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=Tn(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Je(e,i.position),e[n]!==","||(n=Je(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function dM(e,t){let n=[{name:"object",position:t}];for(t=Je(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Je(e,t+3),e[t]!=="}"&&e[t]!==","){let o=Tn(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=Tn(e,t,0);if(o.type==="error")return o;let i=Je(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=Tn(e,Je(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Je(e,t),e[t]!==",")break;t=Je(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function y7t(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Je(e,t){return t+nc(e,t,h7t)}function nc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function b7t(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Aa(e,t){return n=>t(e(n))}function fM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function x7t(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function tS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Aa(e,t.build)};case"a-b":return{type:"a-b",build:Aa(e,t.build)};case"b-b":return{type:"a-a",build:Aa(e,fM(t.build))};case"b-a":return{type:"a-a",build:Aa(e,x7t(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function NP(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Aa(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Aa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function w7t(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Aa(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Aa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function C7t(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Aa(fM(e),t.build)};case"a-b":return{type:"a-b",build:Aa(fM(e),t.build)};case"b-a":return{type:"b-a",build:Aa(e,t.build)};case"b-b":return{type:"b-b",build:Aa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var _7t=Object.defineProperty,S7t=(e,t,n)=>t in e?_7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hM=(e,t,n)=>(S7t(e,typeof t!="symbol"?t+"":t,n),n);const E7t={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function k7t(e){const t=parseInt(e,16);return String.fromCharCode(t)}class $i extends Error{constructor(){super(...arguments),hM(this,"name","GroqQueryError")}}const st={group(e){return{type:"Group",base:e.process(st)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(st).n+1}},traverse(e){const t=e.process(st),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(Lke));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=tS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(st)}},pos(e){return{type:"Pos",base:e.process(st)}},add(e){const t=e.process(st),n=e.process(st);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(st),n=e.process(st);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(st),n=e.process(st);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(st),n=e.process(st);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(st),n=e.process(st);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(st),n=e.process(st);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(st),n=e.processString(),r=e.process(st);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(st),n=e.getMark().name==="inc_range";e.shift();const r=e.process(st),o=e.process(st);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=E7t[r];break}case"unicode_hex":e.shift(),t+=k7t(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(j7t));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(st);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(st));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new $i("unexpected argument to select()");e.shift();const a=e.process(st),l=e.process(st);s.alternatives.push({type:"SelectAlternative",condition:a,value:l})}else{if(s.fallback)throw new $i("unexpected argument to select()");const a=e.process(st);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)T7t(t,n,r.length)?(e.process(pM),r.push({type:"Selector"})):r.push(e.process(st));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new $i("unexpected boost");const o=c7t[t];if(!o)throw new $i("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new $i("Undefined function: ".concat(n));if(i.arity!==void 0&&kQ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new $i("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(st);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new $i("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(st)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(st)});continue}}o.push(e.process(st))}e.shift(),e.allowBoost=i;const s=Iw[r];if(!s)throw new $i("Undefined pipe function: ".concat(r));return s.arity&&kQ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new $i("unexpected =>")},and(e){const t=e.process(st),n=e.process(st);return{type:"And",left:t,right:n}},or(e){const t=e.process(st),n=e.process(st);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(st)}},asc(e){throw new $i("unexpected asc")},desc(e){throw new $i("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},j7t={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(st),r=e.process(st);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(st);return{type:"ObjectAttributeValue",name:Bke(t),value:t}},object_pair(e){const t=e.process(st);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(st);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(st)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},Lke={square_bracket(e){const t=e.process(st),n=LP(t);return n&&n.type==="number"?r=>w7t(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>NP(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>tS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(st),r=e.process(st),o=LP(n),i=LP(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new $i("slicing must use constant numbers");return s=>tS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(st);return n=>C7t(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>NP(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>NP(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>tS(n=>({type:"ArrayCoerce",base:n}),t)}},pM={group(e){return e.process(pM),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(pM);e.getMark().name!=="traversal_end";)e.process(Lke);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=st.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function Bke(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return Bke(e.base);throw new $i("Cannot determine property key for type: ".concat(e.type))}function kQ(e,t,n){if(typeof t=="number"){if(n!==t)throw new $i("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new $i("Incorrect number of arguments to function ".concat(e,"()."))}function T7t(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class A7t extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),hM(this,"position"),hM(this,"name","GroqSyntaxError"),this.position=t}}function Nke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=v7t(e);if(n.type==="error")throw new A7t(n.position);return new f7t(e,n.marks,t).process(st)}function D7t(e,t=vJe){return n=>{const r=n;let o=null,i=null;const s=new Tr,a=s.pipe(Na((l,u)=>l+u,0),rt(l=>l===0?wi(e,t).pipe(Wn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&l>0?wi(0,t).pipe(Wn(()=>{o||(o=r.connect())})):SL));return iet(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var I7t=Object.defineProperty,P7t=(e,t,n)=>t in e?I7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ym=(e,t,n)=>(P7t(e,typeof t!="symbol"?t+"":t,n),n);const O7t=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class zke{constructor(t,n,r){Ym(this,"model"),Ym(this,"root"),Ym(this,"patch"),Ym(this,"i"),Ym(this,"inputStack"),Ym(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=O7t[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function Ow(e){return e>>16?4:e>>11?3:e>>7?2:1}function mM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=Ow(r);o==4&&n++,t+=o}return t}function jQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=Ow(i);s===4&&o++,r+=s}return o}function $7t(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=Ow(i);r+=a,o+=a===4?2:1}return r}function R7t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let l=Ow(s);o+=l,i+=l===4?2:1}return o}var M7t=Object.defineProperty,F7t=(e,t,n)=>t in e?M7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L7t=(e,t,n)=>(F7t(e,typeof t!="symbol"?t+"":t,n),n);class gM{constructor(t){L7t(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:mM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(au(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let l=0;for(n=0;l<i;n++){let u=t.value.codePointAt(n),d=Ow(u);d===4&&n++,l+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let l of t.uses){let u=l.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let l=s;l<a;l++){let u=i.parts[l];this.stringAppendPart(t,u)}}}function B7t(e,t){return{data:e,startMeta:t,endMeta:t}}function au(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>au(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=au(o)}}return e.data=t,t}function vM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function yM(e,t){let n=vM(e),r=vM(t);if(n!==r)return t;let o=new gM(e.endMeta),i=new gM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),l=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=yM(v,m),a.fields[p]===v&&l++)}return u===d&&u===l?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let l=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=yM(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&l++;return l===0?e:t}case"null":case"boolean":case"number":{if(au(e)===au(t))return e;break}case"string":{let s=au(e),a=au(t);if(s===a)return e;let l=i.copyString(null),u=$7t(s,a),d=R7t(s,a,u),f=mM(a),p=mM(s);0<u&&i.stringAppendSlice(l,e,0,u),u<f-d&&i.stringAppendSlice(l,t,u,f-d),p-d<p&&i.stringAppendSlice(l,e,p-d,p);let m=i.finalize(l);if(au(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function N7t(e,t,n){let r=new gM(n);return new zke(r,e,t).process()}var tl=Object.freeze({__proto__:null,applyPatch:N7t,getType:vM,rebaseValue:yM,unwrap:au,wrap:B7t});class z7t{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=jQ(i,r),a=jQ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function bM(e,t){let n=e;return new zke(new z7t,n,t).process()}function eh(e,t,n){return delete e[t],e[t]=n,n}function V7t(e,t){const n=H7t(e,t);return U7t(n,e,t)}function H7t(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function U7t(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],l=e[r-1][o];a>l?--o:--r}return i}function W7t(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const l=TQ(e,t);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return eh(this,"items",l)}}}const r=DQ(e),o=DQ(t);if(r&&o)return q7t(e,r,t,o);const i=TQ(e,t);return i?a7(e,t,i,!1):Y7t(e,t)}function a7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function TQ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=VT(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function Y7t(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:wm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:xm(i,void 0),annotation:i.annotation})}return a7(e,t,r,!0)}function q7t(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){AQ(t.index,u,d),AQ(r.index,u,f);const m=e.at(d),v=n.at(f),g=VT(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const l=V7t(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=l.prevIndices.indexOf(u);if(f!==-1){a(d,u,l.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!l.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:xm(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:wm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(G7t),a7(e,n,i,s)}function G7t(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function AQ(e,t,n){const r=e.get(t);K7t(r,n),r.length===0&&e.delete(t)}function K7t(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function DQ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const l=i.get("_key");if(l&&l.type==="string"&&(s="k".concat(l.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function Z7t(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:xm(i,void 0),annotation:e.annotationAt(o)})}return eh(this,"items",r)}}}function X7t(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:wm(i,void 0),annotation:e.annotationAt(o)})}return eh(this,"items",r)}}}function Q7t(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=J7t(e,t);return eh(this,"segments",i)}}}function J7t(e,t){const n=[],r=V8(ww(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case Ct:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:for(const l of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});o+=a.length;break;case Yn:for(const l of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function eBt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return eh(this,"segments",r)}}}function tBt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return eh(this,"segments",r)}}}function nBt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:xm(e,void 0),toType:t.type,toValue:t.value,toDiff:wm(t,void 0),annotation:t.annotation}}const IQ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function rBt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(IQ.has(a))continue;const l=e.get(a),u=t.get(a);if(u){const d=VT(l,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=xm(l,void 0),o=!0}for(const a of t.keys){if(IQ.has(a)||e.get(a))continue;const l=t.get(a);r[a]=wm(l,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function oBt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=xm(i,void 0)}return eh(this,"fields",r)}}}function iBt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=wm(i,void 0)}return eh(this,"fields",r)}}}function sBt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function aBt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function VT(e,t){return e.type!==t.type?e.type==="null"?wm(t,null):t.type==="null"?xm(e,null):nBt(e,t):lBt(e.type,e,t)}function lBt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return aBt(t,n);case"number":return sBt(t,n);case"string":return Q7t(t,n);case"array":return W7t(t,n);case"object":return rBt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function xm(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return eBt(e,t);case"array":return Z7t(e,t);case"object":return oBt(e,t);default:throw new Error("Unhandled diff type")}}function wm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return tBt(e,t);case"array":return X7t(e,t);case"object":return iBt(e,t);default:throw new Error("Unhandled diff type")}}var cBt=Object.defineProperty,uBt=(e,t,n)=>t in e?cBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R1=(e,t,n)=>(uBt(e,typeof t!="symbol"?t+"":t,n),n);class dBt{constructor(t,n){R1(this,"type","array"),R1(this,"length"),R1(this,"value"),R1(this,"annotation"),R1(this,"elements",[]),this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=l7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}var fBt=Object.defineProperty,hBt=(e,t,n)=>t in e?fBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M1=(e,t,n)=>(hBt(e,typeof t!="symbol"?t+"":t,n),n);class pBt{constructor(t,n){M1(this,"type","object"),M1(this,"value"),M1(this,"keys"),M1(this,"annotation"),M1(this,"fields",{}),this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=l7(r,this.annotation)}}var mBt=Object.defineProperty,gBt=(e,t,n)=>t in e?mBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zP=(e,t,n)=>(gBt(e,typeof t!="symbol"?t+"":t,n),n);let vBt=class{constructor(t,n){zP(this,"type","string"),zP(this,"value"),zP(this,"annotation"),this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};var yBt=Object.defineProperty,bBt=(e,t,n)=>t in e?yBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VP=(e,t,n)=>(bBt(e,typeof t!="symbol"?t+"":t,n),n);class HP{constructor(t,n,r){VP(this,"type"),VP(this,"value"),VP(this,"annotation"),this.type=t,this.value=n,this.annotation=r}}function l7(e,t){if(Array.isArray(e))return new dBt(e,t);if(e===null)return new HP("null",e,t);const n=typeof e;switch(n){case"number":return new HP(n,e,t);case"boolean":return new HP(n,e,t);case"object":return new pBt(e,t);case"string":return new vBt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var Vke={exports:{}},Hke={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w=h;function xBt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wBt=typeof Object.is=="function"?Object.is:xBt,CBt=$w.useSyncExternalStore,_Bt=$w.useRef,SBt=$w.useEffect,EBt=$w.useMemo,kBt=$w.useDebugValue;Hke.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=_Bt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=EBt(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,wBt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,o]);var a=CBt(e,i[0],i[1]);return SBt(function(){s.hasValue=!0,s.value=a},[a]),kBt(a),a};Vke.exports=Hke;var c7=Vke.exports,jBt=Math.floor,TBt=Math.random;function ABt(e,t){return e+jBt(TBt()*(t-e+1))}var DBt=ABt,IBt=DBt;function PBt(e){var t=e.length;return t?e[IBt(0,t-1)]:void 0}var Uke=PBt,OBt=Uke,$Bt=Eke;function RBt(e){return OBt($Bt(e))}var MBt=RBt,FBt=Uke,LBt=MBt,BBt=Xr;function NBt(e){var t=BBt(e)?FBt:LBt;return t(e)}var zBt=NBt;const VBt=Ie(zBt);var HBt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=qBt(r),this._batchScheduleFn=GBt(r),this._cacheKeyFn=KBt(r),this._cacheMap=ZBt(r),this._batch=null,this.name=XBt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=WBt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var l=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){l.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!Wke(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),UBt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){UP||(UP=Promise.resolve()),UP.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},UP;function WBt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){YBt(e,n)}),n}function YBt(e,t){if(t.hasDispatched=!0,t.keys.length===0){xM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return WP(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return WP(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!Wke(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));xM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){WP(e,t,r)})}function WP(e,t,n){xM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function xM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function qBt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function GBt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return UBt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function KBt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function ZBt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function XBt(e){return e&&e.name?e.name:null}function Wke(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var QBt=HBt;const JBt=Ie(QBt);var HT={exports:{}},gy={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?gy.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(gy.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(gy.exports=function(){return Date.now()-n},n=Date.now()):(gy.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(gs);var eNt=gy.exports,tNt=eNt,wu=typeof window>"u"?gs:window,P_=["moz","webkit"],lv="AnimationFrame",zv=wu["request"+lv],ux=wu["cancel"+lv]||wu["cancelRequest"+lv];for(var F1=0;!zv&&F1<P_.length;F1++)zv=wu[P_[F1]+"Request"+lv],ux=wu[P_[F1]+"Cancel"+lv]||wu[P_[F1]+"CancelRequest"+lv];if(!zv||!ux){var YP=0,PQ=0,bh=[],nNt=1e3/60;zv=function(e){if(bh.length===0){var t=tNt(),n=Math.max(0,nNt-(t-YP));YP=n+t,setTimeout(function(){var r=bh.slice(0);bh.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(YP)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return bh.push({handle:++PQ,callback:e,cancelled:!1}),PQ},ux=function(e){for(var t=0;t<bh.length;t++)bh[t].handle===e&&(bh[t].cancelled=!0)}}HT.exports=function(e){return zv.call(wu,e)};HT.exports.cancel=function(){ux.apply(wu,arguments)};HT.exports.polyfill=function(e){e||(e=wu),e.requestAnimationFrame=zv,e.cancelAnimationFrame=ux};var rNt=HT.exports;const oNt=Ie(rNt);function sb(e,t,n){return Math.min(Math.max(e,n),t)}class iNt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var vy=iNt;function Yke(e){if(typeof e!="string")throw new vy(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=hNt.test(e)?lNt(e):e;const n=cNt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(dx(a,2),16)),parseInt(dx(s[3]||"f",2),16)/255]}const r=uNt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=dNt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=fNt.exec(t);if(i){const[s,a,l,u]=Array.from(i).slice(1).map(parseFloat);if(sb(0,100,a)!==a)throw new vy(e);if(sb(0,100,l)!==l)throw new vy(e);return[...pNt(s,a,l),Number.isNaN(u)?1:u]}throw new vy(e)}function sNt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const OQ=e=>parseInt(e.replace(/_/g,""),36),aNt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=OQ(t.substring(0,3)),r=OQ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function lNt(e){const t=e.toLowerCase().trim(),n=aNt[sNt(t)];if(!n)throw new vy(e);return`#${n}`}const dx=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),cNt=new RegExp(`^#${dx("([a-f0-9])",3)}([a-f0-9])?$`,"i"),uNt=new RegExp(`^#${dx("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),dNt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${dx(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),fNt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,hNt=/^[a-z]+$/i,$Q=e=>Math.round(e*255),pNt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map($Q);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,l=0,u=0;o>=0&&o<1?(a=i,l=s):o>=1&&o<2?(a=s,l=i):o>=2&&o<3?(l=i,u=s):o>=3&&o<4?(l=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=l+d,m=u+d;return[f,p,m].map($Q)};function mNt(e){const[t,n,r,o]=Yke(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const l=i-s,u=a>.5?l/(2-i-s):l/(i+s);return[60*(t===i?(n-r)/l+(n<r?6:0):n===i?(r-t)/l+2:(t-n)/l+4),u,a,o]}function gNt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${sb(0,100,t*100).toFixed()}%, ${sb(0,100,n*100).toFixed()}%, ${parseFloat(sb(0,1,r).toFixed(3))})`}function qke(e,t){const[n,r,o,i]=mNt(e);return gNt(n,r,o-t,i)}function wM(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=Yke(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function vNt(e,t){const n=wM(e),r=wM(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const yNt={decorative:1.5,readable:3,aa:4.5,aaa:7};function RQ(e,t="aa",n="#fff"){return vNt(e,n)<yNt[t]}function bNt(e,t){return qke(e,-t)}function xNt(e){return wM(e)>.179}function wNt(e){return xNt(e)?"#000":"#fff"}var CNt=Iwe,_Nt=lw,SNt=Vj,ENt=Xr,kNt=qf,jNt=Hj,TNt=Wj,ANt=ML,DNt="[object Map]",INt="[object Set]",PNt=Object.prototype,ONt=PNt.hasOwnProperty;function $Nt(e){if(e==null)return!0;if(kNt(e)&&(ENt(e)||typeof e=="string"||typeof e.splice=="function"||jNt(e)||ANt(e)||SNt(e)))return!e.length;var t=_Nt(e);if(t==DNt||t==INt)return!e.size;if(TNt(e))return!CNt(e).length;for(var n in e)if(ONt.call(e,n))return!1;return!0}var RNt=$Nt;const MNt=Ie(RNt);var FNt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),LNt=()=>{try{return!!(FNt&&import.meta.webpackHot)}catch{return!1}};function BNt(e){if(LNt)return typeof import.meta.webpackHot>"u"?zNt(e):NNt(e)}function NNt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function zNt(e){h.useEffect(()=>{},[e])}var VNt=u7;u7.displayName="bash";u7.aliases=["shell"];function u7(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const HNt=Ie(VNt);var UNt=d7;d7.displayName="json";d7.aliases=["webmanifest"];function d7(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const WNt=Ie(UNt);var YNt=f7;f7.displayName="jsx";f7.aliases=[];function f7(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},l=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&l(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(e)}const qNt=Ie(YNt);var GNt=h7;h7.displayName="typescript";h7.aliases=["ts"];function h7(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const KNt=Ie(GNt);var uc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(uc||(uc={}));var RE=function(e){return e},MQ="beforeunload",ZNt="popstate";function XNt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,RE({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=uc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else b(E)}}r.addEventListener(ZNt,a);var l=uc.Pop,u=i(),d=u[0],f=u[1],p=ME(),m=ME();d==null&&(d=0,o.replaceState(Pu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:Gke(E)}function g(E,j){return j===void 0&&(j=null),RE(Pu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?_M(E):E,{state:j,key:CM()}))}function y(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function b(E){l=E;var j=i();d=j[0],f=j[1],p.call({action:l,location:f})}function w(E,j){var k=uc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=y(T,d+1),I=D[0],P=D[1];try{o.pushState(I,"",P)}catch{r.location.assign(P)}b(k)}}function C(E,j){var k=uc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=y(T,d),I=D[0],P=D[1];o.replaceState(I,"",P),b(k)}}function _(E){o.go(E)}var S={get action(){return l},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(MQ,LQ),function(){k(),m.length||r.removeEventListener(MQ,LQ)}}};return S}function QNt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=RE(Pu({pathname:"/",search:"",hash:"",state:null,key:CM()},typeof w=="string"?_M(w):w));return C}),s=FQ(o??i.length-1,0,i.length-1),a=uc.Pop,l=i[s],u=ME(),d=ME();function f(w){return typeof w=="string"?w:Gke(w)}function p(w,C){return C===void 0&&(C=null),RE(Pu({pathname:l.pathname,search:"",hash:""},typeof w=="string"?_M(w):w,{state:C,key:CM()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,l=C,u.call({action:a,location:l})}function g(w,C){var _=uc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function y(w,C){var _=uc.Replace,S=p(w,C);function E(){y(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=FQ(s+w,0,i.length-1),_=uc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var b={get index(){return s},get action(){return a},get location(){return l},createHref:f,push:g,replace:y,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return b}function FQ(e,t,n){return Math.min(Math.max(e,t),n)}function LQ(e){e.preventDefault(),e.returnValue=""}function ME(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function CM(){return Math.random().toString(36).substr(2,8)}function Gke(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function _M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var JNt=Oc,Kke=/[\\^$.*+?()[\]{}|]/g,ezt=RegExp(Kke.source);function tzt(e){return e=JNt(e),e&&ezt.test(e)?e.replace(Kke,"\\$&"):e}var nzt=tzt;const p7=Ie(nzt);var Zke,BQ=ic;Zke=BQ.createRoot,BQ.hydrateRoot;h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("path",{d:"M32 0L0 32H32V0Z",fill:pe.magenta[400].hex}),c.jsx("path",{d:"M32 32H0L32 64V32Z",fill:pe.green[300].hex}),c.jsx("path",{d:"M64 32H32V64L64 32Z",fill:pe.purple[300].hex}),c.jsx("path",{d:"M112 0L80 32H112V0Z",fill:pe.green[300].hex}),c.jsx("path",{d:"M112 0H80V32L112 0Z",fill:pe.purple[300].hex}),c.jsx("path",{d:"M112 32H80L112 64V32Z",fill:pe.yellow[200].hex}),c.jsx("path",{d:"M144 64L112 32V64H144Z",fill:pe.blue[300].hex}),c.jsx("path",{d:"M80 32V64H112L80 32Z",fill:pe.orange[400].hex}),c.jsx("path",{d:"M112 0V32H144L112 0Z",fill:pe.magenta[400].hex}),c.jsx("path",{d:"M192 0L160 32H192V0Z",fill:pe.yellow[200].hex}),c.jsx("path",{d:"M192 32H160L192 64V32Z",fill:pe.orange[400].hex}),c.jsx("path",{d:"M224 32H192V64L224 32Z",fill:pe.green[300].hex}),c.jsx("path",{d:"M192 0V32H224L192 0Z",fill:pe.blue[300].hex}),c.jsx("path",{d:"M272 0L240 32H272V0Z",fill:pe.purple[300].hex}),c.jsx("path",{d:"M304 32L272 64H304V32Z",fill:pe.magenta[400].hex}),c.jsx("path",{d:"M272 32H240L272 64V32Z",fill:pe.blue[300].hex}),c.jsx("path",{d:"M304 32H272V64L304 32Z",fill:pe.yellow[200].hex}),c.jsx("path",{d:"M272 0V32H304L272 0Z",fill:pe.green[300].hex})]})});h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:pe.green[950].hex}),c.jsx("rect",{y:"32",width:"64",height:"64",fill:pe.green[800].hex}),c.jsx("path",{d:"M64 32L32 64H64V32Z",fill:pe.magenta[400].hex}),c.jsx("path",{d:"M64 64H32L64 96V64Z",fill:pe.green[300].hex}),c.jsx("path",{d:"M96 64H64V96L96 64Z",fill:pe.purple[300].hex})]})});const rzt={light:[pe.red[200].hex,pe.red[300].hex,pe.red[500].hex],dark:[pe.gray[500].hex,pe.gray[300].hex,ba.hex]},ozt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=rzt[r?"dark":"light"];return c.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),c.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),c.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),c.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),c.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),c.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),c.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),c.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),c.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),c.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),c.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),c.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),c.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),c.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),c.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),c.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),izt={bg1:pe.red[500].hex,bg2:pe.red[200].hex,fg:ba.hex},szt=h.forwardRef(function(t,n){const{color:r=izt,...o}=t;return c.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),c.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),c.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),c.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var F0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xke=h;function wt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var as=Object.prototype.hasOwnProperty,azt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NQ={},zQ={};function Qke(e){return as.call(zQ,e)?!0:as.call(NQ,e)?!1:azt.test(e)?zQ[e]=!0:(NQ[e]=!0,!1)}function Ji(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Zo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zo[e]=new Ji(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zo[t]=new Ji(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zo[e]=new Ji(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zo[e]=new Ji(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zo[e]=new Ji(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zo[e]=new Ji(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zo[e]=new Ji(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zo[e]=new Ji(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zo[e]=new Ji(e,5,!1,e.toLowerCase(),null,!1,!1)});var m7=/[\-:]([a-z])/g;function g7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m7,g7);Zo[t]=new Ji(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m7,g7);Zo[t]=new Ji(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m7,g7);Zo[t]=new Ji(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zo[e]=new Ji(e,1,!1,e.toLowerCase(),null,!1,!1)});Zo.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zo[e]=new Ji(e,1,!1,e.toLowerCase(),null,!0,!0)});var nS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lzt=["Webkit","ms","Moz","O"];Object.keys(nS).forEach(function(e){lzt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nS[t]=nS[e]})});var czt=/["'&<>]/;function Bi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=czt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var uzt=/([A-Z])/g,dzt=/^ms-/,SM=Array.isArray;function qc(e,t){return{insertionMode:e,selectedValue:t}}function fzt(e,t,n){switch(t){case"select":return qc(1,n.value!=null?n.value:n.defaultValue);case"svg":return qc(2,null);case"math":return qc(3,null);case"foreignObject":return qc(1,null);case"table":return qc(4,null);case"thead":case"tbody":case"tfoot":return qc(5,null);case"colgroup":return qc(7,null);case"tr":return qc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?qc(1,null):e}var VQ=new Map;function Jke(e,t,n){if(typeof n!="object")throw Error(wt(62));t=!0;for(var r in n)if(as.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Bi(r);o=Bi((""+o).trim())}else{i=r;var s=VQ.get(i);s!==void 0||(s=Bi(i.replace(uzt,"-$1").toLowerCase().replace(dzt,"-ms-")),VQ.set(i,s)),i=s,o=typeof o=="number"?o===0||as.call(nS,r)?""+o:o+"px":Bi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Os(e,t,n,r){switch(n){case"style":Jke(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Zo.hasOwnProperty(n)?Zo[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Bi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Bi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Bi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Bi(r),'"')}}else if(Qke(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Bi(r),'"')}}}function rS(e,t,n){if(t!=null){if(n!=null)throw Error(wt(60));if(typeof t!="object"||!("__html"in t))throw Error(wt(61));t=t.__html,t!=null&&e.push(""+t)}}function hzt(e){var t="";return Xke.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function qP(e,t,n,r){e.push(ql(n));var o=n=null,i;for(i in t)if(as.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Os(e,r,i,s)}}return e.push(">"),rS(e,o,n),typeof n=="string"?(e.push(Bi(n)),null):n}var pzt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,HQ=new Map;function ql(e){var t=HQ.get(e);if(t===void 0){if(!pzt.test(e))throw Error(wt(65,e));t="<"+e,HQ.set(e,t)}return t}function mzt(e,t,n,r,o){switch(t){case"select":e.push(ql("select"));var i=null,s=null;for(d in n)if(as.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Os(e,r,d,a)}}return e.push(">"),rS(e,s,i),i;case"option":s=o.selectedValue,e.push(ql("option"));var l=a=null,u=null,d=null;for(i in n)if(as.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:Os(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:hzt(a),SM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),rS(e,d,a),a;case"textarea":e.push(ql("textarea")),d=s=i=null;for(a in n)if(as.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(wt(91));default:Os(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(wt(92));if(SM(d)&&1<d.length)throw Error(wt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Bi(""+i)),null;case"input":e.push(ql("input")),l=d=a=i=null;for(s in n)if(as.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(wt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Os(e,r,s,u)}return d!==null?Os(e,r,"checked",d):l!==null&&Os(e,r,"checked",l),i!==null?Os(e,r,"value",i):a!==null&&Os(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(ql("menuitem"));for(var p in n)if(as.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(wt(400));default:Os(e,r,p,i)}return e.push(">"),null;case"title":e.push(ql("title")),i=null;for(f in n)if(as.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(wt(434));default:Os(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(ql(t)),s=i=null;for(l in n)if(as.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Os(e,r,l,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(wt(60));if(typeof s!="object"||!("__html"in s))throw Error(wt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ql(t));for(var m in n)if(as.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(wt(399,t));default:Os(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return qP(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),qP(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return qP(e,n,t,r);e.push(ql(t)),s=i=null;for(u in n)if(as.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Jke(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Qke(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Bi(a),'"')}return e.push(">"),rS(e,s,i),i}}function UQ(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(wt(395));return e.push(n),e.push('"></template>')}function gzt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(wt(397))}}function vzt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(wt(397))}}var yzt=/[<\u2028\u2029]/g;function GP(e){return JSON.stringify(e).replace(yzt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function bzt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function WQ(e,t,n,r){return n.generateStaticMarkup?(e.push(Bi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Bi(t)),e=!0),e)}var ab=Object.assign,xzt=Symbol.for("react.element"),eje=Symbol.for("react.portal"),tje=Symbol.for("react.fragment"),nje=Symbol.for("react.strict_mode"),rje=Symbol.for("react.profiler"),oje=Symbol.for("react.provider"),ije=Symbol.for("react.context"),sje=Symbol.for("react.forward_ref"),aje=Symbol.for("react.suspense"),lje=Symbol.for("react.suspense_list"),cje=Symbol.for("react.memo"),v7=Symbol.for("react.lazy"),wzt=Symbol.for("react.scope"),Czt=Symbol.for("react.debug_trace_mode"),_zt=Symbol.for("react.legacy_hidden"),Szt=Symbol.for("react.default_value"),YQ=Symbol.iterator;function EM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tje:return"Fragment";case eje:return"Portal";case rje:return"Profiler";case nje:return"StrictMode";case aje:return"Suspense";case lje:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ije:return(e.displayName||"Context")+".Consumer";case oje:return(e._context.displayName||"Context")+".Provider";case sje:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cje:return t=e.displayName||null,t!==null?t:EM(e.type)||"Memo";case v7:t=e._payload,e=e._init;try{return EM(e(t))}catch{}}return null}var uje={};function qQ(e,t){if(e=e.contextTypes,!e)return uje;var n={},r;for(r in e)n[r]=t[r];return n}var ip=null;function UT(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(wt(401))}else{if(n===null)throw Error(wt(401));UT(e,n)}t.context._currentValue2=t.value}}function dje(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&dje(e)}function fje(e){var t=e.parent;t!==null&&fje(t),e.context._currentValue2=e.value}function hje(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(wt(402));e.depth===t.depth?UT(e,t):hje(e,t)}function pje(e,t){var n=t.parent;if(n===null)throw Error(wt(402));e.depth===n.depth?UT(e,n):pje(e,n),t.context._currentValue2=t.value}function FE(e){var t=ip;t!==e&&(t===null?fje(e):e===null?dje(t):t.depth===e.depth?UT(t,e):t.depth>e.depth?hje(t,e):pje(t,e),ip=e)}var GQ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function KQ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=GQ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:ab({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&GQ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=ab({},i,a)):ab(i,a))}e.state=i}else i.queue=null}var Ezt={id:1,overflow:""};function kM(e,t,n){var r=e.id;e=e.overflow;var o=32-oS(r)-1;r&=~(1<<o),n+=1;var i=32-oS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-oS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var oS=Math.clz32?Math.clz32:Tzt,kzt=Math.log,jzt=Math.LN2;function Tzt(e){return e>>>=0,e===0?32:31-(kzt(e)/jzt|0)|0}function Azt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dzt=typeof Object.is=="function"?Object.is:Azt,Fu=null,y7=null,iS=null,Ln=null,yy=!1,LE=!1,fx=0,Wd=null,WT=0;function Hh(){if(Fu===null)throw Error(wt(321));return Fu}function ZQ(){if(0<WT)throw Error(wt(312));return{memoizedState:null,queue:null,next:null}}function b7(){return Ln===null?iS===null?(yy=!1,iS=Ln=ZQ()):(yy=!0,Ln=iS):Ln.next===null?(yy=!1,Ln=Ln.next=ZQ()):(yy=!0,Ln=Ln.next),Ln}function x7(){y7=Fu=null,LE=!1,iS=null,WT=0,Ln=Wd=null}function mje(e,t){return typeof t=="function"?t(e):t}function XQ(e,t,n){if(Fu=Hh(),Ln=b7(),yy){var r=Ln.queue;if(t=r.dispatch,Wd!==null&&(n=Wd.get(r),n!==void 0)){Wd.delete(r),r=Ln.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Ln.memoizedState=r,[r,t]}return[Ln.memoizedState,t]}return e=e===mje?typeof t=="function"?t():t:n!==void 0?n(t):t,Ln.memoizedState=e,e=Ln.queue={last:null,dispatch:null},e=e.dispatch=Izt.bind(null,Fu,e),[Ln.memoizedState,e]}function QQ(e,t){if(Fu=Hh(),Ln=b7(),t=t===void 0?null:t,Ln!==null){var n=Ln.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!Dzt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ln.memoizedState=[e,t],e}function Izt(e,t,n){if(25<=WT)throw Error(wt(301));if(e===Fu)if(LE=!0,e={action:n,next:null},Wd===null&&(Wd=new Map),n=Wd.get(t),n===void 0)Wd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Pzt(){throw Error(wt(394))}function O_(){}var JQ={readContext:function(e){return e._currentValue2},useContext:function(e){return Hh(),e._currentValue2},useMemo:QQ,useReducer:XQ,useRef:function(e){Fu=Hh(),Ln=b7();var t=Ln.memoizedState;return t===null?(e={current:e},Ln.memoizedState=e):t},useState:function(e){return XQ(mje,e)},useInsertionEffect:O_,useLayoutEffect:function(){},useCallback:function(e,t){return QQ(function(){return e},t)},useImperativeHandle:O_,useEffect:O_,useDebugValue:O_,useDeferredValue:function(e){return Hh(),e},useTransition:function(){return Hh(),[!1,Pzt]},useId:function(){var e=y7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-oS(e)-1)).toString(32)+t;var n=sS;if(n===null)throw Error(wt(404));return t=fx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Hh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(wt(407));return n()}},sS=null,KP=Xke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ozt(e){return console.error(e),null}function by(){}function $zt(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?Ozt:o,onAllReady:i===void 0?by:i,onShellReady:s===void 0?by:s,onShellError:a===void 0?by:a,onFatalError:l===void 0?by:l},n=BE(t,0,null,n,!1,!1),n.parentFlushed=!0,e=w7(t,e,null,n,d,uje,null,Ezt),u.push(e),t}function w7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&yje(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function BE(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function hx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function NE(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function eJ(e,t,n,r,o){for(Fu={},y7=t,fx=0,e=n(r,o);LE;)LE=!1,fx=0,WT+=1,Ln=null,e=n(r,o);return x7(),e}function tJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(wt(108,EM(r)||"Unknown",a));r=ab({},s,n)}t.legacyContext=r,Ls(e,t,o),t.legacyContext=s}else Ls(e,t,o)}function nJ(e,t){if(e&&e.defaultProps){t=ab({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=qQ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),KQ(i,n,r,o),tJ(e,t,i,n)}else{i=qQ(n,t.legacyContext),o=eJ(e,t,n,r,i);var s=fx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)KQ(o,n,r,i),tJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=kM(r,1,0);try{Ls(e,t,o)}finally{t.treeContext=r}}else Ls(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=mzt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=fzt(s,n,r),TM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case _zt:case Czt:case nje:case rje:case tje:Ls(e,t,r.children);return;case lje:Ls(e,t,r.children);return;case wzt:throw Error(wt(343));case aje:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=BE(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=BE(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(TM(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,zE(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=hx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=w7(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case sje:if(r=eJ(e,t,n.render,r,o),fx!==0){n=t.treeContext,t.treeContext=kM(n,1,0);try{Ls(e,t,r)}finally{t.treeContext=n}}else Ls(e,t,r);return;case cje:n=n.type,r=nJ(n,r),jM(e,t,n,r,o);return;case oje:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=ip,ip=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Ls(e,t,o),e=ip,e===null)throw Error(wt(403));r=e.parentValue,e.context._currentValue2=r===Szt?e.context._defaultValue:r,e=ip=e.parent,t.context=e;return;case ije:r=r.children,r=r(n._currentValue2),Ls(e,t,r);return;case v7:o=n._init,n=o(n._payload),r=nJ(n,r),jM(e,t,n,r,void 0);return}throw Error(wt(130,n==null?n:typeof n,""))}}function Ls(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case xzt:jM(e,t,n.type,n.props,n.ref);return;case eje:throw Error(wt(257));case v7:var r=n._init;n=r(n._payload),Ls(e,t,n);return}if(SM(n)){rJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=YQ&&n[YQ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);rJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(wt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=WQ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=WQ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function rJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=kM(i,r,o);try{TM(e,t,n[o])}finally{t.treeContext=i}}}function TM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Ls(e,t,n)}catch(l){if(x7(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=BE(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=w7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,FE(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,FE(i),l}}function Rzt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,vje(this,t,e)}function gje(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(wt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return gje(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function zE(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&zE(e,n)}else e.completedSegments.push(t)}function vje(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(wt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=by,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&zE(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Rzt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(zE(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function yje(e){if(e.status!==2){var t=ip,n=KP.current;KP.current=JQ;var r=sS;sS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){FE(s.context);try{Ls(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,vje(a,s.blockedBoundary,l)}catch(v){if(x7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=hx(a,f);if(d===null?NE(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&C7(e,e.destination)}catch(v){hx(e,v),NE(e,v)}finally{sS=r,KP.current=n,n===JQ&&FE(t)}}}function $_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=YT(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(wt(390))}}function YT(e,t,n){var r=n.boundary;if(r===null)return $_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Bi(r),t.push(r),t.push('"')),t.push("></template>")),$_(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,UQ(t,e.responseState,r),$_(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),UQ(t,e.responseState,r.id),$_(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(wt(391));return YT(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function oJ(e,t,n){return gzt(t,e.responseState,n.formatContext,n.id),YT(e,t,n),vzt(t,n.formatContext)}function iJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)bje(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(wt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function bje(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(wt(392));return oJ(e,t,r)}return oJ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function C7(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){YT(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(wt(395));if(r.push(l),r.push('"'),u||d||f){r.push(",");var p=GP(u||"");r.push(p)}if(d||f){r.push(",");var m=GP(d||"");r.push(m)}if(f){r.push(",");var v=GP(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!iJ(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var y=e.partialBoundaries;for(i=0;i<y.length;i++){var x=y[i];e:{o=e,s=t;var b=x.completedSegments;for(a=0;a<b.length;a++)if(!bje(o,s,x,b[a])){a++,b.splice(0,a);var w=!1;break e}b.splice(0,a),w=!0}if(!w){e.destination=null,i++,y.splice(0,i);return}}y.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!iJ(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function Mzt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return gje(r,e,t)}),n.clear(),e.destination!==null&&C7(e,e.destination)}catch(r){hx(e,r),NE(e,r)}}function Fzt(){}function xje(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},l=!1;if(e=$zt(e,bzt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Fzt,void 0,function(){l=!0},void 0,void 0),yje(e),Mzt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{C7(e,a)}catch(u){hx(e,u),NE(e,u)}}if(o)throw i;if(!l)throw Error(wt(426));return s}F0.renderToNodeStream=function(){throw Error(wt(207))};F0.renderToStaticMarkup=function(e,t){return xje(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};F0.renderToStaticNodeStream=function(){throw Error(wt(208))};F0.renderToString=function(e,t){return xje(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};F0.version="18.2.0";var _7={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wje=h;function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bs=null,Ns=0;function Ze(e,t){if(t.length!==0)if(512<t.length)0<Ns&&(e.enqueue(new Uint8Array(Bs.buffer,0,Ns)),Bs=new Uint8Array(512),Ns=0),e.enqueue(t);else{var n=Bs.length-Ns;n<t.length&&(n===0?e.enqueue(Bs):(Bs.set(t.subarray(0,n),Ns),e.enqueue(Bs),t=t.subarray(n)),Bs=new Uint8Array(512),Ns=0),Bs.set(t,Ns),Ns+=t.length}}function rr(e,t){return Ze(e,t),!0}function sJ(e){Bs&&0<Ns&&(e.enqueue(new Uint8Array(Bs.buffer,0,Ns)),Bs=null,Ns=0)}var Cje=new TextEncoder;function Rt(e){return Cje.encode(e)}function Re(e){return Cje.encode(e)}function _je(e,t){typeof e.error=="function"?e.error(t):e.close()}var ls=Object.prototype.hasOwnProperty,Lzt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aJ={},lJ={};function Sje(e){return ls.call(lJ,e)?!0:ls.call(aJ,e)?!1:Lzt.test(e)?lJ[e]=!0:(aJ[e]=!0,!1)}function es(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Xo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xo[e]=new es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xo[t]=new es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xo[e]=new es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xo[e]=new es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xo[e]=new es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xo[e]=new es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xo[e]=new es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xo[e]=new es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xo[e]=new es(e,5,!1,e.toLowerCase(),null,!1,!1)});var S7=/[\-:]([a-z])/g;function E7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S7,E7);Xo[t]=new es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S7,E7);Xo[t]=new es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S7,E7);Xo[t]=new es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xo[e]=new es(e,1,!1,e.toLowerCase(),null,!1,!1)});Xo.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xo[e]=new es(e,1,!1,e.toLowerCase(),null,!0,!0)});var aS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bzt=["Webkit","ms","Moz","O"];Object.keys(aS).forEach(function(e){Bzt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),aS[t]=aS[e]})});var Nzt=/["'&<>]/;function Yo(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Nzt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var zzt=/([A-Z])/g,Vzt=/^ms-/,AM=Array.isArray,Hzt=Re("<script>"),Uzt=Re("<\/script>"),Wzt=Re('<script src="'),Yzt=Re('<script type="module" src="'),cJ=Re('" async=""><\/script>'),qzt=/(<\/|<)(s)(cript)/gi;function Gzt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function Kzt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?Hzt:Re('<script nonce="'+Yo(t)+'">');var i=[];if(n!==void 0&&i.push(t,Rt((""+n).replace(qzt,Gzt)),Uzt),r!==void 0)for(n=0;n<r.length;n++)i.push(Wzt,Rt(Yo(r[n])),cJ);if(o!==void 0)for(r=0;r<o.length;r++)i.push(Yzt,Rt(Yo(o[r])),cJ);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Re(e+"P:"),segmentPrefix:Re(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Gl(e,t){return{insertionMode:e,selectedValue:t}}function Zzt(e){return Gl(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Xzt(e,t,n){switch(t){case"select":return Gl(1,n.value!=null?n.value:n.defaultValue);case"svg":return Gl(2,null);case"math":return Gl(3,null);case"foreignObject":return Gl(1,null);case"table":return Gl(4,null);case"thead":case"tbody":case"tfoot":return Gl(5,null);case"colgroup":return Gl(7,null);case"tr":return Gl(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Gl(1,null):e}var k7=Re("<!-- -->");function uJ(e,t,n,r){return t===""?r:(r&&e.push(k7),e.push(Rt(Yo(t))),!0)}var dJ=new Map,Qzt=Re(' style="'),fJ=Re(":"),Jzt=Re(";");function Eje(e,t,n){if(typeof n!="object")throw Error(Pt(62));t=!0;for(var r in n)if(ls.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Rt(Yo(r));o=Rt(Yo((""+o).trim()))}else{i=r;var s=dJ.get(i);s!==void 0||(s=Re(Yo(i.replace(zzt,"-$1").toLowerCase().replace(Vzt,"-ms-"))),dJ.set(i,s)),i=s,o=typeof o=="number"?o===0||ls.call(aS,r)?Rt(""+o):Rt(o+"px"):Rt(Yo((""+o).trim()))}t?(t=!1,e.push(Qzt,i,fJ,o)):e.push(Jzt,i,fJ,o)}}t||e.push(Uh)}var yd=Re(" "),ug=Re('="'),Uh=Re('"'),hJ=Re('=""');function $s(e,t,n,r){switch(n){case"style":Eje(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Xo.hasOwnProperty(n)?Xo[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Rt(t.attributeName),t.type){case 3:r&&e.push(yd,n,hJ);break;case 4:r===!0?e.push(yd,n,hJ):r!==!1&&e.push(yd,n,ug,Rt(Yo(r)),Uh);break;case 5:isNaN(r)||e.push(yd,n,ug,Rt(Yo(r)),Uh);break;case 6:!isNaN(r)&&1<=r&&e.push(yd,n,ug,Rt(Yo(r)),Uh);break;default:t.sanitizeURL&&(r=""+r),e.push(yd,n,ug,Rt(Yo(r)),Uh)}}else if(Sje(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(yd,Rt(n),ug,Rt(Yo(r)),Uh)}}}var bd=Re(">"),pJ=Re("/>");function lS(e,t,n){if(t!=null){if(n!=null)throw Error(Pt(60));if(typeof t!="object"||!("__html"in t))throw Error(Pt(61));t=t.__html,t!=null&&e.push(Rt(""+t))}}function eVt(e){var t="";return wje.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var ZP=Re(' selected=""');function XP(e,t,n,r){e.push(Kl(n));var o=n=null,i;for(i in t)if(ls.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:$s(e,r,i,s)}}return e.push(bd),lS(e,o,n),typeof n=="string"?(e.push(Rt(Yo(n))),null):n}var QP=Re(`
`),tVt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,mJ=new Map;function Kl(e){var t=mJ.get(e);if(t===void 0){if(!tVt.test(e))throw Error(Pt(65,e));t=Re("<"+e),mJ.set(e,t)}return t}var nVt=Re("<!DOCTYPE html>");function rVt(e,t,n,r,o){switch(t){case"select":e.push(Kl("select"));var i=null,s=null;for(d in n)if(ls.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:$s(e,r,d,a)}}return e.push(bd),lS(e,s,i),i;case"option":s=o.selectedValue,e.push(Kl("option"));var l=a=null,u=null,d=null;for(i in n)if(ls.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:$s(e,r,i,f)}}if(s!=null)if(n=l!==null?""+l:eVt(a),AM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(ZP);break}}else""+s===n&&e.push(ZP);else u&&e.push(ZP);return e.push(bd),lS(e,d,a),a;case"textarea":e.push(Kl("textarea")),d=s=i=null;for(a in n)if(ls.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":i=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Pt(91));default:$s(e,r,a,l)}if(i===null&&s!==null&&(i=s),e.push(bd),d!=null){if(i!=null)throw Error(Pt(92));if(AM(d)&&1<d.length)throw Error(Pt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(QP),i!==null&&e.push(Rt(Yo(""+i))),null;case"input":e.push(Kl("input")),l=d=a=i=null;for(s in n)if(ls.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:$s(e,r,s,u)}return d!==null?$s(e,r,"checked",d):l!==null&&$s(e,r,"checked",l),i!==null?$s(e,r,"value",i):a!==null&&$s(e,r,"value",a),e.push(pJ),null;case"menuitem":e.push(Kl("menuitem"));for(var p in n)if(ls.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(400));default:$s(e,r,p,i)}return e.push(bd),null;case"title":e.push(Kl("title")),i=null;for(f in n)if(ls.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Pt(434));default:$s(e,r,f,s)}return e.push(bd),i;case"listing":case"pre":e.push(Kl(t)),s=i=null;for(l in n)if(ls.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:$s(e,r,l,a)}if(e.push(bd),s!=null){if(i!=null)throw Error(Pt(60));if(typeof s!="object"||!("__html"in s))throw Error(Pt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(QP,Rt(n)):e.push(Rt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(QP),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Kl(t));for(var m in n)if(ls.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,t));default:$s(e,r,m,i)}return e.push(pJ),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return XP(e,n,t,r);case"html":return o.insertionMode===0&&e.push(nVt),XP(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return XP(e,n,t,r);e.push(Kl(t)),s=i=null;for(u in n)if(ls.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Eje(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Sje(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(yd,Rt(u),ug,Rt(Yo(a)),Uh)}return e.push(bd),lS(e,s,i),i}}var oVt=Re("</"),iVt=Re(">"),sVt=Re('<template id="'),aVt=Re('"></template>'),lVt=Re("<!--$-->"),cVt=Re('<!--$?--><template id="'),uVt=Re('"></template>'),dVt=Re("<!--$!-->"),fVt=Re("<!--/$-->"),hVt=Re("<template"),pVt=Re('"'),mVt=Re(' data-dgst="');Re(' data-msg="');Re(' data-stck="');var gVt=Re("></template>");function gJ(e,t,n){if(Ze(e,cVt),n===null)throw Error(Pt(395));return Ze(e,n),rr(e,uVt)}var vVt=Re('<div hidden id="'),yVt=Re('">'),bVt=Re("</div>"),xVt=Re('<svg aria-hidden="true" style="display:none" id="'),wVt=Re('">'),CVt=Re("</svg>"),_Vt=Re('<math aria-hidden="true" style="display:none" id="'),SVt=Re('">'),EVt=Re("</math>"),kVt=Re('<table hidden id="'),jVt=Re('">'),TVt=Re("</table>"),AVt=Re('<table hidden><tbody id="'),DVt=Re('">'),IVt=Re("</tbody></table>"),PVt=Re('<table hidden><tr id="'),OVt=Re('">'),$Vt=Re("</tr></table>"),RVt=Re('<table hidden><colgroup id="'),MVt=Re('">'),FVt=Re("</colgroup></table>");function LVt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ze(e,vVt),Ze(e,t.segmentPrefix),Ze(e,Rt(r.toString(16))),rr(e,yVt);case 2:return Ze(e,xVt),Ze(e,t.segmentPrefix),Ze(e,Rt(r.toString(16))),rr(e,wVt);case 3:return Ze(e,_Vt),Ze(e,t.segmentPrefix),Ze(e,Rt(r.toString(16))),rr(e,SVt);case 4:return Ze(e,kVt),Ze(e,t.segmentPrefix),Ze(e,Rt(r.toString(16))),rr(e,jVt);case 5:return Ze(e,AVt),Ze(e,t.segmentPrefix),Ze(e,Rt(r.toString(16))),rr(e,DVt);case 6:return Ze(e,PVt),Ze(e,t.segmentPrefix),Ze(e,Rt(r.toString(16))),rr(e,OVt);case 7:return Ze(e,RVt),Ze(e,t.segmentPrefix),Ze(e,Rt(r.toString(16))),rr(e,MVt);default:throw Error(Pt(397))}}function BVt(e,t){switch(t.insertionMode){case 0:case 1:return rr(e,bVt);case 2:return rr(e,CVt);case 3:return rr(e,EVt);case 4:return rr(e,TVt);case 5:return rr(e,IVt);case 6:return rr(e,$Vt);case 7:return rr(e,FVt);default:throw Error(Pt(397))}}var NVt=Re('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),zVt=Re('$RS("'),VVt=Re('","'),HVt=Re('")<\/script>'),UVt=Re('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),WVt=Re('$RC("'),YVt=Re('","'),qVt=Re('")<\/script>'),GVt=Re('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),KVt=Re('$RX("'),ZVt=Re('"'),XVt=Re(")<\/script>"),JP=Re(","),QVt=/[<\u2028\u2029]/g;function eO(e){return JSON.stringify(e).replace(QVt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var lb=Object.assign,JVt=Symbol.for("react.element"),kje=Symbol.for("react.portal"),jje=Symbol.for("react.fragment"),Tje=Symbol.for("react.strict_mode"),Aje=Symbol.for("react.profiler"),Dje=Symbol.for("react.provider"),Ije=Symbol.for("react.context"),Pje=Symbol.for("react.forward_ref"),Oje=Symbol.for("react.suspense"),$je=Symbol.for("react.suspense_list"),Rje=Symbol.for("react.memo"),j7=Symbol.for("react.lazy"),eHt=Symbol.for("react.scope"),tHt=Symbol.for("react.debug_trace_mode"),nHt=Symbol.for("react.legacy_hidden"),rHt=Symbol.for("react.default_value"),vJ=Symbol.iterator;function DM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jje:return"Fragment";case kje:return"Portal";case Aje:return"Profiler";case Tje:return"StrictMode";case Oje:return"Suspense";case $je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ije:return(e.displayName||"Context")+".Consumer";case Dje:return(e._context.displayName||"Context")+".Provider";case Pje:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rje:return t=e.displayName||null,t!==null?t:DM(e.type)||"Memo";case j7:t=e._payload,e=e._init;try{return DM(e(t))}catch{}}return null}var Mje={};function yJ(e,t){if(e=e.contextTypes,!e)return Mje;var n={},r;for(r in e)n[r]=t[r];return n}var sp=null;function qT(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Pt(401))}else{if(n===null)throw Error(Pt(401));qT(e,n)}t.context._currentValue=t.value}}function Fje(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&Fje(e)}function Lje(e){var t=e.parent;t!==null&&Lje(t),e.context._currentValue=e.value}function Bje(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Pt(402));e.depth===t.depth?qT(e,t):Bje(e,t)}function Nje(e,t){var n=t.parent;if(n===null)throw Error(Pt(402));e.depth===n.depth?qT(e,n):Nje(e,n),t.context._currentValue=t.value}function VE(e){var t=sp;t!==e&&(t===null?Lje(e):e===null?Fje(t):t.depth===e.depth?qT(t,e):t.depth>e.depth?Bje(t,e):Nje(t,e),sp=e)}var bJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function xJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=bJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:lb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&bJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=lb({},i,a)):lb(i,a))}e.state=i}else i.queue=null}var oHt={id:1,overflow:""};function IM(e,t,n){var r=e.id;e=e.overflow;var o=32-cS(r)-1;r&=~(1<<o),n+=1;var i=32-cS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-cS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var cS=Math.clz32?Math.clz32:aHt,iHt=Math.log,sHt=Math.LN2;function aHt(e){return e>>>=0,e===0?32:31-(iHt(e)/sHt|0)|0}function lHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cHt=typeof Object.is=="function"?Object.is:lHt,Lu=null,T7=null,uS=null,Bn=null,xy=!1,HE=!1,px=0,Yd=null,GT=0;function Wh(){if(Lu===null)throw Error(Pt(321));return Lu}function wJ(){if(0<GT)throw Error(Pt(312));return{memoizedState:null,queue:null,next:null}}function A7(){return Bn===null?uS===null?(xy=!1,uS=Bn=wJ()):(xy=!0,Bn=uS):Bn.next===null?(xy=!1,Bn=Bn.next=wJ()):(xy=!0,Bn=Bn.next),Bn}function D7(){T7=Lu=null,HE=!1,uS=null,GT=0,Bn=Yd=null}function zje(e,t){return typeof t=="function"?t(e):t}function CJ(e,t,n){if(Lu=Wh(),Bn=A7(),xy){var r=Bn.queue;if(t=r.dispatch,Yd!==null&&(n=Yd.get(r),n!==void 0)){Yd.delete(r),r=Bn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Bn.memoizedState=r,[r,t]}return[Bn.memoizedState,t]}return e=e===zje?typeof t=="function"?t():t:n!==void 0?n(t):t,Bn.memoizedState=e,e=Bn.queue={last:null,dispatch:null},e=e.dispatch=uHt.bind(null,Lu,e),[Bn.memoizedState,e]}function _J(e,t){if(Lu=Wh(),Bn=A7(),t=t===void 0?null:t,Bn!==null){var n=Bn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!cHt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Bn.memoizedState=[e,t],e}function uHt(e,t,n){if(25<=GT)throw Error(Pt(301));if(e===Lu)if(HE=!0,e={action:n,next:null},Yd===null&&(Yd=new Map),n=Yd.get(t),n===void 0)Yd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function dHt(){throw Error(Pt(394))}function R_(){}var SJ={readContext:function(e){return e._currentValue},useContext:function(e){return Wh(),e._currentValue},useMemo:_J,useReducer:CJ,useRef:function(e){Lu=Wh(),Bn=A7();var t=Bn.memoizedState;return t===null?(e={current:e},Bn.memoizedState=e):t},useState:function(e){return CJ(zje,e)},useInsertionEffect:R_,useLayoutEffect:function(){},useCallback:function(e,t){return _J(function(){return e},t)},useImperativeHandle:R_,useEffect:R_,useDebugValue:R_,useDeferredValue:function(e){return Wh(),e},useTransition:function(){return Wh(),[!1,dHt]},useId:function(){var e=T7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-cS(e)-1)).toString(32)+t;var n=dS;if(n===null)throw Error(Pt(404));return t=px++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Wh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Pt(407));return n()}},dS=null,tO=wje.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function fHt(e){return console.error(e),null}function wy(){}function hHt(e,t,n,r,o,i,s,a,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?fHt:o,onAllReady:i===void 0?wy:i,onShellReady:s===void 0?wy:s,onShellError:a===void 0?wy:a,onFatalError:l===void 0?wy:l},n=UE(t,0,null,n,!1,!1),n.parentFlushed=!0,e=I7(t,e,null,n,d,Mje,null,oHt),u.push(e),t}function I7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&Uje(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(l),l}function UE(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function mx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function WE(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,_je(e.destination,t)):(e.status=1,e.fatalError=t)}function EJ(e,t,n,r,o){for(Lu={},T7=t,px=0,e=n(r,o);HE;)HE=!1,px=0,GT+=1,Bn=null,e=n(r,o);return D7(),e}function kJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Pt(108,DM(r)||"Unknown",a));r=lb({},s,n)}t.legacyContext=r,zs(e,t,o),t.legacyContext=s}else zs(e,t,o)}function jJ(e,t){if(e&&e.defaultProps){t=lb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function PM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=yJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),xJ(i,n,r,o),kJ(e,t,i,n)}else{i=yJ(n,t.legacyContext),o=EJ(e,t,n,r,i);var s=px!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)xJ(o,n,r,i),kJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=IM(r,1,0);try{zs(e,t,o)}finally{t.treeContext=r}}else zs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=rVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=Xzt(s,n,r),OM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(oVt,Rt(n),iVt)}o.lastPushedText=!1}else{switch(n){case nHt:case tHt:case Tje:case Aje:case jje:zs(e,t,r.children);return;case $je:zs(e,t,r.children);return;case eHt:throw Error(Pt(343));case Oje:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=UE(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var u=UE(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(OM(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(k7),u.status=1,YE(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=mx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=I7(e,i,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Pje:if(r=EJ(e,t,n.render,r,o),px!==0){n=t.treeContext,t.treeContext=IM(n,1,0);try{zs(e,t,r)}finally{t.treeContext=n}}else zs(e,t,r);return;case Rje:n=n.type,r=jJ(n,r),PM(e,t,n,r,o);return;case Dje:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=sp,sp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,zs(e,t,o),e=sp,e===null)throw Error(Pt(403));r=e.parentValue,e.context._currentValue=r===rHt?e.context._defaultValue:r,e=sp=e.parent,t.context=e;return;case Ije:r=r.children,r=r(n._currentValue),zs(e,t,r);return;case j7:o=n._init,n=o(n._payload),r=jJ(n,r),PM(e,t,n,r,void 0);return}throw Error(Pt(130,n==null?n:typeof n,""))}}function zs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case JVt:PM(e,t,n.type,n.props,n.ref);return;case kje:throw Error(Pt(257));case j7:var r=n._init;n=r(n._payload),zs(e,t,n);return}if(AM(n)){TJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=vJ&&n[vJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);TJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=uJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=uJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function TJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=IM(i,r,o);try{OM(e,t,n[o])}finally{t.treeContext=i}}}function OM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return zs(e,t,n)}catch(l){if(D7(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var s=t.blockedSegment,a=UE(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=I7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,VE(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,VE(i),l}}function pHt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,Hje(this,t,e)}function Vje(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Pt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return Vje(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function YE(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&YE(e,n)}else e.completedSegments.push(t)}function Hje(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Pt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=wy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&YE(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(pHt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(YE(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Uje(e){if(e.status!==2){var t=sp,n=tO.current;tO.current=SJ;var r=dS;dS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,l=s.blockedSegment;if(l.status===0){VE(s.context);try{zs(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(k7),s.abortSet.delete(s),l.status=1,Hje(a,s.blockedBoundary,l)}catch(v){if(D7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),l.status=4;var d=s.blockedBoundary,f=v,p=mx(a,f);if(d===null?WE(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&P7(e,e.destination)}catch(v){mx(e,v),WE(e,v)}finally{dS=r,tO.current=n,n===SJ&&VE(t)}}}function M_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ze(t,sVt),Ze(t,e.placeholderPrefix),e=Rt(r.toString(16)),Ze(t,e),rr(t,aVt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Ze(t,r[i]);o=KT(e,t,o)}for(;i<r.length-1;i++)Ze(t,r[i]);return i<r.length&&(o=rr(t,r[i])),o;default:throw Error(Pt(390))}}function KT(e,t,n){var r=n.boundary;if(r===null)return M_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,rr(t,dVt),Ze(t,hVt),r&&(Ze(t,mVt),Ze(t,Rt(Yo(r))),Ze(t,pVt)),rr(t,gVt),M_(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Re(o.boundaryPrefix+i.toString(16)),r=r.id=o,gJ(t,e.responseState,r),M_(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),gJ(t,e.responseState,r.id),M_(e,t,n);else{if(rr(t,lVt),n=r.completedSegments,n.length!==1)throw Error(Pt(391));KT(e,t,n[0])}return rr(t,fVt)}function AJ(e,t,n){return LVt(t,e.responseState,n.formatContext,n.id),KT(e,t,n),BVt(t,n.formatContext)}function DJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Wje(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ze(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ze(t,WVt):(e.sentCompleteBoundaryFunction=!0,Ze(t,UVt)),r===null)throw Error(Pt(395));return n=Rt(n.toString(16)),Ze(t,r),Ze(t,YVt),Ze(t,e.segmentPrefix),Ze(t,n),rr(t,qVt)}function Wje(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Pt(392));return AJ(e,t,r)}return AJ(e,t,r),e=e.responseState,Ze(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ze(t,zVt):(e.sentCompleteSegmentFunction=!0,Ze(t,NVt)),Ze(t,e.segmentPrefix),o=Rt(o.toString(16)),Ze(t,o),Ze(t,VVt),Ze(t,e.placeholderPrefix),Ze(t,o),rr(t,HVt)}function P7(e,t){Bs=new Uint8Array(512),Ns=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){KT(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ze(t,r[n]);n<r.length&&rr(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Ze(r,a.startInlineScript),a.sentClientRenderFunction?Ze(r,KVt):(a.sentClientRenderFunction=!0,Ze(r,GVt)),l===null)throw Error(Pt(395));Ze(r,l),Ze(r,ZVt),(u||d||f)&&(Ze(r,JP),Ze(r,Rt(eO(u||"")))),(d||f)&&(Ze(r,JP),Ze(r,Rt(eO(d||"")))),f&&(Ze(r,JP),Ze(r,Rt(eO(f)))),rr(r,XVt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)DJ(e,t,p[i]);p.splice(0,i),sJ(t),Bs=new Uint8Array(512),Ns=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!Wje(o,s,v,g[a])){a++,g.splice(0,a);var y=!1;break e}g.splice(0,a),y=!0}if(!y){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)DJ(e,t,x[i]);x.splice(0,i)}finally{sJ(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function IJ(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Vje(r,e,t)}),n.clear(),e.destination!==null&&P7(e,e.destination)}catch(r){mx(e,r),WE(e,r)}}_7.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=hHt(e,Kzt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),Zzt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,_je(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{P7(a,f)}catch(p){mx(a,p),WE(a,p)}}},cancel:function(){IJ(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var l=t.signal,u=function(){IJ(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}Uje(a)})};_7.version="18.2.0";var L0,Yje;L0=F0,Yje=_7;L0.version;var mHt=L0.renderToString;L0.renderToStaticMarkup;L0.renderToNodeStream;L0.renderToStaticNodeStream;Yje.renderToReadableStream;function gHt(e){return typeof e=="function"}function PJ(e){return gHt(e)?e():e}const vHt=()=>{};function yHt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=se.useContext(e),l=se.useRef();se.useLayoutEffect(()=>{if(n===null)return vHt;const u=PJ(r);return i(n,u),l.current=u,()=>{a(n)}},[i,n,a,r]),se.useLayoutEffect(()=>{const u=PJ(r);typeof l.current<"u"&&!o(l.current,u)&&n!==null&&s(n,u),l.current=u})}}function bHt(){const e=new Map,{publish:t,subscribe:n}=eF(),r=Bx(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(l,u){e.has(l),e.set(l,u),r(o())}function s(l,u){e.has(l),e.set(l,u),r(o())}function a(l){e.has(l),e.delete(l),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let Vv=!1;const nO=e=>{Vv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),Vv=!0};function xHt(){return Vv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Vv=!0,[]}const wHt=()=>(Vv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Vv=!0,()=>{}),CHt={add:nO,update:nO,remove:nO,subscribe:wHt,read:xHt};let _Ht=0;const SHt=()=>++_Ht;function qje(){const e=se.createContext(CHt);function t(){const o=se.useContext(e),[i,s]=se.useState(o.read());return se.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=se.useMemo(()=>bHt(),[]);return c.jsx(e.Provider,{value:i,children:o.children})}const r=yHt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(se.useRef(SHt()).current),o,i)}}}const Ps=4,EHt=16,OJ=8,ct=8,Sa=2,F_=4,mi=12,qm=2,kHt=!1,jHt=!1,O7=qje(),THt=O7.Tracker,$7=O7.useReportedValues,Gje=O7.useReporter,Cm=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),AHt=e=>{const t=se.useRef(null),{onSetFocus:n}=se.useContext(Cm),[r,o]=se.useState(!1),i=se.useCallback(()=>{o(!0)},[]),s=se.useCallback(()=>{o(!1)},[]);Gje("change-".concat(vr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),J4);const a=h.useCallback(l=>{DHt(l,n,e.path)},[n,e.path]);return c.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function DHt(e,t,n){e.stopPropagation(),t(n)}function Wo(e){const t=h.useRef(e);return Yt(t.current,e)||(t.current=e),t.current}function th(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Wo(i),a=ko(()=>Ce(s).pipe(rt(l=>co(Ce({type:"loading"}),e(l).pipe(ce(u=>({type:"value",value:u}))))),Na((l,u)=>{let[d]=l;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Kn((l,u)=>{let[d,f]=l,[p,m]=u;return!(d!==p||f!==m)}),ce(l=>({type:"tuple",tuple:l})),Xn(l=>Ce({type:"error",error:l}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function uo(e){return e!=null}const IHt="drafts",R7="".concat(IHt,".");function M7(e){return e.startsWith(R7)}function Kje(e){return{draftId:Qo(e),publishedId:Zn(e)}}function Qo(e){return M7(e)?e:R7+e}function Zn(e){return M7(e)?e.slice(R7.length):e}function F7(e){const t=e.reduce((n,r)=>{const o=Zn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function PHt(e){return F7(e).map(t=>t.draft||t.published).filter(uo)}const OHt=Object.freeze({}),Vn=Object.freeze([]);function $Ht(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const RHt=$Ht();function $J(e){return Array.isArray(e)}function _t(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function fS(e){return typeof e=="string"}const MHt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:Hwe,FHt=()=>{const e=eF(),t=new MHt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(l=>l.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},LHt=FHt(),BHt=["sanity.imageAsset","sanity.fileAsset"];function NHt(e){return e.type==="document"&&BHt.includes(e.name)}function VPn(e){return e.type==="document"&&!NHt(e)}const zHt=["match","in","asc","desc","true","false","null"],VHt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,Zje=e=>!VHt.test(e)||zHt.includes(e),L7=e=>'["'.concat(e,'"]'),HHt=e=>"@".concat(L7(e)),UHt=e=>Array.isArray(e)&&e.length===0,WHt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(UHt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;Zje(r)?t=o?HHt(r):"".concat(t).concat(L7(r)):t=o?r:"".concat(t,".").concat(r)}return t},Up=YHt();function YHt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const qHt={isLoading:!0,value:void 0,error:null};function Xje(e,t){return ko(()=>e.pipe(GHt()),[e],typeof t>"u"?qHt:{isLoading:!1,value:t,error:null})}function GHt(){return e=>e.pipe(ce(t=>({isLoading:!1,value:t,error:null})),Xn(t=>Ce({isLoading:!1,value:void 0,error:t})))}function KHt(e,t,n){return h.useMemo(()=>Yj(e,t,n),[e,n,t])}function Qje(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var RJ=Object.freeze,ZHt=Object.defineProperty,pu=(e,t)=>RJ(ZHt(e,"raw",{value:RJ(t||e.slice())})),MJ,FJ,LJ,BJ,NJ,zJ,VJ,HJ,UJ;const XHt=250,QHt=O.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?he(MJ||(MJ=pu([`
        `,` {
          display: none;
        }
      `])),$M):he(BJ||(BJ=pu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&he(FJ||(FJ=pu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),$M),r&&he(LJ||(LJ=pu([`
        `,` {
          opacity: 0;
        }
      `])),Jje))}),JHt=O.div(NJ||(NJ=pu([`
  flex-grow: 1;
  min-width: 0;
`]))),$M=O.div(zJ||(zJ=pu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),eUt=O.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return he(VJ||(VJ=pu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),Jje=O.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return he(UJ||(UJ=pu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),XHt,r,n&&he(HJ||(HJ=pu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function tUt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=se.useContext(Cm),{zIndex:a}=Dc(),l=h.useMemo(()=>n||!r?null:c.jsxs($M,{"data-testid":"change-bar",$zIndex:a,children:[c.jsx(eUt,{"data-testid":"change-bar__marker"}),c.jsx(Jje,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return c.jsxs(QHt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[c.jsx(JHt,{"data-testid":"change-bar__field-wrapper",children:t}),l]})}const nUt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:l=Vn,withHoverEffect:u,...d}=t,f=Dc(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),y=h.useRef(null);return Gje(r?null:"field-".concat(vr(l)),()=>({element:y.current,path:l,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),J4),c.jsx("div",{...d,ref:y,onMouseEnter:v,onMouseLeave:g,children:c.jsx(tUt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function Jo(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return c.jsx(nUt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}se.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const RM=se.createContext(null);function rUt(e){const t=se.useContext(RM);se.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const WJ=()=>{},B7=se.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=lr(n),a=h.useContext(RM),l=h.useMemo(()=>eF(),[]);return h.useEffect(()=>o?l.subscribe(o):WJ,[l,o]),h.useEffect(()=>a?l.subscribe(a.publish):WJ,[a,l]),h.useEffect(()=>{const u=f=>{l.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[l,s]),c.jsx(RM.Provider,{value:l,children:se.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function oUt(e){let{onScroll:t,children:n}=e;return rUt(t),c.jsx(c.Fragment,{children:n})}function YJ(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=vf(r),i="".concat(e,"-").concat(vr(o));if(n.has(i))return n.get(i);let s;for(const[a,l]of n){if(!("path"in l)||!a.startsWith(e))continue;const u=tRe(o,l.path),d=l.path[l.path.length-1],f=u===l.path.length-1&&bl(d);if(u!==0&&!(u!==l.path.length&&!f)&&(s=l,u===o.length))break}return s}function iUt(e){return e[0]!=="changePanel"}function eTe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function sUt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&eTe(e)}const aUt=-15;function qJ(e){let n=e.element;for(;!sUt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+aUt,left:0,behavior:"smooth"})}const GJ=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),eTe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function L_(e,t,n){return["M ".concat(e-F_," ").concat(t-F_*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+F_," ").concat(t-F_*n)].join("")}function rO(e,t){return"M".concat(e," ").concat(t)}function eo(e,t){return"L".concat(e," ").concat(t)}function lUt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function os(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function cUt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],l=Math.min(Ps,Math.abs(o-s)/2);return t.isAbove?a.push(rO(r+ct,o-mi+Sa),eo(r+ct,o-Ps),os(r+ct,o,r+ct+Ps,o)):t.isBelow?a.push(rO(r+ct,o+mi-Sa),eo(r+ct,o+Ps),os(r+ct,o,r+ct+Ps,o)):a.push(rO(r,o)),n.isAbove?o<n.bounds.top?a.push(eo(n.bounds.left-8-l,o),os(n.bounds.left-8,o,n.bounds.left-8,o+l),eo(n.bounds.left-8,s-l),os(n.bounds.left-8,s,n.bounds.left-8+l,s),eo(n.bounds.left+ct-Ps,s),os(n.bounds.left+ct,s,n.bounds.left+ct,s-Ps),eo(n.bounds.left+ct,s-mi+Sa)):a.push(eo(n.bounds.left+ct-Ps,o),os(n.bounds.left+ct,o,n.bounds.left+ct,o-Ps),eo(n.bounds.left+ct,s-mi+Sa)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(eo(n.bounds.left-ct-l,o),os(n.bounds.left-ct,o,n.bounds.left-ct,o-l),eo(n.bounds.left-ct,s+l),os(n.bounds.left-ct,s,n.bounds.left-ct+l,s),eo(n.bounds.left+ct-Ps,s),os(n.bounds.left+ct,s,n.bounds.left+ct,s+Ps),eo(n.bounds.left+ct,s+mi-Sa)):a.push(eo(n.bounds.left+ct-Ps,o),os(n.bounds.left+ct,o,n.bounds.left+ct,o+Ps),eo(n.bounds.left+ct,s+mi-Sa)):o<s?a.push(eo(n.bounds.left+ct-l,o),os(n.bounds.left+ct,o,n.bounds.left+ct,o+l),eo(n.bounds.left+ct,s-l),os(n.bounds.left+ct,s,n.bounds.left+ct+l,s),eo(i,s)):a.push(eo(n.bounds.left+ct-l,o),os(n.bounds.left+ct,o,n.bounds.left+ct,o-l),eo(n.bounds.left+ct,s+l),os(n.bounds.left+ct,s,n.bounds.left+ct+l,s),eo(i,s)),lUt(a)}function KJ(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Sa,o=e.top>t.top+t.height-Sa;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+OJ,endY:e.top+e.height-OJ,isAbove:r,isBelow:o,outOfBounds:r||o}}function uUt(e){const t={top:e.from.bounds.top+mi,bottom:e.from.bounds.top+e.from.bounds.height-mi,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-mi*2},n=KJ(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+mi,bottom:e.to.bounds.top+e.to.bounds.height-mi,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-mi*2},o=KJ(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function dUt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return c.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var ZJ=Object.freeze,fUt=Object.defineProperty,ZT=(e,t)=>ZJ(fUt(e,"raw",{value:ZJ(t||e.slice())})),XJ,QJ,JJ,eee;O.rect(XJ||(XJ=ZT([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const L1=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(QJ||(QJ=ZT([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),hUt=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(JJ||(JJ=ZT([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),pUt=O(dUt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(eee||(eee=ZT([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),mUt=h.memo(function(t){let{from:n,to:r}=t;const o=uUt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=cUt(o);return c.jsxs(c.Fragment,{children:[c.jsx(hUt,{d:i,strokeWidth:EHt}),c.jsx(L1,{d:i,strokeWidth:qm}),c.jsx(pUt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:qm,bounds:r.bounds}),o.from.isAbove&&c.jsx(L1,{d:L_(o.from.left+ct,o.from.bounds.top-mi+Sa,-1),strokeWidth:qm}),o.from.isBelow&&c.jsx(L1,{d:L_(o.from.left+ct,o.from.bounds.top+o.from.bounds.height+mi-Sa,1),strokeWidth:qm}),o.to.isAbove&&c.jsx(L1,{d:L_(o.to.bounds.left+ct,o.to.bounds.top-mi+Sa,-1),strokeWidth:qm}),o.to.isBelow&&c.jsx(L1,{d:L_(o.to.bounds.left+ct,o.to.bounds.top+o.to.bounds.height+mi-Sa,1),strokeWidth:qm}),kHt]})});function gUt(e,t){h.useEffect(()=>LHt.observe(e,t),[e,t])}var tee=Object.freeze,vUt=Object.defineProperty,yUt=(e,t)=>tee(vUt(e,"raw",{value:tee(t||e.slice())})),nee;const bUt=O.svg(nee||(nee=yUt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function ree(e,t,n,r){const o=[],i=[];for(const u of e){if(!iUt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=YJ("field",d,n),p=YJ("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(uo).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...GJ(d.element,r)},change:{...f,...GJ(f.element,r)}}}),isHoverConnector:s}}function xUt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=se.useState(null),i=$7(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},l]=h.useState(()=>ree(i,r,s,t)),u=h.useMemo(()=>hm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{l(ree(i,r,s,t))},[s,i,r,t]);return gUt(t,d),c.jsx(oUt,{onScroll:d,children:c.jsx(bUt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?c.jsx(wUt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function wUt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{qJ(n),qJ(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),l=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return c.jsxs(c.Fragment,{children:[c.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:c.jsx(mUt,{from:l,to:u})}),jHt]})}function CUt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,l]=se.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return c.jsx(Cm.Provider,{value:u,children:c.jsx(THt,{children:c.jsxs(B7,{...s,ref:l,className:n,children:[t,a&&c.jsx(xUt,{rootElement:a,onSetFocus:i})]})})})}const HPn=CUt;function _Ut(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function N7(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&_Ut(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var oee=Object.freeze,SUt=Object.defineProperty,XT=(e,t)=>oee(SUt(e,"raw",{value:oee(t||e.slice())})),iee,see,aee,lee;const EUt="data-active",oO="a,button",kUt=O.div(e=>{let{theme:t,offset:n}=e;return he(iee||(iee=XT([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ye(t.sanity.radius[1]),-n,-n,-n,tTe,N7({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),jUt=O.div(see||(see=XT([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),tTe=O(B)(aee||(aee=XT([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),TUt=O(B).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(lee||(lee=XT([`
  position: relative;
  width: 100%;
`]))),_m=h.forwardRef(function(t,n){let{activeItemDataAttr:r=EUt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:l,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:y,items:x,onEndReached:b,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[P,R]=h.useState(!1),[$,U]=h.useState(null),[L,W]=h.useState(null),Y=h.useCallback(me=>{if(!b)return;const[We]=[...me.getVirtualItems()].reverse();if(!We)return;We.index>=x.length-w-1&&k.current&&b()},[b,x.length,w]),V=uCe({count:x.length,getItemKey:f,getScrollElement:()=>L,estimateSize:()=>y,onChange:Y,overscan:_}),H=h.useMemo(()=>{let me=-1;return x.reduce((We,Ge,$e)=>{var xt,Tt;const Et=(xt=d==null?void 0:d($e))!=null?xt:!1,Kt=(Tt=p==null?void 0:p($e))!=null?Tt:!1;return Et||(me+=1),We[$e]={activeIndex:Et?null:me,disabled:Et,selected:Kt},We},[])},[d,p,x]),Q=h.useMemo(()=>H.filter(me=>!me.disabled).length,[H]),F=h.useCallback(me=>$==null?void 0:$.setAttribute("data-enabled",(!me).toString()),[$]),G=h.useCallback(me=>"".concat(T.current,"-item-").concat(me),[]),z=h.useCallback(()=>"".concat(T.current,"-children"),[]),Z=h.useCallback(()=>{const me=[g,L].some(Ge=>document.activeElement===Ge);if(C&&!me&&!P)return;const We=Array.from((D==null?void 0:D.children)||[]);We==null||We.forEach(Ge=>{var $e,xt,Tt;const Et=Number(($e=Ge.dataset)==null?void 0:$e.index),Kt=(xt=H[Et])==null?void 0:xt.activeIndex;(Tt=Ge.querySelector(oO))==null||Tt.toggleAttribute(r,Kt===A.current)})},[r,D==null?void 0:D.children,P,g,H,C,L]),K=h.useCallback(()=>{const me=Array.from((D==null?void 0:D.children)||[]);me==null||me.forEach(We=>{var Ge;(Ge=We.querySelector(oO))==null||Ge.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),J=h.useMemo(()=>Yj(Z,200),[Z]),X=h.useCallback(()=>{const me=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",G(me)),L==null||L.setAttribute("aria-activedescendant",G(me))):(g==null||g.removeAttribute("aria-activedescendant"),L==null||L.removeAttribute("aria-activedescendant"))},[G,g,x.length,L]),ee=h.useCallback(()=>{var me,We;const Ge=D==null?void 0:D.parentElement;if(D&&Ge){const $e=Ge.getBoundingClientRect().top-D.getBoundingClientRect().top;return(We=(me=V.getVirtualItemForOffset($e))==null?void 0:me.index)!=null?We:-1}return-1},[D,V]),re=h.useCallback(me=>{let{index:We,scrollAlign:Ge,scrollIntoView:$e=!0}=me;if(A.current=We,X(),Z(),$e){const xt=H.findIndex(Tt=>Tt.activeIndex===We);xt>-1&&V.scrollToIndex(xt,Ge?{align:Ge}:{})}},[X,H,Z,V]),de=h.useCallback(me=>{let We=-1;const Ge=Q-1;if(me==="next"){const $e=E?0:Ge;We=A.current<Q-1?A.current+1:$e}if(me==="previous"){const $e=E?Ge:0;We=A.current>0?A.current-1:$e}re({index:We,scrollIntoView:!0}),F(!1)},[Q,F,re,E]),ie=h.useCallback(me=>{switch(me){case"input":g==null||g.focus();break;case"list":L==null||L.focus();break}},[g,L]),fe=h.useCallback(()=>{g==null||g.focus()},[g]),xe=h.useCallback(()=>{L==null||L.focus()},[L]),be=h.useCallback(me=>()=>{re({index:me,scrollIntoView:!1})},[re]),ve=h.useCallback(()=>{Z()},[Z]),qe=h.useCallback(me=>We=>{const Ge=Array.from((D==null?void 0:D.children)||[]);if(Ge.length&&(We.key==="ArrowDown"&&(We.preventDefault(),ie(me),de("next")),We.key==="ArrowUp"&&(We.preventDefault(),ie(me),de("previous")),We.key==="Enter")){We.preventDefault(),ie(me);const $e=Ge.find(xt=>Number(xt.dataset.index)===H.findIndex(Tt=>Tt.activeIndex===A.current));if($e){const xt=$e==null?void 0:$e.querySelector(oO);xt==null||xt.click()}}},[D==null?void 0:D.children,ie,H,de]),Le=h.useCallback(me=>qe("input")(me),[qe]),ot=h.useCallback(me=>qe("list")(me),[qe]),Qe=h.useCallback(()=>{C&&(Z(),R(!0))},[C,Z]),lt=h.useCallback(()=>{C&&(K(),R(!1))},[K,C]);h.useImperativeHandle(n,()=>({focusInputElement(){fe()},focusListElement(){xe()},getTopIndex(){return ee()},scrollToIndex(me){re({index:me}),F(!0)}}),[F,fe,xe,ee,re]),h.useEffect(()=>{typeof m<"u"&&!k.current&&re({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,re]),h.useEffect(()=>{function me(){F(!0)}return L==null||L.addEventListener("mousemove",me),L==null||L.addEventListener("wheel",me,{passive:!0}),()=>{L==null||L.removeEventListener("mousemove",me),L==null||L.removeEventListener("wheel",me)}},[F,L]),h.useEffect(()=>(g==null||g.addEventListener("focus",ve),g==null||g.addEventListener("keydown",Le),L==null||L.addEventListener("focus",ve),L==null||L.addEventListener("keydown",ot),()=>{g==null||g.removeEventListener("focus",ve),g==null||g.removeEventListener("keydown",Le),L==null||L.removeEventListener("focus",ve),L==null||L.removeEventListener("keydown",ot)}),[a,ve,qe,Le,ot,K,g,Z,L]),h.useEffect(()=>{X()},[X,x]),h.useEffect(()=>{const me=new MutationObserver(J);return D&&me.observe(D,{childList:!0,subtree:!0}),()=>{me.disconnect()}},[D,J]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",z()),g==null||g.setAttribute("role","combobox")},[z,g]),h.useEffect(()=>{s&&ie(s)},[s,a,xe,fe,ie]);const _e=a?0:-1;return c.jsxs(tTe,{id:z(),onMouseEnter:Qe,onMouseLeave:lt,ref:W,sizing:"border",tabIndex:_e,...j,children:[a&&c.jsx(kUt,{offset:u}),c.jsx(jUt,{"aria-hidden":"true","data-enabled":!0,ref:U}),V&&c.jsx(TUt,{forwardedAs:"ul",$height:V.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:V.getVirtualItems().map(me=>{const We=me.index,{activeIndex:Ge,disabled:$e,selected:xt}=H[We],Tt=S(x[We],{activeIndex:Ge,disabled:$e,selected:xt,virtualIndex:We}),Et=h.cloneElement(Tt,{tabIndex:-1}),Kt=typeof Ge=="number"&&!$e?{"aria-posinset":Ge+1,...i?{"aria-selected":xt.toString()}:{},"aria-setsize":Q,id:G(Ge),role:"option",onMouseEnter:be(Ge)}:{};return c.jsx(oe,{as:"li","data-index":We,ref:l?void 0:V.measureElement,style:{flex:1,...l?{height:"".concat(me.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(me.start,"px)"),width:"100%"},tabIndex:-1,...Kt,children:Et},me.key)})})]})}),cee=new WeakMap;let AUt=0;function uee(e){const t=cee.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(AUt++);return cee.set(e,n),n}function DUt(e){const t=h.useRef(void 0);return Pf(e,t.current)||(t.current=e),[t.current]}function IUt(e,t){h.useEffect(e,DUt(t))}const PUt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,l=n({...r,onComplete:()=>{s(o)}});return IUt(()=>(i(o,l),a(),()=>{i(o,null),a()}),l),null},(e,t)=>e.args===t.args),OUt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},$Ut=e=>clearTimeout(e),RUt=typeof requestIdleCallback>"u"?OUt:requestIdleCallback,MUt=typeof cancelIdleCallback>"u"?$Ut:cancelIdleCallback,FUt={trailing:!0};function UPn(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[l,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&MUt(d.current),d.current=RUt(()=>{d.current=null,a(x=>x+1)})},[]),p=KHt(f,60,FUt),m=h.useCallback((x,b)=>{if(b===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:b}}},[]),v=h.useCallback(x=>{u(b=>({...b,[x]:(b[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>uee(x)),[t]),y=h.useMemo(()=>g.map(x=>{var b;return(b=i.current[x])==null?void 0:b.value}).filter(uo),[g,s]);return c.jsxs(c.Fragment,{children:[t.map(x=>{const b=uee(x),w=l[b]||0;return c.jsx(PUt,{hook:x,id:b,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(b,"-").concat(w))}),r({states:y})]})}function LUt(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(BUt):n;return c.jsx(fL,{...r,keys:o})}const dee=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function BUt(e){const t=e.toLowerCase();return t==="alt"&&dee?fee(e,"option"):t==="option"&&!dee?fee(e,"alt"):e}function fee(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function jc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return c.jsxs(B,{padding:2,children:[c.jsxs(Qt,{space:2,children:[c.jsx(N,{size:1,children:c.jsx(yf,{})}),c.jsx(N,{weight:"semibold",children:n})]}),c.jsx(Qt,{marginTop:4,children:c.jsx(N,{size:1,children:o.length===0?c.jsxs(c.Fragment,{children:["You have no role that grants you permission to ",r]}):c.jsxs(c.Fragment,{children:["Your role",i&&"s"," ",NUt(o.map(s=>c.jsx("code",{children:s.title},s.name)),c.jsx(c.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function NUt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const zUt=O(ta)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return ft(r,e.$width,o=>({width:o==="auto"?"none":ye(n[o]),maxWidth:"100%"}))}),VUt=se.forwardRef(function(t,n){const{width:r,...o}=t,i=we(r);return c.jsx(zUt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var hee=Object.freeze,HUt=Object.defineProperty,nTe=(e,t)=>hee(HUt(e,"raw",{value:hee(t||e.slice())})),pee,mee;const UUt=O(fn)(()=>he(pee||(pee=nTe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),WUt=O(Zi)(e=>{const t=e.theme.sanity.radius[3];return he(mee||(mee=nTe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function YUt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),l=c.jsx(VUt,{width:s,children:c.jsx(Qu,{autoFocus:!0,children:c.jsxs(oe,{ref:i,children:[c.jsx(WUt,{children:c.jsx(B,{padding:2,paddingLeft:3,children:c.jsxs(q,{align:"center",gap:2,children:[c.jsx(B,{flex:1,children:c.jsx(N,{textOverflow:"ellipsis",weight:"semibold",children:n})}),c.jsx(le,{icon:ia,mode:"bleed",onClick:a})]})})}),t]})})});return c.jsx(UUt,{portal:!0,constrainSize:!0,content:l,open:!0,referenceElement:o})}var gee=Object.freeze,qUt=Object.defineProperty,GUt=(e,t)=>gee(qUt(e,"raw",{value:gee(t||e.slice())})),vee;const KUt=O(ne)(()=>he(vee||(vee=GUt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),rTe=h.createContext({selected:!1});function ZUt(){const e=h.useContext(rTe);if(!e)throw new Error("PreviewCard: missing context value");return e}const cv=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return c.jsx(KUt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:c.jsx(rTe.Provider,{value:{selected:o},children:r})})}),qi={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},XUt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var yee=Object.freeze,QUt=Object.defineProperty,JUt=(e,t)=>yee(QUt(e,"raw",{value:yee(t||e.slice())})),bee;const oTe=O.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=XUt[n];return he(bee||(bee=JUt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we cant use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg>  icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ye(i),o?"100%":ye(s),o?void 0:ye(i),l=>{let{theme:u}=l;return ye(u.sanity.radius[r])},a)});oTe.displayName="MediaWrapper";function Rw(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return c.jsxs(oTe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[eWt({dimensions:n,layout:r,media:o}),t&&c.jsx("span",{})]})}function eWt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return sr.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?c.jsx(N,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function tWt(e,t,n){return sr.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?c.jsx("div",{children:e}):e}function Ro(e,t,n){return typeof e=="string"?e:sr.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var xee=Object.freeze,nWt=Object.defineProperty,z7=(e,t)=>xee(nWt(e,"raw",{value:xee(t||e.slice())})),wee,Cee,_ee;const rWt={...qi.default,aspect:1,fit:"crop",dpr:mm()},See=O(q)(wee||(wee=z7([`
  height: `,`;
`])),ye(qi.default.height)),oWt=O(xi).attrs({animated:!0,radius:1})(Cee||(Cee=z7([`
  max-width: `,`;
  width: 80%;
`])),ye(160)),iWt=O(xi).attrs({animated:!0,radius:1,size:1})(_ee||(_ee=z7([`
  max-width: `,`;
  width: 60%;
`])),ye(120));function iTe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,l=ght(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&c.jsx(B,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Ro(o,"default")});return i?c.jsxs(See,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&c.jsx(p0,{animated:!0,marginRight:2,radius:2,style:qi.default}),c.jsxs(oe,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[c.jsx(oWt,{}),c.jsx(iWt,{})]}),u]}):c.jsxs(See,{align:"center",className:l,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&c.jsx(Rw,{dimensions:rWt,layout:"default",media:r,styles:a}),c.jsxs(oe,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[c.jsxs(N,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Ro(t,"default"),!t&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&c.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Ro(n,"default")}),s&&c.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var Eee=Object.freeze,sWt=Object.defineProperty,Sm=(e,t)=>Eee(sWt(e,"raw",{value:Eee(t||e.slice())})),kee,jee,Tee,Aee,Dee,Iee,Pee;const Oee=O(q).attrs({align:"center"})(kee||(kee=Sm([`
  height: `,`;
`])),ye(qi.detail.height)),aWt=O(B)(jee||(jee=Sm([`
  white-space: nowrap;
`]))),lWt=O(p0).attrs({animated:!0,radius:2})(Tee||(Tee=Sm([`
  width: `,`;
  height: `,`;
`])),ye(qi.detail.width),ye(qi.detail.height)),cWt=O(xi).attrs({animated:!0,radius:1})(Aee||(Aee=Sm([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ye(160)),uWt=O(xi).attrs({animated:!0,radius:1,size:1})(Dee||(Dee=Sm([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ye(120)),dWt=O(xi).attrs({animated:!0,radius:1,size:1})(Iee||(Iee=Sm([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ye(180)),fWt=O(N)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return he(Pee||(Pee=Sm([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ye(i),o)}),hWt={...qi.detail,fit:"crop",aspect:1,dpr:mm()};function pWt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=hWt,media:i,status:s,children:a,isPlaceholder:l}=e,u=s&&c.jsx(aWt,{marginLeft:3,paddingRight:1,children:Ro(s,"detail")});return l?c.jsxs(Oee,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(lWt,{"data-testid":"detail-preview__media"}),c.jsxs(B,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(q,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(oe,{flex:1,space:2,children:[c.jsx(cWt,{}),c.jsx(uWt,{})]}),u]}),r&&c.jsx(B,{marginTop:3,children:c.jsx(dWt,{})})]})]}):c.jsxs(Oee,{"data-testid":"detail-preview",children:[i!==!1&&c.jsx(Rw,{dimensions:o,layout:"detail",media:i}),c.jsxs(B,{flex:1,paddingLeft:i===!1?1:2,children:[c.jsxs(q,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(oe,{flex:1,space:2,children:[c.jsxs(N,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Ro(t,"detail"),!t&&c.jsx(c.Fragment,{children:"Untitled"})]}),n&&c.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(n,"detail")})]}),u]}),r&&c.jsx(B,{marginTop:3,children:c.jsx(fWt,{muted:!0,size:1,children:Ro(r,"detail")})})]}),a]})}var $ee=Object.freeze,mWt=Object.defineProperty,V7=(e,t)=>$ee(mWt(e,"raw",{value:$ee(t||e.slice())})),Ree,Mee,Fee;const nl=43,H7=3,gWt=O.svg(Ree||(Ree=V7([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),nl,nl),vWt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(Mee||(Mee=V7([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),pe.gray[n.dark?900:100].hex,H7)}),yWt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(Fee||(Fee=V7([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),pe.blue[n.dark?400:500].hex,H7)});function bWt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=nl/2-H7/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(nl/2," ").concat(nl/2," ").concat(nl," ").concat(nl);return c.jsxs(gWt,{viewBox:s,children:[c.jsx(vWt,{cx:nl,cy:nl,r}),c.jsx(yWt,{cx:nl,cy:nl,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var Lee=Object.freeze,xWt=Object.defineProperty,sTe=(e,t)=>Lee(xWt(e,"raw",{value:Lee(t||e.slice())})),Bee,Nee;const wWt=.5,CWt=O(ne)(Bee||(Bee=sTe([`
  overflow: hidden;
  overflow: clip;
`]))),_Wt=O(ne)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(Nee||(Nee=sTe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),wWt,pe.blue[n.dark?400:500].hex)});function SWt(e){const{value:t}=e;return c.jsx(CWt,{radius:5,children:c.jsx(_Wt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var zee=Object.freeze,EWt=Object.defineProperty,Mw=(e,t)=>zee(EWt(e,"raw",{value:zee(t||e.slice())})),Vee,Hee,Uee,Wee,Yee;const kWt=O(B)(Vee||(Vee=Mw([`
  position: relative;
`]))),jWt=O(q).attrs({align:"center",justify:"center"})(Hee||(Hee=Mw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),TWt=O(p0).attrs({animated:!0,radius:2})(Uee||(Uee=Mw([`
  width: 100%;
  height: 100%;
`]))),AWt=O(q).attrs({align:"center",justify:"center"})(Wee||(Wee=Mw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),DWt=O(oe).attrs({padding:2,space:2})(Yee||(Yee=Mw([`
  max-width: `,`;
`])),ye(200)),IWt={...qi.media,aspect:1,fit:"crop",dpr:mm()};function PWt(e){const{media:t,mediaDimensions:n=IWt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:l=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:c.jsxs(DWt,{children:[a&&c.jsx(N,{align:"center",size:1,weight:"semibold",children:Ro(a,"media")}),s&&c.jsx(N,{align:"center",muted:!0,size:1,children:Ro(s,"media")})]}),[s,a]);return c.jsxs(kWt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[c.jsx("div",{style:f}),c.jsx(bt,{content:p,disabled:!p,placement:"top",portal:!0,children:c.jsxs(jWt,{children:[o?c.jsx(TWt,{}):c.jsx(Rw,{border:l,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&c.jsx(AWt,{children:c.jsx(bWt,{value:i})})]})}),r]})}var qee=Object.freeze,OWt=Object.defineProperty,U7=(e,t)=>qee(OWt(e,"raw",{value:qee(t||e.slice())})),Gee,Kee,Zee;const $Wt=O(q).attrs({align:"center"})(Gee||(Gee=U7([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ye(qi.block.height)),RWt=O(ne)(Kee||(Kee=U7([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),MWt=O(B).attrs({overflow:"hidden"})(Zee||(Zee=U7([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),FWt={...qi.blockImage,fit:"fillmax",dpr:mm()},LWt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function BWt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=FWt,media:a,children:l,status:u}=e;return c.jsxs(MWt,{children:[c.jsxs(oe,{children:[c.jsxs($Wt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[c.jsxs(oe,{flex:1,space:2,children:[(n||i)&&c.jsx(N,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Ro(n,"block"):i}),r&&c.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(r,"block")})]}),c.jsxs(q,{gap:1,paddingLeft:1,children:[u&&c.jsx(B,{paddingX:2,paddingY:3,children:Ro(u,"block")}),t]})]}),c.jsx(RWt,{$ratio:LWt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:c.jsx(Rw,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&c.jsx(B,{paddingX:2,paddingY:3,children:c.jsx(N,{muted:!0,size:1,children:Ro(o,"block")})}),l&&c.jsx("div",{children:l})]})}var Xee=Object.freeze,NWt=Object.defineProperty,zWt=(e,t)=>Xee(NWt(e,"raw",{value:Xee(t||e.slice())})),Qee;const VWt={...qi.block,aspect:1,fit:"crop",dpr:mm()},HWt=O(q).attrs({align:"center"})(Qee||(Qee=zWt([`
  min-height: `,`;
`])),ye(qi.block.height));function UWt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=VWt,media:s,status:a,children:l}=e;return c.jsxs(oe,{"data-testid":"block-preview",space:1,children:[c.jsxs(HWt,{"data-testid":"block-preview__header",children:[s&&c.jsx(Rw,{dimensions:i,layout:"block",media:s}),c.jsxs(B,{flex:1,paddingLeft:s?2:1,children:[c.jsx(N,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Ro(n,"block"):"Untitled"}),r&&c.jsx(B,{marginTop:2,children:c.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(r,"block")})}),o&&c.jsx(B,{marginTop:3,children:c.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(o,"block")})})]}),c.jsxs(q,{gap:1,paddingLeft:1,children:[a&&c.jsx(B,{paddingX:2,paddingY:3,children:Ro(a,"block")}),t]})]}),l&&c.jsx("div",{"data-testid":"block-preview__children",children:l})]})}var Jee=Object.freeze,WWt=Object.defineProperty,W7=(e,t)=>Jee(WWt(e,"raw",{value:Jee(t||e.slice())})),ete,tte,nte;const YWt=O.span(ete||(ete=W7([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),qWt=O.span(tte||(tte=W7([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])},e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),GWt=O(N).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return he(nte||(nte=W7([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),KWt={...qi.inline,fit:"crop",aspect:1,dpr:mm()};function ZWt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=KWt}=e;return c.jsxs(YWt,{"data-testid":"inline-preview",children:[r&&c.jsxs(qWt,{"data-testid":"inline-preview-media",children:[tWt(r,"inline",o),c.jsx("span",{})]}),c.jsx(GWt,{"data-testid":"inline-preview-title",size:1,children:Ro(t,"inline",n)})]})}var rte=Object.freeze,XWt=Object.defineProperty,QT=(e,t)=>rte(XWt(e,"raw",{value:rte(t||e.slice())})),ote,ite,ste,ate;({...qi.default,dpr:mm()});O(B)(ote||(ote=QT([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));O(q).attrs({align:"center"})(ite||(ite=QT([`
  height: `,`;
`])),ye(qi.default.height));O(xi).attrs({animated:!0,radius:1})(ste||(ste=QT([`
  max-width: `,`;
  width: 80%;
`])),ye(160));O(xi).attrs({animated:!0,radius:1,size:1})(ate||(ate=QT([`
  max-width: `,`;
  width: 60%;
`])),ye(120));const QWt=["aria-hidden","disabled","href"],JWt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function eYt(e){return[...e.querySelectorAll(JWt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function aTe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,l]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const b=eYt(s);d(b)}},[s]),y=h.useCallback(b=>{l(b)},[]),x=h.useCallback(b=>{if(i)return;const w=()=>{b.preventDefault(),l(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{b.preventDefault(),l(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};b.key==="Tab"&&o.includes("tab")&&(b.shiftKey?w():C()),o.includes("arrows")&&(b.key===v&&w(),b.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const b=new MutationObserver(g);return s&&b.observe(s,{childList:!0,subtree:!0,attributeFilter:QWt}),()=>{b.disconnect()}},[u,g,s]),h.useEffect(()=>{var b;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>y(C),w.onblur=()=>y(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>y(C))}),a===-1&&u&&((b=u[n==="last"?p:0])==null||b.setAttribute("tabIndex","0"))},[u,a,y,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const tYt=O(B)({position:"relative"}),nYt=O.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),nh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:l="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=ks(),g=f&&v.sanity.color.solid[f],y=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,b=typeof r=="object"?c.jsx(N,{size:1,children:r.reason}):c.jsxs(q,{align:"center",gap:2,style:{lineHeight:0},children:[c.jsx(N,{size:1,children:a}),i&&c.jsx(LUt,{fontSize:0,keys:i,style:{margin:-4}})]});return c.jsx(bt,{padding:2,placement:"bottom",...p,content:b,disabled:!a,portal:!0,children:c.jsx("div",{children:c.jsx(le,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:l,ref:n,children:c.jsxs(q,{gap:u,children:[c.jsxs(tYt,{children:[c.jsxs(N,{size:o,children:[h.isValidElement(s)&&s,sr.isValidElementType(s)&&h.createElement(s)]}),f&&c.jsx(nYt,{style:y})]}),d&&c.jsx(B,{flex:1,children:c.jsx(N,{size:o,children:d})})]})})})})});var lte=Object.freeze,rYt=Object.defineProperty,oYt=(e,t)=>lte(rYt(e,"raw",{value:lte(t||e.slice())})),cte;const iYt=O(N)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return he(cte||(cte=oYt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),ir=se.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return c.jsx(iYt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),Fw=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return c.jsx(bt,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:c.jsx("div",{children:r})})}),Y7=h.forwardRef((e,t)=>{const{push:n}=Ei();return h.useImperativeHandle(t,()=>({push:n})),null});Y7.displayName="ImperativeToast";const sYt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},aYt=h.createContext(sYt);function lYt(){return h.useContext(aYt)}function Hv(e){let{children:t,zOffset:n}=e;const o=lYt()[n];return c.jsx(Af,{zOffset:o,children:t})}function cYt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function l(u,d){s(o(u),e,d)}return{get:a,set:l}}const lTe=h.createContext(null);function uYt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const l=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(l)},set:i=>{let{namespace:s,dependencies:a,value:l}=i;const u=r.get(s)||cYt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,l)}}},[]);return c.jsx(lTe.Provider,{value:n,children:t})}function sd(){const e=h.useContext(lTe);if(!e)throw new Error("Could not find `cache` context");return e}var dYt=Object.defineProperty,fYt=(e,t,n)=>t in e?dYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hYt=(e,t,n)=>(fYt(e,typeof t!="symbol"?t+"":t,n),n);class q7 extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),hYt(this,"projectId"),this.projectId=n}}const G7=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),K7={};function cTe(e,t){G7?localStorage[e]=t:K7[e]=t}function pYt(e){return G7?localStorage[e]:K7[e]}function uTe(e){G7?localStorage.removeItem(e):delete K7[e]}function mYt(e){const t=typeof window>"u"?Ce():Yi(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new Tr,o=yn(r,t.pipe(ut(s=>s.key===n),ce(s=>s.newValue),ut(uo),ce(s=>JSON.parse(s)))).pipe(Eo(1));function i(s){try{cTe(n,JSON.stringify(s)),uTe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const ute=/sid=([^&]{20,})&?/;function gYt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(ute)||[];if(!t)return null;const n=e.replace(ute,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let dte=gYt();const vYt=()=>{const e=dte;return e&&(dte=null),e};var fte=Object.freeze,yYt=Object.defineProperty,dTe=(e,t)=>fte(yYt(e,"raw",{value:fte(t||e.slice())})),hte,pte;const bYt=O.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return he(hte||(hte=dTe([`
    fill: `,`;
  `])),n)}),xYt=O.img(pte||(pte=dTe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),wYt=()=>c.jsx(bYt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:c.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),CYt=()=>c.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[c.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),c.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),c.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),c.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function _Yt(e){const{provider:t}=e;return t.logo?c.jsx(xYt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const SYt={google:CYt,github:wYt};async function EYt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function mte(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function kYt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=th(t);function s(a){let{projectId:l,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&EYt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&mte({loginMethod:n,projectId:l,url:d[0].url,basePath:u}),y=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),y?c.jsxs(q,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[c.jsx(N,{muted:!0,children:"Loading"}),c.jsx(zr,{muted:!0})]}):c.jsxs(oe,{space:4,children:[c.jsx(ti,{align:"center",size:1,children:"Choose login provider"}),c.jsx(oe,{space:2,children:d.map((x,b)=>c.jsx(le,{as:"a",icon:SYt[x.name]||c.jsx(_Yt,{provider:x}),href:mte({loginMethod:n,projectId:l,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(b)))})]})}return s}const Z7=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},gte=e=>{try{const t=pYt(Z7(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},fTe=e=>{try{uTe(Z7(e))}catch(t){console.error(t)}},jYt=e=>{let{token:t,projectId:n}=e;try{cTe(Z7(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},vte=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return fTe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new q7({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function TYt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:l}=mYt("dual_mode_auth_".concat(n)),u=t??N_e,d=l.pipe(Ci(i==="dual"?gte(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ce(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),rt(x=>So(async()=>{const b=await vte(x,a);return{currentUser:b,client:x,authenticated:!!b}})),Kn((x,b)=>Yt(x.currentUser,b.currentUser)),Eo(1));async function m(){const x=vYt();if(!x){a(i==="cookie"?null:gte(n));return}const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await vte(b,a)),w||i==="cookie"){a(null);return}const C=await v(b,x);a(C??null)}async function v(x,b){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return jYt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});fTe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=kYt({...s,getClient:()=>p.pipe(ce(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:y,logout:g}}function hTe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,hTe(r)]})))}const AYt=qj(TYt,hTe);function DYt(e){return _t(e)&&"state"in e&&_t(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function pTe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function IYt(e){return t=>{let n=[];const r=Xn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(Wn(()=>{n=[]}),r)}}const yte=typeof window>"u"?Ce({}):Yi(window,"online"),PYt=typeof window>"u"?Ce({}):Yi(window,"offline"),OYt=e=>Math.pow(2,e)*100,$Yt={type:"connecting"},mTe=xwe(),RYt=mTe[0];mTe[1];const MYt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function FYt(e){let{bifur:t}=e;return{connectionStatus$:yn(t.heartbeats,PYt.pipe(Mp(m0(new Error("The browser went offline"))))).pipe(ce(r=>({type:"connected",lastHeartbeat:r})),IYt((r,o,i)=>{const s=Math.min(24e4,OYt(o)),a=new Date(new Date().getTime()+s),l=wi(a),u=!navigator.onLine,d=MYt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=SL.pipe(kL(u?yte:yn(l,yte,RYt)));return co(Ce(d),f.pipe(ps(1)),i)}),Ci($Yt))}}const LYt=Fge(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function bte(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(nT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function X7(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return bte(r),r}}return bte(e),()=>e}const BYt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},NYt=[];var zYt=Object.defineProperty,VYt=(e,t,n)=>t in e?zYt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B_=(e,t,n)=>(VYt(e,typeof t!="symbol"?t+"":t,n),n);const uf=class gTe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B_(this,"message"),B_(this,"paths"),B_(this,"children"),B_(this,"operation"),this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new gTe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function HYt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function Q7(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(bl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function UYt(e){return e!==null||e!==void 0}function cb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>cb(i,t,n)).filter(UYt);if(typeof e=="string")return cb(new uf(e),t,n);if(!(e instanceof uf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(Q7(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return cb(new uf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const WYt={}.toString,xte=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function YYt(e){for(let t=0;t<xte.length;t++)if(xte[t]===e)return!0;return!1}function vTe(e){const t=WYt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!YYt(n)?n.name:t}function gx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!gx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!gx(e[o],t[o]))return!1}return!0}return!1}const wte=5e3,Cte=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new uf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Em={type:(e,t,n)=>{const r=vTe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?Cte({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:Cte({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),""):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>gx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(Q7(r.path)," has taken more than ").concat(wte,"ms to respond"))},wte);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},qYt={...Em,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},GYt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,KYt={...Em,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(GYt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},iO="http://sanity",ZYt=e=>/^\.*\//.test(e),XYt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,QYt={...Em,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let l;try{l=a?new URL(r,iO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&l.origin!==iO)return n||"Only relative URLs are allowed";if(!a&&l.origin===iO&&ZYt(r))return n||"Relative URLs are not allowed";if(!i&&(l.username||l.password))return n||"Username/password not allowed";const u=l.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const l=r.test(a);if(!i&&!l||i&&l){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||XYt.test(r)?!0:n||"Must be a valid email address"}},JYt={...Em,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(l=>gx(l,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new uf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],l=t[s];gx(a,l)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new uf(n||"Can't be a duplicate",{paths:o}):!0}},eqt=["_key","_type","_weak"],tqt={...Em,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!eqt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!Uu(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function _te(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const nqt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Ste=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?qo(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",qo(new Date(t),r))};function N_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const rqt={...Em,type:(e,t,n)=>!"".concat(t)||nqt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=N_(t);if(!o||!t||o>=N_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=_te(r.type.options)?r.type.options:{},s=Ste(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=N_(t);if(!o||!t||o<=N_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=_te(r.type.options)?r.type.options:{},s=Ste(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var oqt=Object.defineProperty,iqt=(e,t,n)=>t in e?oqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,li=(e,t,n)=>(iqt(e,typeof t!="symbol"?t+"":t,n),n),po;const sqt={Boolean:qYt,Number:KYt,String:QYt,Array:JYt,Object:tqt,Date:rqt},yTe=e=>e&&e.type?yTe(e.type):e,aqt=e=>typeof e!="object"||!e?!1:e.type===MM.FIELD_REF,lqt=[],Ete=Symbol("FIELD_REF"),cqt=["Array","Boolean","Date","Number","Object","String"],MM=(po=class{constructor(e){li(this,"_type"),li(this,"_level"),li(this,"_required"),li(this,"_typeDef"),li(this,"_message"),li(this,"_rules",[]),li(this,"_fieldRules"),li(this,"valueOfField",po.valueOfField.bind(po)),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new po;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=P_t(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!cqt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(HYt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=yTe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return lqt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&sqt[this._type]||Em;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let l="constraint"in s?s.constraint:null;aqt(l)&&(l=Nn(t.parent,l.path));let u;try{u=await a(l,e,this._message,t)}catch(d){const f=new uf("".concat(Q7(t.path),": Exception occurred while validating value: ").concat(d.message));return cb(f,"error",t)}return cb(u,this._level,t)}))).flat()}},li(po,"FIELD_REF",Ete),li(po,"array",e=>new po(e).type("Array")),li(po,"object",e=>new po(e).type("Object")),li(po,"string",e=>new po(e).type("String")),li(po,"number",e=>new po(e).type("Number")),li(po,"boolean",e=>new po(e).type("Boolean")),li(po,"dateTime",e=>new po(e).type("Date")),li(po,"valueOfField",e=>({type:Ete,path:e})),po),uqt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},dqt=function(t){return window.clearTimeout(t)},qE=typeof window>"u"?void 0:window,fqt=(qE==null?void 0:qE.requestIdleCallback)||uqt,hqt=(qE==null?void 0:qE.cancelIdleCallback)||dqt,pqt=qj(gqt);function mqt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function kte(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=bl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const jte=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:l,draft:u}=mqt(r._id),d=r._type,f=kte(o.concat("current"));!a&&f.includes("[]")&&pqt(kte(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:l,slug:e},{tag:"validation.slug-is-unique"})};function gqt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const vqt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||jte,s={...t,parent:t.parent,type:t.type,defaultIsUnique:jte};return await i(r,s)?!0:"Slug is already in use"},yqt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},bqt=e=>e in yqt;function bTe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?bTe(e.type,t):[],e]):[]}function xqt(e,t){let n=e;bqt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>wqt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(vqt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function xTe(e){return e?!("fields"in e)&&e.type?xTe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function wqt(e,t){return t.jsonType==="object"&&xTe(t)||e.value===void 0?e:e.value}function vx(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>vx({...e,validation:r}));if(t instanceof MM)return[t];const n=Object.values(bTe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(xqt,new MM(e));return t?vx({...e,validation:t(n)}):[n]}const Tte=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Cqt=e=>e!=null;function _qt(e,t){if(t.length===1)return t[0];const n=U4(e)&&e._type,r=e==null||!n&&vTe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const Sqt=[];function Eqt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),Ce(Sqt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return FM(i).pipe(Xn(s=>(console.error(s),Ce([{type:"validation",level:"error",path:[],item:new uf(s==null?void 0:s.message)}]))))}function FM(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=vx(n),a=s.map(p=>So(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let l=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});l=l.concat(s.map(m=>m._fieldRules).filter(Cqt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const y=p[v];return vx({...y,validation:g}).map(x=>{const b=Tte(t)?t[v]:void 0;return So(()=>x.validate(b,{...i,parent:t,path:r.concat(v),type:y}))})})),l=l.concat(n.fields.map(m=>FM({...i,parent:t,value:Tte(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(l=l.concat(t.map((p,m)=>FM({...i,parent:t,value:p,path:r.concat(bl(p)?{_key:p._key}:m),type:_qt(p,n.of)})))),So(()=>yn([...a,...l])).pipe(yt(p=>co(kqt(),p),40),$j(),swe(),ce(_n),ce(p=>s.some(m=>m._fieldRules)?Of(p,m=>JSON.stringify(m)):p))}function kqt(e){return new dt(t=>{const n=fqt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>hqt(n)})}function jqt(e){return hS(e,new Set),e}function hS(e,t){if(!t.has(e)){if(t.add(e),e.validation=vx(e),"fields"in e)for(const n of e.fields)hS(n.type,t);if("of"in e)for(const n of e.of)hS(n,t);if(e.annotations)for(const n of e.annotations)hS(n,t)}}function Tqt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&jqt(r)}),e}var Aqt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},Dqt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},Iqt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},Pqt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},Oqt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},$qt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},Rqt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},Mqt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},Fqt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},Lqt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},Bqt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const Nqt=e=>e.severity==="error",zqt=[Oqt,Aqt,Dqt,$qt,Bqt,Iqt,Pqt,Lqt,Fqt,Rqt,Mqt];function Vqt(e){const t=__t(e.types).getTypes(),n=_Ct(t),r=n.some(i=>i.problems.some(Nqt)),o=x8.compile({name:e.name,types:r?[]:[...e.types,...zqt].filter(Boolean)});return o._validation=n,Tqt(o)}function Uv(e){return typeof e.title=="string"?e.title:e.type?Uv(e.type):e.name||e.jsonType}const mn={apiVersion:"2022-09-09"};var Ate=Object.freeze,Hqt=Object.defineProperty,Uqt=(e,t)=>Ate(Hqt(e,"raw",{value:Ate(t||e.slice())})),Dte;const Wqt=O(Zi)(Dte||(Dte=Uqt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function Yqt(){return c.jsx(Wqt,{children:c.jsx(q,{height:"fill",align:"center",justify:"center",children:c.jsx(zr,{})})})}function qqt(e){const{text:t}=e;return c.jsxs(q,{direction:"row",justify:"center",align:"center",children:[c.jsx(zr,{}),c.jsx(B,{marginLeft:2,children:c.jsx(N,{children:t})})]})}const Ite={referringDocuments:[],isLoading:!0};function Gqt(e){const t=Ll();return ko(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ce(n=>({referringDocuments:n,isLoading:!1})),Ci(Ite)),[t,e],Ite)}const Kqt=()=>h.createElement(h.Fragment);function Zqt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:Kqt})}}function Rl(e){const{options:t}=ur().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...AA(t,[])];o.reverse();const s=o.map(a=>{let{config:l}=a;return r(l)}).filter(Boolean);return Zqt(n,s)},[n,t,r])}function dc(e,t){return t.name===e||!!(t.type&&dc(e,t.type))}const Xqt={default:iTe,media:PWt,detail:pWt,inline:ZWt,block:UWt,blockImage:BWt};function Qqt(){return c.jsx(kp,{className:"sanity-studio__preview-fallback-icon"})}function Lw(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=_r(mn),l=h.useMemo(()=>uT(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return c.jsx("img",{alt:fS(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:l.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[l,r,i]),d=h.useCallback(()=>h.createElement(t||Qqt),[t]),f=h.useMemo(()=>t===!1?!1:sr.isValidElementType(r)||h.isValidElement(r)?r:Xy(r)?u:fS(o)?c.jsx("img",{src:o,alt:fS(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=Xqt[n||"default"];return h.createElement(m,p)}const Jqt=typeof window>"u"?Gn:Yi(window,"resize").pipe(Eo(1)),eGt=typeof window>"u"?Gn:Yi(window,"scroll",{passive:!0,capture:!0}).pipe(Eo(1)),tGt=typeof window>"u"?Gn:Yi(window,"orientationchange").pipe(Eo(1)),wTe=150;function nGt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const rGt=nGt()?oGt():iGt();function oGt(){const e=new Tr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(wTe,"px")});return function(r){return new dt(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(yt(()=>e.asObservable()),ut(o=>o.target===r),ce(o=>({isIntersecting:o.isIntersecting})))}}function iGt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),wTe)}return function(o){const i=n(o);return yn(Ce(i()),Jqt,eGt,tGt).pipe(ce(i),ce(s=>({isIntersecting:s})))}}const sGt=typeof window>"u"?Gn:Yi(document,"visibilitychange").pipe(Eo(1));function aGt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=co(Ce(!document.hidden),sGt.pipe(ce(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Kn()),s=rGt(t).pipe(ce(u=>u.isIntersecting)),l=i.pipe(rt(u=>u?s:Ce(!1)),rt(u=>u?Ce(!0):Ce(!1).pipe(pet(n))),Kn()).subscribe(o);return()=>l.unsubscribe()},[t,n]),r}const lGt={isLoading:!0},cGt={isLoading:!1};function CTe(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Ts();return ko(()=>!t||!o||!r?Ce(cGt):i(o,r,{ordering:n}).pipe(ce(s=>({isLoading:!1,value:s.snapshot||void 0})),Xn(s=>Ce({isLoading:!1,error:s}))),[t,i,n,r,o],lGt)}function uGt(e){return dGt(e==null?void 0:e._upload)}function B1(e){return fS(e)?e:void 0}function dGt(e){var t,n;if(!_t(e))return;const r=typeof e.progress=="number"?e.progress:0,o=B1(e.initiated||e.createdAt),i=B1(e.updated||e.updatedAt),s=B1((t=e==null?void 0:e.file)==null?void 0:t.name),a=B1((n=e==null?void 0:e.file)==null?void 0:n.type),l=B1(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:l}}const fGt=1e3*2;function _Te(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[l,u]=h.useState(null),d=aGt({element:s?null:l,hideDelay:fGt}),f=CTe({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>uGt(n),[n]),v=h.useMemo(()=>{var g,y;return m!=null&&m.previewImage?c.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(y=f==null?void 0:f.value)==null?void 0:y.media:i.icon},[f,i,m]);return c.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function J7(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const hGt=e=>e.liveEdit===!0;function JT(e,t,n,r){const o=hGt(t)?Ce({snapshot:null}):e.observeForPreview({_type:"reference",_ref:Qo(n)},t),i=e.observeForPreview({_type:"reference",_ref:Zn(n)},t);return Fo([o,i]).pipe(ce(s=>{let[a,l]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:l.snapshot?{title:r,...l.snapshot||{}}:null}}),Ci({draft:null,isLoading:!0,published:null}))}const pGt=e=>({title:c.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:c.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>c.jsx(Zr,{})}),eB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?x9t({},o,t,(i,s)=>typeof s>"u"?i:s):pGt(t)},STe=["_id","_rev","_type"],mGt=[...STe,"_key"],Pte={available:!0,reason:"READABLE"},gGt={available:!1,reason:"PERMISSION_DENIED"},vGt={available:!1,reason:"NOT_FOUND"},yGt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:c.jsx(Zr,{})};function bGt(e){return Array.isArray(e)&&(e.length===0||e.some(Wu))}function xGt(e){const t=Array.isArray(e)&&e.find(Wu);return!t||!t.children?"":t.children.filter(Gs).map(n=>n.text).join("")}function ETe(e){return Object.keys(e)}const wGt=["_id","_type","_upload","_createdAt","_updatedAt"],Wv=[],LM=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),CGt=Bx(()=>{const e=LM.getAll(),n=_n(Object.keys(e).map(r=>{const o=e[r];return Of(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Of(o,a=>a.error.message).forEach(a=>{var l;if(a.error.type==="returnValueError"){const u=typeof((l=a.type.preview)==null?void 0:l.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),LM.clear())},1e3),N1=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?Wv:[nB("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(tB(t))))]},_Gt={media:()=>Wv,title:N1("title"),subtitle:N1("subtitle"),description:N1("description"),imageUrl:N1("imageUrl"),date:N1("date")};function tB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(_t(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>tB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function SGt(e,t){if(typeof t>"u")return Wv;const n=_Gt[e];return n&&n(t)||Wv}function nB(e,t){return Object.assign(t,{type:e})}function EGt(e){return!Cr(e)||e===null?[nB("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(tB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...SGt(r,o)]},Wv)}function kGt(e){return{...e,errors:[...e.errors||[],...EGt(e.returnValue)]}}function jGt(e){return ETe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:bGt(r)?xGt(r):r}},{})}function BM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):jGt(t),errors:Wv}}catch(i){return{returnValue:null,errors:[nB("prepareError",i)]}}}function Ote(e,t,n){return e.errors.forEach(r=>LM.add(t,n,r)),CGt(),yGt}function TGt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function AGt(e){return TGt(e)?e.options.list.map(n=>q4(n)?n:{title:n,value:n}):void 0}function GE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},l=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],y=(m=v==null?void 0:v.fields)==null?void 0:m.find(b=>b.name===g),x=y&&AGt(y.type);if(!i&&x){const b=x&&x.find(w=>w.value===Nn(e,s[p]));f[p]=b?b.value:Nn(e,s[p])}else f[p]=Nn(e,s[p]);return f},{}),u=BM(t,l,n);if(u.errors.length>0)return Ote(u,t,l);const d=kGt(BM(t,l,n));return d.errors.length>0?Ote(d,t,l):{...St(e,wGt),...u.returnValue}}function pS(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return new dt(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:l,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const l=a.map(u=>{const d=s[u];return d&&d.args}).filter(uo);e(l).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const DGt=11164;function IGt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=DGt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function PGt(e,t){return e.push(...t),e}function kTe(e,t){function n(s){const a=Qo(s),l=Zn(s);return Fo([r(a),r(l)]).pipe(Kn(Pf),ce(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ce(a=>_t(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Kn(),rt(a=>a?Ce(Pte):o(s)))}const o=pS(function(a){const l=[...new Set(_n(a))];return wr(IGt(l)).pipe(yt(i,10),iwe(PGt,[]),ce(u=>a.map(d=>{let[f]=d;return u[l.indexOf(f)]})))},1);function i(s){return So(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ce(l=>{const u=F8(l.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return Pte;if(f.reason==="existence")return vGt;if(f.reason==="permission")return gGt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function $te(e,t,n){return{...e,[t]:n}}function OGt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new dt(n=>t.subscribe(n)).pipe(rt(n=>{const r=ETe(n).map(o=>{const i=n[o];return $Je(i)?wr(i).pipe(ce(s=>[o,s])):Ce([o,i])});return e.wait?Fo(r).pipe(ce(o=>o.reduce((i,s)=>{let[a,l]=s;return $te(i,a,l)},{}))):wr(r).pipe($j(),Na((o,i)=>{let[s,a]=i;return $te(o,s,a)},{}))}))}function $Gt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function RGt(e,t){return t.filter(n=>!(n[0]in e))}function MGt(e){return Uu(e)?e._ref:"_id"in e?e._id:void 0}function NM(e,t,n,r){if(!e||typeof e!="object")return Ce(e);const o=MGt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=RGt(i,t);if(o&&s.length>0){const u=ao(s.map(f=>f[0])),d=ege(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(rt(f=>f===null?Ce(null):NM({...$Gt(u),...Uu(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const l=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=_t(e)?e[d]:void 0:u[d]=NM(e[d],f,n,r),u},i);return Ce(l).pipe(OGt({wait:!0}))}function FGt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function LGt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return NM(n,FGt(r),t,o)}}}function BGt(e){return Cr(e)}function NGt(e){return Cr(e)}function zGt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(Y4(i)){if(!ege(o))return Ce({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(rt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return Ce({snapshot:void 0})}))}if(gf(i))return NGt(o)?t(o._ref).pipe(rt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return Ce({snapshot:void 0})})):Ce({snapshot:void 0});const l=J7(i.preview);return l?n(o,l,a).pipe(ce(u=>({type:i,snapshot:u&&GE(u,i,s)}))):Ce({type:i,snapshot:o&&BGt(o)?BM(i,o,s).returnValue:null})}}function VGt(e,t){const{observeDocumentPairAvailability:n}=kTe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:l}=Kje(i);return n(a).pipe(rt(u=>{if(!u.draft.available&&!u.published.available)return Ce({id:l,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Fo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:l},d)]).pipe(ce(f=>{let[p,m]=f;const v=_t(p)&&"_type"in p&&p._type||_t(m)&&"_type"in m&&m._type||null;return{id:l,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function HGt(e){return j9t(e.reduce((t,n,r)=>{let[o,i]=n;const s=hm(i.join(","),eCe).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function UGt(e){return JSON.stringify(e)}const WGt=e=>Zje(e)?'"'.concat(e,'": @').concat(L7(e)):e;function YGt(e){let{ids:t,fields:n}=e;const r=[...STe,...n];return"*[_id in [".concat(t.map(UGt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(WGt).join(","),"}")}function qGt(e){return"[".concat(e.map(YGt).join(","),"][0...").concat(e.length,"]")}function GGt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const l=t[o].ids[a],u=r.find(d=>d._id===l);n[s]=u||null}),n),[])}function KGt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const ZGt=e=>e;function XGt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZGt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function QGt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=wr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(za()),C=w.pipe(ut(S=>S.type==="welcome"),Eo({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(ut(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return yn(C.welcome$,C.mutations$.pipe(ut(_=>_.documentId===w)))}function s(w){return function(_){const S=HGt(_);return w.observable.fetch(qGt(S),{},{tag:"preview.document-paths"}).pipe(ce(E=>GGt(E,S)))}}const a=pS(s(n),100),l=pS(s(n),1e3);function u(w,C){return i(w).pipe(rt(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(yt(S=>co(Ce(S),S===void 0?l(w,C):[]))):l(w,C)))}const d={},f=qj(function(C){const _=n.withConfig(C),S=s(_);return pS(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Yi(document,"visibilitychange").pipe(Ci(0),ce(()=>document.visibilityState==="visible"),rt(w=>w?wi(0,p):Gn),za());function v(w,C,_){return m.pipe(Ci(0)).pipe(rt(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=yn(So(()=>S===null?Gn:Ce(S)),_?v(w,C,_):u(w,C)).pipe(Wn(j=>S=j),Eo({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function y(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];Ub(C,_n(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Fo(k).pipe(ce(T=>T.filter(Boolean)),ut(T=>XGt(T,A=>A._rev)),ce(T=>T.length===0?null:x(T,C)),Kn(KGt(C)))}return{observeFields:y};function x(w,C){return[...mGt,...C].reduce((_,S)=>{const E=b(w,S);return E!==void 0&&(_[S]=E),_},{})}function b(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function JGt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=QGt({observePaths:r,versionedClient:n}),{observePaths:i}=LGt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ce(p=>_t(p)&&typeof p._type=="string"?p._type:void 0),Kn())}const a=zGt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:l}=kTe(n,i),{observePathsDocumentPair:u}=VGt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:l,unstable_observePathsDocumentPair:u}}const eKt=e=>!!(e.type&&e.type.name==="document"),tKt=e=>e.name.startsWith("sanity."),nKt=e=>e.getTypeNames().map(t=>e.get(t)).filter(uo).filter(t=>eKt(t)).filter(t=>!tKt(t)),rKt=(e,t)=>{const{phrases:n,words:r}=lKt(e),[o,i]=sKt(n,t),[s,a]=aKt(r,t);return[o+s,[a,i].join(", ")]},oKt=e=>typeof e=="string"?e:JSON.stringify(e);function iKt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=F8(e,o=>o.typeName);return t.map((o,i)=>{var s;const l=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=oKt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=rKt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=l.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:l}})}function sKt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function aKt(e,t){const n=ao(dT(t2e(ev(t)))),r=E5(e,n),o=SSe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function lKt(e){const t=ao(e.map(ev)),[n,r]=E8(t,o=>/^".*"$/.test(o));return{phrases:ao(n).map(ev).map(cKt),words:ao(r.map(ev))}}function cKt(e){return e.replace(/^"(.*)"$/,"$1")}const uKt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,dKt=/(^[.]+)|([.]+$)/;function fKt(e){return(e.match(uKt)||[]).map(t=>t.replace(dKt,""))}const hKt=4,pKt=1e3,mKt=lkt([_n,SSe,dT]);function Rte(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:WHt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const jTe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function gKt(e,t){const n=mKt(t.map(o=>(o.paths||[]).map(i=>jTe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function vKt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>t2e(i).length>1?(t.push(i),""):i),r=t.map(i=>_kt(ev(i))),o=ao(dT(fKt(ev(n))));return[...r,...o]}function yKt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function bKt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:l}=Rte(e.types,!1),u=vKt(e.query),d=l?Rte(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...gKt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(jTe(k)))," }");return"".concat(E).concat(j)}),m=yKt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",y=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(y,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(y,"}")].join("|")}const b=["findability-mvi:".concat(hKt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=b?"".concat(b,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:pKt)+C;return{query:w,params:{...xKt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const xKt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function wKt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function rB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=wKt(o,e),{query:a,params:l,options:u,searchSpec:d,terms:f}=bKt(s,{...n,...i});return t.observable.fetch(a,l,u).pipe(n.unique?ce(PHt):Wn(),ce(p=>iKt(d,p,f)),i!=null&&i.skipSortByScore?Wn():ce(p=>hm(p,m=>-m.score)))}}const CKt={available:!0,reason:"READABLE"},Mte={available:!1,reason:"PERMISSION_DENIED"},Fte={available:!1,reason:"NOT_FOUND"};function TTe(e,t,n){const{publishedId:r,draftId:o}=Kje(t);return e.unstable_observeDocumentPairAvailability(t).pipe(rt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?Mte:Fte;return Ce({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},l={_type:"reference",_ref:r};return Fo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ce(d=>{let[f,p]=d;return f||p})).pipe(rt(d=>{if(!d)return Ce({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(y=>y.name===d);if(!f)return Ce({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...J7(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ce(y=>y?{_id:o,...GE(y,f)}:void 0),Ci(void 0)),v=e.observePaths(l,p).pipe(ce(y=>y?{_id:r,...GE(y,f)}:void 0),Ci(void 0));return Fo([m,v]).pipe(ce(y=>{let[x,b]=y;return{draft:x,published:b}})).pipe(ce(y=>{const x=s.draft.available||s.published.available?CKt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?Mte:Fte;return{type:d,id:r,availability:x,preview:{draft:_t(y.draft)?y.draft:void 0,published:_t(y.published)?y.published:void 0}}}))}))}))}function _Kt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:Qo(t.id))}function SKt(e,t){return t.length===0?Ce([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function ATe(e,t,n,r){return rB(n.to,e,r)(t,{includeDrafts:!0}).pipe(ce(i=>i.map(s=>s.hit)),ce(F7),ce(i=>i.slice(0,100)),yt(i=>SKt(e,_Kt(i)).pipe(ce(s=>i.map(a=>{const l=Qo(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(l)?{_id:l,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function WPn(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const Wp=Symbol.for("sanity.patch");function Ui(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Wp,type:"setIfMissing",path:t,value:e}}function qd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Wp,type:"insert",path:n,position:t,items:e}}function mt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Wp,type:"set",path:t,value:e}}function et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Wp,type:"unset",path:e}}function EKt(e,t){return{...e,path:[t,...e.path]}}var kKt=Object.defineProperty,jKt=(e,t,n)=>t in e?kKt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TKt=(e,t,n)=>(jKt(e,typeof t!="symbol"?t+"":t,n),n);class at{constructor(t){TKt(this,"patches"),this.patches=t}static from(t){return t instanceof at?t:new at(Array.isArray(t)?_n(t):[t])}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return at.from([..._n(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return at.from([...this.patches,..._n(n)])}prefixAll(t){return at.from(this.patches.map(n=>EKt(n,t)))}}var Lte=Object.freeze,AKt=Object.defineProperty,DKt=(e,t)=>Lte(AKt(e,"raw",{value:Lte(t||e.slice())})),Bte;const IKt={warning:"caution",error:"critical"},PKt=O(B)(Bte||(Bte=DKt([`
  border-top: 1px solid var(--card-border-color);
`])));function Lc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return c.jsxs(ne,{radius:2,tone:IKt[n],...i,"data-ui":"Alert",children:[c.jsxs(q,{padding:4,children:[c.jsx(B,{children:c.jsxs(N,{size:1,children:[n==="warning"&&c.jsx(Zr,{}),n==="error"&&c.jsx(sa,{})]})}),c.jsxs(B,{flex:1,marginLeft:3,children:[c.jsx(N,{size:1,weight:"semibold",children:o}),t&&c.jsx(B,{marginTop:3,children:t})]})]}),r&&c.jsx(PKt,{children:r})]})}function oB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Ti(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pf;const r=oB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function DTe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const ITe=h.createContext(null);function ei(){const e=h.useContext(ITe);if(!e)throw new Error("FormBuilder: missing context value");return e}const OKt={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function iB(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),l=se.useCallback(()=>{a(t.of[0])},[t,a]);return n?c.jsx(bt,{portal:!0,content:c.jsx(B,{padding:2,sizing:"border",children:c.jsx(N,{size:1,children:"This field is read-only"})}),children:c.jsx(an,{children:c.jsx(le,{icon:Ks,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(an,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(le,{icon:Ks,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(nn,{button:c.jsx(le,{icon:Ks,mode:"ghost",text:"Add item"}),id:s||"",menu:c.jsx(Ht,{children:t.of.map((u,d)=>{var f,p;const m=gf(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return c.jsx(Be,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:OKt}),r]})}var Nte=Object.freeze,$Kt=Object.defineProperty,RKt=(e,t)=>Nte($Kt(e,"raw",{value:Nte(t||e.slice())})),zte;const MKt=e=>e==="error"?c.jsx(sa,{}):e==="warning"?c.jsx(Zr,{}):c.jsx(em,{}),FKt=O(N)(e=>{let{theme:t}=e;return he(zte||(zte=RKt([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function PTe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=ei().__internal.components;return t.length===0&&n.length===0?null:c.jsxs(oe,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:l}=i;return c.jsxs(q,{children:[c.jsx(B,{marginRight:2,marginBottom:s+1===n.length?0:2,children:c.jsx(FKt,{size:1,"data-error":l==="error"?"":void 0,"data-warning":l==="warning"?"":void 0,"data-info":l==="info"?"":void 0,children:MKt(l)})}),c.jsx(B,{children:c.jsx(N,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&c.jsxs(B,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&c.jsx(o,{markers:t})]})]})}function LKt(){return c.jsxs(N,{size:1,children:["This is a example custom marker, please implement ",c.jsx("code",{children:"renderCustomMarkers"})," function."]})}const sB=se.createContext(null),Bw=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),l=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:l,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,l,r]);return c.jsx(sB.Provider,{value:f,children:t.children})});function fa(){const e=h.useContext(sB);if(!e)throw new Error("Form context not provided");return e}function aB(e,t){return zM(e,t,new WeakSet)}function zM(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const l=zM(e[a],t[a],n);l!==e[a]&&(i=!1),s[a]=l}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const l of i){const u=zM(e[l],t[l],n);u!==e[l]&&(s=!1),a[l]=u}return s?e:a}return t}const OTe=h.createContext([]);function BKt(e){return c.jsx(OTe.Provider,{value:e.presence,children:e.children})}function NKt(){const e=h.useContext(OTe);if(!e)throw new Error("Form context not provided");return e}function B0(e,t){const n=NKt(),r=h.useRef(n),o=aB(r.current,n.filter(i=>hi(e,i.path)&&(t||!xn(e,i.path))));return r.current=o,o}const $Te=h.createContext([]);function zKt(e){return c.jsx($Te.Provider,{value:e.validation,children:e.children})}function VKt(){const e=h.useContext($Te);if(!e)throw new Error("Form context not provided");return e}function lB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=VKt();return h.useMemo(()=>n.filter(r=>hi(e,r.path)&&(t||!xn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function HKt(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&c.jsx(N,{size:1,children:t.disabled.reason});return c.jsx(Fw,{content:r,placement:"left",children:c.jsx(Be,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?Ra:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const UKt={placement:"right",fallbackPlacements:["top","bottom"]};function WKt(e){const{group:t}=e;return t.expanded?c.jsxs(c.Fragment,{children:[c.jsx(B,{padding:2,paddingBottom:1,children:c.jsx(Nt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return c.jsx(VM,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):c.jsx(hL,{fontSize:1,icon:t.icon,padding:3,popover:UKt,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return c.jsx(VM,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function VM(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?c.jsx(Dr,{}):t.type==="group"?c.jsxs(c.Fragment,{children:[!n&&c.jsx(Dr,{}),c.jsx(WKt,{group:t})]}):c.jsxs(c.Fragment,{children:[r&&c.jsx(Dr,{}),c.jsx(HKt,{action:t})]})}var Vte=Object.freeze,YKt=Object.defineProperty,qKt=(e,t)=>Vte(YKt(e,"raw",{value:Vte(t||e.slice())})),Hte;const RTe={placement:"top"},GKt=O(q)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(Hte||(Hte=qKt([`
    height: 25;
    line-height: 0;
    gap: `,`px;
  `])),n[1]/2)});function Ute(e){return"renderAsButton"in e&&e.renderAsButton}const KKt=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),l=h.useMemo(()=>n.filter(Ute),[n]),u=h.useMemo(()=>n.filter(p=>!Ute(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Bo,title:"Field actions"}]:[],...l],[l,d]);return c.jsx(GKt,{children:f.map((p,m)=>c.jsx(ZKt,{node:p,onOpen:s,onClose:a,open:o},m))})}),ZKt=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?c.jsx(ne,{borderLeft:!0,flex:"none"}):n.type==="action"?c.jsx(nh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:RTe}):c.jsx(QKt,{node:n,onOpen:r,onClose:o,open:i})}),XKt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function QKt(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return c.jsx(nn,{button:c.jsx(nh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:RTe}),id:h.useId(),menu:c.jsx(Ht,{children:t.children.map((i,s)=>{var a;return c.jsx(VM,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:XKt})}function MTe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:MTe(t.children)}:t)}const Nw=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,l=n.length,u=h.useRef(l),[d,f]=h.useState(()=>Array.from(new Array(l))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(y=>{const x=[...y];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(MTe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==l){const v=Array.from(new Array(l));for(let g=0;g<l;g++)v[g]=p.current[g];u.current=l,f(v),p.current=v}},[l]),c.jsx(c.Fragment,{children:n.map((v,g)=>c.jsx(JKt,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),JKt=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:l}=t,u=Wo(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{l(i,u)},[i,u,l]),null}),FTe=h.createContext(null);function cB(){const e=h.useContext(FTe);if(!e)throw new Error("UserColorManager: missing context value");return e}function eZt(e){const t=cB();return ko(e?t.listen(e):bJe(),[e],t.get(null))}const tZt="purple",nZt=["green","red","gray"],rZt=Bge.filter(e=>!nZt.includes(e)),LTe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},oZt=e=>{const{background:t,border:n,text:r}=LTe(e);return rZt.reduce((o,i)=>(o[i]={name:i,background:pe[i][t].hex,border:pe[i][n].hex,text:pe[i][r].hex,tints:pe[i]},o),{})},iZt=e=>{const{background:t,border:n,text:r}=LTe(e);return{name:"gray",background:pe.gray[t].hex,border:pe.gray[n].hex,text:pe.gray[r].hex,tints:pe.gray}};function sZt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||oZt(o),s=t||iZt(o),a=r||tZt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const l=Object.keys(i),u=new Map,d=new Map,f=l.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:y};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function y(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function b(k,T){p.delete(k),f[T]--}function w(){return l.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return l.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new dt(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),b(k,T)}}).pipe(Eo({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return l[Math.abs(T)%l.length]}}function aZt(e){let{children:t,manager:n}=e;const{scheme:r}=Bc(),o=h.useMemo(()=>n||sZt({scheme:r}),[n,r]);return c.jsx(FTe.Provider,{value:o,children:t})}const lZt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cZt=/_key\s*==\s*['"](.*)['"]/;function wn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function yl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(pc(n))return yl(Array.isArray(e)?e[n]:void 0,r);if(Pr(n))return yl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return yl(_t(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function uZt(e,t){return typeof t!="number"&&!Pr(t)?-1:typeof t=="number"?t:e.findIndex(n=>bl(n)&&n._key===t._key)}function dZt(e){const t=e.match(lZt);if(!t)throw new Error("Invalid path string");return t.map(fZt)}function fZt(e){return pc(e)?hZt(e):Pr(e)?pZt(e):Cp(e)?mZt(e):e}function hZt(e){return Number(e.replace(/[^\d]/g,""))}function pZt(e){const t=e.match(cZt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function mZt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function BTe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Pr(n)&&Pr(o)?n._key===o._key:pc(n)?Number(n)===Number(o):Cp(n)&&Cp(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function NTe(e){return bl(e)?e._key:void 0}function HM(e){const t=NTe(e);return t?{_key:t}:void 0}function gZt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function zTe(e,t){return e.get((t==null?void 0:t.author)||null)}function zw(e,t){const n=Array.isArray(t)?t:dZt(t);return vZt(e,n)}function vZt(e,t){const n=UM(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function UM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Cp(r))throw new Error("Index tuples are not supported in diff paths");if(pc(r)||Pr(r)){const s=pc(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(wn(n)," (not an array)");return}const a=e.items.find(pc(r)?l=>l.toIndex===r:l=>yZt(l,r));if(!a){"Failed to get item ".concat(s," at path ").concat(wn(n)," (item missing)");return}return UM(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(wn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(wn(n)," (field did not exist)");return}return UM(i,o,n.concat(r))}function yZt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function eA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){bZt(e,t,n);return}if(e.type==="object"){xZt(e,t,n);return}e.type==="string"&&wZt(e,t,n)}}function bZt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:CZt(r);eA(r.diff,t,n.concat(s))})}function xZt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];eA(o,t,n.concat(r))})}function wZt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{eA(r,t,n)})}function CZt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function VTe(e){const t=cB();return zTe(t,e)}function Yv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=cB(),r=h.useMemo(()=>zw(e,t),[e,t]);return h.useMemo(()=>zTe(n,r),[r,n])}function Wi(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=zw(t,n);return c.jsx(Wte,{...r,annotations:o?[o]:[]})}return c.jsx(Wte,{...e})}function Wte(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=c.jsxs(oe,{padding:3,space:2,children:[c.jsx(Nt,{size:1,style:{textTransform:"uppercase"},children:r}),c.jsx(oe,{space:2,children:t.map((s,a)=>c.jsx(_Zt,{annotation:s},a))})]});return c.jsx(Hv,{zOffset:"paneFooter",children:c.jsx(bt,{content:i,portal:!0,...o,children:n})})}function _Zt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=K0(n),i=VTe(t),s=Ff(r,{minimal:!0});return c.jsxs(Qt,{space:2,children:[c.jsxs(q,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[c.jsx(Va,{user:n}),c.jsx(Qt,{paddingLeft:2,children:c.jsx(N,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading"})})]}),c.jsx(N,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var Yte=Object.freeze,SZt=Object.defineProperty,EZt=(e,t)=>Yte(SZt(e,"raw",{value:Yte(t||e.slice())})),qte;const kZt=O(ne)(qte||(qte=EZt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),jZt=[],yi=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:l,path:u=jZt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||zw(a,u),[r,a,u]),v=VTe(m),g=c.jsx(kZt,{...p,as:o,className:s,"data-hover":l||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?c.jsx(Wi,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var Gte=Object.freeze,TZt=Object.defineProperty,HTe=(e,t)=>Gte(TZt(e,"raw",{value:Gte(t||e.slice())})),Kte,Zte;const uB=O.div(Kte||(Kte=HTe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),KE=O(N)(Zte||(Zte=HTe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function AZt(e){const{change:t,segment:n}=e;if(typeof n=="string")return c.jsx(B,{children:c.jsx(N,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",l=typeof i>"u";if(a)return c.jsx(DZt,{annotation:s,change:t,toIndex:i});if(l)return c.jsx(IZt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return c.jsx(PZt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return c.jsx(B,{padding:1,children:c.jsxs(N,{size:1,weight:"semibold",children:["#",u]})})}function DZt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=c.jsxs(c.Fragment,{children:["#",o]}),l=(n!=null&&n.diff?zw(n.diff,[]):void 0)||t;return l?c.jsx(yi,{annotation:l,tooltip:{description:i},as:uB,children:c.jsx(KE,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):c.jsx(N,{size:1,weight:"semibold",children:s})}function IZt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return c.jsx(yi,{annotation:t||null,as:uB,tooltip:{description:o},children:c.jsxs(KE,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function PZt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"":"",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return c.jsxs(c.Fragment,{children:[c.jsx(B,{padding:1,children:c.jsxs(KE,{size:1,weight:"semibold",children:["#",r+1]})}),c.jsx(yi,{annotation:t,as:uB,tooltip:{description:a},children:c.jsxs(KE,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function UTe(e){const{change:t,titlePath:n}=e;return c.jsx(dL,{maxLength:4,separator:c.jsx(N,{muted:!0,size:1,children:c.jsx(Yu,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?c.jsx(AZt,{change:t,segment:r},o):null)})}function OZt(e){return _t(e)&&typeof(e==null?void 0:e.then)=="function"}function $Zt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let l=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{l=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return OZt(l)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof l>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),l)},[e,o,i,s,r,t])}const WM=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Wo(i),a=ni();return $Zt(t,n,{currentUser:a,document:r,parent:o,value:s})},Bu=h.createContext({path:[]});function YM(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(RZt(t)&&MZt(e))for(const o of t.fields){const i=YM(e[o.name],o.type);if(i)return i}}}function RZt(e){return e.jsonType==="object"}function MZt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function FZt(e){return U4(e)?e._type:BZt(e)}function LZt(e,t){return e.action==="added"?{toType:z1(t,e.toValue)}:e.action==="changed"?{fromType:z1(t,e.fromValue),toType:z1(t,e.toValue)}:e.action==="removed"?{fromType:z1(t,e.fromValue)}:{toType:z1(t,e.toValue)}}function z1(e,t){const n=FZt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function BZt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const N0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],tA="",z0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],NZt="",ZE=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zZt="",WTe="";function VZt(e){return e.of.some(qTe)}const HZt=z0.map(e=>e[0]).concat(N0.map(e=>e[0])),UZt=z0.map(e=>e[1]).concat(N0.map(e=>e[1])),YTe=HZt.concat(UZt).concat(ZE).concat(tA).concat(WTe),Xte=new RegExp("".concat(YTe.join("|")),"g"),WZt=new RegExp("".concat(YTe.join("|"),`|
`),"g");function qTe(e){return e.jsonType==="object"&&e.name==="block"}function YZt(e){return Wu(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function Qte(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function qM(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function dB(e){return e.decorators?j0(e.decorators,["value"],["asc"]):[]}function GTe(e,t){return dB(t).some(n=>n.value===e)}function Jte(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Gs(i)?(s=i.text)==null?void 0:s.replace(Xte,""):"";if(Gs(i)){const l=fB(e,i),u=l==null?void 0:l.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Xte,"")).join(WTe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(tA).concat(a)}).join(""):""}function qZt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=qM(t.fields,{_key:"bogus",_type:"span"});a&&dB(a).forEach((g,y)=>{i[g.value]=z0[y]}),XTe(r.origin).forEach((g,y)=>{o[g._key]=N0[y]}),KTe(r.origin).forEach((g,y)=>{s[g._key]=ZE[y]});const d=Jte(r.origin,r.fromValue,i,o,s),f=Jte(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:GZt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function GZt(e,t){const n=[],r=H8(ww(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case Ct:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Yn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return _n(n.map(s=>{const a=[];if(s.text.length>1){const l=[...s.text.matchAll(WZt)];let u=-1;l.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===l[l.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),l.length===0&&a.push(s)}else a.push(s);return a}))}function KTe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),j0(t,["_key"],["asc"])}function fB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function KZt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function ZTe(e){return e&&Yt(Object.keys(e),["_key","_type"])||!1}function ZZt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function XTe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),j0(t,["_key"],["asc"])}const XZt=[];function QZt(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[c.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&c.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&c.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function JZt(e){let{checked:t,color:n}=e;return c.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&c.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&c.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&c.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const eXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?QZt:JZt,l=Yv(t,[]),u=o!=null;return c.jsxs(q,{align:"center",children:[c.jsx(Wi,{diff:t,children:c.jsxs(q,{align:"center",children:[c.jsx(a,{checked:r,color:l}),u&&c.jsxs(c.Fragment,{children:[c.jsx(B,{marginX:2,children:c.jsx(bB,{})}),c.jsx(a,{checked:o,color:l})]})]})}),u&&i&&c.jsx(B,{marginLeft:2,children:c.jsx(N,{size:1,weight:"semibold",children:i})})]})};var ene=Object.freeze,tXt=Object.defineProperty,nXt=(e,t)=>ene(tXt(e,"raw",{value:ene(t||e.slice())})),tne;const rXt="YYYY-MM-DD",oXt="HH:mm",iXt=O.div(tne||(tne=nXt([`
  display: inline-block;
  word-wrap: break-word;
`]))),sXt=function(t){let{value:n,schemaType:r}=t;return c.jsx(B,{as:iXt,paddingX:2,paddingY:1,children:aXt(n,r)})};function aXt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||rXt,i=(n==null?void 0:n.timeFormat)||oXt;return kT(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const nne=e=>{let{diff:t,schemaType:n}=e;return c.jsx(Vw,{align:"center",diff:t,layout:"grid",previewComponent:sXt,schemaType:n})},QTe=h.createContext(null);function nA(){const e=h.useContext(QTe);if(!e)throw new Error("DocumentChange: missing context value");return e}function rne(e){const[t,n]=h.useState(void 0),r=_r(mn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function lXt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var one=Object.freeze,cXt=Object.defineProperty,uXt=(e,t)=>one(cXt(e,"raw",{value:one(t||e.slice())})),ine;const dXt=O.div(ine||(ine=uXt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),fXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,l=rne(s==null?void 0:s._ref),u=rne(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(l==null?void 0:l.size)&&l.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=lXt(m,v),y=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,b=h.useMemo(()=>({display:"block",flex:1}),[]),w=l&&c.jsx(yi,{as:"del",diff:t,path:"asset._ref",style:b,children:c.jsx(QM,{title:l.originalFilename||"Untitled",icon:kp,children:c.jsx(N,{size:0,style:{color:"inherit"},children:"".concat(y,"MB")})})}),C=u&&c.jsx(yi,{as:"ins",diff:t,path:"asset._ref",style:b,children:c.jsx(QM,{title:u.originalFilename||"Untitled",icon:kp,children:c.jsxs(q,{align:"center",children:[c.jsx(N,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&c.jsx(ne,{radius:2,padding:1,as:dXt,marginLeft:2,children:c.jsxs(N,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=c.jsxs(c.Fragment,{children:[w&&!C&&c.jsx(Wi,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&c.jsx(Wi,{diff:t,path:"asset._ref",children:c.jsx(xB,{from:w,layout:"grid",to:C})}),!w&&C&&c.jsx(Wi,{diff:t,path:"asset._ref",description:"Added",children:C})]});return c.jsxs(c.Fragment,{children:[f&&_,p.length>0&&c.jsx(B,{marginTop:f?4:3,children:c.jsx(Hw,{diff:t,schemaType:n,fields:p})})]})};function sne(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function hXt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function pXt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function mXt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,l=Yv(n,"crop"),u=Yv(n,"hotspot");return c.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[c.jsx("defs",{children:t&&o&&c.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[c.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),c.jsx(ane,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&c.jsx(Wi,{diff:n,path:"crop",description:"Crop changed",children:c.jsx("g",{children:c.jsx(gXt,{crop:t,fill:sne(l.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:l.border,strokeWidth:1,width:i,height:s})})}),o&&c.jsx(Wi,{diff:n,path:"hotspot",description:"Hotspot changed",children:c.jsx("g",{children:c.jsx(ane,{hotspot:o,fill:sne(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function gXt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return c.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function ane(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return c.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var lne=Object.freeze,vXt=Object.defineProperty,hB=(e,t)=>lne(vXt(e,"raw",{value:lne(t||e.slice())})),cne,une,dne;const yXt=["originalFilename"],fne=()=>c.jsx(ne,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:c.jsx(q,{align:"center",justify:"center",height:"fill",children:c.jsx(N,{size:1,muted:!0,children:"(no image)"})})}),bXt=O.div(cne||(cne=hB([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),pe.gray[100].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex),xXt=O.img(une||(une=hB([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),wXt=O.div(dne||(dne=hB([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function sO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:l,crop:u,is:d}=e,f=_r(mn),[p,m]=se.useState(),{value:v}=Obn(i,yXt),g=Z5t(i),y=h.useMemo(()=>uT(f),[f]),x=v===null,b=v&&v.originalFilename||"Untitled",w=y.image(i).height(190).dpr(pXt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return c.jsxs(q,{direction:"column",height:"fill",flex:1,children:[c.jsx(B,{flex:1,padding:2,paddingBottom:0,children:c.jsxs(q,{as:bXt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&c.jsx(xXt,{src:w.toString()||"",alt:b,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&c.jsx(B,{paddingY:5,children:c.jsx(N,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),c.jsx(wXt,{children:c.jsx(mXt,{crop:u&&!M5t(u)?u:void 0,diff:a,hash:hXt("".concat(w.toString()||"","-").concat(d)),hotspot:l&&!F5t(l)?l:void 0,width:g.width,height:g.height})})]})}),c.jsx(QM,{title:b,icon:xl,markRemoved:C&&d==="from",children:_?c.jsx("div",{children:_}):c.jsxs("div",{children:[g.width,"  ",g.height]})})]})}const CXt=["crop","hotspot"],_Xt=["asset",...CXt],aO={flex:1},SXt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:l}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=zw(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!_Xt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),y=p.includes("crop"),x=p.includes("hotspot"),b=y||x,w=g||b,C=b&&!g,_=i&&u?c.jsx(yi,{annotation:f,style:aO,children:c.jsx(sO,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&y?i.crop:void 0})}):c.jsx(fne,{}),S=s&&d?c.jsx(yi,{annotation:f,style:aO,children:c.jsx(sO,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&y?s.crop:void 0})}):c.jsx(fne,{});if(!_&&!S)return c.jsx(ne,{padding:4,radius:2,tone:"transparent",children:c.jsx(N,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!l)return d?c.jsx(yi,{annotation:f,style:aO,children:c.jsx(sO,{id:d,is:"to",diff:t})}):null;const E=c.jsx(xB,{align:"center",from:_,layout:"grid",to:S});return c.jsxs(c.Fragment,{children:[w&&(g?c.jsx(Wi,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&c.jsx(B,{marginTop:w?4:3,children:c.jsx(Hw,{diff:t,schemaType:n,fields:m})})]})};var hne=Object.freeze,EXt=Object.defineProperty,kXt=(e,t)=>hne(EXt(e,"raw",{value:hne(t||e.slice())})),pne;const jXt=O.div(pne||(pne=kXt([`
  display: inline-block;
  word-break: break-all;
`]))),TXt=e=>{const{value:t}=e;return c.jsx(B,{as:jXt,paddingX:2,paddingY:1,children:t})},AXt=e=>{let{diff:t,schemaType:n}=e;return c.jsx(Vw,{diff:t,schemaType:n,previewComponent:TXt,layout:"inline"})};var mne=Object.freeze,DXt=Object.defineProperty,IXt=(e,t)=>mne(DXt(e,"raw",{value:mne(t||e.slice())})),gne;const PXt=O.blockquote(gne||(gne=IXt([`
  margin: 0;
`])));function OXt(e){let{children:t}=e;return c.jsx("div",{children:c.jsx(PXt,{children:t})})}var vne=Object.freeze,$Xt=Object.defineProperty,RXt=(e,t)=>vne($Xt(e,"raw",{value:vne(t||e.slice())})),yne;const MXt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},FXt=O(ti)(yne||(yne=RXt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function LXt(e){let{style:t,children:n}=e;return c.jsx(FXt,{size:MXt[t],children:n})}var bne=Object.freeze,BXt=Object.defineProperty,NXt=(e,t)=>bne(BXt(e,"raw",{value:bne(t||e.slice())})),xne;const zXt=O.div(xne||(xne=NXt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function VXt(e){let{children:t}=e;return c.jsx(zXt,{children:t})}const HXt=[];function UXt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=Yv(o,HXt),{path:l}=h.useContext(Bu),{onSetFocus:u}=h.useContext(Cm),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(l)},[l,d,u]);i.style==="blockquote"?f=c.jsx(OXt,{children:f}):i.style&&YZt(i)?f=c.jsx(LXt,{style:i.style,children:f}):f=c.jsx(VXt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=c.jsx(ne,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:c.jsxs(oe,{space:2,children:[c.jsx(Wi,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:c.jsxs(N,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),c.jsx(B,{style:v,children:f})]})})}return c.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var wne=Object.freeze,WXt=Object.defineProperty,rA=(e,t)=>wne(WXt(e,"raw",{value:wne(t||e.slice())})),Cne,_ne,Sne,Ene;const V0=O(B)(Cne||(Cne=rA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),JTe=O(N)(_ne||(_ne=rA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),pB=O(B)(Sne||(Sne=rA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),V0),eAe=O(B)(Ene||(Ene=rA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var kne=Object.freeze,YXt=Object.defineProperty,qXt=(e,t)=>kne(YXt(e,"raw",{value:kne(t||e.slice())})),jne;const GM=O.div(jne||(jne=qXt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),pB);function GXt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?c.jsx(KXt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):c.jsx(GM,{children:t}):c.jsx(GM,{...s,children:"Unknown schema type"})}function KXt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Cm),{path:l}=h.useContext(Bu),[u,d]=h.useState(null),f=Yv(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),y=r&&ZTe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),b=h.useMemo(()=>l.slice(0,l.findIndex(I=>Pr(I)&&I._key===r._key)),[l,r._key]),w=h.useMemo(()=>b.concat(i),[i,b]),C=h.useMemo(()=>b.concat(x),[x,b]),_="field-".concat(vr(C)),S=$7(),E=h.useMemo(()=>S.filter(I=>{let[P]=I;return P.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);Nr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=c.jsx(Bu.Provider,{value:{path:C},children:c.jsx(eAe,{padding:3,children:c.jsxs("div",{children:[y&&c.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!y&&c.jsx(Hw,{diff:t,schemaType:o})]})})});return c.jsx(GM,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:c.jsx(fn,{content:D,open:v,ref:d,portal:!0,children:c.jsx(pB,{paddingLeft:1,children:c.jsx(Wi,{annotations:A,description:"".concat(t.action," annotation"),children:c.jsxs(V0,{style:{display:"inline-flex"},children:[c.jsx("span",{children:n}),c.jsx(q,{align:"center",paddingX:1,children:c.jsx(JTe,{size:0,children:c.jsx(Il,{})})})]})})})})})}var Tne=Object.freeze,ZXt=Object.defineProperty,XXt=(e,t)=>Tne(ZXt(e,"raw",{value:Tne(t||e.slice())})),Ane;const QXt=O.span(Ane||(Ane=XXt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function JXt(e){let{mark:t,children:n}=e;return c.jsx(QXt,{decoration:t,children:n})}var Dne=Object.freeze,eQt=Object.defineProperty,tQt=(e,t)=>Dne(eQt(e,"raw",{value:Dne(t||e.slice())})),Ine;const KM=O(ne)(Ine||(Ine=tQt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),V0);function nQt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?c.jsx(rQt,{...o,diff:t,object:n,schemaType:r}):c.jsx(KM,{children:c.jsx(Gw,{schemaType:r,value:n,layout:"inline"})}):c.jsxs(KM,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function rQt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Bu),{onSetFocus:a}=h.useContext(Cm),l=Yv(t,[]),u=h.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,f]=h.useState(!1),p=n&&ZTe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Pr(k)&&k._key===n._key)).concat(r),y="field-".concat(vr(g)),b=$7().filter(k=>{let[T]=k;return T.startsWith(y)}).length>0,w=s.slice(0,-1).concat(r).concat([pge]);h.useEffect(()=>{b&&(f(!0),a(w))},[w,b,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=c.jsx(Bu.Provider,{value:{path:g},children:c.jsx(oQt,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return c.jsx(KM,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:c.jsx(fn,{content:S,open:d,portal:!0,children:c.jsx(pB,{children:c.jsx(Wi,{annotations:j,description:"".concat(t.action," inline object"),children:c.jsxs(V0,{children:[c.jsx(Gw,{schemaType:o,value:n,layout:"inline"}),c.jsx(q,{align:"center",paddingX:1,children:c.jsx(JTe,{size:0,children:c.jsx(Il,{})})})]})})})})})}function oQt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return Nr(a,[i]),c.jsxs(eAe,{ref:s,padding:3,children:[n&&c.jsxs(Nt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&c.jsx(Hw,{diff:t,schemaType:o})]})}function iQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?c.jsx(sQt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):c.jsx(V0,{children:r})}function sQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=se.useContext(Cm),{path:l}=se.useContext(Bu),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=l.slice(0,l.findIndex(b=>Pr(b)&&Pr(u)&&b._key===u._key)).concat(o),m=h.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(b=>b.text===i.text)||t||n,y=g&&g.action!=="unchanged"&&g.annotation||null,x=y&&i.action!=="unchanged"?c.jsx(yi,{annotation:y,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(sn(i.action)," text")},children:r}):null;return c.jsx(V0,{...s,onClick:m,"data-changed":"",children:c.jsx("span",{children:c.jsx(c.Fragment,{children:x||r})})})}const mB=z0.map(e=>e[0]),gB=z0.map(e=>e[1]),mS=N0.map(e=>e[0]),ZM=N0.map(e=>e[1]),aQt=mB.concat(mS),tAe=gB.concat(ZM),lQt=mB.concat(gB),cQt=new RegExp("".concat(lQt.concat(tAe).join("|")),"g");function uQt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?KTe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=qM(n.fields,s);let l=[];if(a){l=dB(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(hQt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const b=Qte(t.origin,r.children[0])||t.origin;if(b&&b.action!=="unchanged")return c.jsx(yi,{annotation:b.annotation,as:b.action==="removed"?"del":"ins",tooltip:{description:"".concat(sn(b.action)," empty text")},children:c.jsx("span",{children:NZt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let y;const x=XTe(t.origin);return d.forEach(b=>{var w,C,_;v++;const S=ZE.includes(b.text),E=aQt.includes(b.text),j=tAe.includes(b.text),k=b.text===tA,T=b.action==="removed";if(k)T||m++;else if(E||j){if(E&&mS.includes(b.text)){const A=x[mS.indexOf(b.text)];A&&g.push({mark:A._key,symbols:[b.text,ZM[mS.indexOf(b.text)]],object:A})}j&&ZM.includes(b.text)&&(y=g.pop())}else if(S){const A=ZE.findIndex(P=>P===b.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const P=qM(n.fields,I),R=Qte(t.origin,I);f.push(c.jsx(nQt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:R,schemaType:P},"inline-object-".concat(I._key)))}}else if(b.text){const A=()=>{var $;return($=t.origin.fromValue)==null?void 0:$.children.find(U=>U.text&&U.text.match(ZZt(b.text)))},D=r.children[m]||A(),I=D&&fB(t.origin,D);if(!D)throw new Error("Could not find child");const P=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,R=c.jsx(iQt,{diff:P,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:b,children:dQt({diff:t,child:D,decoratorTypes:l,seg:b,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach($=>{p[$.mark]=p[$.mark]||[],p[$.mark].push(R)}),y){const $="annotation-".concat(y.object._key),U=f[f.length-1];if(U&&U.key!==$){const L=KZt(t.origin,y.mark),W=y&&a.annotations&&a.annotations.find(Y=>y&&y.object&&Y.name===y.object._type);f.push(c.jsx(GXt,{object:y.object,diff:L,path:[{_key:r._key},"children",{_key:D._key}],schemaType:W,children:c.jsx(c.Fragment,{children:p[y.mark]})},$))}y=void 0}g.length===0&&f.push(R)}}),se.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return c.jsx(UXt,{block:t.displayValue,diff:t,children:c.jsx(c.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function dQt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return c.jsx("br",{});let a=c.jsx("span",{children:o.text.replace(/ /g,zZt)},"text-".concat(i));const l=n&&fB(t.origin,n),u=Gs(n)?n.marks||[]:[];return l&&(a=fQt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:l,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{GTe(d,s)&&(a=c.jsx(JXt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function fQt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:l}=e;var u;let d=c.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(tA).filter(S=>!!S).join(""),b=x.substring(0,x.indexOf(i.text)+i.text.length),w=b.substring(0,b.indexOf(i.text)),C=[];return[...w.matchAll(cQt)].forEach(S=>{var E;const j=S[0],k=z0.concat(N0).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?mB.indexOf(j):gB.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=W4t(t,ao(C)),v&&g.length>0&&g.some(S=>GTe(S,l))&&(d=c.jsx(yi,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function hQt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const pQt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>qZt(t,n),[t,n]);return c.jsx("div",{"data-diff-action":t.action,children:c.jsx(uQt,{diff:r,schemaType:n})})};var Pne=Object.freeze,mQt=Object.defineProperty,gQt=(e,t)=>Pne(mQt(e,"raw",{value:Pne(t||e.slice())})),One;const vQt=O.div(One||(One=gQt([`
  word-wrap: break-word;
`]))),yQt=e=>{let{value:t,schemaType:n}=e;return c.jsx(B,{as:vQt,padding:2,children:c.jsx(Gw,{schemaType:n,value:t,layout:"default"})})},bQt=e=>{let{diff:t,schemaType:n}=e;return c.jsx(Vw,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:yQt,schemaType:n})};var $ne=Object.freeze,xQt=Object.defineProperty,wQt=(e,t)=>$ne(xQt(e,"raw",{value:$ne(t||e.slice())})),Rne;const CQt=O.div(Rne||(Rne=wQt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),_Qt=e=>{const{value:t}=e;return c.jsx(B,{as:CQt,paddingX:2,paddingY:1,children:t})};var Mne=Object.freeze,SQt=Object.defineProperty,EQt=(e,t)=>Mne(SQt(e,"raw",{value:Mne(t||e.slice())})),Fne;const kQt=O.div(Fne||(Fne=EQt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),jQt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?c.jsx(Vw,{diff:t,previewComponent:_Qt,schemaType:n}):c.jsx(kQt,{children:c.jsx(CJt,{diff:t})})},Lne={block:pQt,boolean:{component:eXt,showHeader:!1},date:nne,datetime:nne,file:fXt,image:SXt,number:AXt,reference:bQt,string:jQt};function nAe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||TQt(r,t)||Lne[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return Lne[i]}function TQt(e,t){const n=XZt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function AQt(e){const t=Bne(e.fromValue),n=Bne(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function rAe(e){return e.type==="field"}function Bne(e){return e!==null&&typeof e<"u"&&e!==""}function vB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!nAe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return oAe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return PQt(e,t,n,r)}return iAe(e,t,n,r,o)}function oAe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(l=>({single:!0,field:l}));for(const l of a)l.single?i.push(...DQt(l.field,t,n,r,s)):i.push(...IQt(l,t,n,r,s));return i.length<2?i:[{type:"group",key:wn(n)||"root",path:n,titlePath:r,changes:yB(i,r.length),schemaType:e}]}function DQt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const l=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return vB(e.type,a,l,u,s)}function IQt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:l,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=l,v=r.concat([a||s]),g=[];for(const y of i){const x=t.fields[y.name];if(!x||!x.isChanged||d&&!d.includes(y.name))continue;const b=n.concat([y.name]),w=v.concat([y.type.title||y.name]);g.push(...vB({readOnly:m,hidden:p,...y.type},x,b,w,f))}return g.length<2?g:[{type:"group",key:wn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:yB(g,v.length),readOnly:m,hidden:p}]}function PQt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(o.length===0)return[];const i=VZt(e),s=[],a=o.reduce((l,u)=>{const d=LZt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",wn(n)),l;const p=HM(u.diff.fromValue)||HM(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),y=b=>(b.type==="field"&&BTe(m,b.path)&&(b.itemDiff=u),b),x=vB(f,u.diff,m,g,v).map(y);return i&&x.filter(rAe).forEach((b,w,C)=>{b.showHeader=C.length===1,b.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?l.push(...iAe(f,u.diff,m,g,v)):l.push(...x),l},s);return a.length>1?[{type:"group",key:wn(n)||"root",path:n,titlePath:r,changes:yB(a,r.length),schemaType:e}]:a}function iAe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:l,type:u}=t;if(u==="array"&&Nne(a)&&Nne(l))return[];let d;typeof a<"u"&&(d=YM(a,e)),!d&&typeof l<"u"&&(d=YM(l,e));let f=!0,p;const m=nAe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:wn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function yB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function Nne(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const zne=e=>e.type==="field"&&e.diff.action==="added",sAe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...sAe(n))}),t},aAe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},OQt=(e,t)=>{const n=e[t],r=NTe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},$Qt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function oA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=sAe(e),i=o.filter(zne);o.filter(s=>!zne(s)).forEach(s=>oA(s,t,n)),r.push(...Vne(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...Vne(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...MQt(e.itemDiff,e.parentDiff,e.path)):r.push(...FQt(e.diff,t,e.path));n.patch.execute(r)}function RQt(e,t,n){const r=e.toValue;return lAe(r,t,n)}function Vne(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>aAe(t[r],i))||n.push(RQt(e,t[r],t));return[{unset:[...new Set(n.map(wn))]}]}function lAe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=yl(e,o),s=[o,...n.filter(a=>!aAe(a,o))];return cAe(i,o,n)?lAe(e,o,s,r):t}function MQt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=NQt(t,e);let a;if(i===0)a={before:wn([...r,0])};else{const l=i-1,d=HM(o[l])||l;a={after:wn([...r,d])}}return[{unset:[wn(n)]},{insert:{...a,items:[s]}}]}function FQt(e,t,n){const r=RT(e.toValue,e.fromValue,$Qt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:wn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(wn(f.path)),[]),s=new Set,a=[];let l=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(l=!0,a.push(...LQt(f.path,t,s)),d[wn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...l?[{set:u}]:[]]}function LQt(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),l=wn(a);if(n.has(l))continue;const u=e[s],d=Pr(u)||pc(u),f=yl(r,a),p=Hne(f);if(d&&Array.isArray(f)&&!yl(o,e.slice(0,s+1))){const m=uZt(f,u),v=f[m-1],g=yl(r,a.concat(u)),y=bl(v)?{_key:v._key}:m-1,x=wn(a.concat(m<1?0:y));i.push({setIfMissing:{[l]:[]}}),i.push({insert:{after:x,items:[Hne(g)]}}),s++;continue}typeof p>"u"||(n.add(l),i.push({setIfMissing:{[l]:p}}))}return i}function BQt(e,t,n){if(!_t(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,OQt(e,r)];if(!cAe(e[r],o,n))return!1}return!0}function cAe(e,t,n){const r=n==null?void 0:n.some(i=>wn(i)===wn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||gZt(e)||BQt(e,t,n)}function Hne(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return bl(e)&&(t._key=e._key),U4(e)&&(t._type=e._type),t}function NQt(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const ad=!1;var zQt=Object.defineProperty,VQt=(e,t,n)=>t in e?zQt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HQt=(e,t,n)=>(VQt(e,typeof t!="symbol"?t+"":t,n),n);class UQt extends se.Component{constructor(){super(...arguments),HQt(this,"state",{})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?c.jsx(ne,{padding:3,radius:2,tone:"critical",children:c.jsxs(q,{children:[c.jsx(N,{size:1,children:c.jsx(sa,{})}),c.jsxs(B,{paddingLeft:3,children:[c.jsx(N,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),ad]})]})}):this.props.children}}const WQt={down:Nge,right:zge};function bB(e){const{direction:t="right",...n}=e,r=WQt[t];return c.jsx(N,{muted:!0,size:1,...n,children:h.createElement(r)})}var Une=Object.freeze,YQt=Object.defineProperty,uAe=(e,t)=>Une(YQt(e,"raw",{value:Une(t||e.slice())})),Wne,Yne;const lO=O.pre(Wne||(Wne=uAe([`
  overflow-x: auto;
  position: relative;
`]))),qQt=O.div(Yne||(Yne=uAe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function GQt(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),l=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&l()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[l]),c.jsx(B,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?c.jsx(KQt,{change:r}):t})}const cO=e=>{let{title:t}=e;return c.jsx(B,{padding:3,display:"inline-block",as:qQt,children:c.jsx(Nt,{size:1,muted:!0,children:t})})};function KQt(e){let{change:t}=e;var n,r,o;return c.jsxs(oe,{space:3,children:[c.jsxs(ne,{padding:3,tone:"transparent",as:lO,radius:1,children:[c.jsx(cO,{title:"meta"}),c.jsx(xr,{language:"json",size:1,children:ZQt({path:wn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),c.jsxs(ne,{as:lO,tone:"critical",padding:3,radius:1,children:[c.jsx(cO,{title:"from"}),c.jsx(xr,{language:"json",size:1,children:qne(t.diff.fromValue)})]}),c.jsx(ne,{children:c.jsx(bB,{direction:"down",align:"center"})}),c.jsxs(ne,{as:lO,tone:"positive",padding:3,radius:1,children:[c.jsx(cO,{title:"to"}),c.jsx(xr,{language:"json",size:1,children:qne(t.diff.toValue)})]})]})}function qne(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function ZQt(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const XQt={flexShrink:0},QQt={alignItems:"stretch"},Gne={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},xB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...l}=t,u=ks(),d=o==="inline"?q:an,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ye(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?XQt:QQt;return c.jsxs(d,{...l,ref:n,style:f,"data-from-to-layout":!0,children:[i&&c.jsxs(c.Fragment,{children:[c.jsx(q,{align:Gne[r],style:p,children:i}),c.jsx(q,{align:"center",justify:"center",padding:2,children:c.jsx(bB,{})})]}),c.jsx(q,{align:Gne[r],style:p,children:s})]})}),uO={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function Vw(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:l}=r,u=AQt(r);if(l==="unchanged")return c.jsx(yi,{className:n,style:uO,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&c.jsx(yi,{as:"del",className:n,diff:r,path:i,style:uO,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&c.jsx(yi,{as:"ins",className:n,diff:r,path:i,style:uO,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?c.jsx(Wi,{description:u,diff:r,path:i,children:d}):!d&&f?c.jsx(Wi,{description:u,diff:r,path:i,children:f}):c.jsx(Wi,{description:u,diff:r,path:i,children:c.jsx(xB,{align:t,from:d,layout:o,to:f})})}const JQt=e=>{let{value:t,schemaType:n}=e;return c.jsx(B,{padding:2,children:c.jsx(Gw,{schemaType:n,value:t,layout:"default"})})},eJt=e=>{const{diff:t,schemaType:n}=e;return c.jsx(Vw,{diff:t,schemaType:n,previewComponent:JQt,layout:"grid"})};var Kne=Object.freeze,tJt=Object.defineProperty,nJt=(e,t)=>Kne(tJt(e,"raw",{value:Kne(t||e.slice())})),Zne;const rJt=O(le)(Zne||(Zne=nJt([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),dAe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return c.jsx(rJt,{icon:xF,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function oJt(e){let{error:t}=e;return c.jsx(ne,{tone:"critical",padding:3,children:c.jsxs(q,{align:"flex-start",children:[c.jsx(B,{children:c.jsx(N,{children:c.jsx(sa,{})})}),c.jsx(B,{flex:1,paddingLeft:3,children:c.jsxs(N,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var Xne=Object.freeze,iJt=Object.defineProperty,wB=(e,t)=>Xne(iJt(e,"raw",{value:Xne(t||e.slice())})),Qne,Jne,ere;const sJt=O.div(Qne||(Qne=wB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),aJt=O.div(Jne||(Jne=wB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),lJt=O(fn)(ere||(ere=wB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function cJt(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||eJt,{documentId:s,schemaType:a,rootDiff:l,isComparingCurrent:u,FieldWrapper:d=se.Fragment}=nA(),f=Nc(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[y,x]=h.useState(null),[b,w]=ih({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{oA(n,l,f)},[n,l,f]),_=h.useCallback(()=>{m(!0)},[]),S=se.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);Nr(k,[y]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:c.jsxs(oe,{space:1,as:sJt,children:[n.showHeader&&c.jsx(UTe,{change:n,titlePath:n.titlePath}),c.jsx(d,{path:A,hasHover:v,children:c.jsxs(GQt,{change:n,as:aJt,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?c.jsx(oJt,{error:n.error}):c.jsx(UQt,{children:c.jsx(Bu.Provider,{value:{path:n.path},children:c.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(b==null?void 0:b.granted)&&c.jsx(lJt,{content:c.jsxs(B,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",c.jsxs(an,{columns:2,gap:2,marginTop:2,children:[c.jsx(le,{mode:"ghost",onClick:S,children:c.jsx(N,{align:"center",children:"Cancel"})}),c.jsx(le,{tone:"critical",onClick:C,children:c.jsx(N,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:c.jsx(B,{flex:1,children:c.jsx(dAe,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,b,v,A])}function uJt(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var tre=Object.freeze,dJt=Object.defineProperty,CB=(e,t)=>tre(dJt(e,"raw",{value:tre(t||e.slice())})),nre,rre,ore;const fJt=O.div(nre||(nre=CB([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),hJt=O.div(rre||(rre=CB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),pJt=O(fn)(ore||(ore=CB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function mJt(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:l}=h.useContext(Bu),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=nA(),v=s.every(I=>rAe(I)&&qTe(I.schemaType)),g=BTe(l,a),[y,x]=uJt(),b=Nc(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=ih({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>oA(t,p,b),[t,p,b]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);Nr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:c.jsxs(oe,{space:1,as:hJt,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[c.jsx(oe,{as:fJt,space:5,children:s.map(I=>c.jsx(fAe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&c.jsx(pJt,{content:c.jsxs(B,{children:["Are you sure you want to revert the changes?",c.jsxs(an,{columns:2,gap:2,marginTop:2,children:[c.jsx(le,{mode:"ghost",onClick:A,children:c.jsx(N,{align:"center",children:"Cancel"})}),c.jsx(le,{tone:"critical",onClick:k,children:c.jsx(N,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:c.jsx(B,{children:c.jsx(dAe,{onClick:T,ref:y,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,y]);return r?null:c.jsxs(oe,{space:1,...o,children:[c.jsx(UTe,{titlePath:i}),g||!f?D:c.jsx(f,{hasHover:x,path:t.path,children:D})]})}function fAe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=nA(),a=WM({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),l=WM({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?c.jsx(cJt,{change:r,readOnly:l}):r.type==="group"?c.jsx(mJt,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:l}):c.jsxs(N,{children:["Unknown change type: ",c.jsx("code",{children:r.type||"undefined"})]})}function XM(){return c.jsxs(oe,{space:3,children:[c.jsx(N,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),c.jsx(N,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var ire=Object.freeze,gJt=Object.defineProperty,hAe=(e,t)=>ire(gJt(e,"raw",{value:ire(t||e.slice())})),sre,are;const vJt=O.div(sre||(sre=hAe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),yJt=O(fn)(are||(are=hAe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function Hw(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=nA(),a=Nc(o,r.name),{path:l}=h.useContext(Bu),u=l.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=WM({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,y]=ih({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>oAe(r,t,l,[],{fieldFilter:n}),[r,n,l,t]),b=h.useMemo(()=>n&&n.length===0?[]:bJt(x),[x,n]),w=x[0],C=h.useCallback(()=>{oA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(Nr(A,[k]),b.length===0)return u?c.jsx(XM,{}):null;const D=u&&b.length>1;return c.jsx(ne,{children:c.jsxs(oe,{space:5,children:[c.jsx(oe,{as:vJt,space:5,children:b.map(I=>c.jsx("div",{children:c.jsx(fAe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!y&&(g==null?void 0:g.granted)&&c.jsx(yJt,{content:c.jsxs(B,{children:["Are you sure you want to revert all ",b.length," changes?",c.jsxs(an,{columns:2,gap:2,marginTop:2,children:[c.jsx(le,{mode:"ghost",text:"Cancel",onClick:j}),c.jsx(le,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:c.jsx(oe,{children:c.jsx(le,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:xF,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function bJt(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var lre=Object.freeze,xJt=Object.defineProperty,pAe=(e,t)=>lre(xJt(e,"raw",{value:lre(t||e.slice())})),cre,ure;const dre=O.span(cre||(cre=pAe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),fre=O(N)(ure||(ure=pAe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function wJt(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?c.jsx(yi,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:dre,children:c.jsx(fre,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?c.jsx(yi,{annotation:t.annotation,as:dre,disableHoverEffect:!0,tooltip:{description:"Removed"},children:c.jsx(fre,{as:"del",children:n})}):c.jsx(ne,{as:"span",radius:2,style:{display:"inline"},children:n})}function CJt(e){const{diff:t}=e;return c.jsx(c.Fragment,{children:(t.segments||[]).map((n,r)=>c.jsx(wJt,{segment:n},r))})}var hre=Object.freeze,_Jt=Object.defineProperty,SJt=(e,t)=>hre(_Jt(e,"raw",{value:hre(t||e.slice())})),pre;const dO=O(N)(pre||(pre=SJt([`
  color: inherit;
`])));function QM(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return c.jsxs(q,{padding:2,align:"center",children:[r&&c.jsx(B,{padding:2,children:c.jsx(dO,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),c.jsxs(oe,{space:2,paddingLeft:2,children:[c.jsx(dO,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&c.jsx("div",{children:n}),c.jsx(dO,{size:0,textOverflow:"ellipsis",children:o})]})]})}var mre=Object.freeze,EJt=Object.defineProperty,kJt=(e,t)=>mre(EJt(e,"raw",{value:mre(t||e.slice())})),gre;O.div(gre||(gre=kJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const mAe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function vre(){return h.useContext(mAe)}const gAe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function Uw(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=vre(),a=vre().hoveredStack[0],l=Up||(a?wn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:l,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,l]);return c.jsx(gAe.Provider,{value:f,children:n})}function vAe(){return h.useContext(gAe)}function jJt(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const l=wn(a);r(u=>u.includes(l)?u:[l,...u])},[]),i=h.useCallback(a=>{const l=wn(a);r(u=>u.includes(l)?u.filter(d=>d!==l):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return c.jsx(mAe.Provider,{value:s,children:t})}const TJt={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function AJt(e){const{__internal_fieldActions:t=Vn,__internal_patchChannel:n=TJt,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:l,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:w,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:R,schemaType:$,unstable:U,validation:L,value:W}=e,Y=h.useRef(W);h.useEffect(()=>{Y.current=W},[W]);const V=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:iB,CustomMarkers:(U==null?void 0:U.CustomMarkers)||LKt,Markers:(U==null?void 0:U.Markers)||PTe},field:{actions:t},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>Y.current,onChange:y}),[t,l.assetSources,l==null?void 0:l.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,y,n,U==null?void 0:U.CustomMarkers,U==null?void 0:U.Markers]),H=h.useMemo(()=>({__internal:V,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:R,schemaType:$,value:W}),[V,r,o,s,a,W,d,f,p,m,g,j,k,T,A,D,I,P,R,$]);return c.jsx(ITe.Provider,{value:H,children:c.jsx(Bw,{onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:w,onPathOpen:C,onSetPathCollapsed:S,onSetFieldSetCollapsed:_,children:c.jsx(BKt,{presence:E,children:c.jsx(zKt,{validation:L,children:c.jsx(jJt,{children:i})})})})})}function DJt(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:l,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:w,presence:C,readOnly:_,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=ur().form,A=Efn(),D=kfn(),I=vIe(),P=jfn(),R=Tfn(),$=Afn(),U=Dfn(),L=h.useCallback(G=>c.jsx(A,{...G}),[A]),W=h.useCallback(G=>c.jsx(D,{...G}),[D]),Y=h.useCallback(G=>c.jsx(P,{...G}),[P]),V=h.useCallback(G=>c.jsx(_Te,{component:I,...G}),[I]),H=h.useCallback(G=>c.jsx(R,{...G}),[R]),Q=h.useCallback(G=>c.jsx($,{...G}),[$]),F=h.useCallback(G=>c.jsx(U,{...G}),[U]);return c.jsx(AJt,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:l,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:w,presence:C,readOnly:_,renderAnnotation:F,renderBlock:H,renderField:W,renderInlineBlock:Q,renderInput:L,renderItem:Y,renderPreview:V,schemaType:S,validation:E,value:j,children:i})}function YPn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetFieldSetCollapsed:x,onSetPathCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e;return c.jsx(DJt,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,value:E,children:c.jsx(IJt,{})})}function IJt(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=ei(),{onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_}=fa(),S=h.useCallback(L=>_([L],!0),[_]),E=h.useCallback(L=>_([L],!1),[_]),j=h.useCallback(()=>x(Vn),[x]),k=h.useCallback(()=>b(Vn),[b]),T=h.useCallback(L=>g(at.from(L)),[g]),A=h.useRef(null),D=h.useCallback(L=>y(Vn,L),[y]),I=h.useCallback(L=>w([L]),[w]),P=h.useCallback(()=>w([]),[w]),R=h.useCallback(L=>C([L],!0),[C]),$=h.useCallback(L=>C([L],!1),[C]),U={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(L=>L.kind==="field"&&L.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:P,onFieldCollapse:S,onFieldSetCollapse:R,onFieldExpand:E,onFieldSetExpand:$,onPathFocus:b,onFieldOpen:I,onFieldGroupSelect:D,path:Vn,presence:Vn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:Vn,value:v};return c.jsx(c.Fragment,{children:d(U)})}const yAe=h.createContext({});function bAe(){return h.useContext(yAe)}function qPn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return c.jsx(yAe.Provider,{value:s,children:t})}h.createContext(null);function iA(e,t){return Ti(t,h.useCallback((n,r)=>{e.current&&!n&&r&&ox(e.current,{scrollMode:"always"})},[e]))}function PJt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return h9(t),t}const OJt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function yx(e){const t=OJt();return PJt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var yre=Object.freeze,$Jt=Object.defineProperty,xAe=(e,t)=>yre($Jt(e,"raw",{value:yre(t||e.slice())})),bre,xre;const RJt={portal:!0},MJt=O(ne)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return he(bre||(bre=xAe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),FJt=O(B)(xre||(xre=xAe([`
  max-width: 150px;
`]))),wre=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function _B(e){const{presence:t}=e,{color:n}=Lge().sanity,r=n.dark?"light":"dark",{selected:o}=ZUt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(l=>l.user.id===a)).filter(uo),[t]),s=h.useMemo(()=>c.jsx(FJt,{padding:2,children:c.jsx(N,{align:"center",size:1,children:wre(i)})}),[i]);return c.jsx(bt,{content:s,...RJt,children:c.jsx(MJt,{scheme:o?r:void 0,$selected:o,children:c.jsx(kj,{maxLength:2,"aria-label":wre(i),children:i.map(a=>c.jsx(Va,{user:a.user},a.user.id))})})})}const LJt=3,wAe=3,XE=-4,bx=23,Cre=4,BJt=[0,.25,.75,1],z_=23,NJt=8,zJt=8,CAe=20,_Ae=20,fO=!1,VJt=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function HJt(e){return-XE+(bx+XE)*e}var _re=Object.freeze,UJt=Object.defineProperty,SAe=(e,t)=>_re(UJt(e,"raw",{value:_re(t||e.slice())})),Sre,Ere;const EAe=O(q)(Sre||(Sre=SAe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),WJt=O(q)(Ere||(Ere=SAe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),YJt=se.createContext([]);function qJt(e){const{children:t,items:n}=e,r=h.useMemo(()=>c.jsx(oe,{padding:1,sizing:"border",children:n.map(o=>c.jsxs(q,{align:"center",gap:2,padding:1,children:[c.jsx("div",{children:c.jsx(Va,{user:o.user,status:"online"})}),c.jsx(N,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return c.jsx(bt,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:GJt,useReporter:KJt,useReportedValues:ZJt}=qje(),kAe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=wAe,stack:s=!0}=t;const a=Of(n||[],p=>p.user.id),l=hm(a,p=>p.lastActiveAt),[u,d]=s?VJt(l,i):[[],l],f=[...d.reverse().map(p=>({key:p.user.id,element:c.jsx(Va,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:c.jsx(O$,{count:u.length})}:null].filter(Boolean);return c.jsxs(EAe,{children:[c.jsx("div",{}),c.jsx(WJt,{direction:"row-reverse",children:f.map((p,m)=>p&&c.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(bx+XE),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function XJt(e){const t=h.useContext(YJt),{presence:n=t,maxAvatars:r=wAe}=e,o=h.useRef(null);KJt(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Of(n||[],s=>s.user.id),[n]);return c.jsx(qJt,{items:i,children:c.jsx(EAe,{ref:o,style:{minHeight:bx,minWidth:bx}})})}const Ww=XJt,QJt=e=>{const t=new Tr,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new dt(o=>{const i=t.pipe(ut(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},SB=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=se.useRef(null);return se.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(Wn(l=>t(r,l))).subscribe();return()=>a.unsubscribe()},[n,r,t]),c.jsx("div",{ref:i,...o})};var kre=Object.freeze,JJt=Object.defineProperty,Yp=(e,t)=>kre(JJt(e,"raw",{value:kre(t||e.slice())})),jre,Tre,Are,Dre,Ire,Pre,Ore;const een=O.div(jre||(jre=Yp([`
  position: relative;
`]))),ten=O.div(Tre||(Tre=Yp([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),EB=he(Are||(Are=Yp([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),nen=O(SB)(e=>{let{$debug:t,margins:n}=e;return he(Dre||(Dre=Yp([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),EB,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),ren=O(SB)(e=>{let{$debug:t}=e;return he(Pre||(Pre=Yp([`
    `,`

    visibility: none;

    `,`
  `])),EB,t&&he(Ire||(Ire=Yp([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),oen=O(SB)(e=>{let{$debug:t}=e;return he(Ore||(Ore=Yp([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),EB,t?"blue":"transparent")}),ien=e=>"".concat(e,"px"),sen=e=>0-e,aen=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),l=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>QJt({rootMargin:l.map(sen).map(ien).join(" "),threshold:BJt}),[l]),[d,f]=h.useState({}),p=h.useCallback((y,x)=>{f(b=>({...b,[y]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(y=>{var x;return((x=y.presence)==null?void 0:x.length)>0}).map(y=>{const x=d[y.id];if(!x)return null;const{bottom:b,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-z_):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(b-(x.intersectionRect.bottom+z_)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=NJt?"top":E<=zJt?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:y,position:j}}).filter(Boolean):[],[v,d,r,m]);return c.jsxs(een,{ref:n,children:[c.jsx(nen,{$debug:fO,io:u,id:"::top",onIntersection:p,margins:l}),c.jsx("div",{children:i}),c.jsx(ten,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(y=>{const x=y.rect.width===0;return c.jsx(ren,{$debug:fO,io:u,onIntersection:p,id:y.id,style:{width:x?1:y.rect.width,left:y.rect.left-(x?1:0),top:y.rect.top-z_,height:y.rect.height+z_*2}},y.id)}),c.jsx(oen,{$debug:fO,id:"::bottom",io:u,onIntersection:p})]})}),jAe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},len=e=>e.top+e.height;function cen(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?len(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const V_=e=>j0(e,t=>t.region.rect.top),uen=(e,t)=>e+t,$re=e=>e.reduce(uen,0);function den(e){const t=cen(V_(e)),n={top:[],inside:[],bottom:[],...H9(t,r=>r.position)};return{top:V_(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:V_(n.inside).map(r=>({...r,indent:0})),bottom:V_(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const Rre=e=>{let{height:t,...n}=e;return c.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},fen=[0,0,0,0],hen=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function pen(e,t){return{...hen(e,t),width:e.offsetWidth,height:e.offsetHeight}}function men(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:pen(o.element,t)}})}function gen(e){const{children:t,margins:n=fen}=e,r=ZJt(),o=se.useRef(null),i=se.useMemo(()=>o.current?men(r,o.current):JM,[r]),s=se.useCallback((a,l)=>{const u=den(a.filter(m=>m.region.presence.length>0)),d=$re(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=$re([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:y}=v,x=g<=CAe,b=y<=_Ae;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(b?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return c.jsxs(c.Fragment,{children:[c.jsx(Mre,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),c.jsx(Rre,{height:d}),c.jsx(ven,{containerWidth:l,regionsWithIntersectionDetails:u.inside}),c.jsx(Rre,{height:f}),c.jsx(Mre,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return c.jsx(aen,{ref:o,margins:n,regions:i,render:s,children:t})}const JM=[],Mre=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?_n(hm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||JM)):JM,[s,i]),[l,u,d,f]=r,p=(f||0)+(a.length>0?-n*(bx+XE):0)-u,m=o==="top"?l:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...jAe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:Cre+1+m,bottom:Cre+1+m}),[p,m]);return c.jsx("div",{"data-dock":o,style:v,children:c.jsx(kAe,{position:o,maxAvatars:LJt,presence:a})},"sticky-".concat(o))});function ven(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return c.jsx(c.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=CAe,l=s<=_Ae,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return c.jsx(se.Fragment,{children:c.jsx("div",{style:{zIndex:2,position:"absolute",...jAe,left:o,transform:"translate3d(".concat(a||l?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:c.jsx(ben,{value:()=>"".concat(i," | ").concat(s,""),children:c.jsx(kAe,{stack:!a&&!l,position:a?"top":l?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const yen=e=>e.children,ben=yen,xen=[0,0,0,0];function wen(e){let{children:t,margins:n}=e;return c.jsx(GJt,{children:c.jsx(gen,{margins:n||xen,children:t})})}const sA=wen;var Fre=Object.freeze,Cen=Object.defineProperty,Yw=(e,t)=>Fre(Cen(e,"raw",{value:Fre(t||e.slice())})),Lre,Bre,Nre,zre,Vre;const _en=O(q)(Lre||(Lre=Yw([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),Sen=O(B)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return he(Bre||(Bre=Yw([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),Een=O(B)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return he(Nre||(Nre=Yw([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),ken=O(B)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return he(zre||(zre=Yw([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),jen=O(ne)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(Vre||(Vre=Yw([`
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;
  `])),n[1]/2,n[1]/2)}),Hre=4;function TAe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[l,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[y,x]=h.useState(0),{hasComments:b=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||l||C,E=S&&_||!b?3:void 0,j=(t==null?void 0:t.button)||_,k=S||b;h.useEffect(()=>{if(d){const{width:A}=d.getBoundingClientRect();m(A||0)}},[d,S]),h.useEffect(()=>{if(v){const{width:A}=v.getBoundingClientRect();x(A||0)}},[v]);const T=h.useMemo(()=>n?c.jsx(ken,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return c.jsxs(_en,{align:"flex-end",children:[c.jsx(Een,{flex:1,paddingY:2,$presenceMaxWidth:HJt(Hre),children:o}),a&&a.length>0&&c.jsx(Sen,{flex:"none",paddingBottom:1,$right:p+y,children:c.jsx(Ww,{maxAvatars:Hre,presence:a})}),T,k&&j&&c.jsxs(jen,{display:"flex",radius:2,ref:f,shadow:E,sizing:"border",children:[S&&_&&c.jsx(KKt,{nodes:r,onMenuOpenChange:u}),w]})]})}function rh(e,t){if(!(!t||!e))return"desc_".concat(e)}var Ure=Object.freeze,Ten=Object.defineProperty,Aen=(e,t)=>Ure(Ten(e,"raw",{value:Ure(t||e.slice())})),Wre;const Den=[],uv={error:pe.red[500].hex,warning:pe.yellow[500].hex,info:pe.blue[500].hex},dv={error:c.jsx(sa,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:c.jsx(Zr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:c.jsx(em,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},Ien=O(oe)(Wre||(Wre=Aen([`
  max-width: 200px;
`])));function H0(e){const{validation:t=Den,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),l=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(l)return dv.error;if(u)return dv.warning;if(d)return dv.info},[l,d,u]),p=h.useMemo(()=>{if(l)return uv.error;if(u)return uv.warning;if(d)return uv.info},[l,d,u]);return c.jsx(bt,{content:c.jsxs(Ien,{padding:3,space:3,children:[n&&c.jsx(Oen,{validation:t}),!n&&c.jsx(c.Fragment,{children:t.map((m,v)=>c.jsx(Pen,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:c.jsx("div",{children:c.jsx(N,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function Pen(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return dv.error;if(t.level==="warning")return dv.warning;if(t.level==="info")return dv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return uv.error;if(t.level==="warning")return uv.warning;if(t.level==="info")return uv.info},[t]);return c.jsxs(q,{children:[c.jsx(B,{marginRight:2,children:c.jsx(N,{size:1,style:{color:r},children:n})}),c.jsx(B,{flex:1,children:c.jsx(N,{size:1,children:t.message})})]})}function Oen(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),l=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return c.jsxs(N,{size:1,children:[l||"",p&&c.jsx(c.Fragment,{children:" and "}),u||""]})}const $en=[],AAe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=$en}=t,s=i.length>0;return c.jsxs(oe,{space:2,children:[c.jsxs(q,{children:[c.jsx(N,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&c.jsx(B,{marginLeft:2,children:c.jsx(H0,{fontSize:1,validation:i})})]}),n&&c.jsx(N,{muted:!0,size:1,id:rh(r,n),children:n})]})}),Yre=[],U0=h.memo(function(t){const{__unstable_headerActions:n=Yre,__unstable_presence:r=Yre,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:l,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:y}=vAe();return c.jsxs(oe,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:y,space:1,children:[d&&c.jsx(TAe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:c.jsx(AAe,{description:a,inputId:l,title:d,validation:f})}),c.jsx("div",{children:s})]})});var qre=Object.freeze,Ren=Object.defineProperty,kB=(e,t)=>qre(Ren(e,"raw",{value:qre(t||e.slice())})),Gre,Kre,Zre;const Xre=O.legend(Gre||(Gre=kB([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),Men=O(q).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return he(Kre||(Kre=kB([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ye(r[1]),N7({base:o,focusRing:n}))}),Fen=O(B)(Zre||(Zre=kB([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),Len=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=c.jsx(N,{weight:"semibold",size:1,children:i||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?c.jsx(Xre,{children:c.jsxs(Men,{type:"button",onClick:o,children:[c.jsx(Fen,{children:c.jsx(N,{muted:!0,size:1,children:c.jsx(qk,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):c.jsx(Xre,{children:s})});var Qre=Object.freeze,Ben=Object.defineProperty,DAe=(e,t)=>Qre(Ben(e,"raw",{value:Qre(t||e.slice())})),Jre,eoe;function Nen(e){return typeof e=="function"?e():e}const zen=O(B).attrs({forwardedAs:"fieldset"})(Jre||(Jre=DAe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),Ven=O(B)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return he(eoe||(eoe=DAe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ye(o[1]),N7({base:i,focusRing:{...r,offset:2}}))}),hO=[],aA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=hO,__unstable_presence:s=hO,children:a,collapsed:l,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:y,title:x,validation:b=hO,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=vAe(),k=b.length>0,T=lr(n),A=h.useCallback(P=>{T.current===P.target&&g&&g(P)},[T,g]),D=h.useCallback(()=>l?v==null?void 0:v():m==null?void 0:m(),[l,m,v]),I=h.useMemo(()=>l?null:c.jsx(an,{columns:d,gapX:4,gapY:5,children:Nen(a)}),[a,l,d]);return c.jsxs(zen,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[c.jsx(TAe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:c.jsxs(oe,{space:2,children:[c.jsxs(q,{children:[c.jsx(Len,{collapsed:!!l,collapsible:u,onClick:u?D:void 0,title:x}),k&&c.jsx(B,{marginLeft:2,children:c.jsx(H0,{fontSize:1,validation:b})})]}),f&&c.jsx(N,{muted:!0,size:1,id:rh(w,f),children:f})]})}),c.jsx(Ven,{$borderLeft:p>0,hidden:l,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof y=="number"&&y>-1?A:void 0,ref:T,tabIndex:y,children:!l&&I})]})});var toe=Object.freeze,Hen=Object.defineProperty,Uen=(e,t)=>toe(Hen(e,"raw",{value:toe(t||e.slice())})),noe;const Wen=O.div(noe||(noe=Uen([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Yen(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return c.jsx(Wen,{"data-max-avatars":n,"data-position":r,children:t})}var roe=Object.freeze,qen=Object.defineProperty,Gen=(e,t)=>roe(qen(e,"raw",{value:roe(t||e.slice())})),ooe;const Ken=O(le)(ooe||(ooe=Gen([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),IAe=se.createContext(null),PAe=function(t){const n=h.useContext(IAe),{listeners:r,attributes:o}=cke({id:n});return c.jsx(Ken,{icon:Jge,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Zen(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Xen=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Zen(o,r,n,e)};var ioe=Object.freeze,Qen=Object.defineProperty,soe=(e,t)=>ioe(Qen(e,"raw",{value:ioe(t||e.slice())})),aoe,loe;const jB="moving",OAe=O(B)(loe||(loe=soe([`
  `,`
`])),e=>e.$moving&&he(aoe||(aoe=soe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Jen={threshold:{x:0,y:.02}},etn={coordinateGetter:nLt},ttn={duration:200,easing:"ease"};function ntn(e){return e==="x"?oLt:iLt}function rtn(e){return e==="x"?H6t:W6t}const otn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...l}=t,u=DFt(JX(X9),JX(K9,etn)),d=h.useCallback(p=>{var m,v,g,y;const{active:x,over:b}=p;x.id!==(b==null?void 0:b.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(y=(g=b==null?void 0:b.data.current)==null?void 0:g.sortable)==null?void 0:y.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Xen({y:4}),...r?[ntn(r)]:[]],[r]);return c.jsx(P6t,{sensors:u,autoScroll:Jen,modifiers:f,collisionDetection:PFt,onDragEnd:d,onDragStart:i,children:c.jsx(q6t,{items:n,strategy:r?rtn(r):void 0,children:c.jsx(an,{...l,children:a})})})}),itn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:l,active:u}=cke({id:r,transition:i?null:ttn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:ax.Translate.toString(a),transition:l,pointerEvents:u?"none":void 0}),[a,l,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return c.jsx(OAe,{ref:p,style:f,$moving:d,className:d?jB:"","data-index":t["data-index"],children:o})});function TB(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?c.jsx(otn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):c.jsx(an,{...i})}const AB=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return c.jsx(IAe.Provider,{value:t.id,children:r?c.jsx(itn,{ref:n,...o}):c.jsx(OAe,{ref:n,...o})})});var coe=Object.freeze,stn=Object.defineProperty,atn=(e,t)=>coe(stn(e,"raw",{value:coe(t||e.slice())})),uoe;const ltn=O(ne)(uoe||(uoe=atn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),jB);function lA(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:l,footer:u}=e,d=h.useRef(null);return Ti(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),c.jsx(ltn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:c.jsxs(oe,{space:1,children:[c.jsxs(q,{align:"center",children:[a&&c.jsx(B,{marginRight:1,paddingY:1,children:c.jsx(PAe,{paddingX:1,paddingY:3})}),c.jsx(B,{flex:1,children:s}),(o||t||l)&&c.jsxs(q,{align:"center",marginLeft:1,children:[o&&c.jsx(B,{marginLeft:1,children:o}),t&&c.jsx(B,{marginLeft:1,children:t}),l]})]}),u]})})}var doe=Object.freeze,ctn=Object.defineProperty,cA=(e,t)=>doe(ctn(e,"raw",{value:doe(t||e.slice())})),foe,hoe,poe,moe;const utn=O.button(foe||(foe=cA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),dtn=O(qk)(hoe||(hoe=cA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),ftn=O(q)(poe||(poe=cA([`
  cursor: default;
`]))),htn=O(B)(moe||(moe=cA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function km(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),l=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),c.jsxs(B,{...i,children:[c.jsx(utn,{type:"button",onClick:l,children:c.jsx(ftn,{align:"center",children:c.jsxs(Qt,{children:[c.jsx(htn,{"data-open":s?"":void 0,children:c.jsx(N,{size:1,children:c.jsx(dtn,{open:s})})}),r&&c.jsx(B,{marginLeft:1,children:r}),c.jsx(B,{flex:1,marginLeft:1,children:c.jsx(N,{size:1,weight:"medium",children:o})})]})})}),c.jsx(B,{hidden:!s,marginTop:3,children:t})]})}const ptn={warning:"caution",error:"critical",info:"positive"},mtn={warning:c.jsx(Zr,{}),error:c.jsx(sa,{}),info:c.jsx(em,{})};function df(e){const{children:t,status:n="warning",title:r,...o}=e;return c.jsx(ne,{radius:2,tone:ptn[n],...o,"data-ui":"Alert",children:c.jsx(q,{padding:1,children:t&&c.jsx(B,{flex:1,children:c.jsx(km,{icon:mtn[n],title:r,children:c.jsx(B,{marginLeft:3,marginTop:3,children:t})})})})})}function DB(e){if(Ua(e))return e.name==="object"?{}:{_type:e.name};if(Al(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function W0(e){if(!Ua(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...DB(e),_key:kw(12)}}const gtn={portal:!0,tone:"default",placement:"left",constrainSize:!0},uA=h.memo(function(t){const{types:n,onInsert:r}=t;return c.jsxs(c.Fragment,{children:[c.jsx(goe,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:rve}),c.jsx(goe,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:ove})]})});function goe(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?c.jsx(Be,{text:o,icon:i,onClick:()=>n(r,t[0])},r):c.jsx(hL,{text:o,popover:gtn,children:t==null?void 0:t.map(s=>c.jsx(Be,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const $Ae=()=>{},pO={isLoading:!0,result:void 0,error:void 0,retry:$Ae},vtn={isLoading:!1,result:void 0,error:void 0,retry:$Ae};function dA(e,t){const n=h.useMemo(()=>new Tr,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=ko(()=>co(Ce(null),r).pipe(ce(()=>e),J$(a=>a?t(a).pipe(ce(l=>({isLoading:!1,result:l,error:void 0,retry:o})),Ci(pO),Xn(l=>(console.error(l),Ce({isLoading:!1,result:void 0,error:l,retry:o})))):Ce(vtn))),[t,e,r,o],pO),s=oB(e,e);return e&&s!==e?pO:i}function RAe(e){var t,n,r,o,i,s;const{id:a,layout:l,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=c0(),v=wN(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,y=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:l,schemaType:d,value:y}),[l,y,d]),b=Ff(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=Ff(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return c.jsxs(q,{align:"center",children:[c.jsx(B,{flex:1,children:f(x)}),c.jsx(B,{paddingLeft:3,children:c.jsxs(Qt,{space:3,children:[p&&c.jsx(Nt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&c.jsx(_B,{presence:v}),c.jsxs(Qt,{space:4,children:[c.jsx(B,{children:c.jsx(bt,{portal:!0,content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(b):"Not published"})}),children:c.jsx(ir,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:c.jsx(Nx,{"aria-label":u.published?"Published":"Not published"})})})}),c.jsx(B,{children:c.jsx(bt,{portal:!0,content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:c.jsx(ir,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:c.jsx(Su,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function MAe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:l,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return c.jsx(Lw,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return c.jsx(yoe,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const b=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return c.jsxs(q,{align:"center",children:[c.jsx(B,{flex:1,children:l({layout:"default",schemaType:x,value:b,skipVisibilityCheck:!0})}),c.jsx(B,{children:c.jsx(Qt,{space:4,children:f&&c.jsx(Nt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return c.jsxs(Qt,{space:2,children:[c.jsx(B,{padding:1,children:c.jsx(q,{align:"center",children:c.jsx(B,{flex:1,paddingY:2,children:c.jsx(N,{muted:!0,children:"Document unavailable"})})})}),v||m?c.jsx(B,{children:c.jsx(bt,{portal:!0,content:m?c.jsxs(voe,{title:"Not found",icon:bv,children:["The referenced document does not exist",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d._ref}),")"]}):c.jsx(voe,{title:"Insufficient permissions",icon:yf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(ir,{tone:"default",children:c.jsx(bv,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,y=u.to.find(x=>x.name===g);return y?c.jsx(RAe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:y,renderPreview:l,showTypeLabel:f}):c.jsx(yoe,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function voe(e){const t=e.icon;return c.jsxs(q,{padding:3,children:[c.jsx(B,{children:c.jsx(N,{size:1,children:c.jsx(t,{})})}),c.jsxs(B,{flex:1,marginLeft:3,children:[c.jsx(N,{size:1,weight:"semibold",children:e.title}),c.jsx(B,{marginTop:3,children:c.jsx(N,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function yoe(e){return c.jsxs(q,{align:"center",justify:"flex-start",children:[c.jsx(B,{padding:1,children:c.jsx(q,{align:"center",children:c.jsx(B,{flex:1,paddingY:2,children:c.jsx(N,{muted:!0,children:"Document of invalid type"})})})}),c.jsx(B,{children:c.jsx(bt,{portal:!0,content:c.jsxs(oe,{space:3,padding:3,children:[c.jsxs(N,{size:1,children:["Referenced document (",c.jsx("code",{children:e.documentId}),") is of type"," ",c.jsx("code",{children:e.actualType}),"."]}),c.jsxs(N,{size:1,children:["According to the schema, referenced documents can only be of type"," ",ytn(e.declaredTypes.map(t=>c.jsx("code",{children:t},t)),"or"),"."]})]}),children:c.jsx(B,{padding:2,children:c.jsx(ir,{tone:"default",children:c.jsx(bv,{})})})})})]})}const ytn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],c.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>c.jsxs(h.Fragment,{children:[r,", "]},o)),c.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var boe=Object.freeze,btn=Object.defineProperty,xtn=(e,t)=>boe(btn(e,"raw",{value:boe(t||e.slice())})),xoe;const wtn=O(ne)(xoe||(xoe=xtn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),FAe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=i?"a":void 0,l=i?r:"div";return c.jsx(wtn,{...s,"data-as":a,documentId:o,documentType:i,forwardedAs:l,ref:n})}),LAe=h.createContext(null);function Ctn(){const e=h.useContext(LAe);return e||{menuRef:{current:null},containerRef:{current:null}}}function _tn(e){const{menuRef:t,containerRef:n}=e;return c.jsx(LAe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function Stn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Etn={portal:!0,tone:"default"},ktn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function jtn(e){var t,n,r,o,i,s,a,l,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:y,value:x,open:b,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:P}}=e,R=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,$=m.of,U=h.useRef(null),L=h.useRef(null),W=h.useRef(null),{EditReferenceLink:Y,getReferenceInfo:V,selectedState:H,isCurrentDocumentLiveEdit:Q}=qB({path:v,schemaType:p,value:x});iA(U,b),Ti(j,(Tt,Et)=>{var Kt;!Tt&&Et&&U.current&&((Kt=U.current)==null||Kt.focus())});const F=e.validation.some(Tt=>Tt.level==="error"),G=e.validation.some(Tt=>Tt.level==="warning"),z=x._resolvingInitialValue,Z=h.useCallback(()=>{w({items:[{...x,_key:yx()}],position:"after"})},[w,x]),K=h.useCallback((Tt,Et)=>{w({items:[{...W0(Et),_key:yx()}],position:Tt})},[w]),J=dA(x==null?void 0:x._ref,V),X=x._ref,ee=((n=J.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),re=X&&((s=(i=(o=J.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),de=h.useCallback(()=>{T([p.weak===!0?mt(!0,["_weak"]):et(["_weak"]),et(["_strengthenOnPublish"])])},[T,p.weak]),ie=ee?p.to.find(Tt=>Tt.name===ee):void 0,fe=H==="pressed",xe=H==="selected",be=Stn({readOnly:g,hasErrors:F,hasWarnings:G}),ve=!X||A[0]==="_ref",qe=h.useMemo(()=>h.forwardRef(function(Et,Kt){return c.jsx(pm,{...Et,intent:"edit",params:{id:x==null?void 0:x._ref,type:ie==null?void 0:ie.name},target:"_blank",rel:"noopener noreferrer",ref:Kt})}),[ie==null?void 0:ie.name,x==null?void 0:x._ref]),Le=h.useCallback(()=>{D(X&&ve?[]:["_ref"])},[X,ve,D]),ot=h.useMemo(()=>g?null:c.jsx(B,{marginLeft:1,children:c.jsx(nn,{button:c.jsx(le,{paddingY:3,paddingX:2,mode:"bleed",icon:Bo}),id:"".concat(S,"-menuButton"),menu:c.jsxs(Ht,{ref:L,children:[!g&&c.jsxs(c.Fragment,{children:[c.jsx(Be,{text:"Remove",tone:"critical",icon:lo,onClick:y}),c.jsx(Be,{text:X&&ve?"Cancel replace":"Replace",icon:X&&ve?ia:Yk,onClick:Le}),c.jsx(Be,{text:"Duplicate",icon:_u,onClick:Z}),c.jsx(uA,{onInsert:K,types:$})]}),!g&&!ve&&X&&c.jsx(Dr,{}),!ve&&X&&c.jsx(Be,{as:qe,"data-as":"a",text:"Open in new tab",icon:r0})]}),popover:Etn})}),[g,S,y,X,ve,Le,Z,K,$,qe]),Qe=h.useCallback(()=>{T(p.weak===!0?mt(!0,["_weak"]):et(["_weak"]))},[T,p]),lt=x!=null&&x._weak?"weak":"strong",_e=p.weak===!0?"weak":"strong",me=X&&!J.isLoading&&(x==null?void 0:x._strengthenOnPublish),We=!J.isLoading&&((a=J.result)==null?void 0:a.availability.available)&&X&&lt!==_e&&!me,Ge=((l=J.result)==null?void 0:l.preview.draft)||((u=J.result)==null?void 0:u.preview.published),$e=c.jsxs(c.Fragment,{children:[Q&&re&&x._strengthenOnPublish&&c.jsx(df,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(f=(d=J.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(le,{onClick:de,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),We&&c.jsx(df,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:lt}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[_e,"."]})]}),c.jsx(N,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",Ge!=null&&Ge.title?c.jsxs(c.Fragment,{children:['"',Ge==null?void 0:Ge.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",Ge!=null&&Ge.title?c.jsxs(c.Fragment,{children:['"',Ge==null?void 0:Ge.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(le,{onClick:Qe,text:c.jsxs(c.Fragment,{children:["Convert to ",_e," reference"]}),tone:"caution"})]})}),J.error&&c.jsx(df,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["Error: ",J.error.message]}),c.jsx(le,{onClick:J.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),xt=c.jsx(_tn,{menuRef:L,containerRef:W,children:c.jsx(lA,{dragHandle:R,presence:!ve&&C.length>0&&c.jsx(Ww,{presence:C,maxAvatars:1}),validation:!ve&&_.length>0&&c.jsx(H0,{validation:_}),menu:ot,footer:ve?void 0:$e,tone:ve?void 0:be,focused:j,children:ve?c.jsx(B,{padding:1,ref:W,children:c.jsx(aA,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):c.jsxs(FAe,{as:Y,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ie==null?void 0:ie.name,disabled:z,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:xe,pressed:fe,"data-selected":xe?!0:void 0,"data-pressed":fe?!0:void 0,...P,children:[c.jsx(MAe,{value:x,referenceInfo:J,renderPreview:I,type:p}),z&&c.jsx(ne,{style:ktn,tone:"transparent",radius:2,as:q,justify:"center",children:c.jsxs(q,{align:"center",justify:"center",padding:3,children:[c.jsx(B,{marginX:3,children:c.jsx(zr,{muted:!0})}),c.jsx(N,{children:"Resolving initial value"})]})})]})})});return c.jsx(Jo,{path:v,isChanged:E,hasFocus:!!j,children:c.jsx(B,{paddingX:1,children:xt})})}function woe(e){return Ua(e.schemaType)}function Coe(e){return Al(e.schemaType)}function Ttn(e){return e._key!==void 0}function gS(e){return Ttn(e)?e:{...e,_key:yx(12)}}const BAe=4;function _oe(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function Atn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BAe;const n=Dtn(t);return function(){return wr(n(e(...arguments)))}}function Dtn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BAe;const t=[],n=[],r=new Tr;return o;function o(a){return new dt(l=>{if(t.length>=e)return i(a).pipe(yt(o)).subscribe(l);const u=a.subscribe(l);return t.push(u),()=>{_oe(t,u),_oe(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(pwe(l=>l===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const Itn=4;function Ptn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:l,creditLine:u,source:d}=r;return Ftn(n).pipe(Xn(()=>Ce(null)),yt(f=>f?Rtn(e,"sanity.".concat(t,"Asset"),f):Ce(null)),yt(f=>f?Ce({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:l,creditLine:u,source:d}).pipe(ce(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const NAe=Atn(Ptn,Itn),Otn=(e,t,n)=>NAe(e,"image",t,n),$tn=(e,t,n)=>NAe(e,"file",t,n);function zAe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function VAe(e,t){return zAe(e,t)}function HAe(e,t){return zAe(e,t)}function Rtn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function Mtn(e){return new dt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Ftn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?Ce(null):Mtn(e).pipe(yt(t=>crypto.subtle.digest("SHA-1",t)),ce(Ltn))}function Ltn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function Btn(e,t){return new dt(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const Ntn=/(invalid image format)|(No exif data)/i,ztn=128e3;function Vtn(e){return wr(Btn(e,ztn)).pipe(ce(t=>V8t(t)),Xn(t=>(Ntn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),Ce({}))))}function Soe(e){return[5,6,7,8].indexOf(e)>-1}function Htn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function Eoe(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Utn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Wtn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Ytn="top-left",qtn=120;function Gtn(e,t){const n=Utn[t-1],r=e.height/e.width;e.width=qtn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(Soe(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&Eoe(o,!0,!1),n.op==="flip-y"&&Eoe(o,!1,!0),n.degrees&&(Htn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),Soe(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Ktn(e,t){return new dt(n=>{const r=Wtn.indexOf(t)+1,o=Gtn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Ztn(e){return new dt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Xtn(e,t){return Ztn(window.URL.createObjectURL(e)).pipe(yt(n=>Ktn(n,t)))}const ll="_upload",Qtn=et([ll]);function xp(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const UAe=xp([Qtn]);function WAe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return xp([mt(n,[ll])])}function Jtn(e,t,n){const r=Otn(e,t,n).pipe(ut(i=>i.stage!=="download"),ce(i=>({...i,progress:2+i.percent/100*98})),ce(i=>i.type==="complete"?xp([mt({_type:"reference",_ref:i.asset._id},["asset"]),mt(100,[ll,"progress"]),mt(new Date().toISOString(),[ll,"updatedAt"])]):xp([mt(i.percent,[ll,"progress"]),mt(new Date().toISOString(),[ll,"updatedAt"])]))),o=Vtn(t).pipe(yt(i=>Xtn(t,i.orientation||Ytn)),Xn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),Ce(null))),ut(Boolean),ce(i=>xp([mt(i,[ll,"previewImage"])])));return co(Ce(WAe(t)),yn(r,o),Ce(UAe))}function YAe(e,t,n){const r=$tn(e,t,n).pipe(ce(o=>o.type==="complete"?xp([mt({_type:"reference",_ref:o.asset._id},["asset"]),mt(100,[ll,"progress"]),mt(new Date().toISOString(),[ll,"updated"])]):xp([mt(o.percent,[ll,"progress"]),mt(new Date().toISOString(),[ll,"updated"])])));return co(Ce(WAe(t)),r,Ce(UAe))}const enn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Jtn(e,t,r)},tnn={type:"file",accepts:"",upload:(e,t,n,r)=>YAe(e,t,r)},nnn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>YAe(e,t,r).pipe(ce(o=>({type:"uploadProgress",patches:[mt(o)]})))},rnn=[enn,nnn,tnn].map((e,t)=>({...e,priority:t}));function e4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function IB(e,t){return rnn.find(n=>{var r;return dc(n.type,e)&&e4(t,n.accepts)&&e4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const onn=["_key","_type","_weak"];function qAe(e){return Object.keys(e).every(t=>onn.includes(t))}const inn=(e,t)=>{const n=_s(t);return e.of.find(r=>r.name===n)};function snn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return mt(o,[...t,r])})}function GAe(e,t,n){return wr(e).pipe(yt(r=>{const o={_key:r._key};return Ce(inn(t,r)).pipe(yt(i=>i?Ce(i):Gn),yt(i=>!qAe(r)||!n?Gn:co(Ce({type:"patch",patches:[mt(!0,[o,"_resolvingInitialValue"])]}),So(()=>n(i,r)).pipe(ut(uo),ce(s=>({type:"patch",patches:snn(s,[o])})),Xn(s=>Ce({type:"error",error:s,item:r,schemaType:i}))),Ce({type:"patch",patches:[et([o,"_resolvingInitialValue"])]}))))}))}const koe="before",joe="after";function ann(e,t,n){if(t!==koe&&t!==joe)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(koe," or ").concat(joe));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=Toe(...o);if(e.length===0)return s;const a=e.length,l=Math.abs((a+n)%a)%a,u=t==="after"?l+1:l,d=e.slice();return d.splice(u,0,...Toe(s)),d}function Toe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Aoe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function lnn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function cnn(e,t){if(typeof t=="number")return t;const n=O9(e,t);return n===-1?!1:n}function unn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Aoe(t.value,"from")||!Aoe(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return lnn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=cnn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return ann(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=OB(n[i],{...t,path:o}),n}function dnn(e,t){const n=sEe(e);if(t.path.length===0){if(t.type==="set"){if(!Lx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?_i(n,r):(n[r]=OB(n[r],{...t,path:o}),n)}const KAe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},fnn=Object.keys(KAe);function hnn(e,t){if(!fnn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return KAe[t.type](e,t.value)}const ZAe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=ISe(OSe(t),e,{allowExceedingIndices:!0});return n}},pnn=Object.keys(ZAe);function mnn(e,t){if(!pnn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return ZAe[t.type](e,t.value)}function PB(e,t){return t.reduce(OB,e)}function gnn(e,t){return Array.isArray(e)?unn(e,t):nT(e)?mnn(e,t):Lx(e)?dnn(e,t):hnn(e,t)}function OB(e,t){return gnn(e,t)}function vnn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=fa(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:y}}=ei().__internal,x=h.useRef(),b=h.useRef({});Ti(l.field.focused,(ee,re)=>{var de;!ee&&re&&((de=x.current)==null||de.focus())});const w=h.useCallback(ee=>{ee.currentTarget===ee.target&&ee.currentTarget===x.current&&n(l.field.path)},[l.field.path,n]),C=h.useCallback(ee=>{ee.currentTarget===ee.target&&ee.currentTarget===x.current&&t(l.field.path)},[l.field.path,t]),_=h.useRef(l.field.value);h.useEffect(()=>{_.current=l.field.value},[l.field.value]);const S=h.useCallback(ee=>{const re=at.from(ee).patches;if(re.some(ie=>ie.type==="unset"&&ie.path.length===1)&&(_.current=PB(_.current||[],re),Array.isArray(_.current)&&!_.current.length)){r(at.from(et([l.name])));return}r(at.from(ee).prepend(Ui([])).prefixAll(l.name))},[r,l.name,_]),E=xN(),j=Ei(),k=h.useCallback(()=>{o(l.field.path,!0)},[o,l.field.path]),T=h.useCallback(()=>{o(l.field.path,!1)},[o,l.field.path]),A=h.useCallback(ee=>{o(l.field.path.concat({_key:ee}),!0)},[o,l.field.path]),D=h.useCallback(ee=>{o(l.field.path.concat({_key:ee}),!1)},[o,l.field.path]),I=h.useCallback(ee=>{s(ee),o(ee,!1)},[s,o]),P=h.useCallback(()=>{s(l.field.path),o(l.field.path,!0)},[s,l.field.path,o]),R=h.useCallback(ee=>{if(ee.items.length===0)throw new Error("Insert event should include at least one item");const re=ee.items.map(xe=>gS(xe));S(at.from([qd(re,ee.position,[ee.referenceItem])]));const de=re[0]._key,ie=[...l.field.path,{_key:de}];n(ie);const fe=ee.open!==!1;ee.skipInitialValue?fe&&I(ie):GAe(re,l.field.schemaType,E).pipe(Wn(xe=>{xe.type==="patch"?S(xe.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(xe.schemaType.title,": ").concat(xe.error.message,"."),status:"error"})})).subscribe({complete:()=>{fe&&I(ie)}})},[S,I,l.field.path,l.field.schemaType,n,E,j]),$=h.useCallback(ee=>{const re=l.field.value,de=re==null?void 0:re[ee.fromIndex],ie=re==null?void 0:re[ee.toIndex];if(ee.fromIndex!==ee.toIndex){if(!(de!=null&&de._key)||!(ie!=null&&ie._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([et([{_key:de._key}]),qd([de],ee.fromIndex>ee.toIndex?"before":"after",[{_key:ie._key}])])}},[S,l.field.value]),U=h.useCallback(ee=>{S([Ui([]),qd([gS(ee)],"before",[0])])},[S]),L=h.useCallback(ee=>{S([Ui([]),qd([gS(ee)],"after",[-1])])},[S]),W=h.useCallback(ee=>{b.current[ee]&&(b.current[ee].unsubscribe(),delete b.current[ee]),S([et([{_key:ee}])])},[S]),Y=h.useCallback(ee=>{n(l.field.path.concat(ee))},[l.field.path,n]),V=h.useMemo(()=>({onBlur:C,onFocus:w,id:l.field.id,ref:x,"aria-describedby":rh(l.field.id,l.field.schemaType.description)}),[C,w,l.field.id,l.field.schemaType.description]),H=_r(mn),Q=ei(),F=Q.__internal.image.directUploads,G=Q.__internal.file.directUploads,z=h.useCallback((ee,re)=>dc("image",ee)&&!F||dc("file",ee)&&!G?null:IB(ee,re),[G,F]),Z=h.useCallback(ee=>{let{file:re,schemaType:de,uploader:ie}=ee;const fe=W0(de),xe=fe._key;R({items:[fe],position:"after",referenceItem:-1,open:!1});const be=ie.upload(H,re,de).pipe(ce(ve=>at.from(ve.patches||[]).prefixAll({_key:xe})),Wn(ve=>S(ve.patches)));b.current={...b.current,[xe]:be.subscribe()}},[H,S,R]),K=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:P,onItemOpen:I,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:S,onInsert:R,onItemMove:$,onItemRemove:W,onItemAppend:L,onItemPrepend:U,onPathFocus:Y,resolveInitialValue:E,onUpload:Z,resolveUploader:z,validation:l.field.validation,presence:l.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:V}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,D,A,P,I,S,R,$,W,L,U,Y,E,Z,z,u,d,p,m,f,v,g,V]),J=h.useMemo(()=>m(K),[K,m]),X=h.useMemo(()=>({actions:y,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:k,onExpand:T,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:J,inputProps:K}),[y,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,T,J,K]);return c.jsx(Bw,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(X),[X,f])})}function XAe(e,t,n){return _p(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function ynn(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=ei().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:l,onPathFocus:u,onChange:d}=fa();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{l(t.field.path)},[t.field.path,l]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(at.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(_p(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Rx(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);_p(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(at.from(S?et():mt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,y=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:XAe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":rh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:y}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,y]),b=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:b,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,b,x]);return c.jsx(c.Fragment,{children:r(w)})}const bnn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:l}=fa(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}=t,{field:{actions:x}}=ei().__internal,b=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Ti(u.field.focused,(Q,F)=>{var G;!Q&&F&&((G=b.current)==null||G.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(Q=>{r(u.field.path.concat(Q))},[u.field.path,r]),E=h.useCallback(Q=>{if(!(u.field.path.length===0)){const G=at.from(Q).patches;if(w.current=PB(w.current||{},G),w.current&&sIt(w.current)){o(at.from(et([u.name])));return}}o(at.from(Q).prepend(Ui(DB(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(Q=>{s(u.field.path.concat(Q),!0)},[s,u.field.path]),A=h.useCallback(Q=>{s(u.field.path.concat(Q),!1)},[s,u.field.path]),D=h.useCallback(Q=>{i(u.field.path.concat(Q))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),P=h.useCallback(Q=>{a(u.field.path.concat(Q),!1)},[a,u.field.path]),R=h.useCallback(Q=>{a(u.field.path.concat(Q),!0)},[a,u.field.path]),$=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),U=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),L=h.useCallback(Q=>{l(u.field.path,Q)},[l,u.field.path]),W=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:b,"aria-describedby":rh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),Y=h.useMemo(()=>({elementProps:W,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:L,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:P,onFieldSetCollapse:R,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}),[W,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,L,D,I,T,A,P,R,S,E,d,f,p,m,v,g,y]),V=h.useMemo(()=>v(Y),[Y,v]),H=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:$,onClose:U,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:V,inputProps:Y}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,$,U,V,Y]);return c.jsx(Bw,{onFieldGroupSelect:l,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(H),[H,p])})};function xnn(e,t){return new dt(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function wnn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Cnn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function _nn(e){return/^\d+$/.test(e)}function Snn(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{Rx(i)&&(n=!0),tge(i)&&(o=!0),_p(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&_nn(e)?Number(e):o?e:void 0}function Enn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return xnn(n,"utf-8").pipe(ce(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>Snn(o,e)).filter(o=>o!==void 0)),ut(r=>Array.isArray(r)),ce(r=>({type:"uploadProgress",patches:[qd(r,"after",[-1])]})))}}}function knn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=fa(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:y}}=ei().__internal,x=h.useRef(),b=h.useRef(),w=_r(mn);Ti(l.field.focused,(F,G)=>{var z;!F&&G&&((z=x.current)==null||z.focus())});const C=h.useCallback(F=>{F.currentTarget===F.target&&F.currentTarget===x.current&&n(l.field.path)},[l.field.path,n]),_=h.useCallback(F=>{F.currentTarget===F.target&&F.currentTarget===x.current&&t(l.field.path)},[l.field.path,t]),S=h.useCallback(F=>{const G=at.from(F).patches;if(G.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=PB(l.field.value||[],G);if(Array.isArray(Z)&&!Z.length){r(at.from(et([l.name])));return}}r(at.from(F).prepend(Ui([])).prefixAll(l.name))},[r,l.name,l.field.value]),E=h.useCallback(F=>{i(l.field.path,F)},[i,l.field.path]),j=h.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),k=h.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),T=h.useCallback(F=>{S(F.length===0?et():mt(F))},[S]),A=h.useCallback(F=>{const{value:G=[]}=l.field;F.fromIndex!==F.toIndex&&T(wnn(G,F.fromIndex,F.toIndex))},[l.field,T]),D=h.useCallback(F=>{const{value:G=[]}=l.field;T(G.concat(F))},[l.field,T]),I=h.useCallback(F=>{const{value:G=[]}=l.field;T([F].concat(G||[]))},[l.field,T]),P=h.useCallback(F=>{const{value:G=[]}=l.field,z=F.referenceIndex+(F.position==="before"?-1:0);T(Cnn(z,G,F.items))},[l.field,T]),R=h.useCallback(F=>{S(et([F]))},[S]),$=h.useCallback(F=>{n(l.field.path.concat([F]))},[l.field.path,n]),U=h.useMemo(()=>({onBlur:_,onFocus:C,id:l.field.id,ref:x,"aria-describedby":rh(l.field.id,l.field.schemaType.description)}),[_,C,l.field.id,l.field.schemaType.description]),L=h.useMemo(()=>Enn(l.field.schemaType.of),[l.field.schemaType.of]),W=h.useCallback((F,G)=>e4(G,"text/*")?L:null,[L]),Y=h.useCallback(F=>{let{file:G,schemaType:z,uploader:Z}=F;const K=Z.upload(w,G,z).pipe(ce(J=>at.from(J.patches||[])),Wn(J=>S(J.patches)));b.current&&b.current.unsubscribe(),b.current=K.subscribe()},[w,S]),V=h.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:E,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:U,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:S,onInsert:P,onMoveItem:A,onItemRemove:R,onItemAppend:D,onItemPrepend:I,validation:l.field.validation,presence:l.field.presence,resolveUploader:W,onUpload:Y,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:$,renderPreview:g}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,E,U,S,P,A,R,D,I,W,Y,u,d,p,m,v,$,g]),H=h.useMemo(()=>m(V),[V,m]),Q=h.useMemo(()=>({actions:y,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:k,changed:l.field.changed,onCollapse:j,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:H,inputProps:V}),[y,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,k,j,H,V]);return c.jsx(Bw,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Q),[Q,f])})}function QAe(e){return Ua(e.field.schemaType)}function jnn(e){return Al(e.field.schemaType)&&e.field.schemaType.of.every(t=>nge(t))}function $B(e){return Al(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ua(t))}const qw=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=t;return QAe(n)?c.jsx(bnn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):jnn(n)?c.jsx(knn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:l,renderPreview:u}):$B(n)?c.jsx(vnn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}):c.jsx(ynn,{member:n,renderField:i,renderInput:a})}),JAe=["yes","true","1"],eDe=["false","no","false","0","null"],Tnn=JAe.concat(eDe),H_=()=>!0,Ann=e=>t=>t&&t[e],Dnn=e=>t=>(t&&t._type)===e;function Inn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function Pnn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const mO={string:{number:{test:Number,convert:Number},boolean:{test:e=>Tnn.includes(e.toLowerCase()),convert:e=>JAe.includes(e.toLowerCase())||!eDe.includes(e.toLowerCase())},richDate:{test:e=>Ou(e),convert:e=>({_type:"richDate",local:Inn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:Pnn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:Dnn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:Ann("utc"),convert:e=>e.utc}},number:{string:{test:H_,convert:String},boolean:{test:H_,convert:Number}},boolean:{string:{test:H_,convert:e=>e?"Yes":"No"},number:{test:H_,convert:Number}}};function Onn(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(at.from(Ui(n,["_type"])),o),[o,r,n]);return c.jsx(le,{onClick:i,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:n})]})})}function $nn(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(at.from(et()),o),[o,n]);return c.jsx(le,{onClick:i,tone:"critical",text:"Unset value"})}function Rnn(e){let{validTypes:t,value:n,onChange:r}=e;const o=dr(),i=t.length===1,s=o.has(t[0]);return c.jsx(Lc,{status:"warning",title:c.jsxs(c.Fragment,{children:["Property value missing ",c.jsx("code",{children:"_type"})]}),children:c.jsx(km,{open:ad,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",c.jsx("code",{children:"_type"})," property."]}),i&&!s&&c.jsxs(N,{as:"p",muted:!0,size:1,children:["Either remove the ",c.jsx("code",{children:"name"})," property of the object declaration, or set"," ",c.jsx("code",{children:"_type"})," property on items."]}),!i&&c.jsx(N,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&c.jsx(oe,{as:"ul",space:2,children:t.map(a=>c.jsx(N,{as:"li",muted:!0,size:1,children:c.jsx("code",{children:a})},a))}),c.jsxs(oe,{space:2,children:[c.jsxs(N,{as:"h4",weight:"semibold",size:1,children:["Current value (",c.jsx("code",{children:"object"}),"):"]}),c.jsx(ne,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:c.jsx(xr,{language:"json",children:JSON.stringify(n,null,2)})})]}),c.jsxs(an,{columns:[1,2,2],gap:1,children:[i&&c.jsx(Onn,{onChange:r,targetType:t[0],value:n}),c.jsx($nn,{onChange:r,validTypes:t,value:n})]})]})})})}function Mnn(e,t,n){return t in mO?Object.keys(mO[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...mO[t][r]})).filter(r=>r.test(e)):[]}const tDe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(at.from(et()))},[i]),a=h.useCallback(d=>{i(at.from(mt(d)))},[i]),l=h.useMemo(()=>Mnn(n,r,o),[n,r,o]);if(Cr(n)&&!("_type"in n))return c.jsx(Rnn,{value:n,validTypes:o,onChange:i});const u=c.jsx(oe,{padding:2,children:c.jsx(le,{onClick:s,tone:"critical",text:"Reset value"})});return c.jsxs(Lc,{status:"error",suffix:u,title:c.jsx(c.Fragment,{children:"Invalid property value"}),children:[c.jsx(N,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),c.jsx(km,{marginTop:4,open:ad,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(oe,{space:3,children:[o.length===1&&c.jsxs(N,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",c.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&c.jsx(N,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&c.jsx(N,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&c.jsx(oe,{as:"ul",space:2,children:o.map(d=>c.jsx(N,{as:"li",children:c.jsx("code",{children:d})},d))}),c.jsxs(oe,{marginTop:2,space:2,children:[c.jsxs(N,{size:1,weight:"semibold",children:["The current value (",c.jsx("code",{children:r}),")"]}),c.jsx(ne,{border:!0,padding:2,radius:2,tone:"inherit",children:c.jsx(xr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&c.jsx(oe,{space:1,children:l.map(d=>c.jsx(Fnn,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});tDe.displayName="InvalidValueInput";function Fnn(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return c.jsx(le,{onClick:o,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:t.to})]})})}function Lnn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(at.from((t.value||[]).map((o,i)=>Ui(kw(),[i,"_key"]))))},[t.value,n]);return c.jsx(U0,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Lc,{status:"warning",suffix:c.jsx(oe,{padding:2,children:c.jsx(le,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Missing keys"}),children:[c.jsx(N,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),c.jsx(km,{marginTop:4,open:ad,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property has not been included."]}),c.jsxs(N,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Bnn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(at.from((t.duplicates||[]).map(o=>{let[i,s]=o;return mt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return c.jsx(U0,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Lc,{status:"warning",suffix:c.jsx(oe,{padding:2,children:c.jsx(le,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Non-unique keys"}),children:[c.jsx(N,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),c.jsx(km,{marginTop:4,open:ad,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),c.jsxs(N,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Nnn(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>Cr(s)?[]:[a]).reverse().map(s=>et([s]));n(at.from(i))};return c.jsx(U0,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(Lc,{status:"error",suffix:c.jsx(oe,{padding:2,children:c.jsx(le,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:c.jsx(c.Fragment,{children:"Invalid list values"}),children:[c.jsx(N,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),c.jsx(km,{marginTop:4,open:ad,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsx(oe,{space:3,children:c.jsx(N,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function fA(e){const{member:t}=e,{onChange:n}=fa(),r=h.useCallback(o=>{n(at.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?c.jsx(tDe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?c.jsx(Lnn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?c.jsx(Bnn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?c.jsx(Nnn,{onChange:r,error:t.error}):c.jsxs(B,{children:["Unexpected error: ",e.member.error.type]})}const RB=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=fa(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return c.jsx(aA,{title:r.fieldSet.title||gm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?c.jsx(fA,{member:v},r.key):c.jsx(qw,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d},v.key))})});function MB(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:y}=fa(),x=xN();Ti(n.item.focused,(z,Z)=>{var K;!z&&Z&&((K=t.current)==null||K.focus())});const b=h.useCallback(()=>{p(at.from([et([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(z=>{m(z),v(z,!1)},[m,v]),C=Ei(),_=h.useCallback(z=>{if(z.items.length===0)throw new Error("Insert event should include at least one item");const Z=z.items.map(re=>gS(re));p(at.from([qd(Z,z.position,[{_key:n.key}])]));const K=Z[0]._key,X=[...n.item.path.slice(0,-1),{_key:K}];f(X);const ee=z.open!==!1;z.skipInitialValue?ee&&w(X):GAe(Z,n.parentSchemaType,x).pipe(Wn(re=>{re.type==="patch"?p(at.from(re.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(re.schemaType.title,": ").concat(re.error.message,"."),status:"error"})})).subscribe({complete:()=>{ee&&w(X)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(z=>{f(n.item.path.concat(z))},[n.item.path,f]),k=h.useCallback(z=>{p(at.from(z).prepend(Ui(DB(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(z=>{v(n.item.path.concat(z),!0)},[v,n.item.path]),I=h.useCallback(z=>{v(n.item.path.concat(z),!1)},[v,n.item.path]),P=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),R=h.useCallback(z=>{m(n.item.path.concat(z))},[m,n.item.path]),$=h.useCallback(z=>{g(n.item.path.concat(z),!1)},[g,n.item.path]),U=h.useCallback(z=>{g(n.item.path.concat(z),!0)},[g,n.item.path]),L=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),W=!n.item.value||qAe(n.item.value),Y=h.useCallback(()=>{W&&b();const z=n.item.path.slice(0,-1);m(z),f(z)},[W,m,n.item.path,f,b]),V=h.useCallback(z=>{y(n.item.path,z)},[y,n.item.path]),H=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":rh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),Q=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:P,onFieldCollapse:D,onFieldSetCollapse:U,onFieldExpand:I,onFieldSetExpand:$,onFieldGroupSelect:V,onPathFocus:j,onFieldOpen:R,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:l,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:H}),[H,k,P,D,U,I,$,j,R,V,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,l,u]),F=h.useMemo(()=>a(Q),[Q,a]),G=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:b,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:L,onClose:Y,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:F,changed:n.item.changed,inputProps:Q}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,b,L,Y,A,T,E,S,F,Q]);return c.jsx(Bw,{onFieldGroupSelect:y,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>l(G),[G,l])})}function FB(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function znn(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:l,onChange:u}=fa();Ti(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{l(n.item.path)},[n.item.path,l]),p=h.useCallback(C=>{u(at.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(_p(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Rx(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);_p(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(mt(S?FB(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:Vnn(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":rh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),y=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(at.from([et([n.index])]))},[n.index,u]),b=h.useCallback(C=>{u(at.from([qd(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:b,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:y}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,b,x,f,d,y]);return c.jsx(c.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function Vnn(e,t,n){return Object.is(t,-0)?"":XAe(e,t,n)}var Doe=Object.freeze,Hnn=Object.defineProperty,Unn=(e,t)=>Doe(Hnn(e,"raw",{value:Doe(t||e.slice())})),Ioe;const Wnn=O(ne)(Ioe||(Ioe=Unn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function nDe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=se.useState(!1),[a,l]=se.useState(null);Nr(()=>s(!1),[a]);const u=se.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=_s(t);return c.jsx(fn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(Wnn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(oe,{space:4,children:[c.jsxs(N,{weight:"semibold",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]}),c.jsx(N,{size:1,weight:"semibold",children:"Why is this happening?"}),c.jsxs(N,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(B,{children:c.jsxs(N,{size:1,children:[c.jsx(Nk,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(oe,{space:2,children:[c.jsx(N,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ne,{padding:2,overflow:"auto",border:!0,children:c.jsx(xr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ne,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(q,{align:"center",children:[c.jsx(B,{marginRight:3,children:c.jsx(N,{children:c.jsx(ml,{})})}),c.jsx(B,{flex:1,children:c.jsxs(N,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Ynn(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?c.jsx(nDe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const qnn=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:l,renderPreview:u}=t;return n.kind==="field"?c.jsx(qw,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):n.kind==="error"?c.jsx(fA,{member:n},n.key):n.kind==="fieldSet"?c.jsx(RB,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:l,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Gnn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:l}=e,u=h.useMemo(()=>t.map(d=>c.jsx(qnn,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:l},d.key)),[t,n,r,s,i,o,a,l]);return c.jsx(c.Fragment,{children:u})}const V1=e=>{let{children:t}=e;return t};function Knn(e){return"absolutePath"in e}const rDe=h.memo(function(t){const n=h.useMemo(()=>Knn(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>c.jsx(c.Fragment,{children:"Missing destination render function"}),[]);return c.jsx(Znn,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Znn=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:l,destinationRenderPreview:u}=t,d=h.useCallback(y=>{if(xn(y.path,n)||hi(n,y.path))return a(y);if(!woe(y)&&!Coe(y))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(y.path)));return c.jsx(e,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:l,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,l,u]),f=h.useCallback(y=>hi(n,y.path)&&(t.includeField||!xn(n,y.path))?i(y):V1(y),[n,i,t.includeField]),p=h.useCallback(y=>hi(n,y.path)&&(t.includeItem||!xn(n,y.path))?l(y):V1(y),[n,l,t.includeItem]),m=h.useCallback(y=>hi(n,y.path)&&(t.includeItem||!xn(n,y.path))?o(y):V1(y),[n,o,t.includeItem]),v=h.useCallback(y=>hi(n,y.path)&&(t.includeItem||!xn(n,y.path))?s(y):V1(y),[n,s,t.includeItem]),g=h.useCallback(y=>hi(n,y.path)&&(t.includeItem||!xn(n,y.path))?r(y):V1(y),[n,r,t.includeItem]);if(Coe(t)){const y=ky(t.path,n),x=t.members.find(b=>b.kind=="item"&&Pr(y[0])&&b.key===y[0]._key);if(!x){const w=ky(t.path,n)[0]._key;return c.jsxs("div",{children:["No array item with _key ",c.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?c.jsx(Ynn,{member:x}):c.jsx(MB,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(woe(t)){const y=ky(t.path,n),x=t.members.find(b=>b.kind=="field"&&y[0]===b.name);if(!x){const b=y[0];return c.jsxs("div",{children:["Field ",JSON.stringify(b)," not found among members  please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return c.jsx(qw,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),oDe=h.createContext(null);function Xnn(){const e=h.useContext(oDe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function QE(e){const{scrollElement:t,containerElement:n}=e;return c.jsx(oDe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Qnn=[0,0,1,0];function iDe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:l}=e,[u,d]=h.useState(null),f=h.useRef(null),p=c.jsx(sA,{margins:Qnn,children:c.jsx(B,{ref:f,padding:4,children:t})});return s==="dialog"?c.jsx(QE,{scrollElement:u,containerElement:f,children:c.jsx(ca,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:l,children:p})}):c.jsx(YUt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:c.jsx(QE,{scrollElement:u,containerElement:f,children:p})})}function Jnn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const ern={portal:!0,tone:"default"},trn={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},nrn={position:"relative"};function rrn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);iA(j,m),Ti(w,(H,Q)=>{var F;!H&&Q&&j.current&&((F=j.current)==null||F.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:yx()}],position:"after"})},[v,p]),A=h.useCallback((H,Q)=>{v({items:[W0(Q)],position:H})},[v]),D=B0(u,!0),I=h.useMemo(()=>D.length===0?null:c.jsx(Ww,{presence:D,maxAvatars:1}),[D]),P=lB(u,!0),R=h.useMemo(()=>P.length===0?null:c.jsx(B,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(H0,{validation:P,__unstable_showSummary:!0})}),[P]),$=P.some(H=>H.level==="error"),U=P.some(H=>H.level==="warning"),L=h.useMemo(()=>d?null:c.jsx(nn,{button:c.jsx(le,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(Ht,{children:[c.jsx(Be,{text:"Remove",tone:"critical",icon:lo,onClick:f}),c.jsx(Be,{text:"Duplicate",icon:_u,onClick:T}),c.jsx(uA,{types:E,onInsert:A})]}),popover:ern}),[T,A,f,E,e.inputId,d]),W=Jnn({readOnly:d,hasErrors:$,hasWarnings:U}),Y=c.jsx(lA,{menu:L,presence:I,validation:R,tone:W,focused:w,dragHandle:S,selected:m,children:c.jsxs(ne,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,style:nrn,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&c.jsx(ne,{style:trn,tone:"transparent",radius:2,as:q,justify:"center",children:c.jsxs(q,{align:"center",justify:"center",padding:3,children:[c.jsx(B,{marginX:3,children:c.jsx(zr,{muted:!0})}),c.jsx(N,{size:1,muted:!0,children:"Resolving initial value"})]})})]})}),V=Uv(a);return c.jsxs(c.Fragment,{children:[c.jsx(Jo,{path:u,isChanged:b,hasFocus:!!w,children:c.jsx(B,{paddingX:1,children:Y})}),m&&c.jsx(iDe,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function orn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:gf(e)?jtn:rrn}function hA(e){const t=Wo(e),{value:n}=ei();return yl(n,t)}function pA(){const e=hA(["_id"]);if(typeof e=="string")return Zn(e)}function irn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const srn={portal:!0,tone:"default"};function arn(e){var t,n,r,o,i,s,a,l,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:y,inputProps:x}=e,{readOnly:b,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=pA(),k=h.useCallback(()=>x.onChange(et()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:P}=qB({path:m,schemaType:p,value:T});iA(f,v),Ti(w,(be,ve)=>{!be&&ve&&f.current&&f.current.focus()});const R=e.validation.some(be=>be.level==="error"),$=e.validation.some(be=>be.level==="warning"),U=dA(T==null?void 0:T._ref,D),L=((t=U.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),W=L?p.to.find(be=>be.name===L):void 0,Y=I==="pressed",V=I==="selected",H=T==null?void 0:T._ref,Q=H&&((i=(o=(r=U.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),F=h.useCallback(()=>{_([p.weak===!0?mt(!0,["_weak"]):et(["_weak"]),et(["_strengthenOnPublish"])])},[_,p.weak]),G=h.useCallback(()=>{_(p.weak===!0?mt(!0,["_weak"]):et(["_weak"]))},[_,p]),z=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),Z=T!=null&&T._weak?"weak":"strong",K=p.weak===!0?"weak":"strong",J=H&&!U.isLoading&&(T==null?void 0:T._strengthenOnPublish),X=!U.isLoading&&((s=U.result)==null?void 0:s.availability.available)&&H&&Z!==K&&!J,ee=irn({readOnly:b,hasErrors:R,hasWarnings:$}),re=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",de=((a=U.result)==null?void 0:a.preview.draft)||((l=U.result)==null?void 0:l.preview.published),ie=c.jsxs(c.Fragment,{children:[P&&Q&&T._strengthenOnPublish&&c.jsx(df,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(d=(u=U.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(le,{onClick:F,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),X&&c.jsx(df,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:Z}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[K,"."]})]}),c.jsx(N,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",de!=null&&de.title?c.jsxs(c.Fragment,{children:['"',de==null?void 0:de.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",de!=null&&de.title?c.jsxs(c.Fragment,{children:['"',de==null?void 0:de.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(le,{onClick:G,text:c.jsxs(c.Fragment,{children:["Convert to ",K," reference"]}),tone:"caution"})]})}),U.error&&c.jsx(df,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["Error: ",U.error.message]}),c.jsx(le,{onClick:U.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),fe=h.useMemo(()=>h.forwardRef(function(ve,qe){return c.jsx(pm,{...ve,intent:"edit",params:{id:T==null?void 0:T._ref,type:W==null?void 0:W.name},target:"_blank",rel:"noopener noreferrer",ref:qe})}),[W==null?void 0:W.name,T==null?void 0:T._ref]),xe=h.useMemo(()=>b?null:c.jsx(B,{marginLeft:1,children:c.jsx(nn,{button:c.jsx(le,{paddingY:3,paddingX:2,mode:"bleed",icon:Bo}),id:"".concat(g,"-menuButton"),menu:c.jsxs(Ht,{children:[!b&&c.jsxs(c.Fragment,{children:[c.jsx(Be,{text:"Clear",tone:"critical",icon:lo,onClick:k}),c.jsx(Be,{text:"Replace",icon:Yk,onClick:z})]}),!b&&(T==null?void 0:T._ref)&&c.jsx(Dr,{}),(T==null?void 0:T._ref)&&c.jsx(Be,{as:fe,"data-as":"a",text:"Open in new tab",icon:r0})]}),popover:srn})}),[k,z,g,fe,b,T==null?void 0:T._ref]);return c.jsxs(c.Fragment,{children:[j&&e.actions&&e.actions.length>0&&c.jsx(Nw,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),c.jsx(Uw,{actions:S,focused:!!e.inputProps.focused,path:m,children:c.jsx(U0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:re?c.jsx(B,{children:y}):c.jsx(ne,{shadow:1,radius:1,padding:1,tone:ee,children:c.jsxs(oe,{space:1,children:[c.jsxs(q,{gap:1,align:"center",children:[c.jsx(FAe,{__unstable_focusRing:!0,as:A,"data-pressed":Y?!0:void 0,"data-selected":V?!0:void 0,documentId:T==null?void 0:T._ref,documentType:W==null?void 0:W.name,flex:1,paddingX:2,paddingY:1,pressed:Y,radius:2,ref:f,selected:V,tone:"inherit",children:c.jsx(MAe,{value:T,referenceInfo:U,renderPreview:C,type:p})}),c.jsx(B,{children:xe})]}),ie]})})})})]})}function sDe(e,t){return Nn(e.options,t)}const Poe=["array","file","image","reference","slug"],lrn=["asset","crop","hotspot","_ref","_weak"],crn=["tags"],urn=["slug"];function LB(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?LB(e.type,t):[];return[e,...n]}function drn(e,t){return Al(e)?hrn(e,t):frn(e,t)}function frn(e,t){var n,r,o;const{type:i,options:s}=e,a=aDe(i,Poe),l=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(urn.includes(u))return 0;const d=Poe.includes(u),f=((n=l==null?void 0:l.filter(m=>!lrn.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function hrn(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=crn.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function aDe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return aDe(e.type,t)}const JE=[];function prn(e){return c.jsx(Jo,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function gO(e){const[t,n]=h.useState(JE),r=pA(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(Nw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(Uw,{actions:t,focused:o,path:e.path,children:c.jsx(U0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:c.jsx(Jo,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function mrn(e){const[t,n]=h.useState(JE),r=pA(),o=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(Nw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(Uw,{actions:t,focused:o,path:e.path,children:c.jsx(aA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function grn(e){const[t,n]=h.useState(JE),r=pA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||JE);return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(Nw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(Uw,{actions:t,focused:o,path:e.path,children:c.jsx(aA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function vrn(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(Rx(e))return prn;const n=LB(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?grn:n.some(r=>Y4(r))||n.some(r=>r.name==="slug")?gO:n.some(r=>gf(r))?arn:e.jsonType!=="object"&&e.jsonType!=="array"?gO:mrn}function yrn(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>tx(a,{allowedDecorators:t}));const s=[qd(o,"after",[{_key:n._key}])];return r(at.from(s))}}function brn(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[mt(tx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(at.from(i))}}function xrn(e){const{block:t,onChange:n}=e;return()=>{const r=[et([{_key:t._key}])];return n(at.from(r))}}var Ooe=Object.freeze,wrn=Object.defineProperty,Crn=(e,t)=>Ooe(wrn(e,"raw",{value:Ooe(t||e.slice())})),$oe;const _rn=O.div($oe||($oe=Crn([`
  display: flex;
  pointer-events: all;
`])));function lDe(e){const t=fo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:Ee.getValue(t),set:brn({allowedDecorators:i,block:n,onChange:r}),unset:xrn({block:n,onChange:r}),insert:yrn({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?c.jsx(_rn,{contentEditable:!1,children:s}):null}var Roe=Object.freeze,Srn=Object.defineProperty,Ern=(e,t)=>Roe(Srn(e,"raw",{value:Roe(t||e.slice())})),Moe;const cDe=O.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=At(o.spot.yellow,.2);return he(Moe||(Moe=Ern([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var Foe=Object.freeze,krn=Object.defineProperty,jrn=(e,t)=>Foe(krn(e,"raw",{value:Foe(t||e.slice())})),Loe;const uDe=O(Jo)(()=>he(Loe||(Loe=jrn([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function mA(e){return e.type?mA(e.type):e.name==="block"}function Trn(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const Arn=["@@_NONEXISTENT_PATH_@@"];function gA(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:Vn,r=lB((e==null?void 0:e.path)||Arn),o=h.useMemo(()=>e!=null&&e.schemaType&&mA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),l=aB(t.current,o);return t.current=l,h.useMemo(()=>({validation:l,hasError:i,hasWarning:s,hasInfo:a}),[l,i,s,a])}const dDe=h.createContext([]);function Drn(e){return c.jsx(dDe.Provider,{value:e.markers,children:e.children})}function vA(e){const t=h.useContext(dDe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>xn(r.path,e)),[t,e])}const BB=h.createContext([]);function Irn(e){return c.jsx(BB.Provider,{value:e.memberItems,children:e.children})}function yA(e){const t=h.useContext(BB);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function Prn(){const e=h.useContext(BB);if(!e)throw new Error("Form context not provided");return e}var Boe=Object.freeze,Orn=Object.defineProperty,Nu=(e,t)=>Boe(Orn(e,"raw",{value:Boe(t||e.slice())})),Noe,zoe,Voe,Hoe,Uoe,Woe,Yoe,qoe,Goe;const $rn=O(ne)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=he(Noe||(Noe=Nu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return he(zoe||(zoe=Nu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?pe.purple[950].hex:pe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),Rrn=O(B)(Voe||(Voe=Nu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),Mrn=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(Uoe||(Uoe=Nu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&he(Hoe||(Hoe=Nu([`
        display: none;
      `]))))}),Frn=O(q)(Woe||(Woe=Nu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),Lrn=O(B)(Yoe||(Yoe=Nu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Brn=O(q)(qoe||(qoe=Nu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Nrn=O(B)(Goe||(Goe=Nu([`
  max-width: 250px;
`]))),zrn={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Vrn(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,l=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>Uu(a)?h.forwardRef(function(v,g){return c.jsx(pm,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Es(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return c.jsxs(q,{children:[c.jsx(B,{flex:1,children:t}),c.jsx(B,{children:c.jsx(nn,{button:c.jsx(le,{"aria-label":"Open menu",fontSize:1,iconRight:Bo,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:l,menu:c.jsx(Ht,{children:c.jsxs(c.Fragment,{children:["_ref"in a&&a._ref&&c.jsx(Be,{as:f,"data-as":"a",icon:bf,text:"Open reference"}),s&&c.jsx(Be,{icon:pF,onClick:o,text:"View"}),!s&&c.jsx(Be,{icon:Su,onClick:o,text:"Edit"}),!s&&c.jsx(Be,{icon:lo,onClick:p,text:"Delete",tone:"critical"})]})}),popover:zrn})})]})}const fDe=e=>Array.isArray(e)?e.flatMap(fDe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],Hrn=e=>e==="dialog"||e==="popover"?e:void 0;function Urn(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:Hrn(n.type),width:fDe(n.width)}:void 0}function Wrn(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,l]=h.useState(null),u=h.useRef(null);return c.jsx(ca,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:c.jsx(sA,{margins:[0,0,1,0],children:c.jsx(QE,{scrollElement:a,containerElement:u,children:c.jsx(B,{padding:4,ref:u,children:n})})})})}var Koe=Object.freeze,Yrn=Object.defineProperty,NB=(e,t)=>Koe(Yrn(e,"raw",{value:Koe(t||e.slice())})),Zoe,Xoe,Qoe;const qrn=O(fn)(Zoe||(Zoe=NB([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Grn=O(B)(Xoe||(Xoe=NB([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Krn=O(B)(Qoe||(Qoe=NB([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Zrn=["top","bottom"];function Xrn(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),c.jsx(qrn,{content:c.jsx(Qrn,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Zrn,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function Qrn(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Es(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),Nr(t,r?[r]:[],n);const[s,a]=h.useState(null),l=h.useRef(null);return c.jsx(QE,{scrollElement:s,containerElement:l,children:c.jsxs(q,{ref:l,direction:"column",height:"fill",children:[c.jsx(Krn,{flex:"none",padding:1,children:c.jsxs(q,{align:"center",children:[c.jsx(B,{flex:1,padding:2,children:c.jsx(N,{weight:"semibold",children:o})}),c.jsx(le,{autoFocus:!!i,icon:ia,mode:"bleed",onClick:t,padding:2})]})}),c.jsx(Grn,{flex:1,children:c.jsx(sA,{margins:[0,0,1,0],children:c.jsx(B,{padding:3,ref:a,children:e.children})})})]})})}function zB(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,l=h.useMemo(()=>Urn(a),[a]),u=(l==null?void 0:l.type)||n,d=c.jsxs(c.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=l==null?void 0:l.width;return u==="popover"?c.jsx(Xrn,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):c.jsx(Wrn,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function Jrn(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=fa(),{Markers:k}=ei().__internal.components,[T,A]=h.useState(!1),D=vA(l),I=fo(),P=yA(wn(l)),R=h.useRef(!1),$=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),U=h.useCallback(()=>A(!0),[]),L=h.useCallback(()=>A(!1),[]),W=h.useCallback(()=>{P&&(Ee.blur(I),s(P.node.path))},[I,P,s]),Y=h.useCallback(()=>{i(),Ee.select(I,$),Ee.focus(I)},[i,I,$]),V=h.useCallback(()=>{if(!R.current)try{Ee.delete(I,$,{mode:"blocks"})}catch(ve){console.error(ve)}finally{R.current=!0}},[I,$]);h.useEffect(()=>()=>{R.current&&Ee.focus(I)},[I]);const H=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:Q,hasError:F,hasWarning:G,hasInfo:z}=gA(P==null?void 0:P.node),Z=I.schemaTypes.portableText,K=D.length>0,J=B0(l,!0),X=h.useMemo(()=>J.filter(ve=>xn(ve.path,l)),[l,J]),ee=F||G||z||K,re=h.useMemo(()=>ee&&c.jsx(Nrn,{padding:2,children:c.jsx(k,{markers:D,validation:Q,renderCustomMarkers:g})})||null,[k,D,g,ee,Q]),de=!!(P!=null&&P.member.open),ie=P==null?void 0:P.input,fe=(P==null?void 0:P.node.path)||Vn,xe=(t=P==null?void 0:P.elementRef)==null?void 0:t.current,be=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:xe||null,children:ie,focused:r,markers:D,onClose:Y,onOpen:W,onPathFocus:a,onRemove:V,open:de,parentSchemaType:Z,path:fe,presence:X,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:hDe,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:Q,value:E}),[n,xe,ie,r,D,Y,W,a,V,de,Z,fe,X,u,d,p,m,y,x,b,w,C,_,S,Q,E]);return h.useMemo(()=>c.jsx(B,{ref:P==null?void 0:P.elementRef,contentEditable:!1,children:c.jsx(q,{paddingBottom:1,marginY:3,style:void 0,children:c.jsxs(Frn,{flex:1,children:[c.jsx(bt,{placement:"top",portal:"editor",disabled:!ee,content:re,children:c.jsx(Rrn,{...H,children:m&&m(be)})}),c.jsx(Lrn,{marginRight:1,children:c.jsx(Brn,{children:v&&E&&r&&!u&&c.jsx(lDe,{block:E,onChange:j,renderBlockActions:v})})}),o&&P&&c.jsx(Mrn,{$hasChanges:P.member.item.changed,onMouseOut:L,onMouseOver:U,children:c.jsx(uDe,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),T&&c.jsx(cDe,{})]})})}),[be,r,L,U,H,o,P,j,u,m,v,T,re,ee,E])}const hDe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:y}=e,x=C$e(g),b=y.filter(E=>E.level==="error").length>0,w=y.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),l()},[l]);return c.jsxs(c.Fragment,{children:[c.jsx($rn,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":b?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:c.jsx(Vrn,{isOpen:d,focused:i,onOpen:l,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&c.jsx(zB,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},H1=[1,2,3,4,5,6,7,8,9],Joe=["","",""],eie=["number","lower-alpha","lower-roman"],eon={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},ton={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Yh(e){return"list-level-".concat(e)}var tie=Object.freeze,non=Object.defineProperty,Tc=(e,t)=>tie(non(e,"raw",{value:tie(t||e.slice())})),nie,rie,oie,iie,sie,aie,lie,cie,uie,die;function ron(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,l=eie[(n-1)%eie.length],u=Joe[(n-1)%Joe.length];return he(nie||(nie=Tc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?pe.purple[950].hex:pe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,Yh(n),Yh(n),l,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const oon=O.div(ron),ion=O(B)(rie||(rie=Tc([`
  position: relative;
  display: flex;
`]))),son=O.div(oie||(oie=Tc([`
  user-select: none;
  white-space: nowrap;
`]))),aon=O(B)(iie||(iie=Tc([`
  user-select: none;
`]))),lon=O(B)(sie||(sie=Tc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),con=O(q)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return he(aie||(aie=Tc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),uon=O(B)(lie||(lie=Tc([`
  max-width: 250px;
`]))),don=O(q)(cie||(cie=Tc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),fon=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(die||(die=Tc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&he(uie||(uie=Tc([`
        display: none;
      `]))))});var fie=Object.freeze,hon=Object.defineProperty,pDe=(e,t)=>fie(hon(e,"raw",{value:fie(t||e.slice())})),hie,pie;const ld=O.div(hie||(hie=pDe([`
  display: block;
`]))),VB=e=>{let{children:t,...n}=e;return c.jsx(N,{"data-testid":"text-style--normal",...n,children:c.jsx(ld,{children:t})})},mDe=e=>{let{children:t,...n}=e;return c.jsx(ti,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:c.jsx(ld,{children:t})})},gDe=e=>{let{children:t,...n}=e;return c.jsx(ti,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:c.jsx(ld,{children:t})})},vDe=e=>{let{children:t,...n}=e;return c.jsx(ti,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:c.jsx(ld,{children:t})})},yDe=e=>{let{children:t,...n}=e;return c.jsx(ti,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:c.jsx(ld,{children:t})})},bDe=e=>{let{children:t,...n}=e;return c.jsx(ti,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:c.jsx(ld,{children:t})})},xDe=e=>{let{children:t,...n}=e;return c.jsx(ti,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:c.jsx(ld,{children:t})})},pon=O.blockquote(pie||(pie=pDe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),wDe=e=>{let{children:t,...n}=e;return c.jsx(pon,{"data-testid":"text-style--blockquote",...n,children:c.jsx(N,{as:"p",children:t})})},vO={normal:VB,h1:mDe,h2:gDe,h3:vDe,h4:yDe,h5:bDe,h6:xDe,blockquote:wDe};function mon(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=ei().__internal.components,[k,T]=h.useState(!1),A=vA(l),D=yA(wn(l)),I=fo(),{onChange:P}=fa(),R=B0(l,!0),$=h.useMemo(()=>R.filter(ie=>xn(ie.path,l)||ie.path.slice(-3)[1]==="children"&&ie.path.length-l.length===2),[l,R]),U=h.useCallback(()=>T(!0),[]),L=h.useCallback(()=>T(!1),[]),{validation:W,hasError:Y,hasWarning:V,hasInfo:H}=gA(D==null?void 0:D.node),Q=!!v&&A.length>0,F=Y||V||Q||H,G=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),z=h.useCallback(()=>{const ie={path:l.slice(-1),offset:0},fe={focus:ie,anchor:ie};Ee.delete(I,fe,{mode:"blocks"}),Ee.focus(I)},[l,I]),Z=h.useMemo(()=>c.jsxs(don,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&c.jsx(son,{contentEditable:!1,children:c.jsx(N,{"data-list-prefix":"",children:c.jsx(ld,{})})}),c.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),K=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),J=h.useMemo(()=>E.listItem?{paddingY:2}:ton[E.style||"normal"]||{paddingY:2},[E]),X=!!(D!=null&&D.member.open),ee=I.schemaTypes.portableText,re=h.useMemo(()=>{var ie;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ie=D==null?void 0:D.elementRef)==null?void 0:ie.current)||null,children:Z,focused:r,markers:A,onClose:i,onOpen:G,onPathFocus:a,onRemove:z,open:X,parentSchemaType:ee,path:(D==null?void 0:D.node.path)||Vn,presence:$,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:CDe,renderField:g,renderInput:x,renderInlineBlock:y,renderItem:b,renderPreview:w,schemaType:C,selected:_,validation:W,value:E}},[n,r,X,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,G,a,z,ee,u,d,p,f,g,y,x,b,w,C,_,Z,$,W,E]),de=h.useMemo(()=>F&&c.jsx(uon,{padding:2,children:c.jsx(j,{markers:A,renderCustomMarkers:v,validation:W})})||null,[j,A,v,F,W]);return h.useMemo(()=>c.jsx(B,{"data-testid":"text-block",...J,style:void 0,ref:D==null?void 0:D.elementRef,children:c.jsx(ion,{"data-testid":"text-block__wrapper",children:c.jsxs(q,{flex:1,...K,children:[c.jsx(B,{flex:1,children:c.jsx(bt,{content:de,disabled:!F,placement:"top",portal:"editor",children:c.jsx(oon,{$level:E.level||1,"data-error":Y?"":void 0,"data-list-item":E.listItem,"data-markers":Q?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":V?"":void 0,spellCheck:S,children:f&&f(re)})})}),c.jsxs(aon,{contentEditable:!1,children:[c.jsx(lon,{marginRight:1,children:c.jsx(con,{children:m&&r&&!u&&c.jsx(lDe,{onChange:P,block:E,renderBlockActions:m})})}),o&&D&&c.jsx(fon,{$hasChanges:D.member.item.changed,onMouseEnter:U,onMouseLeave:L,children:c.jsx(uDe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&c.jsx(cDe,{})]})})}),[re,r,U,L,Y,Q,V,K,o,D,P,J,u,f,m,k,S,de,F,E])}const CDe=e=>c.jsx(c.Fragment,{children:e.children});var mie=Object.freeze,gon=Object.defineProperty,von=(e,t)=>mie(gon(e,"raw",{value:mie(t||e.slice())})),gie;const yon=O(fn)(gie||(gie=von([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),bon=["top","bottom"];function xon(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:l}=e,{sanity:u}=ks(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Es(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var y;if(!((y=f.current)!=null&&y.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>c.jsx(B,{padding:1,children:c.jsxs(Qt,{space:1,children:[c.jsx(B,{padding:2,children:c.jsx(N,{weight:"semibold",size:1,children:a})}),c.jsx(le,{icon:Su,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),c.jsx(le,{ref:f,icon:lo,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return c.jsx(yon,{constrainSize:!0,content:v,fallbackPlacements:bon,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var vie=Object.freeze,won=Object.defineProperty,HB=(e,t)=>vie(won(e,"raw",{value:vie(t||e.slice())})),yie,bie,xie;const Con=O(ne)(Eon),_on=O.span(yie||(yie=HB([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),Son=O(B)(bie||(bie=HB([`
  max-width: 250px;
`])));function Eon(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return he(xie||(xie=HB([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?pe.purple[950].hex:pe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const kon=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:l,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:w,selected:C,value:_}=e,{Markers:S}=ei().__internal.components,E=fo(),j=vA(a),k=yA(wn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=gA(k==null?void 0:k.node),P=E.schemaTypes.block,R=j.length>0,$=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),U=h.useCallback(()=>{Ee.delete(E,$,{mode:"children"}),Ee.focus(E)},[$,E]),L=h.useCallback(()=>{k&&(Ee.blur(E),i(k.node.path))},[E,i,k]),W=h.useCallback(()=>{o(),Ee.select(E,$),Ee.focus(E)},[o,E,$]),Y=!!(k!=null&&k.member.open),V=k==null?void 0:k.input,H=(k==null?void 0:k.node.path)||Vn,Q=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,F=B0(a,!0),G=h.useMemo(()=>F.filter(J=>xn(J.path,a)),[a,F]),z=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:Q,children:V,focused:r,onClose:W,onOpen:L,onPathFocus:s,onRemove:U,open:Y,markers:j,member:k==null?void 0:k.member,parentSchemaType:P,path:H,presence:G,readOnly:!!l,renderAnnotation:f,renderBlock:p,renderDefault:_De,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:g,renderPreview:b,schemaType:w,selected:C,value:_,validation:T}),[n,r,V,Y,j,k==null?void 0:k.member,H,W,L,s,U,P,l,u,Q,f,p,v,y,x,g,b,G,w,C,T,_]),Z=A||I||D||R,K=h.useMemo(()=>Z&&c.jsx(Son,{padding:2,children:c.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,Z,T]);return h.useMemo(()=>c.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:c.jsx(bt,{placement:"bottom",portal:"editor",disabled:!Z,content:K,children:y&&c.jsx("span",{style:{position:"relative"},children:y(z)})})}),[z,k==null?void 0:k.elementRef,y,K,Z])},_De=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:y}=e,x=s.length>0,[b,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),l()},[l]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return c.jsxs(c.Fragment,{children:[c.jsx(Con,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:c.jsx(_on,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:y,fallbackTitle:"Click to edit"})})}),r&&c.jsx(xon,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:b,referenceBoundary:n,referenceElement:r,title:C}),d&&c.jsx(zB,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var wie=Object.freeze,jon=Object.defineProperty,Ton=(e,t)=>wie(jon(e,"raw",{value:wie(t||e.slice())})),Cie;const Aon=O(fn)(Cie||(Cie=Ton([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Don=["top","bottom"];function Ion(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:l}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=ks(),g=h.useRef(null),y=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Es(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const b=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",b,{passive:!0}),()=>{document.removeEventListener("selectionchange",b)}),[b]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?c.jsx(Aon,{open:u,floatingBoundary:n,constrainSize:!0,content:c.jsx(B,{padding:1,"data-testid":"annotation-toolbar-popover",children:c.jsxs(Qt,{space:1,children:[c.jsx(B,{padding:2,children:c.jsx(N,{weight:"semibold",size:1,children:l})}),c.jsx(le,{icon:Su,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),c.jsx(le,{icon:lo,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:Don,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:y}):null}var _ie=Object.freeze,Pon=Object.defineProperty,SDe=(e,t)=>_ie(Pon(e,"raw",{value:_ie(t||e.slice())})),Sie,Eie;const Oon=O.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return he(Sie||(Sie=SDe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?pe.purple[950].hex:pe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),$on=O(B).attrs({forwardedAs:"span"})(Eie||(Eie=SDe([`
  max-width: 250px;
`])));function Ron(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:l,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=PTe}=ei().__internal.components,j=fo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=yA(wn(k)),{validation:P}=gA(I==null?void 0:I.node),R=vA(u),$=h.useMemo(()=>c.jsx("span",{"data-annotation":"",children:n}),[n]),U=h.useCallback(()=>{I&&(Ee.blur(j),l(I.node.focusPath),a(I.node.path))},[j,I,a,l]),L=h.useCallback(()=>{s();const X=Ee.getSelection(j),ee=(X==null?void 0:X.focus.path)&&xn(X.focus.path,D)&&X.focus.offset,re=(X==null?void 0:X.anchor.path)&&xn(X.anchor.path,D)&&X.anchor.offset;Ee.select(j,{anchor:{path:D,offset:re||0},focus:{path:D,offset:ee||0}}),Ee.focus(j)},[j,D,s]),W=h.useCallback(()=>{Ee.removeAnnotation(j,C),Ee.focus(j)},[j,C]),Y=h.useMemo(()=>P.length>0||R.length>0?c.jsx(bt,{placement:"bottom",portal:"default",content:c.jsx($on,{padding:2,children:c.jsx(E,{markers:R,renderCustomMarkers:v,validation:P})}),children:$}):void 0,[E,R,v,$,P]),V=B0(u,!0),H=h.useMemo(()=>V.filter(X=>xn(X.path,u)),[u,V]),Q=!!(I!=null&&I.member.open),F=I==null?void 0:I.input,G=(I==null?void 0:I.node.path)||Vn,z=T,Z=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:z,__unstable_textElementFocus:r,children:F,focused:i,markers:R,onClose:L,onOpen:U,onPathFocus:l,onRemove:W,open:Q,parentSchemaType:j.schemaTypes.block,path:G,presence:H,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:x,renderPreview:w,renderItem:b,renderDefault:t4,schemaType:C,selected:_,textElement:Y||$,validation:P,value:S}),[j.schemaTypes.block,r,o,i,F,Q,R,Y,G,L,U,l,W,d,f,z,p,m,g,y,x,b,w,H,C,_,$,P,S]),K=(t=C.components)==null?void 0:t.annotation,J=h.useCallback(X=>{I!=null&&I.elementRef&&(I.elementRef.current=X),A(X)},[I]);return h.useMemo(()=>c.jsx("span",{ref:J,style:void 0,children:K?c.jsx(K,{...Z}):c.jsx(t4,{...Z})}),[K,Z,J])}const t4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,y=m.name==="link",x=g.filter(_=>_.level==="error").length>0,b=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":b?"caution":y?"primary":"default",[y,x,b]);return c.jsxs(Oon,{$toneKey:C,"data-link":y?"":void 0,"data-error":x?"":void 0,"data-warning":b?"":void 0,"data-markers":w||void 0,onClick:f?l:void 0,children:[v,c.jsx(Ion,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&c.jsx(zB,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function Mon(e){var t;return(t=e.components)!=null&&t.block?e.components.block:mA(e)?CDe:hDe}function Fon(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:_De}function Lon(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:t4}const Bon=/^\d+$/;function Non(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function zon(e){const[t,n]=e.split("==");return{[t]:Non(n)}}function Von(e){return Bon.test(e)?Number(e):e}function Hon(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?zon(t):Von(t))}function Gm(e){return Hon(e)}var Uon=Object.defineProperty,Won=(e,t,n)=>t in e?Uon(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yO=(e,t,n)=>(Won(e,typeof t!="symbol"?t+"":t,n),n);class GPn extends se.Component{constructor(){super(...arguments),yO(this,"state",{focusPath:[]}),yO(this,"handleFocus",t=>{this.setState({focusPath:t})}),yO(this,"handleBlur",()=>{})}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function qv(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=ko(()=>r(i),[i,r]);return c.jsx(c.Fragment,{children:i&&s?n(s):o})}function Yon(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):EDe(Array.from(e.items||[])).then(_n)}function qon(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):EDe(n).then(_n)}function kie(e){return e===null?[]:[e]}function EDe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return kie(t.getAsFile())}return n?n.isDirectory?kDe(n):kie(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function kDe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(kDe)).then(_n))}return Promise.resolve([])}function Gon(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(l){o(l)}},i.src=e})}const Kon={opacity:0,position:"absolute"};function jDe(e){return se.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...l}=n,[u,d]=se.useState(!1),f=se.useRef(null),p=lr(r),m=se.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),y=h.useCallback(S=>{Yon(S.clipboardData).then(E=>f.current?E.length>0?E:Zon(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&qon(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),b=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=se.useRef(!1);return se.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Xon(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),c.jsxs(c.Fragment,{children:[c.jsx(e,{...l,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&c.jsx("div",{contentEditable:!0,onPaste:y,ref:f,style:Kon})]})})}function Zon(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Gon(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Xon(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function UB(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function WB(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&UB(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var jie=Object.freeze,Qon=Object.defineProperty,Jon=(e,t)=>jie(Qon(e,"raw",{value:jie(t||e.slice())})),Tie;function TDe(e){return O(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return he(Tie||(Tie=Jon([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),UB(n),ye(t.theme.sanity.radius[1]),WB({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const ADe=TDe(jDe(ne));var Aie=Object.freeze,ein=Object.defineProperty,bA=(e,t)=>Aie(ein(e,"raw",{value:Aie(t||e.slice())})),Die,Iie,Pie,Oie;const tin=O(ne)(Die||(Die=bA([`
  min-height: 82px;
  box-sizing: border-box;
`]))),nin=O(q)(Iie||(Iie=bA([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),rin=O(oe)(Pie||(Pie=bA([`
  position: relative;
  width: 60%;
`]))),oin=O(xr)(Oie||(Oie=bA([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),iin=1e3*60*2,sin=e=>new Date().getTime()-new Date(e).getTime();function DDe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{sin(t.updatedAt)>iin&&(r==null||r())},[t.updatedAt,r]),c.jsx(tin,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:c.jsxs(nin,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[c.jsxs(rin,{children:[c.jsx(q,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:c.jsx(N,{size:1,children:c.jsxs(Qt,{space:2,children:["Uploading",c.jsx(oin,{size:1,children:i||"..."})]})})}),c.jsx(ne,{marginTop:3,radius:5,shadow:1,children:c.jsx(SWt,{value:t.progress})})]}),n?c.jsx(le,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function ain(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),l=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!l&&!t){r(new Error("Could not find mime type for image"));return}n(IDe(i.result,t||"".concat(ed(),".").concat(l)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function lin(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(IDe(e,t||"".concat(ed(),".").concat(i)))})}function IDe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function PDe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],l=a.assetDocumentProps,u=l==null?void 0:l.originalFilename,d=l==null?void 0:l.label,f=l==null?void 0:l.title,p=l==null?void 0:l.description,m=l==null?void 0:l.creditLine,v=l==null?void 0:l.source,g=s?[et(["hotspot"]),et(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([Ui({_type:r.name}),...g,mt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=o(r,a.value);y&&i(y,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":lin(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":ain(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var $ie=Object.freeze,cin=Object.defineProperty,uin=(e,t)=>$ie(cin(e,"raw",{value:$ie(t||e.slice())})),Rie;const din=O(Be)(Rie||(Rie=uin([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),fin=se.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=se.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),b=c.jsxs(q,{align:"center",justify:"flex-start",padding:d,children:[r&&c.jsx(B,{marginRight:m?f:void 0,children:c.jsxs(N,{size:a,children:[h.isValidElement(r)&&r,sr.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(N,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return c.jsxs(din,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,ref:n,children:[b,c.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:y,multiple:l,onChange:x,type:"file",value:"",disabled:v})]})});function ODe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:l}=e,{push:u}=Ei(),d=h.useCallback(()=>{navigator.clipboard.writeText(l||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,l]);return c.jsxs(c.Fragment,{children:[c.jsx(B,{padding:2,children:c.jsx(Nt,{muted:!0,size:1,children:"Replace"})}),c.jsx(fin,{icon:Gk,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||l)&&c.jsx(Dr,{}),a&&c.jsx(Be,{as:"a",icon:hF,text:"Download",href:a}),l&&c.jsx(Be,{icon:_u,text:"Copy URL",onClick:d}),c.jsx(Dr,{}),c.jsx(Be,{tone:"critical",icon:Eu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var Mie=Object.freeze,hin=Object.defineProperty,pin=(e,t)=>Mie(hin(e,"raw",{value:Mie(t||e.slice())})),Fie;const min=O(q)(Fie||(Fie=pin([`
  pointer-events: none;
`])));function $De(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",l=h.useMemo(()=>r?c.jsx(yF,{}):t&&i>0||!s?c.jsx(yf,{}):a?c.jsx(n0,{}):c.jsx(xl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return c.jsxs(min,{align:"center",gap:2,justify:"center",children:[c.jsx(N,{muted:!0,children:l}),c.jsx(N,{size:1,muted:!0,children:u})]})}var Lie=Object.freeze,gin=Object.defineProperty,vin=(e,t)=>Lie(gin(e,"raw",{value:Lie(t||e.slice())})),Bie;const yin=O(le).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return he(Bie||(Bie=vin([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),WB({base:r,border:o,focusRing:n}))}),bin=se.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=ks(),b=se.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=c.jsxs(q,{align:"center",justify:"center",padding:d,children:[r&&c.jsx(B,{marginRight:m?f:void 0,children:c.jsxs(N,{size:a,children:[h.isValidElement(r)&&r,sr.isValidElementType(r)&&h.createElement(r)]})}),m&&c.jsx(N,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return c.jsxs(yin,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,children:[w,c.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:y,multiple:l,onChange:b,ref:n,type:"file",value:"",disabled:v})]})});function xin(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:l,type:u}=e,[d,f]=h.useState(null),p=Ej(d),m=(p==null?void 0:p.border)&&p.border.width<440;return c.jsxs(q,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[c.jsx(q,{flex:1,justify:"center",children:c.jsx($De,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:l,type:u})}),c.jsxs(q,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[c.jsx(bin,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:Gk,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const RDe=se.memo(xin);var Nie=Object.freeze,win=Object.defineProperty,Cin=(e,t)=>Nie(win(e,"raw",{value:Nie(t||e.slice())})),zie;const _in=O(le)(zie||(zie=Cin([`
  width: 100%;
`])));function MDe(e){let{onClearStale:t}=e;return c.jsxs(ne,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(q,{gap:4,marginBottom:4,children:[c.jsx(B,{children:c.jsx(N,{size:1,children:c.jsx(Zr,{})})}),c.jsxs(oe,{space:3,children:[c.jsx(N,{size:1,weight:"semibold",children:"Incomplete upload"}),c.jsx(N,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),c.jsx(_in,{icon:Eu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var Vie=Object.freeze,Sin=Object.defineProperty,FDe=(e,t)=>Vie(Sin(e,"raw",{value:Vie(t||e.slice())})),Hie,Uie;const Ein=O(ne)(Hie||(Hie=FDe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),kin=O(q)(Uie||(Uie=FDe([`
  height: 100%;
`])));function LDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function jin(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:l,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>l(!0),[l]);Es(h.useCallback(y=>{a&&(y.key==="Escape"||y.key==="Tab")&&(l(!1),p==null||p.focus())},[a,l,p])),Nr(h.useCallback(y=>{p!=null&&p.contains(y.target)||l(!1)},[p,l]),[d]);const g=h.useCallback(y=>{u(y),m(y)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),c.jsxs(q,{wrap:"nowrap",justify:"space-between",align:"center",children:[c.jsx(ne,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:c.jsxs(q,{wrap:"nowrap",align:"center",children:[c.jsx(ne,{padding:3,tone:"transparent",shadow:1,radius:1,children:c.jsx(N,{muted:o,children:c.jsx(n0,{})})}),c.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[c.jsx(N,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),c.jsx(N,{size:1,muted:!0,"data-testid":"file-size",children:LDe(n)})]})]})}),c.jsx(B,{padding:2,children:c.jsx(q,{justify:"center",children:c.jsx(fn,{content:c.jsx(Ht,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:c.jsx(le,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Bo,mode:"bleed",onClick:v,ref:g})})})})]})}function Wie(){return c.jsxs(q,{align:"center",justify:"flex-start",padding:2,children:[c.jsx(p0,{padding:3,radius:1,animated:!0}),c.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[c.jsx(p5,{style:{width:"100%"},radius:1,animated:!0}),c.jsx(p5,{style:{width:"100%"},radius:1,animated:!0})]})]})}var Yie=Object.freeze,Tin=Object.defineProperty,Ain=(e,t)=>Yie(Tin(e,"raw",{value:Yie(t||e.slice())})),qie;const Din=O(le)(qie||(qie=Ain([`
  width: 100%;
`])));function Iin(e){let{onClearValue:t}=e;return c.jsxs(ne,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(q,{gap:4,marginBottom:4,children:[c.jsx(B,{children:c.jsx(N,{size:1,children:c.jsx(Zr,{})})}),c.jsxs(oe,{space:3,children:[c.jsx(N,{size:1,weight:"semibold",children:"Invalid file value"}),c.jsx(N,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),c.jsx(Din,{icon:Eu,text:"Reset value",onClick:t,mode:"ghost"})]})}var Pin=Object.defineProperty,Oin=(e,t,n)=>t in e?Pin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ur=(e,t,n)=>(Oin(e,typeof t!="symbol"?t+"":t,n),n);function $in(e){let{children:t}=e;return t}const Rin=["asset"];class Min extends se.PureComponent{constructor(t){var n;super(t),n=this,Ur(this,"_assetFieldPath"),Ur(this,"uploadSubscription",null),Ur(this,"browseButtonElement",null),Ur(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1}),Ur(this,"toast",null),Ur(this,"handleRemoveButtonClick",()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>et([f]));this.props.onChange(at.from(u&&!s?et():d))}),Ur(this,"handleCancelUpload",()=>{this.cancelUpload()}),Ur(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),Ur(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),Ur(this,"handleClearField",()=>{this.props.onChange(et(["asset"]))}),Ur(this,"handleSelectFiles",r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()}),Ur(this,"handleSelectFileFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),Ur(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()}),Ur(this,"setBrowseButtonElement",r=>{this.browseButtonElement=r}),Ur(this,"uploadWith",function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{source:u}=i,d={metadata:Nn(s,"options.metadata"),storeOriginalFilename:Nn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(at.from([Ui({_type:s.name})])),n.uploadSubscription=r.upload(l,o,s,d).subscribe({next:f=>{f.patches&&a(at.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})}),Ur(this,"handleSelectAssetFromSource",r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;PDe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})}),Ur(this,"handleFileTargetFocus",r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)}),Ur(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r})}),Ur(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),Ur(this,"handleUpload",r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)}),Ur(this,"setToast",r=>{this.toast=r}),this._assetFieldPath=t.path.concat(Rin)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(at.from([et(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return c.jsx(DDe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Nn(r,"options.accept",""),s=t.component;return n&&n.asset?c.jsx(qv,{observeAsset:o,reference:n.asset,waitPlaceholder:c.jsx(Wie,{}),children:a=>c.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!DK(t)?()=>c.jsx(Iin,{onClearValue:this.handleClearField}):l=>c.jsxs(c.Fragment,{children:[s&&c.jsx(B,{marginBottom:2,children:c.jsx(MDe,{onClearStale:this.handleClearUploadState})}),c.jsx(Jo,{path:this._assetFieldPath,hasFocus:!!l.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsx(ADe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:c.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,l=t==null?void 0:t.asset;if(!l)return null;const u=Nn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:c.jsx(Be,{icon:Vi,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>c.jsx(Be,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||xl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),c.jsx(qv,{reference:l,observeAsset:s,waitPlaceholder:c.jsx(Wie,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const y=p||"download.".concat(m);let x,b;return DK(t)&&(b="".concat(v,"?dl"),x=v),c.jsx(jin,{size:g,originalFilename:y,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:c.jsx(ODe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return c.jsx(Ein,{tone:t,children:c.jsx(kin,{align:"center",justify:"center",gap:2,flex:1,children:c.jsx($De,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:l,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?c.jsx(nn,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:c.jsx(le,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:Vi}),"data-testid":"input-select-button",menu:c.jsx(Ht,{children:t.map(i=>c.jsx(Be,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||xl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):c.jsx(le,{fontSize:2,text:"Browse",icon:Vi,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,l=Nn(n,"options.accept","");return c.jsx("div",{style:{padding:1},children:c.jsx(ne,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(RDe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:l,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),l=s.length-a.length;return s.length>0&&(l>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state;return c.jsxs(c.Fragment,{children:[c.jsx(Y7,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?c.jsx(qw,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?$in:a,renderItem:i,renderPreview:l},d.key):d.kind==="fieldSet"?c.jsx(RB,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:l},d.key):d.kind==="error"?c.jsx(fA,{member:d},d.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function Fin(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Ts(),{file:o}=ei().__internal,i=_r(mn),s=h.useCallback((u,d)=>o.directUploads?IB(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),l=h.useCallback(u=>HAe(r,u),[r]);return c.jsx(Min,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:l,resolveUploader:s})}var Gie=Object.freeze,Lin=Object.defineProperty,Bin=(e,t)=>Gie(Lin(e,"raw",{value:Gie(t||e.slice())})),Kie;const Zie=O(B)(Kie||(Kie=Bin([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function Nin(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,l]=h.useState(null);return h.useEffect(()=>{s(null),l(null),o(!0);const u=new Image;u.onload=()=>{s(u),l(null),o(!1)},u.onerror=()=>{l(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const zin=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let U_=-1;function Vin(e){return U_===-1&&(U_=zin.find(t=>t in e)),U_&&e[U_]}function Xie(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function Qie(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function bO(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Jie(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}var Hin=Object.defineProperty,Uin=(e,t,n)=>t in e?Hin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fc=(e,t,n)=>(Uin(e,typeof t!="symbol"?t+"":t,n),n);class n4{constructor(t,n){fc(this,"x"),fc(this,"y"),this.x=t,this.y=n}}class ese{constructor(t,n,r){fc(this,"y"),fc(this,"_left"),fc(this,"_right"),this.y=t,this._left=n,this._right=r}get right(){return new n4(this._right,this.y)}get left(){return new n4(this._left,this.y)}get length(){return this._right-this._left}}class Win{constructor(t){fc(this,"rect"),this.rect=t}get top(){return new ese(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new ese(this.rect.bottom,this.rect.left,this.rect.right)}}class ro{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;fc(this,"left"),fc(this,"top"),fc(this,"width"),fc(this,"height"),this.left=t,this.top=n,this.width=r,this.height=o}static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new ro(n,o,1-n-r,1-o-i)}setTopLeft(t,n){return new ro(t,n,this.width||0,this.height||0)}setSize(t,n){return new ro(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new ro(t-r/2,n-o/2,r||0,o||0)}get center(){return new n4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Win(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new ro((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new ro(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new ro(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new ro(Math.max(n,t.left),Math.max(r,t.top),o,i)}}var Yin=Object.defineProperty,qin=(e,t,n)=>t in e?Yin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gc=(e,t,n)=>(qin(e,typeof t!="symbol"?t+"":t,n),n);const W_=Md("sanity-imagetool");function Gin(e){return class extends se.PureComponent{constructor(){super(...arguments),Gc(this,"domNode",null),Gc(this,"currentPos",null),Gc(this,"isDragging",!1),Gc(this,"handleTouchMove",n=>{this.isDragging&&n.preventDefault()}),Gc(this,"handleDragStart",n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){W_("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=wO(n);W_("Drag started %o",i),r(xO(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i}),Gc(this,"handleDrag",n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=wO(n),i=Kin(o,this.currentPos);r(i),W_("moving by %o",i),this.currentPos=o}),Gc(this,"handleDragEnd",n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=wO(n);r(xO(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,W_("Done moving %o",i)}),Gc(this,"handleDragCancel",()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(xO(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null}),Gc(this,"setDomNode",n=>{this.domNode=n})}componentDidMount(){Up?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Up?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return c.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function xO(e,t,n){return{x:e-n.left,y:t-n.top}}function wO(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Kin(e,t){return{x:e.x-t.x,y:e.y-t.y}}var tse=Object.freeze,Zin=Object.defineProperty,BDe=(e,t)=>tse(Zin(e,"raw",{value:tse(t||e.slice())})),nse,rse;const Xin=Gin("canvas"),Qin=O.div(nse||(nse=BDe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Jin=O(Xin)(rse||(rse=BDe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),esn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",tsn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",zu={x:.5,y:.5,height:1,width:1},Vu={top:0,left:0,right:0,bottom:0};var nsn=Object.defineProperty,rsn=(e,t,n)=>t in e?nsn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hd=(e,t,n)=>(rsn(e,typeof t!="symbol"?t+"":t,n),n);const U1=8,osn=12,isn=10;function ssn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function asn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function ose(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Vu,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function lsn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const ise=qj(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&Vin(t)||1;return e/n}),sse=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class csn extends se.PureComponent{constructor(){super(...arguments),hd(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null}),hd(this,"canvas"),hd(this,"handleDragStart",t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=Xie(o,this.getHotspotRect()),s=Qie(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),l=bO(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):l&&this.setState({cropMoving:!0})}),hd(this,"handleDrag",t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)}),hd(this,"handleDragEnd",()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=ssn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)}),hd(this,"handleMouseOut",()=>{this.setState({mousePosition:null})}),hd(this,"handleMouseMove",t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})}),hd(this,"setCanvas",t=>{this.canvas=t})}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||zu,o=new ro().setSize(r.width,r.height).setCenter(r.x,r.y);return new ro().setSize(n.width,n.height).shrink(U1*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new ro().setSize(n.width,n.height).shrink(U1*this.getScale()).cropRelative(ro.fromEdges(t.crop||Vu).clamp(new ro(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=osn*this.getScale(),r=n/2,o=new ro(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of sse)if(bO({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(usn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,l=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:l,bottom:u};asn(o,d)&&r(ase(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,l=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(l=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:l,top:u,bottom:d},p=ose(i,f).value,m=ose(i,f).delta;o(ase(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(dsn(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=ro.fromEdges(t.crop||Vu).clamp(new ro(0,0,1,1)),r=t.hotspot||zu,o=new ro(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new ro().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),l=this.getScale(),u=U1*l;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),y=g.height/g.width;t.scale(1,y),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/y,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*l,t.stroke(),t.closePath(),t.restore()}function f(g,y,x,b,w,C,_,S){t.save(),t.drawImage(r,g,y,x,b,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),y=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height)}function m(){const g=i.cropRelative(a),y=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(y.left,y.top,y.width,y.height),t.restore()}function v(g){t.save();const y=isn*l,x=i.shrink(u).multiply(s),b=Jie(g,x);t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*l,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Jie(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=U1*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){l(u,i,u,n.height-i)}function a(u){l(i,u,n.width-i,u)}function l(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new ro().setSize(n.width,n.height).shrink(U1*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=ise();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();sse.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:l}=r[o];t.fillRect(i,s,l,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,l,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return lsn(r)||"auto";const o=Qie(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(tsn,"), move");const i=Xie(t,this.getHotspotRect()),s=bO(t,this.getCropRect());return i||s?"url(".concat(esn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=ise();return c.jsx(Qin,{children:c.jsx(Jin,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function usn(e,t){const n=e&&e.hotspot||zu;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function dsn(e,t){const n=e&&e.hotspot||zu;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function ase(e,t){const n=e&&e.crop||Vu;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function fsn(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,l,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,l),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const y=i.getContext("2d");return y&&y.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function xx(e){return c.jsx(Nin,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?c.jsx("div",{children:"Loading..."}):o?c.jsx("div",{children:o.message}):r?c.jsx(fsn,{image:r,maxHeight:xx.maxHeight,maxWidth:xx.maxWidth,children:i=>c.jsx(csn,{image:i,...e})}):null}})}xx.maxHeight=500;xx.maxWidth=1e3;function hsn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=lse(e.image)||1,n=e.hotspot||zu,r=e.crop||Vu,o=lse(e.container)||t*msn(r),i=e.align||{x:"center",y:"center"},s=psn(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=zDe(NDe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:pd(s.crop.height),width:pd(s.crop.width),top:pd(s.crop.top),left:pd(s.crop.left)},image:{position:"absolute",height:pd(s.image.height),width:pd(s.image.width),top:pd(s.image.top),left:pd(s.image.left)}}}function lse(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function NDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function psn(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,l={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const y=d<=o;y?g=1:g=d/o;let x,b;if(g>v){x="letterbox";let w;const C=g-v;y?w=1-C:w=v,b={width:w,height:w/d*o,left:0,top:0};const _=f.x*b.width-f.width*b.width/2;switch(i.x){case"left":b.left=y?0:-_;break;case"right":b.left=y?1-b.width:_;break;case"center":b.left=y?(1-b.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*b.height-f.height*b.height/2;switch(i.y){case"top":b.top=y?-S:0;break;case"bottom":b.top=S;break;case"center":b.top=y?-S:(1-b.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(y){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),b={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),b={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:b,image:l}}function msn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function zDe(e){return e===0?0:"".concat(e,"%")}function pd(e){return zDe(NDe(e*100))}var cse=Object.freeze,gsn=Object.defineProperty,vsn=(e,t)=>cse(gsn(e,"raw",{value:cse(t||e.slice())})),use;const ysn=O.div(use||(use=vsn([`
  position: relative;
  width: 100%;
`]))),bsn=Md("sanity-imagetool");function xsn(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const wsn=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Vu,hotspot:l=zu,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,y]=h.useState(null),x=h.useRef(null),b=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>y(S.offsetWidth/S.offsetHeight))}else y(null)},[i]);h.useEffect(()=>{const S=b.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(bsn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?xsn(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>hsn({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:l,crop:a,align:{x:n,y:r}}),[n,r,a,l,p,C]);return c.jsx(ysn,{className:"".concat(s),style:v,ref:x,children:c.jsxs("div",{style:_.container,children:[c.jsx("div",{style:_.padding}),c.jsx("div",{style:_.crop,children:c.jsx("img",{ref:b,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),Csn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _sn(e){return e.startsWith("blob:")}function Ssn(e){return new dt(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(_sn(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=Csn)}})}const dse={isLoading:!0};function Esn(e){const[t,n]=h.useState(dse);return h.useEffect(()=>{n(dse);const r=Ssn(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var fse=Object.freeze,ksn=Object.defineProperty,jsn=(e,t)=>fse(ksn(e,"raw",{value:fse(t||e.slice())})),hse;const pse=["hotspot"],mse=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],gse={crop:Vu,hotspot:zu},Tsn=O.div(hse||(hse=jsn([`
  min-height: 6em;
`])));function Asn(e){return c.jsx(q,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function Dsn(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=Vn,presence:a,onChange:l,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||gse),{image:g,isLoading:y,error:x}=Esn(t),b=h.useCallback(()=>{d(pse)},[d]);h.useEffect(()=>{v(n||gse)},[n]);const w=s[0]==="hotspot";Ti(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||Vu}:_.crop,k=E?{_type:E.type.name,..._.hotspot||zu}:_.hotspot;l([mt(j,["crop"]),mt(k,["hotspot"])])},[l,f,u.fields]);return c.jsx(U0,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:c.jsxs("div",{children:[c.jsx(ne,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:b,children:c.jsx(Jo,{path:i.concat(pse),hasFocus:s[0]==="hotspot",isChanged:r,children:c.jsxs(Zie,{ratio:3/2,children:[(y||x)&&c.jsx(Asn,{children:x?c.jsx(ne,{padding:4,radius:2,tone:"critical",border:!0,children:c.jsxs(N,{children:["Error: ",x.message]})}):c.jsx(N,{muted:!0,children:"Loading image "})}),!y&&g&&c.jsx(B,{margin:1,children:c.jsx(xx,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),c.jsx(B,{marginTop:3,children:c.jsx(an,{columns:mse.length,gap:1,children:mse.map(_=>{let[S,E]=_;return c.jsxs("div",{children:[c.jsx(ti,{as:"h4",size:0,children:S}),c.jsx(B,{marginTop:2,children:c.jsx(Zie,{ratio:E,children:c.jsx(ne,{__unstable_checkered:!0,children:!y&&g?c.jsx(wsn,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||zu,crop:m.crop||Vu}):c.jsx(Tsn,{})})})})]},E)})})})]})})}var vse=Object.freeze,Isn=Object.defineProperty,Psn=(e,t)=>vse(Isn(e,"raw",{value:vse(t||e.slice())})),yse;const Osn=O(Qt)(yse||(yse=Psn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function $sn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[l,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Es(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),Nr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[l]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(l==null||l.focus())},[a,l]),c.jsxs(Osn,{"data-buttons":!0,space:1,padding:2,children:[r&&c.jsx(le,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:Zge,mode:"ghost",onClick:t,ref:o}),c.jsx(fn,{id:"image-actions-menu",content:c.jsx(Ht,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:c.jsx(le,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Bo,mode:"ghost",onClick:p,ref:m})})]})}var bse=Object.freeze,Rsn=Object.defineProperty,xA=(e,t)=>bse(Rsn(e,"raw",{value:bse(t||e.slice())})),xse,wse,Cse,_se;const Sse=30,Msn=O(ne)(xse||(xse=xA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),Fsn=O(zr)(wse||(wse=xA([`
  position: absolute;
`]))),Lsn=O(q)(e=>{let{$drag:t,$tone:n}=e;const r=Tf.color.light[n].card.enabled.fg,o=At(Tf.color.light[n].card.enabled.bg,.8);return he(Cse||(Cse=xA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),Bsn=O(q)(_se||(_se=xA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),Nsn=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function zsn(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[l,u]=h.useState(null),d=rw(l),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=Sse*document.documentElement.clientHeight/100,[g,y]=Nsn(o),x=g/y,w=(g>f?f/x:y)<v?null:"".concat(Sse,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return c.jsxs(Msn,{...i,ref:u,style:{height:w},tone:"transparent",children:[c.jsxs(ne,{"data-container":!0,tone:"inherit",children:[!s&&c.jsx(Ese,{cardTone:"transparent",drag:!0,content:c.jsx(Fsn,{})}),c.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&c.jsx(Ese,{cardTone:m,drag:t,content:c.jsxs(c.Fragment,{children:[c.jsx(B,{marginBottom:3,children:c.jsx(ti,{children:c.jsx(Vsn,{isRejected:r,readOnly:n})})}),c.jsx(Hsn,{isRejected:r,readOnly:n})]})})]})}function Vsn(e){let{isRejected:t,readOnly:n}=e;return t?c.jsx(yf,{}):n?c.jsx(yF,{}):c.jsx(xl,{})}function Hsn(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),c.jsx(N,{size:1,children:r})}function Ese(e){let{cardTone:t,drag:n,content:r}=e;return c.jsx(Lsn,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:c.jsx(Bsn,{direction:"column",align:"center",justify:"center",children:r})})}var kse=Object.freeze,Usn=Object.defineProperty,Wsn=(e,t)=>kse(Usn(e,"raw",{value:kse(t||e.slice())})),jse;const Ysn=O(le)(jse||(jse=Wsn([`
  width: 100%;
`])));function qsn(e){let{onClearValue:t}=e;return c.jsxs(ne,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(q,{gap:4,marginBottom:4,children:[c.jsx(B,{children:c.jsx(N,{size:1,children:c.jsx(Zr,{})})}),c.jsxs(oe,{space:3,children:[c.jsx(N,{size:1,weight:"semibold",children:"Invalid image value"}),c.jsx(N,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),c.jsx(Ysn,{icon:Eu,text:"Reset value",onClick:t,mode:"ghost"})]})}var Gsn=Object.defineProperty,Ksn=(e,t,n)=>t in e?Gsn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vn=(e,t,n)=>(Ksn(e,typeof t!="symbol"?t+"":t,n),n);const Zsn=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Xsn(e){let{children:t}=e;return t}const Tse=["asset"],Qsn={portal:!0};class Jsn extends se.PureComponent{constructor(t){var n;super(t),n=this,vn(this,"_previewElement",null),vn(this,"_assetPath"),vn(this,"uploadSubscription",null),vn(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1}),vn(this,"toast",null),vn(this,"setPreviewElement",r=>{this._previewElement=r}),vn(this,"setHotspotButtonElement",r=>{this.setState({hotspotButtonElement:r})}),vn(this,"setMenuButtonElement",r=>{this.setState({menuButtonElement:r})}),vn(this,"getUploadOptions",r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]}),vn(this,"uploadWith",function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:l}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Nn(s,"options.metadata"),storeOriginalFilename:Nn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(Ui({_type:s.name})),n.uploadSubscription=r.upload(l,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var y;console.error(g),(y=n.toast)==null||y.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([et(["hotspot"]),et(["crop"])]),n.setState({isUploading:!1})}})}),vn(this,"handleRemoveButtonClick",()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(l=>!["_type","_key","_upload","asset","crop","hotspot"].includes(l)).length===0,a=["asset"].concat(o.filter(l=>["crop","hotspot","_upload"].includes(l))).map(l=>et([l]));this.props.onChange(s&&!this.valueIsArrayElement()?et():a)}),vn(this,"handleFieldChange",r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(et());return}o(r.prepend(Ui({_type:i.name})).patches)}),vn(this,"eventIsUnsettingLastFilledField",r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(l=>!["_type","_key","crop","hotspot"].includes(l));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]}),vn(this,"valueIsArrayElement",()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"}),vn(this,"handleOpenDialog",()=>{const{onFieldOpen:r}=this.props;r("hotspot")}),vn(this,"handleCloseDialog",()=>{var r;const{onFieldClose:o}=this.props;o("hotspot"),(r=this.state.hotspotButtonElement)==null||r.focus()}),vn(this,"handleSelectAssetFromSource",r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;PDe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})}),vn(this,"handleFileTargetFocus",r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)}),vn(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})}),vn(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),vn(this,"handleCancelUpload",()=>{this.cancelUpload()}),vn(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),vn(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),vn(this,"handleClearField",()=>{this.props.onChange([et(["asset"]),et(["crop"]),et(["hotspot"])])}),vn(this,"handleSelectFiles",r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()}),vn(this,"handleSelectImageFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),vn(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()}),vn(this,"renderHotspotInput",r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,l=this.isImageToolEnabled()&&o&&o.asset;return c.jsx(ca,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:c.jsx(sA,{children:c.jsx(B,{padding:4,children:c.jsx(oe,{space:5,children:l&&(o==null?void 0:o.asset)&&c.jsx(Dsn,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})}),vn(this,"renderPreview",()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:l}=this.props;if(!r||!Xy(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>l(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(Zsn()).auto("format").url();return c.jsx(zsn,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})}),vn(this,"setToast",r=>{this.toast=r}),this._assetPath=t.path.concat(Tse)}isImageToolEnabled(){return Nn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(et(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,l=t==null?void 0:t.asset;if(!l)return null;const u=Nn(r,"options.accept","image/*"),d=t&&l&&this.isImageToolEnabled();let f=n&&n.length===0?null:c.jsx(Be,{icon:Vi,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>c.jsx(Be,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||xl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),c.jsx(qv,{observeAsset:a,reference:l,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,y,x;if(Xy(t)){const b=v||"download.".concat(g);x=s.image(m).forceDownload(b).url(),y=s.image(m).url()}return c.jsx($sn,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:b=>this.setState({isMenuOpen:b}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:c.jsx(ODe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?c.jsx(nn,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:c.jsx(le,{"data-testid":"file-input-multi-browse-button",icon:Vi,iconRight:Il,mode:"ghost",text:"Select"}),menu:c.jsx(Ht,{children:t.map(i=>c.jsx(Be,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||xl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:Qsn}):c.jsx(le,{fontSize:2,text:"Select",icon:Vi,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,l=Nn(t,"options.accept","image/*");return c.jsx("div",{style:{padding:1},children:c.jsx(ne,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(RDe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:l,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return c.jsx(DDe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Nn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?c.jsx(qv,{observeAsset:o,reference:n.asset,children:a=>c.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),l=s.length-a.length;return s.length>0&&(l>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!Xy(t)?()=>c.jsx(qsn,{onClearValue:this.handleClearField}):a=>c.jsxs(c.Fragment,{children:[i&&c.jsx(B,{marginBottom:2,children:c.jsx(MDe,{onClearStale:this.handleClearUploadState})}),c.jsx(Jo,{path:a.path.concat(Tse),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):c.jsxs(ADe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&c.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state,d=t.find(f=>f.kind==="field"&&f.name==="hotspot");return c.jsxs(oe,{space:5,"data-testid":"image-input",children:[c.jsx(Y7,{ref:this.setToast}),t.map(f=>f.kind==="field"&&(f.name==="crop"||f.name==="hotspot")?null:f.kind==="field"?c.jsx(qw,{member:f,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderInput:f.name==="asset"?this.renderAsset():s,renderField:f.name==="asset"?Xsn:o,renderItem:a,renderPreview:l},f.key):f.kind==="fieldSet"?c.jsx(RB,{member:f,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:l},f.key):f.kind==="error"?c.jsx(fA,{member:f},f.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",f.kind]})),(d==null?void 0:d.open)&&c.jsx(rDe,{...this.props,absolutePath:d.field.path,renderInput:this.renderHotspotInput}),u&&this.renderAssetSource()]})}}function ean(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=ei().__internal,o=Ts(),i=_r(mn),a=ei().__internal.image.directUploads,l=h.useCallback((p,m)=>a?IB(p,m):null,[a]),u=se.useMemo(()=>n||r.assetSources,[r,n]),d=se.useMemo(()=>uT(i),[i]),f=h.useCallback(p=>VAe(o,p),[o]);return c.jsx(Jsn,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:l})}const VDe=()=>{},CO={isLoading:!0,result:void 0,error:void 0,retry:VDe},tan={isLoading:!1,result:void 0,error:void 0,retry:VDe};function HDe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(l=>l+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=ko(()=>i._id?t(i).pipe(ce(l=>({isLoading:!1,result:l,error:void 0,retry:o,retryAttempt:n})),Ci(CO),Xn(l=>(console.error(l),Ce({isLoading:!1,result:void 0,error:l,retry:o,retryAttempt:n})))):Ce(tan),[i,t,o,n],CO);return oB(e._id,e._id)!==e._id?CO:s}var Ase=Object.freeze,nan=Object.defineProperty,UDe=(e,t)=>Ase(nan(e,"raw",{value:Ase(t||e.slice())})),Dse,Ise;const ran=O(q)(Dse||(Dse=UDe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),WDe=O(q)(Ise||(Ise=UDe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function Pse(e){return c.jsx(WDe,{padding:3,children:c.jsx(B,{flex:1,children:c.jsx(B,{children:c.jsx(N,{as:"p",size:1,children:e.children})})})})}function YDe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:l,preview:u,id:d,dataset:f,projectId:p}=e,m=(l==null?void 0:l.reason)==="NOT_FOUND",v=(l==null?void 0:l.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,y=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&Xy(g),b=se.isValidElement(g);return!x&&!b?null:function(C){let{dimensions:_}=C;return b?g:c.jsx("img",{src:uT({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return c.jsxs(ran,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[l!=null&&l.available?c.jsx(B,{flex:1,children:c.jsx(iTe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:y||!1})}):c.jsx(B,{flex:1,children:c.jsx(q,{align:"center",children:c.jsx(B,{flex:1,paddingY:2,children:c.jsx(N,{muted:!0,children:"Document unavailable"})})})}),c.jsx(B,{paddingLeft:3,children:c.jsxs(Qt,{space:4,children:[o&&a&&c.jsx(Nt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&c.jsx(B,{children:c.jsx(bt,{portal:!0,content:m?c.jsxs(Pse,{children:["The referenced document no longer exist and might have been deleted.",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d}),")"]}):c.jsx(Pse,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(ir,{tone:"default",children:v?c.jsx(yf,{}):c.jsx(bv,{})})})}),!(m||v)&&i&&c.jsx(B,{children:c.jsx(bt,{portal:!0,content:c.jsx(WDe,{padding:2,children:s?c.jsx(N,{size:1,children:"This document opens in a new tab"}):c.jsxs(N,{size:1,children:["This document cannot be opened ",c.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:c.jsx(ir,{size:1,tone:"default",muted:!s,children:c.jsx(r0,{})})})})]})})]})}function YB(){return _r(mn).config().projectId}function oan(e){var t;const{isLoading:n,result:r,error:o}=HDe(e.document,e.getReferenceInfo),i=YB();if(n)return c.jsxs(oe,{space:2,padding:1,children:[c.jsx(xi,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(xi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return c.jsx(oe,{space:2,padding:1,children:c.jsxs(Lc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return c.jsx(oe,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&c.jsx(YDe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):c.jsxs(oe,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function Ose(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,l=YB();if(a.isLoading||a.error)return c.jsxs(oe,{space:2,padding:1,children:[c.jsx(xi,{style:{maxWidth:320},radius:1,animated:!a.error}),c.jsx(xi,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?c.jsx(oe,{space:2,padding:2,children:c.jsxs(N,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",c.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):c.jsx(YDe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:l,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var $se=Object.freeze,ian=Object.defineProperty,qDe=(e,t)=>$se(ian(e,"raw",{value:$se(t||e.slice())})),Rse,Mse;const san=O(fn)(Rse||(Rse=qDe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),aan=O(N)(Mse||(Mse=qDe([`
  word-break: break-word;
`]))),lan=["top-start","bottom-start"],can=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return c.jsx(san,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:lan,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(B,{padding:4,children:c.jsx(q,{align:"center",height:"fill",justify:"center",children:c.jsxs(aan,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",t.searchString,""]})]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(uL,{...t,ref:n,renderPopover:o})});var Fse=Object.freeze,uan=Object.defineProperty,dan=(e,t)=>Fse(uan(e,"raw",{value:Fse(t||e.slice())})),Lse;const fan=O(le)(Lse||(Lse=dan([`
  width: 100%;
`])));function han(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return c.jsxs(ne,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[c.jsxs(q,{gap:4,marginBottom:r?4:void 0,children:[c.jsx(B,{children:c.jsx(N,{size:1,children:c.jsx(Zr,{})})}),c.jsxs(oe,{space:3,children:[c.jsx(N,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),c.jsx(N,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&c.jsxs(N,{as:"p",size:1,children:["Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&c.jsx(fan,{icon:Eu,text:"Reset value",onClick:n,mode:"ghost"})]})}const Bse={hits:[],isLoading:!1},pan=()=>!0,Nse=["_ref"],man="crossDatasetReferences";function gan(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:l,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:y}=e,x=YB(),[b,w]=h.useState(Bse),C=h.useCallback(ie=>{if(!ie){l(et()),u([]);return}if(!b.hits.find(xe=>xe.id===ie))throw new Error("Selected an item that wasnt part of the result set");l(mt({_type:m.name,_ref:Zn(ie),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,b.hits,m.name,m.dataset,m.weak,x,l,u]),_=h.useCallback(()=>{l(et())},[l]),S=h.useCallback(ie=>{ie.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(ie=>a(ie,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=HDe(j,E),T=APe(man),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=y.ref;Ti({hasFocusAt:D,ref:g==null?void 0:g._ref},(ie,fe)=>{var xe;const be=(ie==null?void 0:ie.ref)!==fe.ref;((ie==null?void 0:ie.hasFocusAt)!==fe.hasFocusAt||be)&&fe.hasFocusAt&&((xe=I.current)==null||xe.focus())});const P=g!=null&&g._weak?"weak":"strong",R=m.weak===!0?"weak":"strong",$=!!(g!=null&&g._ref),U=h.useCallback(()=>{l(m.weak===!0?mt(!0,["_weak"]):et(["_weak"]))},[l,m]),{push:L}=Ei(),W=h.useMemo(()=>v.filter(ie=>ie.level==="error"),[v]),Y=h.useCallback(ie=>{ie.currentTarget===y.ref.current&&(u==null||u([pge]))},[y.ref,u]),V=h.useCallback(ie=>{ie.currentTarget===y.ref.current&&(u==null||u(Nse))},[y.ref,u]),H=h.useCallback(()=>{u==null||u(Nse)},[u]),Q=h.useId(),F=jL(ie=>ie.pipe(ut(uo),Kn(),rt(fe=>co(Ce({isLoading:!0}),d(fe).pipe(ce(xe=>({hits:xe,searchString:fe,isLoading:!1})),Xn(xe=>(L({title:"Reference search failed",description:xe.message,status:"error",id:"reference-search-fail-".concat(Q)}),console.error(xe),Ce({hits:[]})))))),Na((fe,xe)=>({...fe,...xe}),Bse),Wn(w)),[Q,d,L]),G=h.useCallback(()=>{F("")},[F]),z=!k.isLoading&&$&&P!==R,Z=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,K=h.useCallback(ie=>c.jsx(cv,{as:"button",type:"button",radius:2,children:c.jsx(B,{paddingX:3,paddingY:1,children:c.jsx(oan,{referenceType:m,document:ie.hit.published,getReferenceInfo:E})})}),[m,E]),J=(r=k.result)==null?void 0:r.preview.published,X=D||!(g!=null&&g._ref),ee=h.useRef(null),re=h.useRef(null),de=h.useRef(null);return DTe([ee,re,de],()=>{D&&u([])}),c.jsxs(c.Fragment,{children:[!T.isLoading&&!T.enabled&&c.jsx(han,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&c.jsx(oe,{space:1,children:X?c.jsx(oe,{space:2,ref:ee,children:c.jsx(Jo,{path:f,isChanged:o,hasFocus:!!i,children:c.jsx("div",{ref:A,children:c.jsx(can,{...y,"data-testid":"autocomplete",loading:b.isLoading,referenceElement:A.current,portalRef:re,id:Q||"",options:b.hits.map(ie=>({value:ie.id,hit:ie})),onFocus:V,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:F,searchString:b.searchString,onChange:C,filterOption:pan,renderOption:K,openButton:{onClick:G}})})})}):c.jsx(Jo,{path:f,isChanged:o,hasFocus:!!i,children:c.jsxs(ne,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||W.length>0?"critical":"default",children:[c.jsxs(q,{align:"center",padding:1,children:[Z?c.jsx(cv,{as:"a",target:"_blank",rel:"noopener noreferrer",href:Z,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:Y,ref:y.ref,children:c.jsx(Ose,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!Z,type:m})}):c.jsx(cv,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:Y,ref:y.ref,children:c.jsx(Ose,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),c.jsx(Qt,{paddingX:1,children:c.jsx(nn,{button:c.jsx(le,{padding:2,mode:"bleed",icon:Bo,"data-testid":"menu-button"}),id:"".concat(Q,"-menuButton"),menu:c.jsx(Ht,{children:!p&&c.jsxs(c.Fragment,{children:[c.jsx(Be,{text:"Clear",tone:"critical",icon:Eu,"data-testid":"menu-item-clear",onClick:_}),c.jsx(Be,{text:"Replace",icon:Yk,"data-testid":"menu-item-replace",onClick:H})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),z&&c.jsx(df,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:P}),", but according to the current schema it should be ",c.jsxs("em",{children:[R,"."]})]}),c.jsx(N,{as:"p",muted:!0,size:1,children:m.weak?c.jsxs(c.Fragment,{children:['It will not be possible to delete the "',J==null?void 0:J.title,'"-document without first removing this reference.']}):c.jsxs(c.Fragment,{children:['This makes it possible to delete the "',J==null?void 0:J.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),c.jsx(le,{onClick:U,text:c.jsxs(c.Fragment,{children:["Convert to ",R," reference"]}),tone:"caution"})]})}),k.error&&c.jsx(df,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(oe,{space:3,children:[c.jsxs(N,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),c.jsx(le,{onClick:k.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function van(e,t,n,r){return rB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ce(i=>i.map(s=>s.hit)),ce(F7),ce(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const yan="cross-dataset-refs",GDe={available:!0,reason:"READABLE"},ban={available:!1,reason:"PERMISSION_DENIED"},xan={available:!1,reason:"NOT_FOUND"};function wan(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,l){return(a._type?Ce(a):n.observeDocumentTypeFromId(a._id,i).pipe(ce(u=>({_id:a._id,_type:u})))).pipe(rt(u=>{if(!u._type)return Can(t,a._id).pipe(ce(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=l.to.find(m=>m.type===u._type),f=[...J7(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ce(m=>m&&GE(m,d)));return Fo([p]).pipe(ce(m=>{let[v]=m;return{type:u._type,id:a._id,availability:GDe,preview:{published:_t(v)?v:void 0}}}))}))}}function Can(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(yan,".availability")};return e.observable.request(n).pipe(ce(r=>{const i=F8(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?xan:i.reason==="permission"?ban:null:GDe}))}async function _an(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=e0(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function San(e){const t=h.useRef(e);return t.current=e,t}function Ean(e){const{path:t,schemaType:n}=e,r=ur(),o=r.getClient(mn),i=Ts(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),l=hA([]),u=San(l),d=h.useCallback(p=>wr(_an(n.options,u.current,t,s)).pipe(yt(m=>{let{filter:v,params:g}=m;return van(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),Xn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),m0(m)})),[a,u,t,n,s]),f=h.useMemo(()=>wan({client:a,documentPreviewStore:i}),[a,i]);return c.jsx(gan,{...e,getReferenceInfo:f,onSearch:d})}function kan(e){const t=h.useRef(e);return t.current=e,t}async function jan(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=e0(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function qB(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=ur(),l=a.getClient(mn),u=dr(),d=Ts(),f=h.useMemo(()=>l.withConfig({apiVersion:"2021-03-25"}),[l]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=bAe(),y=hA([]),x=kan(y),b=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(b))==null?void 0:I.liveEdit},[b,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>wr(jan(s.options,x.current,i,_)).pipe(yt(P=>{let{filter:R,params:$}=P;return ATe(f,I,s,{...s.options,filter:R,params:$,tag:"search.reference"})}),Xn(P=>{var R;const $=P.details&&P.details.type==="queryParseError";return(R=s.options)!=null&&R.filter&&$&&(P.message='Invalid reference filter, please check the custom "filter" option'),m0(P)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,R){return p?c.jsx(p,{...P,ref:R,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=hi(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(P=>{var R;return P.name===((R=I.template)==null?void 0:R.schemaType)})).map(I=>{var P;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(uo),[C,g,s.to]),D=h.useCallback(I=>TTe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function Tan(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=dA(n,t);if(o)return c.jsxs(oe,{space:2,padding:1,children:[c.jsx(xi,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(xi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return c.jsx(oe,{space:2,padding:1,children:c.jsx(Lc,{title:"Failed to load referenced document",children:c.jsxs(N,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return c.jsx(oe,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(l=>l.name===i.type);return a?i&&a&&c.jsx(RAe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):c.jsxs(oe,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const Aan={display:"inline-flex"},Dan={width:"100%"},Ian={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function Pan(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?c.jsx(nn,{button:c.jsx(le,{...o,disabled:e.readOnly,text:"Create new",mode:"ghost",icon:Ks}),id:r,menu:c.jsx(Ht,{ref:e.menuRef,children:t.map(s=>c.jsx(bt,{disabled:s.permission.granted,content:c.jsx(B,{padding:2,children:c.jsx(jc,{operationLabel:"create this type of document"})}),portal:!0,children:c.jsx("div",{children:c.jsx(Be,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:Ian}):c.jsx(le,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Ks}):c.jsx(bt,{content:c.jsx(B,{padding:2,children:c.jsx(jc,{operationLabel:"create a new reference"})}),children:c.jsx("div",{style:Aan,children:c.jsx(le,{text:"Create new",mode:"ghost",disabled:!0,icon:Ks,style:Dan})})})}var zse=Object.freeze,Oan=Object.defineProperty,KDe=(e,t)=>zse(Oan(e,"raw",{value:zse(t||e.slice())})),Vse,Hse;const $an=O(fn)(Vse||(Vse=KDe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Ran=O(N)(Hse||(Hse=KDe([`
  word-break: break-word;
`]))),Man=["top-start","bottom-start"],Fan=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return c.jsx($an,{placement:"bottom-start",fallbackPlacements:Man,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:s,children:r?a:c.jsx(B,{padding:4,children:c.jsx(q,{align:"center",height:"fill",justify:"center",children:c.jsxs(Ran,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",t.searchString,""]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?c.jsx(c.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!l,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return c.jsx(uL,{...t,ref:n,renderPopover:o})});var Use=Object.freeze,Lan=Object.defineProperty,ZDe=(e,t)=>Use(Lan(e,"raw",{value:Use(t||e.slice())})),Wse,Yse;const Ban=he(Wse||(Wse=ZDe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),Nan=he(Yse||(Yse=ZDe([`
  grid-template-columns: 1fr min-content;
`]))),zan=O(an)(e=>e.$narrow?Ban:Nan),Van=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{Han(n,a),o(a)},[n]),s=rw(r);return c.jsx(zan,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function Han(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var qse=Object.freeze,Uan=Object.defineProperty,Wan=(e,t)=>qse(Uan(e,"raw",{value:qse(t||e.slice())})),Gse;const Yan=O(cv)(Gse||(Gse=Wan([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),Kse={hits:[],isLoading:!1},qan=()=>!0;function Gan(e){return e!==null}function Kan(e){var t,n,r,o,i,s;const{createOptions:a,onChange:l,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:y,path:x,elementProps:b,focusPath:w}=e,{getReferenceInfo:C}=qB({path:x,schemaType:f,value:g}),[_,S]=h.useState(Kse),E=h.useCallback(X=>{const ee=ed(),re=[Ui({}),mt(f.name,["_type"]),mt(ee,["_ref"]),mt(!0,["_weak"]),mt({type:X.type,weak:f.weak,template:X.template},["_strengthenOnPublish"])].filter(uo);l(re),u({id:ee,type:X.type,template:X.template}),v([])},[l,u,v,f]),j=h.useCallback(X=>{if(!X){l(et()),v([]);return}const ee=_.hits.find(de=>de.id===X);if(!ee)throw new Error("Selected an item that wasnt part of the result set");const re=[Ui({}),mt(f.name,["_type"]),mt(Zn(X),["_ref"]),ee.published&&!f.weak?et(["_weak"]):mt(!0,["_weak"]),ee.published?et(["_strengthenOnPublish"]):mt({type:ee==null?void 0:ee.type,weak:f.weak},["_strengthenOnPublish"])].filter(uo);l(re),v([])},[l,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{l(et())},[l]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(X=>{X.key==="Escape"&&v([])},[v]),D=dA(g==null?void 0:g._ref,C),I=h.useRef(null),{push:P}=Ei(),R=jL(X=>X.pipe(ut(Gan),rt(ee=>co(Ce({isLoading:!0}),d(ee).pipe(ce(re=>({hits:re,searchString:ee,isLoading:!1})),Xn(re=>(P({title:"Reference search failed",description:re.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(re),Ce({hits:[]})))))),Na((ee,re)=>({...ee,...re}),Kse),Wn(S)),[m,d,P]),$=h.useCallback(()=>{R("")},[R]),U=h.useCallback(X=>{X.key==="Escape"&&v([])},[v]),L=h.useCallback(X=>{var ee,re;const de=((ee=X.hit.draft)==null?void 0:ee._id)||((re=X.hit.published)==null?void 0:re._id)||X.value;return c.jsx(Yan,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:c.jsx(B,{paddingX:3,paddingY:1,children:c.jsx(Tan,{getReferenceInfo:C,id:de,renderPreview:y,type:f})})})},[f,C,y]),W=h.useCallback(()=>{var X,ee,re,de;return((ee=(X=D.result)==null?void 0:X.preview.draft)==null?void 0:ee.title)||((de=(re=D.result)==null?void 0:re.preview.published)==null?void 0:de.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),Y=h.useCallback(()=>v(["_ref"]),[v]),V=h.useCallback(X=>{var ee;(ee=I.current)!=null&&ee.contains(X.relatedTarget)||e.elementProps.onBlur(X)},[e.elementProps]),H=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Ti((w==null?void 0:w[0])==="_ref",(X,ee)=>{var re;!X&&ee&&((re=b.ref.current)==null||re.focus())});const Q=h.useMemo(()=>_.hits.map(X=>({value:X.id,hit:X})),[_.hits]),F=w.length===1&&w[0]==="_ref",{menuRef:G,containerRef:z}=Ctn(),Z=h.useRef(null),K=h.useRef(null),J=h.useRef(null);return DTe([z,Z,K,J,G],()=>{F&&T()}),c.jsx(oe,{space:1,"data-testid":"reference-input",ref:Z,children:c.jsxs(oe,{space:2,children:[H?c.jsx(Lc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:c.jsx(oe,{padding:2,children:c.jsx(le,{text:"Clear",onClick:k})}),children:c.jsxs(N,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",c.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,c.jsxs(Van,{ref:I,children:[c.jsx(Fan,{...b,onFocus:Y,onBlur:V,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:Q,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:R,searchString:_.searchString,onChange:j,filterOption:qan,renderOption:L,renderValue:W,openButton:{onClick:$},portalRef:K,value:g==null?void 0:g._ref}),a.length>0&&c.jsx(Pan,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:U,menuRef:J})]})]})})}async function Zan(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=e0(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Xan(e){const t=h.useRef(e);return t.current=e,t}function Qan(e){var t,n,r,o;const i=ur(),s=i.getClient(mn),a=dr(),l=Ts(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=bAe(),g=hA([]),y=Xan(g),x=(t=y.current)==null?void 0:t._type,b=a.get(x),w=h.useMemo(()=>b==null?void 0:b.liveEdit,[b]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>wr(Zan(d.options,y.current,u,_)).pipe(yt(P=>{let{filter:R,params:$}=P;return ATe(s,I,d,{...d.options,filter:R,params:$,tag:"search.reference"})}),Xn(P=>{var R;const $=P.details&&P.details.type==="queryParseError";return(R=d.options)!=null&&R.filter&&$&&(P.message='Invalid reference filter, please check the custom "filter" option'),m0(P)})),[y,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,R){return f?c.jsx(f,{...P,ref:R,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=hi(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(P=>{var R;return P.name===((R=I.template)==null?void 0:R.schemaType)})).map(I=>{var P,R,$;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat((R=I.template)==null?void 0:R.id),type:I.template.schemaType,icon:I.icon,template:{id:($=I.template)==null?void 0:$.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(uo),[C,v,d.to]),D=h.useCallback((I,P)=>TTe(l,I,P),[l]);return c.jsx(Kan,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function Jan(e){return W4(e.schemaType)}function eln(e){return j$e(e.schemaType)}function ek(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>ek(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>ek(e[o],t[o]))}function Zse(e,t){return e?e.some(n=>ek(n,t)):!1}function tln(e,t){return e.of.find(n=>n.name===_s(t))}const nln=[];function rln(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:l,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var y;return(((y=o.options)==null?void 0:y.list)||nln).map((x,b)=>bl(x)?x:{...x,_key:"auto-generated-".concat(b)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((y,x)=>{if(!y&&bl(x)){i(et([{_key:x._key}]));return}const b=p.filter(w=>ek(x,w)?y:Zse(a,w));i(b.length>0?mt(b):et())},[i,p,a]),v=h.useCallback(y=>{s([y])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return c.jsx(Jo,{path:d,isChanged:f,hasFocus:!1,children:c.jsx(an,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((y,x)=>{const b=tln(o,y),w=Zse(a,y),C=!b;return c.jsxs(q,{align:"center",as:"label",muted:C,children:[c.jsx(jj,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,y),onFocus:()=>v(x),readOnly:l}),c.jsx(B,{flex:1,marginLeft:2,children:b?r({layout:"default",schemaType:b,value:y}):c.jsx(ne,{tone:"caution",radius:2,children:c.jsx(nDe,{value:y,onFocus:()=>v(x)})})})]},x)})})})}var Xse=Object.freeze,oln=Object.defineProperty,iln=(e,t)=>Xse(oln(e,"raw",{value:Xse(t||e.slice())})),Qse;const sln=O(ne)(Qse||(Qse=iln([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function XDe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=se.useState(!1),[a,l]=se.useState(null);Nr(()=>s(!1),[a]);const u=se.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=_s(t);return c.jsx(fn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(sln,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(oe,{space:4,children:[c.jsx(B,{children:c.jsx(N,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(N,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(B,{children:c.jsxs(N,{size:1,children:[c.jsx(Nk,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(oe,{space:2,children:[c.jsx(N,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ne,{padding:2,overflow:"auto",border:!0,children:c.jsx(xr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ne,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(q,{align:"center",children:[c.jsx(B,{marginRight:3,children:c.jsx(N,{children:c.jsx(ml,{})})}),c.jsx(B,{flex:1,children:c.jsxs(N,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function aln(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function lln(e){return e.map(t=>aln(t)?{title:t.title||sn(String(t.value)),value:t.value}:{title:sn(String(t)),value:t})}function cln(e,t){return e.of.find(n=>n.name===_s(t.value))}function uln(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:l,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return lln(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const y=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(y.length>0?mt(y):et())},m=((n=r.options)==null?void 0:n.layout)==="grid";return c.jsx(Jo,{path:a,isChanged:l,hasFocus:!1,children:c.jsx(an,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const y=cln(r,v),x=i.includes(v.value),b=!y;return c.jsxs(q,{align:"center",as:"label",muted:b,children:[c.jsx(jj,{disabled:b,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),c.jsx(B,{padding:2,children:c.jsx(N,{children:v.title})}),!y&&c.jsx(XDe,{value:v,onFocus:()=>u(g)})]},g)})})})}function QDe(e){return Jan(e)?c.jsx(rln,{...e}):c.jsx(uln,{...e})}var Jse=Object.freeze,dln=Object.defineProperty,wA=(e,t)=>Jse(dln(e,"raw",{value:Jse(t||e.slice())})),eae,tae,nae,rae;const fln=O.div(eae||(eae=wA([`
  position: relative;
`]))),JDe=O.div(tae||(tae=wA([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),eIe=O(ne)(nae||(nae=wA([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),hln=O(q)(rae||(rae=wA([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),eIe,JDe),pln=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function mln(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),l=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=pln();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return c.jsx(N,{weight:"semibold",children:v})},[i,n]);return c.jsxs(fln,{onBlur:d,onClick:a,onFocus:u,onKeyDown:l,children:[o&&c.jsxs(hln,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[c.jsx(eIe,{radius:1}),c.jsx(JDe,{children:f})]}),t]})}var oae=Object.freeze,gln=Object.defineProperty,vln=(e,t)=>oae(gln(e,"raw",{value:oae(t||e.slice())})),iae;const yln=O.span(iae||(iae=vln([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function bln(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=eon[t],a=i.component,l=h.useCallback(u=>c.jsx(yln,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:l,schemaType:i,selected:r,title:i.title,value:t};return a?c.jsx(a,{...u,children:o}):c.jsx(l,{...u,children:o})},[a,l,o,n,i,r,t])}const xln={portal:!0,constrainSize:!0};function sae(e){const{disableRestoreFocusOnClose:t,menuButton:n,menuButtonProps:r,menuOptionsArray:o,onMenuClose:i}=e;return c.jsx(nn,{__unstable_disableRestoreFocusOnClose:t,id:"menu-button",onClose:i,popover:xln,...r,button:n,menu:c.jsx(Ht,{children:o.map((s,a)=>{const{collapsedProps:l={},expandedProps:u={},tooltipProps:d={},tooltipText:f,dividerBefore:p,fontSize:m,padding:v,text:g,icon:y,selected:x,...b}=s.props;return c.jsxs(se.Fragment,{children:[p&&a!==0&&c.jsx(Dr,{}),c.jsx(Be,{text:g,icon:y,pressed:x,...b})]},s.key)})})})}function wln(e){const{callback:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),c.jsx(q,{ref:s,...o,children:n})}var aae=Object.freeze,Cln=Object.defineProperty,_ln=(e,t)=>aae(Cln(e,"raw",{value:aae(t||e.slice())})),lae;const Sln=O.div(lae||(lae=_ln([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function cae(e){const{hidden:t,...n}=e;return c.jsx(Sln,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var uae=Object.freeze,Eln=Object.defineProperty,Y0=(e,t)=>uae(Eln(e,"raw",{value:uae(t||e.slice())})),dae,fae,hae,pae,mae,gae;const vae=3,tIe=he(dae||(dae=Y0([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),kln=O(q)(fae||(fae=Y0([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),vae,vae),jln=O(q)(hae||(hae=Y0([`
  border-radius: inherit;
  position: relative;
`]))),yae=O(q)(pae||(pae=Y0([`
  width: max-content;

  &[data-hidden='true'] {
    height: 0px;
    visibility: hidden;
  }
`]))),Tln=O(wln)(mae||(mae=Y0([`
  `,`
`])),tIe),Aln=O(q)(gae||(gae=Y0([`
  `,`
`])),tIe);function Dln(e){return!!e}const GB=h.forwardRef(function(t,n){const{children:r,collapsed:o,collapseText:i=!0,disableRestoreFocusOnClose:s,gap:a,menuButtonProps:l,onMenuClose:u,...d}=t,[f,p]=h.useState(null),[m,v]=h.useState(null),g=rw(f),[y,x]=h.useState([]),b=h.useMemo(()=>g&&f&&m?g.width<m.scrollWidth:!1,[m,f,g]),w=h.useMemo(()=>(l==null?void 0:l.button)||c.jsx(le,{icon:Bo,mode:"bleed"}),[l]),C=h.useMemo(()=>({root:f,threshold:1,rootMargin:"2px"}),[f]),_=h.useMemo(()=>se.Children.toArray(r).filter(Dln),[r]),S=h.useMemo(()=>_.filter(A=>{let{key:D}=A;return y.find(I=>I.key===D)}),[_,y]),E=h.useMemo(()=>o||S.length>0,[o,S.length]),j=h.useCallback(A=>S.some(D=>D.key===A),[S]),k=h.useCallback((A,D)=>{const I=j(D.key);if(!A.isIntersecting&&!I&&x(P=>[D,...P]),A.isIntersecting&&I){const P=S.filter(R=>{let{key:$}=R;return $!==D.key});x(P)}},[j,S]),T=h.useMemo(()=>_.map(A=>{const{collapsedProps:D,expandedProps:I}=A.props,P=b?D:I,R=b&&i?void 0:A.props.text;return h.cloneElement(A,{...P,text:R})}),[_,i,b]);return o?c.jsx(sae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:l,menuOptionsArray:_,onMenuClose:u}):c.jsxs(kln,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...d,children:[c.jsxs(jln,{direction:"column",flex:1,justify:"center",ref:p,children:[c.jsx(yae,{gap:a,children:T.map((A,D)=>{const{dividerBefore:I,tooltipText:P="",tooltipProps:R={}}=A.props,$=j(A.key);return c.jsxs(se.Fragment,{children:[I&&D!==0&&c.jsx(cae,{hidden:$}),c.jsx(Tln,{options:C,callback:U=>k(U[0],A),"aria-hidden":$,"data-hidden":$,children:c.jsx(bt,{portal:!0,disabled:!P,content:c.jsx(B,{padding:2,sizing:"border",children:c.jsx(N,{size:1,children:P})}),...R,children:c.jsx(q,{children:h.cloneElement(A,{disabled:A.props.disabled||$,"aria-hidden":$})})})})]},A.key)})}),c.jsx(yae,{"data-hidden":!0,"aria-hidden":"true",gap:a,ref:v,children:_.map((A,D)=>{const{dividerBefore:I}=A.props;return c.jsxs(se.Fragment,{children:[I&&D!==0&&c.jsx(cae,{}),c.jsx(Aln,{children:h.cloneElement(A,{disabled:!0,"aria-hidden":!0})},A.key)]},A.key)})})]}),E&&c.jsx(q,{marginLeft:a,children:c.jsx(sae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:l,menuOptionsArray:S,onMenuClose:u})})]})}),KB=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...l}=t;return c.jsx(le,{"data-ui":"CollapseMenuButton",...l,ref:n})});var bae=Object.freeze,Iln=Object.defineProperty,Pln=(e,t)=>bae(Iln(e,"raw",{value:bae(t||e.slice())})),xae;const Oln=O.div(xae||(xae=Pln([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function $ln(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return c.jsx(Oln,{style:r})}function Rln(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var l;return((l=n.marks)==null?void 0:l[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{Ee.toggleMark(e,o.value),Ee.focus(e)},hotkeys:s,title:o.title}})}function Mln(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Ee.toggleList(e,r.value)},title:r.title}))}function Fln(e){return Nn(e,"icon")||Nn(e,"type.icon")||Nn(e,"type.to.icon")||Nn(e,"type.to[0].icon")}function Lln(e,t,n){const r=e.schemaTypes,o=Ee.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:Fln(s),key:s.name,handle:a=>{a?(Ee.removeAnnotation(e,s),Ee.focus(e)):n(s)},title:s.title||gm(s.name)}))}function Bln(e,t,n,r){return[{name:"format",actions:Rln(e,t,r)},{name:"list",actions:Mln(e,t)},{name:"annotation",actions:Lln(e,t,n)}]}function Nln(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function wae(e,t){const n=Nn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function zln(e,t,n,r){const o=e.blockObjects.map((a,l)=>({handle:()=>n(a),icon:wae(a,Hge),inline:!1,key:"block-".concat(l),type:a})),i=e.inlineObjects.map((a,l)=>({handle:()=>r(a),icon:wae(a,nve),inline:!0,key:"inline-".concat(l),type:a}));return o.concat(i).filter(a=>{var l;return!((l=a.type)!=null&&l.hidden)})}const Vln={link:bf},Hln={strong:Uge,em:ive,"strike-through":hve,underline:pve,code:qge},Uln={number:lve,bullet:jy};function Wln(e,t){return e.icon?typeof e.icon=="string"?c.jsx($ln,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?Vln[e.key]||ml:e.type==="listStyle"?Uln[e.key]||ml:Hln[e.key]||ml}function CA(){const e=fo(),t=P0();return h.useMemo(()=>Ee.focusBlock(e),[e,t])}function Yln(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=fo(),s=h.useCallback(async a=>{const l=await r(a),u=Ee.addAnnotation(i,a,l);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?Bln(i,o,s,t):[],[o,i,s,t])}function qln(e){let{actions:t}=e;const n=fo(),r=P0();return Wo(h.useMemo(()=>{const o=Ee.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?Ee.hasListStyle(n,i.key):Ee.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function Gln(e){let{items:t}=e;const n=fo(),r=CA(),o=P0();return Wo(h.useMemo(()=>t.filter(i=>Ee.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const Kln=h.memo(GB),Zln={constrainSize:!0,portal:!0},Xln={padding:2,mode:"bleed"},Qln=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=CA(),a=fo(),l=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!l&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||l,f=h.useMemo(()=>r.reduce((y,x)=>y.concat(x.actions.map((b,w)=>w===0?{...b,firstInGroup:!0}:b)),[]),[r]),p=qln({actions:f}),m=h.useCallback(()=>{Ee.focus(a)},[a]),v=h.useMemo(()=>f.map(y=>{const x=y.type==="annotation"&&u,b=p.includes(y.key);return h.createElement(KB,{"data-testid":"action-button-".concat(y.key),disabled:d||x,...Xln,dividerBefore:y.firstInGroup,icon:Wln(y,b),key:y.key,onClick:()=>y.handle(b),selected:b,text:y.title||y.key,tooltipText:y.title||y.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:c.jsx(le,{icon:Bo,mode:"bleed",padding:2,disabled:d}),popover:Zln}),[d]);return c.jsx(Kln,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var Cae=Object.freeze,Jln=Object.defineProperty,nIe=(e,t)=>Cae(Jln(e,"raw",{value:Cae(t||e.slice())})),_ae,Sae;const ecn=h.memo(nn),tcn=O(Be)(_ae||(_ae=nIe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),ncn=O(le)(Sae||(Sae=nIe([`
  width: 100%;
`]))),rcn={constrainSize:!0,placement:"bottom-start",portal:"default"},rIe={h1:e=>c.jsx(mDe,{children:e}),h2:e=>c.jsx(gDe,{children:e}),h3:e=>c.jsx(vDe,{children:e}),h4:e=>c.jsx(yDe,{children:e}),h5:e=>c.jsx(bDe,{children:e}),h6:e=>c.jsx(xDe,{children:e}),normal:e=>c.jsx(VB,{children:e}),blockquote:e=>c.jsx(wDe,{"data-option":"blockquote",children:e})},ocn=Object.keys(rIe),icn=e=>e.preventDefault(),_O={key:"style-none",style:"",title:"No style"},scn=h.memo(function(t){const{disabled:n,items:r}=t,o=fo(),i=CA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=Gln({items:r}),{activeItems:l,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let y=r;return g.length===0&&y.length>1&&(y=y.concat([_O]),g.push(_O)),{activeItems:g,items:y}},[a,r]),d=h.useMemo(()=>l.length>1?"Multiple":l.length===1?l[0].title:_O.title,[l]),f=h.useCallback(g=>{i&&g.style!==i.style&&setTimeout(()=>{Ee.toggleBlockStyle(o,g.style),Ee.focus(o)})},[o,i]),p=h.useCallback((g,y)=>{const x=ocn.includes(g),b=rIe[g];return x?b(y):c.jsx(N,{children:y})},[]),m=h.useMemo(()=>c.jsx(ncn,{disabled:s,iconRight:Pl,mode:"bleed",onClick:icn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>c.jsx(Ht,{disabled:s,children:u.map(g=>c.jsx(tcn,{pressed:l.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,l,f,u,p]);return c.jsx(ecn,{popover:rcn,id:"block-style-select",button:m,menu:v})}),acn=h.memo(GB),lcn={constrainSize:!0,portal:!0},ccn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=CA(),a=fo(),l=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{Ee.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||f2e(p.type.name);return c.jsx(KB,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||l&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,l,o]),f=h.useMemo(()=>({button:c.jsx(le,{icon:Ks,mode:"bleed",padding:2,disabled:n}),popover:lcn}),[n]);return c.jsx(acn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Eae=Object.freeze,ucn=Object.defineProperty,Gv=(e,t)=>Eae(ucn(e,"raw",{value:Eae(t||e.slice())})),kae,jae,Tae,Aae,Dae,Iae;const dcn=O(q)(kae||(kae=Gv([`
  width: 100%;
`]))),fcn=O(B)(jae||(jae=Gv([`
  width: 8em;
`]))),hcn=O(q)(Tae||(Tae=Gv([`
  border-right: 1px solid var(--card-border-color);
`]))),pcn=O(B)(Dae||(Dae=Gv([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&he(Aae||(Aae=Gv([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),mcn=O(B)(Iae||(Iae=Gv([`
  border-left: 1px solid var(--card-border-color);
`]))),gcn=300,vcn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ycn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,b)=>x+b.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=rw(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;aTe({rootElement:f});const y=h.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return c.jsxs(dcn,{align:"center",ref:p,onMouseDown:y,children:[g&&c.jsx(hcn,{flex:v?1:void 0,children:c.jsx(fcn,{padding:s?2:1,children:c.jsx(scn,{disabled:o,items:r})})}),c.jsxs(q,{flex:1,children:[u&&c.jsx(pcn,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:c.jsx(Qln,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&c.jsx(B,{flex:v?void 0:1,padding:s?2:1,children:c.jsx(ccn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),c.jsx(mcn,{padding:s?2:1,children:c.jsx(bt,{content:c.jsxs(q,{align:"center",padding:1,children:[c.jsx(B,{flex:1,paddingX:1,children:c.jsx(N,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),c.jsx(B,{marginLeft:1,children:c.jsx(fL,{keys:["".concat(vcn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:c.jsx(le,{padding:2,icon:s?Gge:tve,mode:"bleed",onClick:a})})})]})});function bcn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=fo(),a=P0(),l=xN(),u=r||!a,{push:d}=Ei(),f=h.useCallback(x=>{let b=!1;const w=setTimeout(()=>{b=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})},gcn);return l(x,{}).then(C=>(b&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,l]),p=h.useCallback(async x=>{const b=await f(x),w=Ee.insertBlock(s,x,b);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const b=await f(x),w=Ee.insertChild(s,x,b);w&&o(w)},[s,o,f]),v=Yln({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>Nln(s.schemaTypes),[s]),y=h.useMemo(()=>zln(s.schemaTypes,u,p,m),[u,s,p,m]);return c.jsx(ycn,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:y,isFullscreen:n,onToggleFullscreen:i})}var Pae=Object.freeze,xcn=Object.defineProperty,ff=(e,t)=>Pae(xcn(e,"raw",{value:Pae(t||e.slice())})),Oae,$ae,Rae,Mae,Fae,Lae,Bae,Nae;const wcn=O(ne)(Oae||(Oae=ff([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),Ccn=O(ne)($ae||($ae=ff([`
  z-index: 10;
  line-height: 0;
`]))),_cn=O(ne)(Rae||(Rae=ff([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),Scn=O(B7)(Mae||(Mae=ff([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),Ecn=O(ta)(Fae||(Fae=ff([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),kcn=O(ne)(Nae||(Nae=ff([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),H1.map(e=>Yh(e)).join(" "),H1.map(e=>he(Lae||(Lae=ff([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,Yh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},H1.map(e=>Yh(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},H1.map(e=>Yh(e)).join(" "),H1.slice(1).map(e=>he(Bae||(Bae=ff([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,Yh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function jcn(){const e=fo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function Tcn(e){return h.useMemo(()=>(t,n)=>{if(Ee.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;ox(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const Acn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&vO[t.style]?vO[t.style]:vO[0])||VB,[t.style]),a=h.useCallback(l=>c.jsx(s,{children:c.jsx(ld,{"data-testid":"text-style--".concat(t.style),children:l.children})}),[s,t.style]);return h.useMemo(()=>{const l=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return l?c.jsx(l,{...f,children:r}):c.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},zae=e=>c.jsx(c.Fragment,{children:e.children}),Dcn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:l,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:zae,schemaType:r,selected:o,title:l,value:a};return u?c.jsx(u,{...d,children:n}):c.jsx(zae,{...d,children:n})},[u,t,n,i,s,r,o,l,a])},Icn={outline:"none"},Pcn=e=>c.jsx(bln,{...e}),Ocn=e=>c.jsx(Acn,{...e}),$cn=e=>c.jsx(Dcn,{...e});function Rcn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:l,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:y,ariaDescribedBy:x}=e,{isTopLayer:b}=Dc(),w=h.useRef(null),{element:C}=Yf();Es(h.useCallback(T=>{!b||!o||T.key==="Escape"&&l()},[l,o,b]));const _=h.useCallback(()=>c.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=jcn(),E=Tcn(v),j=h.useMemo(()=>c.jsx(LEe,{hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:Pcn,renderListItem:$cn,renderPlaceholder:_,renderStyle:Ocn,scrollSelectionIntoView:E,selection:n,style:Icn,spellCheck:S,"aria-describedby":x}),[t,n,i,a,f,p,m,_,E,S,x]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return c.jsxs(wcn,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&c.jsx(Ccn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:c.jsx(bcn,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:l,readOnly:d})}),c.jsxs(_cn,{flex:1,tone:d?"transparent":"default",children:[c.jsx(Scn,{ref:y,children:c.jsx(Ecn,{padding:o?2:0,sizing:"border",width:1,children:c.jsx(kcn,{$isFullscreen:o,tone:d?"transparent":"default",children:c.jsx(lm,{element:o?v:C,children:j})})})}),c.jsx("div",{"data-portal":"",ref:g})]})]})}var Vae=Object.freeze,Mcn=Object.defineProperty,oIe=(e,t)=>Vae(Mcn(e,"raw",{value:Vae(t||e.slice())})),Hae,Uae;const Fcn=O.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return he(Hae||(Hae=oIe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),UB(s),r.border.width,WB({base:o,border:s,focusRing:n}))}),Lcn=O(Zi)(Uae||(Uae=oIe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function Bcn(e){const t=fo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function Ncn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=Prn(),i=fo(),s=P0();h.useLayoutEffect(()=>{var a,l,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(ox(n,{scrollMode:"if-needed",block:"start",inline:"start"}),ox(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&xn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&bl(t[2])?t[2]._key:void 0,y=g&&Array.isArray((l=p.node.value)==null?void 0:l.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=y&&y._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,b=m&&(t.length===3&&t[1]==="children"||x);let w=[];b?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(Ee.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&Ee.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function zcn(e){const{changed:t,focused:n,focusPath:r=Vn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:l,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:y,readOnly:x,renderAnnotation:b,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=fo(),I=Yf().element,[P,R]=h.useState(null),[$,U]=h.useState(null),L=h.useCallback(()=>{g()},[g]),W=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),Y=Bcn(W),V=A&&C?C:void 0,H=A&&_?_:void 0,[Q,F]=h.useState(null),G=h.useCallback(xe=>{const{children:be,focused:ve,path:qe,selected:Le,schemaType:ot,value:Qe}=xe;return c.jsx(mon,{floatingBoundary:I,focused:ve,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(qe),readOnly:x,referenceBoundary:$,renderAnnotation:b,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:V,renderCustomMarkers:H,renderPreview:T,renderBlock:w,schemaType:ot,selected:Le,value:Qe,children:be})},[V,H,$,a,d,f,p,v,I,y,x,b,w,S,E,j,k,T]),z=h.useCallback(xe=>{const{focused:be,path:ve,selected:qe,schemaType:Le,value:ot}=xe;return c.jsx(Jrn,{floatingBoundary:I,focused:be,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(ve),readOnly:x,referenceBoundary:$,relativePath:ve,renderAnnotation:b,renderBlock:w,renderBlockActions:V,renderCustomMarkers:H,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:Le,selected:qe,value:ot})},[I,$,a,d,f,p,v,y,x,b,w,V,H,S,E,j,k,T]),Z=h.useCallback(xe=>{const{value:be}=xe;return be._type===D.schemaTypes.block.name?G(xe):z(xe)},[D.schemaTypes.block.name,z,G]),K=h.useCallback(xe=>{const{children:be,focused:ve,path:qe,selected:Le,schemaType:ot,value:Qe}=xe;return Qe._type===D.schemaTypes.span.name?be:c.jsx(kon,{floatingBoundary:I,focused:ve,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat(qe),readOnly:x,referenceBoundary:$,relativePath:qe,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ot,selected:Le,value:Qe})},[I,$,D.schemaTypes.span.name,d,f,v,y,x,b,w,_,S,E,j,k,T]),J=h.useCallback(xe=>{const{children:be,focused:ve,path:qe,selected:Le,schemaType:ot,value:Qe}=xe;return c.jsx(Ron,{editorNodeFocused:ve,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat(qe),readOnly:x,referenceBoundary:$,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ot,selected:Le,value:Qe,children:be})},[I,$,n,d,f,v,y,x,b,w,_,S,E,j,k,T]),X=e.elementProps["aria-describedby"],ee=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),re=h.useMemo(()=>c.jsx(Rcn,{ariaDescribedBy:X,initialSelection:ee,hotkeys:Y,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:L,path:y,readOnly:x,renderAnnotation:J,renderBlock:Z,renderChild:K,setPortalElement:F,scrollElement:$,setScrollElement:U}),[X,Y,J,Z,K,L,ee,s,a,u,f,m,y,x,$]),de=Tj(),ie=h.useMemo(()=>({collapsed:P,default:de.element,editor:Q,expanded:de.element}),[de.element,Q,P]);Ncn({focusPath:r,boundaryElement:$,onItemClose:d});const fe=n||o;return c.jsx(d0,{__unstable_elements:ie,children:c.jsx(mln,{onActivate:l,isOverlayActive:!s,children:c.jsx(Jo,{disabled:a,hasFocus:!!n,isChanged:t,path:y,children:c.jsxs(Fcn,{"data-focused":fe?"":void 0,"data-read-only":x?"":void 0,children:[c.jsx(B,{"data-wrapper":"",ref:R,children:c.jsx(cm,{__unstable_name:a?"expanded":"collapsed",children:a?c.jsx(Lcn,{children:re}):re})}),c.jsx("div",{"data-border":""})]})})})})}function Vcn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?c.jsx(Lc,{suffix:c.jsxs(oe,{padding:2,children:[r.action&&c.jsxs(an,{columns:[1,2],gap:1,children:[c.jsx(le,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&c.jsx(le,{onClick:i,text:r.action,tone:"caution"})]}),c.jsx(B,{padding:3,children:r.action&&c.jsx(N,{as:"p",muted:!0,size:1,children:"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:c.jsx(c.Fragment,{children:"Invalid Portable Text Editor value"}),children:c.jsxs(oe,{space:3,children:[c.jsx(N,{as:"p",muted:!0,size:1,children:r.description}),c.jsx(ne,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(xr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function Hcn(e){const{path:t}=e,{patchChannel:n}=ei().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const l=a.filter(u=>r4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));l.length&&o({shouldReset:Ycn(t,a),snapshot:_t(s)?qcn(s,t):{},patches:l})}),[t,n])}}function Ucn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Pf(e,t):e===t}function r4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Ucn(t[n],e[n]))return!1;return!0}function Wcn(e,t){return e.length===0||r4(t,e)&&!r4(e,t)}function Ycn(e,t){return t.some(n=>Wcn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function qcn(e,t){return t.reduce((n,r)=>typeof r=="object"?Cke(n,r):Nn(n,r),e)}function Gcn(e){const{elementProps:t,hotkeys:n,markers:r=Vn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:l,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:y}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&Ee.focus(w.current)}}));const{subscribe:b}=Hcn({path:f}),w=h.useRef(null),[C,_]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[P,R]=h.useState(!1),$=Ei(),U=h.useRef([]),L=h.useMemo(()=>new Tr,[]),W=h.useMemo(()=>L.asObservable(),[L]),Y=h.useRef(null),V=h.useCallback(()=>{w.current&&k(Z=>!Z)},[]);h.useEffect(()=>{S&&y!==S.value&&E(null)},[S,y]),h.useEffect(()=>b(Z=>{let{patches:K,snapshot:J}=Z;L.next({patches:K,snapshot:J})}),[L,b]);const H=h.useMemo(()=>{var Z;const K=[];for(const X of o)if(X.kind==="item")if(!mA(X.item.schemaType))K.push({kind:"objectBlock",member:X,node:X.item});else{(X.item.validation.length>0||X.item.changed||(Z=X.item.presence)!=null&&Z.length)&&K.push({kind:"textBlock",member:X,node:X.item});const re=X.item.members.find(ie=>ie.kind==="field"&&ie.name==="children");if(re&&re.kind==="field"&&$B(re))for(const ie of re.field.members)ie.kind==="item"&&ie.item.schemaType.name!=="span"&&K.push({kind:"inlineObject",member:ie,node:ie.item});const de=X.item.members.filter(Trn).find(ie=>ie.name==="markDefs");if(de)for(const ie of de.field.members)ie.kind==="item"&&ie.item.schemaType.jsonType==="object"&&K.push({kind:"annotation",member:ie,node:ie.item})}const J=K.map(X=>{const ee=wn(X.node.path),re=U.current.find(ie=>ie.key===ee);let de;return X.kind!=="textBlock"&&(de=c.jsx(rDe,{absolutePath:X.node.path,...e})),re?((X.member.open||re.node.value!==X.node.value)&&(re.input=de),re.member=X.member,re.node=X.node,re):{kind:X.kind,key:ee,member:X.member,node:X.node,elementRef:h.createRef(),input:de}});return U.current=J,J},[o,e]);h.useEffect(()=>{P&&A(!0)},[P]);const Q=h.useCallback(Z=>{switch(Z.type){case"mutation":i(Wae(Z.patches));break;case"connection":Z.value==="offline"?I(!0):Z.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{Z.selection&&d(Z.selection.focus.path)});break;case"focus":A(!0),R(!0);break;case"blur":x(Z.event),R(!1);break;case"undo":case"redo":i(Wae(Z.patches));break;case"invalidValue":E(Z);break;case"error":$.push({status:Z.level,description:Z.description});break}},[x,i,d,$]);h.useEffect(()=>{_(!1)},[y]);const F=h.useCallback(()=>{_(!0)},[]),G=h.useMemo(()=>S&&S.resolution?c.jsx(B,{marginBottom:2,children:c.jsx(Vcn,{onChange:Q,onIgnore:F,resolution:S.resolution,readOnly:D||p})}):null,[Q,F,S,D,p]),z=h.useCallback(()=>{T||(A(!0),w.current&&Ee.focus(w.current))},[T]);return c.jsxs(B,{ref:Y,children:[!C&&G,(!S||C)&&c.jsx(Drn,{markers:r,children:c.jsx(Irn,{memberItems:H,children:c.jsx(Ee,{ref:w,patches$:W,onChange:Q,maxBlocks:void 0,readOnly:D||p,schemaType:g,value:y,children:c.jsx(zcn,{...e,hasFocusWithin:P,hotkeys:n,isActive:T,isFullscreen:j,onActivate:z,onItemRemove:a,onCopy:s,onInsert:l,onPaste:u,onToggleFullscreen:V,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function Wae(e){return e.map(t=>({...t,patchType:Wp}))}function o4(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Kcn(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&o4(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Yae=Object.freeze,Zcn=Object.defineProperty,iIe=(e,t)=>Yae(Zcn(e,"raw",{value:Yae(t||e.slice())})),qae,Gae;const Xcn=O(ne)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ye(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:o4({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:Kcn({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:o4({color:i.default.disabled.border,width:r.border.width})}}}),Qcn=O.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ye(o-i.ascenderHeight),paddingRight:ye(o),paddingBottom:ye(o-i.descenderHeight),paddingLeft:ye(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Jcn=O(B)(e=>{const{theme:t}=e,n=t.sanity.color.input;return he(qae||(qae=iIe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),eun=O(B)(Gae||(Gae=iIe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),sIe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...l}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag":"Enter tag and press ENTER"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=lr(t),y=h.useRef(null),x=h.useCallback(E=>{if(Ic(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),b=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),c.jsxs(Xcn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:y,children:[p&&c.jsx(Jcn,{hidden:!!(d||a.length),padding:3,children:c.jsx(N,{textOverflow:"ellipsis",children:u})}),c.jsxs("div",{className:"content",children:[a.map((E,j)=>c.jsx(eun,{children:c.jsx(tun,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),c.jsx("div",{children:c.jsx(Qcn,{...l,disabled:!p,onBlur:b,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});sIe.displayName="TagInput";function tun(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return c.jsx(ne,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:c.jsxs(q,{align:"center",children:[c.jsx(B,{flex:1,padding:1,children:c.jsx(N,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&c.jsx(B,{marginLeft:1,children:c.jsx(le,{icon:ia,mode:"bleed",onClick:s,padding:1})})]})})}function nun(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),l=h.useCallback(u=>{t(u.length===0?et():mt(u.map(d=>d.value)))},[t]);return c.jsx(Jo,{path:i,isChanged:s,hasFocus:!1,children:c.jsx(sIe,{onChange:l,readOnly:n,value:a,...o})})}const run={portal:!0,tone:"default"};function aIe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return c.jsx(B,{paddingX:1,children:c.jsx(lA,{dragHandle:n,tone:"caution",menu:c.jsx(nn,{button:c.jsx(le,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(o,"-menuButton"),menu:c.jsx(Ht,{children:c.jsx(Be,{text:"Remove",tone:"critical",icon:lo,onClick:r})}),popover:run}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(XDe,{value:t.error.value}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function oun(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(l=>r(l,a))),i=t.length-o.length,s=n.length>1;return c.jsx(c.Fragment,{children:o.length>0?c.jsxs(c.Fragment,{children:[c.jsxs(Qt,{space:2,children:[c.jsx(N,{children:c.jsx(Gk,{})}),c.jsxs(N,{children:["Drop to upload"," ",s&&c.jsxs(c.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&c.jsx(B,{marginTop:4,children:c.jsxs(Qt,{space:2,children:[c.jsx(N,{muted:!0,size:1,children:c.jsx(yf,{})}),c.jsxs(N,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):c.jsxs(Qt,{space:2,children:[c.jsx(N,{children:c.jsx(yf,{})}),c.jsxs(N,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var Kae=Object.freeze,iun=Object.defineProperty,sun=(e,t)=>Kae(iun(e,"raw",{value:Kae(t||e.slice())})),Zae;const aun=O(Zi)(Zae||(Zae=sun([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var Xae=Object.freeze,lun=Object.defineProperty,cun=(e,t)=>Xae(lun(e,"raw",{value:Xae(t||e.slice())})),Qae;const uun=O.div(Qae||(Qae=cun([`
  position: relative;
`])));function dun(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function fun(e){const t=jDe(e);return se.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:l,...u}=r,{push:d}=Ei(),f=se.useCallback((y,x)=>{const{type:b,uploader:w}=x;a==null||a({file:y,schemaType:b,uploader:w})},[a]),p=se.useCallback(y=>{if(!s)return;const x=y.map(C=>({file:C,uploaderCandidates:dun(l,s,C)})),b=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>c.jsxs(q,{padding:2,children:[c.jsx(B,{marginLeft:1,children:c.jsx(N,{weight:"semibold",children:_.file.name})}),c.jsx(B,{paddingLeft:2,children:c.jsxs(N,{size:1,children:["(",_.file.type,")"]})})]},S))})}b.forEach(C=>{f(C.file,hm(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,l,f]),[m,v]=se.useState([]),g=se.useCallback(()=>v([]),[]);return c.jsx(uun,{children:c.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&c.jsx(aun,{zOffset:10,children:c.jsx(oun,{hoveringFiles:m,types:l,resolveUploader:s})}),i]})})})}const ZB=TDe(fun(ne));function hun(e,t,n){return pun(e,t,r=>r===n)}function pun(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const mun={portal:!0,tone:"default"},gun=se.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:l,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,y=h.useCallback((C,_)=>{s({position:C,items:[FB(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),b=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=c.jsx(nn,{button:c.jsx(le,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(u,"-menuButton"),popover:mun,menu:c.jsxs(Ht,{children:[c.jsx(Be,{text:"Remove",tone:"critical",icon:lo,onClick:a}),c.jsx(Be,{text:"Duplicate",icon:_u,onClick:x}),c.jsx(uA,{types:i,onInsert:y})]})});return c.jsx(lA,{tone:b,menu:!l&&w,dragHandle:!l&&r,presence:p.length===0?null:c.jsx(Ww,{presence:p,maxAvatars:1}),validation:d.length>0?c.jsx(B,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(H0,{validation:d})}):null,children:c.jsx(q,{align:m?"flex-end":"center",ref:n,children:c.jsx(q,{align:"flex-end",flex:1,children:c.jsx(B,{flex:1,marginRight:2,children:f})})})})});function vun(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=se.useCallback(d=>{i(o(d))},[o,i]),l=se.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?c.jsx(bt,{portal:!0,content:c.jsx(B,{padding:2,sizing:"border",children:c.jsx(N,{size:1,children:"This field is read-only"})}),children:c.jsx(an,{children:c.jsx(le,{icon:Ks,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):c.jsxs(an,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(le,{icon:Ks,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(nn,{button:c.jsx(le,{icon:Ks,mode:"ghost",text:"Add item"}),id:s||"",menu:c.jsx(Ht,{children:t.of.map((d,f)=>{var p,m;const v=gf(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return c.jsx(Be,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}var yun=Object.defineProperty,bun=(e,t,n)=>t in e?yun(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xh=(e,t,n)=>(bun(e,typeof t!="symbol"?t+"":t,n),n);class lIe extends se.PureComponent{constructor(t){super(t),xh(this,"_element",null),xh(this,"handleAppend",n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)}),xh(this,"handlePrepend",n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)}),xh(this,"handleSortEnd",n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)}),xh(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})}),xh(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})}),xh(this,"renderArrayItem",n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return c.jsx(gun,{...n,sortable:i,insertableTypes:o.of})}),this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],l=window.getSelection();if(!((l==null?void 0:l.focusNode)instanceof HTMLElement))return null;const u=(n=l.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:l.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=hun(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const l=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(l instanceof HTMLInputElement){l.focus();try{l.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:l,arrayFunctions:u=vun,path:d,changed:f}=this.props,p=!r&&Nn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return c.jsxs(oe,{space:3,"data-testid":"array-primitives-input",children:[c.jsx(ZB,{types:t.of,resolveUploader:a,onUpload:i,...l,tabIndex:0,children:c.jsx(oe,{space:1,children:m.length===0?c.jsx(ne,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(N,{align:"center",muted:!0,size:1,children:t.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ne,{padding:1,border:!0,children:c.jsx(TB,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:y,id:x}=v;return c.jsxs(AB,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&c.jsx(Jo,{path:y.item.path,isChanged:f,hasFocus:!1,children:c.jsx(znn,{member:y,renderItem:this.renderArrayItem,renderInput:o})}),y.kind==="error"&&c.jsx(aIe,{sortable:p,member:y,onRemove:()=>s(g)})]},y.key)})})})})}),c.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:FB,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var Jae=Object.freeze,xun=Object.defineProperty,_A=(e,t)=>Jae(xun(e,"raw",{value:Jae(t||e.slice())})),ele,tle,nle,rle;const wun=O(q)(ele||(ele=_A([`
  min-height: 35px;
`]))),Cun=O(q)(tle||(tle=_A([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),i4=O(ne)(nle||(nle=_A([`
  position: absolute;
  top: 0;
  left: 0;
`]))),_un=O(ne)(rle||(rle=_A([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),i4,i4,jB);function cIe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:l,...u}=e;return c.jsxs(_un,{forwardedAs:q,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&c.jsx(i4,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:c.jsx(PAe,{grid:!0,padding:2,mode:"ghost"})}),o&&c.jsx(Cun,{align:"center",marginX:1,children:o}),c.jsxs(wun,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[c.jsx(q,{children:t}),c.jsx(B,{children:l}),a]})]})}var ole=Object.freeze,Sun=Object.defineProperty,Eun=(e,t)=>ole(Sun(e,"raw",{value:ole(t||e.slice())})),ile;const kun=O(ne)(ile||(ile=Eun([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function jun(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Tun={portal:!0,tone:"default"},Aun={position:"absolute",top:0,left:0,bottom:0,right:0};function Dun(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=l.options)==null?void 0:t.sortable)!==!1,E=l.of,j=h.useRef(null);iA(j,m),Ti(w,(H,Q)=>{var F;!H&&Q&&j.current&&((F=j.current)==null||F.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:yx()}],position:"after"})},[v,p]),A=h.useCallback((H,Q)=>{v({items:[W0(Q)],position:H})},[v]),D=B0(u,!0),I=h.useMemo(()=>D.length===0?null:c.jsx(Ww,{presence:D,maxAvatars:1}),[D]),P=lB(u,!0),R=h.useMemo(()=>P.length===0?null:c.jsx(B,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(H0,{validation:P,__unstable_showSummary:!0})}),[P]),$=P.some(H=>H.level==="error"),U=P.some(H=>H.level==="warning"),L=h.useMemo(()=>d?null:c.jsx(nn,{button:c.jsx(le,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(e.inputId,"-menuButton"),menu:c.jsxs(Ht,{children:[c.jsx(Be,{text:"Remove",tone:"critical",icon:lo,onClick:f}),c.jsx(Be,{text:"Duplicate",icon:_u,onClick:T}),c.jsx(uA,{types:E,onInsert:A})]}),popover:Tun}),[T,A,f,E,e.inputId,d]),W=jun({readOnly:d,hasErrors:$,hasWarnings:U}),Y=c.jsx(cIe,{menu:L,presence:I,validation:R,tone:W,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:c.jsxs(kun,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&c.jsx(ne,{as:q,style:Aun,children:c.jsxs(q,{align:"center",justify:"center",gap:1,padding:1,children:[c.jsx(B,{padding:3,children:c.jsx(zr,{muted:!0})}),c.jsx(N,{muted:!0,size:1,children:"Resolving initial value"})]})})]})}),V=Uv(a);return c.jsxs(c.Fragment,{children:[c.jsx(Jo,{path:u,isChanged:b,hasFocus:!!w,children:Y}),m&&c.jsx(iDe,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=l==null?void 0:l.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var sle=Object.freeze,Iun=Object.defineProperty,Pun=(e,t)=>sle(Iun(e,"raw",{value:sle(t||e.slice())})),ale;const Oun=O(ne)(ale||(ale=Pun([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function $un(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=se.useState(!1),[a,l]=se.useState(null);Nr(()=>s(!1),[a]);const u=se.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=_s(t);return c.jsx(fn,{open:i,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(Oun,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(oe,{space:4,children:[c.jsx(B,{children:c.jsx(N,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(N,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(B,{children:c.jsxs(N,{size:1,children:[c.jsx(Nk,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(oe,{space:2,children:[c.jsx(N,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ne,{padding:2,overflow:"auto",border:!0,children:c.jsx(xr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(ne,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:c.jsxs(oe,{space:4,marginTop:2,children:[c.jsx(B,{margin:1,children:c.jsx(N,{align:"center",size:4,children:c.jsx(ml,{})})}),c.jsxs(N,{align:"center",size:1,children:["Items of type ",c.jsx("code",{children:f})," is not valid for this list"]})]})})})}const Run={portal:!0,tone:"default"};function Mun(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=fa(),i=h.useCallback(()=>{o(at.from([et([{_key:t.key}])]))},[o,t.key]);return c.jsx(cIe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:c.jsx(nn,{button:c.jsx(le,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(r,"-menuButton"),menu:c.jsx(Ht,{children:c.jsx(Be,{text:"Remove",tone:"critical",icon:lo,onClick:i})}),popover:Run}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx($un,{value:t.error.value,vertical:!0}):c.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const Fun=[];function Lun(e){var t;const{arrayFunctions:n=iB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:y,schemaType:x,value:b=Fun}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>c.jsx(Dun,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return c.jsxs(oe,{space:3,children:[c.jsx(ZB,{types:x.of,resolveUploader:y,onUpload:l,...r,tabIndex:0,children:c.jsxs(oe,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&c.jsx(ne,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(N,{align:"center",muted:!0,size:1,children:x.placeholder||c.jsx(c.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&c.jsx(ne,{border:!0,radius:1,children:c.jsx(TB,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>c.jsxs(AB,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&c.jsx(MB,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&c.jsx(Mun,{sortable:_,member:j})]},j.key))})})]})}),c.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:W0,readOnly:u,schemaType:x,value:b})]})}function Bun(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const Nun=[];function zun(e){var t;const{arrayFunctions:n=iB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:l,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:w,value:C=Nun}=e,[_,S]=h.useState(null),{space:E}=ks().sanity,j=h.useCallback(G=>{s({items:[G],position:"before",referenceItem:0})},[s]),k=h.useCallback(G=>{s({items:[G],position:"after",referenceItem:-1})},[s]),T=Bun(h.useMemo(()=>o.map(G=>G.key),[o]),Pf),{scrollElement:A,containerElement:D}=Xnn(),I=h.useRef(null),P=h.useMemo(()=>Pr(u[0])?u[0]._key:u[0],[u]),R=h.useCallback(G=>{const z={...G};if(_!==null&&(z.startIndex=Math.min(G.startIndex,_),z.endIndex=Math.max(G.endIndex,_)),P){const Z=T.findIndex(K=>K===P);Z!==-1&&(z.startIndex=Math.min(z.startIndex,Z),z.endIndex=Math.max(z.endIndex,Z))}return aCe(z)},[_,P,T]),$=h.useCallback((G,z)=>{if(!G.scrollElement)return;const Z=G.scrollElement,K=()=>{var J,X,ee,re;const de=(X=(J=D.current)==null?void 0:J.getBoundingClientRect().top)!=null?X:0,ie=(re=(ee=I.current)==null?void 0:ee.getBoundingClientRect().top)!=null?re:0,fe=Math.floor(ie-de);z(Z.scrollTop-fe)};return K(),G.scrollElement.addEventListener("scroll",K,{capture:!1,passive:!0}),()=>{Z.removeEventListener("scroll",K)}},[D]),U=h.useCallback(()=>53,[]),L=uCe({count:o.length,estimateSize:U,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:$,rangeExtractor:R,getItemKey:h.useCallback(G=>T[G],[T]),scrollToFn:(G,z,Z)=>{G!==Z.scrollOffset&&lCe(G,z,Z)}}),W=L.getVirtualItems(),Y=h.useCallback(G=>{var z,Z;const{active:K}=G;S((Z=(z=K.data.current)==null?void 0:z.sortable)==null?void 0:Z.index)},[]),V=h.useCallback(()=>{S(null)},[]),H=((t=w.options)==null?void 0:t.sortable)!==!1,Q=1,F=1;return c.jsxs(oe,{space:3,ref:I,children:[c.jsx(ZB,{types:w.of,resolveUploader:b,onUpload:l,...r,tabIndex:0,children:c.jsx(oe,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?c.jsx(ne,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(N,{align:"center",muted:!0,size:1,children:w.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ne,{border:!0,radius:1,style:{height:"".concat(L.getTotalSize()+W.length*E[Q]+E[F],"px"),width:"100%",position:"relative"},children:c.jsx(TB,{axis:"y",gap:Q,paddingY:F,items:T,onItemMove:a,onItemMoveStart:Y,onItemMoveEnd:V,sortable:H,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(W[0].start,"px)")},children:W.map(G=>{const z=o[G.index];return c.jsxs(AB,{ref:L.measureElement,sortable:H,"data-index":G.index,id:z.key,children:[z.kind==="item"&&c.jsx(MB,{member:z,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x}),z.kind==="error"&&c.jsx(aIe,{sortable:H,member:z,onRemove:()=>e.onItemRemove(z.key)})]},G.key)})})})})}),c.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:W0,readOnly:d,schemaType:w,value:C})]})}function uIe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?c.jsx(Lun,{...e}):c.jsx(zun,{...e})}const Vun=["string","number","boolean"];function Hun(e){return e.of.every(t=>Vun.includes(t.jsonType))}function Uun(e){return e.of.length===1&&dc("string",e.of[0])}function Wun(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function Yun(e){return e.of.some(t=>dc("block",t))}function qun(e){var t;return!!((t=e.options)!=null&&t.list)}function Gun(e){return Uun(e)&&Wun(e)?nun:qun(e)?QDe:Hun(e)?lIe:Yun(e)?Gcn:uIe}function Kun(e){return q4(e)?e:{title:gm("".concat(e)),value:e}}const lle={title:"",value:void 0};function dIe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:l,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(Kun)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),y=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),b=se.useCallback(_=>{a(at.from(typeof(_==null?void 0:_.value)>"u"?et():mt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){b(lle);return}b(S)},[b,g]),C=v?c.jsx(Zun,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:b,readOnly:o}):c.jsx(Df,{...f,customValidity:i,value:y(m),readOnly:o,onChange:w,children:[lle,...p].map((_,S)=>c.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return c.jsx(Jo,{path:l,isChanged:u,hasFocus:!!d,children:C})}const Zun=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:l,direction:u,inputId:d}=t,f=u==="horizontal"?Qt:oe;return c.jsx(ne,{border:!0,padding:3,radius:1,children:c.jsx(f,{space:3,role:"group",children:r.map((p,m)=>c.jsx(Xun,{customValidity:l,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),Xun=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:l,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return c.jsxs(q,{as:"label",align:"center",children:[c.jsx(AZe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:l,customValidity:r,name:o}),c.jsx(B,{marginLeft:2,children:c.jsx(N,{size:1,weight:"semibold",children:i.title})})]})});function fIe(e){const{validationError:t,elementProps:n}=e;return c.jsx(Kr,{...n,customValidity:t,"data-testid":"string-input"})}function Qun(e){return sDe(e,"list")?dIe:fIe}const Jun=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function vS(e,t){for(const n of Jun(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function hIe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=vS(t,"min"),i=vS(t,"integer"),s=vS(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,l=i||(s==null?void 0:s.constraint)===0,u=a?l?"numeric":"decimal":"text";return c.jsx(Kr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function edn(e){return sDe(e,"list")?dIe:hIe}var cle=Object.freeze,tdn=Object.defineProperty,pIe=(e,t)=>cle(tdn(e,"raw",{value:cle(t||e.slice())})),ule,dle;const ndn=O(B)(ule||(ule=pIe([`
  align-self: center;
`]))),rdn=O(B)(dle||(dle=pIe([`
  line-height: 0;
`])));function odn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,l=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=l==="checkbox"?jj:fxe,p=i?"transparent":void 0;return c.jsx(ne,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:c.jsxs(q,{children:[c.jsx(rdn,{padding:3,children:c.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),c.jsx(B,{flex:1,paddingY:3,children:c.jsx(AAe,{description:o.description,inputId:n,validation:a,title:o.title})}),c.jsx(ndn,{paddingX:3,paddingY:1,children:c.jsx(Yen,{maxAvatars:1,position:"top"})})]})})}function idn(e){const{validationError:t,elementProps:n}=e;return c.jsx(Kr,{...n,type:"email",inputMode:"email",customValidity:t})}function sdn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(et([a]))},[n]);return c.jsxs(Lc,{status:"warning",title:c.jsxs(c.Fragment,{children:[i===1&&c.jsx(c.Fragment,{children:"Unknown field found"}),i>1&&c.jsx(c.Fragment,{children:"Unknown fields found"})]}),children:[c.jsx(N,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"Encountered a field that is not defined in the schema."}):c.jsxs(c.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),c.jsxs(km,{marginTop:4,open:ad,title:c.jsx(c.Fragment,{children:"Developer info"}),children:[c.jsx(B,{marginBottom:3,children:c.jsx(N,{as:"p",muted:!0,size:1,children:i===1?c.jsx(c.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):c.jsx(c.Fragment,{children:"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),c.jsx(oe,{as:"ul",space:3,children:t.map(a=>c.jsx(adn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function adn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return c.jsx(ne,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:c.jsxs(oe,{space:2,children:[c.jsxs(ne,{border:!0,radius:1,children:[c.jsx(ne,{borderBottom:!0,padding:3,children:c.jsx(xr,{weight:"medium",children:t})}),c.jsx(B,{overflow:"auto",padding:3,children:c.jsx(xr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&c.jsxs(N,{as:"p",muted:!0,size:1,children:["This field is ",c.jsx("strong",{children:"read only"})," according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",c.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&c.jsx(le,{icon:lo,onClick:i,tone:"critical",text:c.jsx(c.Fragment,{children:"Remove field"})})]})})}var fle=Object.freeze,ldn=Object.defineProperty,cdn=(e,t)=>fle(ldn(e,"raw",{value:fle(t||e.slice())})),hle;const udn=O(ne)(hle||(hle=cdn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),ddn=h.forwardRef(function(t,n){const{onClick:r}=t,o=se.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return c.jsx(_xe,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),fdn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return c.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var ple=Object.freeze,hdn=Object.defineProperty,pdn=(e,t)=>ple(hdn(e,"raw",{value:ple(t||e.slice())})),mle;const mdn=O(UKe)(mle||(mle=pdn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),gdn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return c.jsx(Sxe,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>c.jsx(ddn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},vdn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(l=>{o(l.currentTarget.value)},[o]);return c.jsx(Df,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(l=>l.selected))==null?void 0:s.name,children:n.map(l=>c.jsx(fdn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:l.disabled,name:l.name,selected:!!l.selected,title:l.title||l.name},"".concat(r,"-").concat(l.name,"-tab")))})},ydn=se.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return c.jsxs(mdn,{"data-testid":"field-group-root",children:[c.jsx(gdn,{...o,disabled:n,onClick:i}),c.jsx(vdn,{...o,disabled:n,onSelect:i})]})}),gle=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:l,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:y}=t,{columns:x}=n.options||{},b=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:c.jsx(sdn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>c.jsx(Gnn,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:l,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,l,u,f,p]);return o.length===0?null:c.jsxs(oe,{space:5,children:[r.length>0?c.jsx(udn,{$level:m,"data-testid":"field-groups",children:c.jsx(ydn,{groups:r,inputId:g,onClick:y,shouldAutoFocus:!1})}):null,x?c.jsx(an,{columns:x,gap:4,marginTop:1,children:w()}):w(),b]})});function bdn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return c.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:c.jsx(ne,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:c.jsx(N,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const xdn=["January","February","March","April","May","June","July","August","September","October","November","December"],wdn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Cdn=Q9(0,24),_dn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sdn=[1,2,3,4,5,6],Edn=e=>{const t=rSe(e);return nSe({start:t,end:iSe(t)})},kdn=e=>e.map(t=>[t,...Sdn.map(n=>Fi(t,n))]),jdn=e=>kdn(Edn(e)).map(t=>({number:oSe(t[0]),days:t}));function Tdn(e){return c.jsx(B,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(an,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[wdn.map(t=>c.jsx(B,{paddingY:2,children:c.jsx(N,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),jdn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Id(r,e.focused),s=e.selected&&Id(r,e.selected),a=Id(r,new Date),l=e.focused&&dSe(r,e.focused);return c.jsx(bdn,{date:r,focused:i,isCurrentMonth:l,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const vle={dayPresets:!1,timePresets:!1},mIe=se.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[l,u]=se.useState(),d=se.useCallback(v=>{u(v.currentTarget.value)},[]),f=se.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=se.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=se.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return c.jsx(Kr,{...a,"data-testid":"date-input",ref:n,value:l===void 0?s:l,onChange:d,onBlur:p,onKeyPress:m})}),Adn=e=>{let{onChange:t,...n}=e;const r=se.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return c.jsx(mIe,{...n,onChange:r,inputMode:"numeric"})},Ddn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Idn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:l,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(E5t(hSe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(D8(s,S)),[s,d]),v=h.useCallback(S=>d(k5t(s,S)),[s,d]),g=h.useCallback(S=>{l(z2(qI(S,i.getHours()),i.getMinutes()))},[l,i]),y=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(z2(i,E))},[l,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);l(qI(i,E))},[l,i]);h.useCallback((S,E)=>{l(qI(z2(i,E),S))},[l,i]);const b=lr(n),w=h.useCallback(()=>{var S,E;(E=(S=b.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[b]),C=h.useCallback(S=>{var E,j;if(_dn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Fi(s,-7)),S.key==="ArrowDown"&&o(Fi(s,7)),S.key==="ArrowLeft"&&o(Fi(s,-1)),S.key==="ArrowRight"&&o(Fi(s,1)),(j=(E=b.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[b,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[b,w,s]),h.useCallback(()=>g(Fi(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Fi(new Date,1)),[g]);const _=h.useCallback(()=>l(new Date),[l]);return c.jsxs(B,{"data-ui":"Calendar",...u,ref:b,children:[c.jsxs(B,{padding:2,children:[vle.dayPresets,c.jsxs(q,{children:[c.jsx(B,{flex:1,children:c.jsx(Pdn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),c.jsx(B,{marginLeft:2,children:c.jsx(Odn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),c.jsxs(B,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(Tdn,{date:s,focused:s,onSelect:g,selected:i}),Ddn]})]}),r&&c.jsxs(B,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[c.jsxs(q,{align:"center",children:[c.jsxs(q,{align:"center",flex:1,children:[c.jsx(B,{children:c.jsx(Df,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:Cdn.map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),c.jsx(B,{paddingX:1,children:c.jsx(N,{children:":"})}),c.jsx(B,{children:c.jsx(Df,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:y,children:Q9(0,60,a).map(S=>c.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),c.jsx(B,{marginLeft:2,children:c.jsx(le,{text:"Set to current time",mode:"bleed",onClick:_})})]}),vle.timePresets]})]})});function Pdn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return c.jsxs(q,{flex:1,children:[c.jsx(le,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:Vk,paddingX:2,radius:0}),c.jsx(B,{flex:1,children:c.jsx(Df,{radius:0,value:r,onChange:n,children:xdn.map((s,a)=>c.jsx("option",{value:a,children:s},a))})}),c.jsx(le,{"aria-label":"Go to next month",mode:"bleed",icon:Yu,onClick:i,paddingX:2,radius:0})]})}function Odn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return c.jsxs(q,{children:[c.jsx(le,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:Vk,paddingX:2,radius:0}),c.jsx(Adn,{value:r,onChange:n,radius:0,style:{width:65}}),c.jsx(le,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Yu,paddingX:2,radius:0})]})}const $dn=se.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=se.useState(),l=se.useCallback(u=>{o(u),a(void 0)},[o]);return c.jsx(Idn,{...i,ref:n,selectedDate:r,onSelect:l,focusedDate:s||r,onFocusedDateChange:a})}),Rdn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:l,...u}=t,[d,f]=h.useState(null),p=lr(n),m=h.useRef(null),[v,g]=h.useState(!1);Nr(()=>g(!1),[d]);const y=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),b=h.useCallback(()=>g(!0),[]),w=c.jsx(B,{padding:1,children:c.jsx(le,{ref:m,icon:hg,mode:"bleed",padding:2,onClick:b,style:{display:"block"},"data-testid":"select-date-button"})});return c.jsx(mIe,{ref:p,...u,value:o,onChange:i,suffix:v?c.jsx(Af,{zOffset:1e3,children:c.jsx(fn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:c.jsx(B,{overflow:"auto",children:c.jsx(Qu,{onDeactivation:y,children:c.jsx($dn,{selectTime:a,timeStep:l,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),Mdn=new Date,gIe=se.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:l,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,y]=se.useState(null);h.useEffect(()=>{y(null)},[m]);const x=se.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&y(null)):j.isValid?s(f(j.date)):y(E)},[a,s,m,g,f]),b=se.useCallback(S=>{s(S?f(S):null)},[f,s]),w=lr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?c.jsx(Kr,{value:_,readOnly:!0}):c.jsx(Rdn,{...v,id:r,selectTime:d,timeStep:p,placeholder:l||"e.g. ".concat(i(Mdn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:b,customValidity:C==null?void 0:C.error})});function Fdn(e){return e instanceof Date&&!isNaN(e.valueOf())}const Ldn="YYYY-MM-DD",Bdn="HH:mm";function Ndn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Ldn,timeFormat:e.timeFormat||Bdn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function s4(e){return e.toISOString()}function zdn(e){const t=new Date(e);return Fdn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function Vdn(e,t){if(!t||t===1)return e;const n=l5t(e),r=sSt(n),o=r%t;return s4(o!==0?z2(n,r-o):n)}function Hdn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=Ndn(n.options),l=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=Vdn(p,a)),t(p===null?et():mt(p))},[t,a]),u=se.useCallback(f=>kT(f,"".concat(i," ").concat(s)),[i,s]),d=se.useCallback(f=>f9(f,"".concat(i," ").concat(s)),[i,s]);return c.jsx(gIe,{...o,onChange:l,deserialize:zdn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:s4,timeStep:a,value:r})}const XB="YYYY-MM-DD",Udn=XB;function Wdn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Udn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const Ydn=e=>f9(e,XB),qdn=e=>kT(e,XB);function Gdn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=Wdn(r.options),a=h.useCallback(d=>{n(d===null?et():mt(d))},[n]),l=h.useCallback(d=>kT(d,s),[s]),u=h.useCallback(d=>f9(d,s),[s]);return c.jsx(gIe,{...o,deserialize:Ydn,formatInputValue:l,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:qdn,value:i})}var yle=Object.freeze,Kdn=Object.defineProperty,Zdn=(e,t)=>yle(Kdn(e,"raw",{value:yle(t||e.slice())})),ble;const Xdn=O(hxe)(ble||(ble=Zdn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function Qdn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return c.jsx(Xdn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function Jdn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=vS(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return c.jsx(Kr,{type:a,inputMode:"url",customValidity:o,...i})}const efn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?Ske(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function tfn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||efn)(e,t,n)}function nfn(e,t){const[n,r]=se.useState(null),o=se.useRef(0),i=se.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(l=>{a===o.current&&r({status:"complete",result:l})},l=>{a===o.current&&r({status:"error",error:l})})},[e,...t]);return[n,i]}function rfn(){const{getClient:e}=ur(),t=dr(),n=ni(),r=TPe(),o=jPe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function ofn(e,t,n){const r=e.slice(0,-1),o=e0(t,r);return{parentPath:r,parent:o,...n}}async function ifn(e,t,n){return typeof e=="function"?e(t,n):e0(t,e)}function sfn(e){var t;const{getDocument:n}=ei().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:l,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(b=>b.level==="error"),[s]),p=rfn(),m=h.useCallback(b=>{if(!b){a(at.from(et([])));return}a(at.from([Ui({_type:i.name}),mt(b,["current"])]))},[a,i.name]),[v,g]=nfn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const b=n()||{_type:i.name},w=ofn(r,b,p);return ifn(d,b,w).then(C=>tfn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),y=(v==null?void 0:v.status)==="pending",x=se.useCallback(b=>m(b.currentTarget.value),[m]);return c.jsx(oe,{space:3,children:c.jsxs(q,{children:[c.jsxs(B,{flex:1,children:[c.jsx(Kr,{customValidity:f.length>0?f[0].message:"",disabled:y,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:l,...u}),(v==null?void 0:v.status)==="error"&&c.jsx(ne,{padding:2,tone:"critical",children:v.error.message})]}),d&&c.jsx(B,{marginLeft:1,children:c.jsx(le,{mode:"ghost",type:"button",disabled:l||y,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating":"Generate"})})]})})}function afn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?c.jsx(QDe,{...e}):eln(e)?c.jsx(lIe,{...e}):c.jsx(uIe,{...e})}const xle={document:gle,object:gle,array:afn,boolean:odn,number:hIe,text:Qdn,email:idn,datetime:Hdn,date:Gdn,url:Jdn,image:ean,file:Fin,string:fIe,slug:sfn,crossDatasetReference:Ean};function lfn(e){if(dc("array",e))return Gun(e);if(dc("reference",e))return Qan;if(dc("string",e))return Qun(e);if(dc("number",e))return edn(e)}function cfn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=lfn(e);if(n)return n;const o=LB(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>xle[s.name]);if(i)return xle[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function ufn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:Lw}function jm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...l}=i.schemaType,u=t(l);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function dfn(e){return jm({componentProps:e,componentResolver:cfn})}function ffn(e){return jm({componentProps:e,componentResolver:vrn})}function hfn(e){return jm({componentProps:e,componentResolver:orn})}function pfn(e){return jm({componentProps:e,componentResolver:ufn})}function mfn(e){return jm({componentProps:e,componentResolver:Mon})}function gfn(e){return jm({componentProps:e,componentResolver:Fon})}function vfn(e){return jm({componentProps:e,componentResolver:Lon})}function yfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function bfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function xfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function wfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function Cfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function _fn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function Sfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function Efn(){return Rl({defaultComponent:dfn,pick:yfn})}function kfn(){return Rl({defaultComponent:ffn,pick:bfn})}function vIe(){return Rl({defaultComponent:pfn,pick:xfn})}function jfn(){return Rl({defaultComponent:hfn,pick:wfn})}function Tfn(){return Rl({defaultComponent:mfn,pick:Cfn})}function Afn(){return Rl({defaultComponent:gfn,pick:_fn})}function Dfn(){return Rl({defaultComponent:vfn,pick:Sfn})}function Gw(e){const t=vIe();return c.jsx(_Te,{...e,component:t})}const Ifn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?c.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?c.jsxs(c.Fragment,{children:[c.jsx(ne,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:c.jsxs(N,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>c.jsx(Pfn,{document:a},a._id))]}):c.jsxs(N,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},Pfn=e=>{let{document:t}=e;const n=dr(),r=h.useCallback(o=>c.jsx(pm,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return c.jsx(ne,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:c.jsx(q,{align:"center",gap:2,children:c.jsx(Gw,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},wle={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Cle={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},_le={height:"100%"},Ofn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?c.jsxs(c.Fragment,{children:["The ",n," ",c.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?c.jsx(ne,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:c.jsxs(an,{columns:3,gap:[2,3,4],children:[c.jsxs(q,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[c.jsx(N,{children:c.jsx(Zr,{})}),c.jsxs(N,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&c.jsx(ne,{__unstable_checkered:!0,border:!0,radius:1,style:Cle,children:c.jsx(q,{align:"center",justify:"center",style:_le,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:wle,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):c.jsx(ne,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:c.jsxs(an,{columns:3,gap:3,children:[c.jsx(q,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:c.jsxs(N,{children:["You are about to delete the ",n,t.originalFilename&&c.jsxs(c.Fragment,{children:[" ",c.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",c.jsx("br",{}),c.jsx("br",{}),"Are you sure?"]})}),o&&c.jsx(ne,{__unstable_checkered:!0,border:!0,radius:1,style:Cle,children:c.jsx(q,{align:"center",justify:"center",style:_le,children:c.jsx("img",{src:"".concat(t.url,"?w=200"),style:wle,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},SO="confirmDelete",EO="listUsage";function a4(e){let{asset:t,assetType:n="image",mode:r=EO,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:l}=Gqt(t._id),d=r===EO?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,y]=h.useState([]),x=r===SO,b=g.length>0,w=r===EO||b,C=r===SO&&!b,_=x?c.jsxs(an,{padding:2,gap:2,columns:2,children:[c.jsx(le,{mode:"bleed",text:"Cancel",onClick:i}),c.jsx(le,{text:"Delete",tone:"critical",icon:lo,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=l.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=l.filter(j=>!S.includes(j._id));y(E),p(E.length===0&&!a),v(a)},[a,l]),c.jsxs(ca,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&c.jsx(B,{padding:4,children:c.jsx(qqt,{text:"Loading..."})}),!m&&c.jsxs(oe,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===SO&&c.jsx(Ofn,{asset:t,assetType:n,hasResults:b}),w&&c.jsx(Ifn,{asset:t,referringDocuments:g,assetType:n})]})]})}function yIe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return c.jsx(nn,{button:c.jsx(le,{padding:2,mode:n?"ghost":o,icon:Bo,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:c.jsxs(Ht,{children:[c.jsx(Be,{text:"Show uses",icon:bf,onClick:()=>{r({type:"showUsage"})}}),c.jsx(Be,{text:"Delete",icon:lo,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var Sle=Object.freeze,$fn=Object.defineProperty,SA=(e,t)=>Sle($fn(e,"raw",{value:Sle(t||e.slice())})),Ele,kle,jle,Tle;const Rfn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Mfn=O.img(Ele||(Ele=SA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Ffn=O(ne)(kle||(kle=SA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),l4=O.div(jle||(jle=SA([`
  position: relative;
  display: inherit;
`]))),Lfn=O.div(Tle||(Tle=SA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),l4,l4),Bfn=se.memo(function(t){const n=_r(mn),r=Ei(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:l,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const y=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),b=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),l(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,l,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&y(),D.type==="showUsage"&&b()},[y,b]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,Rfn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return c.jsxs(l4,{children:[c.jsx(le,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:c.jsxs(Ffn,{__unstable_checkered:!0,children:[c.jsx(Mfn,{alt:E,src:A,onClick:s,"data-id":j}),v&&c.jsx(Yqt,{})]})}),c.jsx(Lfn,{children:c.jsx(yIe,{isSelected:u,onAction:S})}),(d||p)&&c.jsx(a4,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),Nfn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],zfn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Vfn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Hfn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Ale=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Ufn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const l=t?n?Hfn:Vfn:n?zfn:Nfn;if(r&&a===0)return" 0 ".concat(l[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=Ale(a,s,f);return"".concat(d+g," ").concat(l[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),l.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=Ale(Number(a),s,f),v=l[p];return"".concat(d+m," ").concat(v)}const kO={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function Wfn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function Yfn(e){return kO!=null&&kO[e]?kO[e].title:Wfn(e)}var Dle=Object.freeze,qfn=Object.defineProperty,Cu=(e,t)=>Dle(qfn(e,"raw",{value:Dle(t||e.slice())})),Ile,Ple,Ole,$le,Rle,Mle,Fle,Lle,Ble;const c4=O.span(Ile||(Ile=Cu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),dg=O(q)(Ple||(Ple=Cu([""]))),Gfn=O(N)(Ole||(Ole=Cu([""]))),Kfn=O(ne)(Rle||(Rle=Cu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),Gfn,e=>e.isSelected&&he($le||($le=Cu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),Nle=O(le)(Lle||(Lle=Cu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&he(Mle||(Mle=Cu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),c4,dg),e=>!e.isSelected&&he(Fle||(Fle=Cu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),Zfn=O(N)(Ble||(Ble=Cu([`
  overflow-wrap: anywhere;
`]))),zle={position:"relative"},Vle={flexShrink:0},jO={minWidth:0},Hle={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Xfn="Cannot delete current file",Qfn=e=>{const t=_r(mn),n=Ei(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[l,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:y,isMobile:x}=e,{originalFilename:b,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=Ff(S,{agoSuffix:!0}),j=Yfn(C),k=Ufn(_),T=(b||"").length>37,A=()=>{a(!0)},D=W=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:W.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},P=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:W=>{u(!1),D(W),console.error("Could not delete asset",W)}})},R=()=>{i(!1),a(!1)},$=()=>{i(!0)},U=()=>{f(!d)},L=W=>{W.type==="delete"&&A(),W.type==="showUsage"&&$()};return x?c.jsxs(ne,{paddingBottom:2,style:zle,children:[c.jsxs(an,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[c.jsx(Nle,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:c.jsxs(q,{gap:2,flex:2,align:"center",children:[c.jsx(ne,{as:c4,padding:2,tone:"transparent",radius:2,children:c.jsx(N,{muted:!0,size:2,style:Vle,children:c.jsx(kp,{})})}),c.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:jO,children:b})]})}),c.jsx(q,{justify:"flex-end",align:"center",paddingRight:1,style:Hle,children:c.jsx(le,{mode:"bleed",fontSize:1,padding:2,onClick:U,icon:d?Wge:Il})})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs(an,{marginTop:3,columns:3,gap:1,children:[c.jsxs(oe,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Size"}),c.jsx(N,{size:1,muted:!0,children:k})]}),c.jsxs(oe,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Type"}),c.jsx(N,{size:1,muted:!0,children:j})]}),c.jsxs(oe,{space:2,children:[c.jsx(Nt,{size:1,muted:!0,children:"Date added"}),c.jsx(N,{size:1,muted:!0,children:E})]})]}),c.jsxs(oe,{space:2,marginTop:3,children:[c.jsx(le,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:$,icon:bf}),c.jsx(le,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:lo,disabled:y,title:y?Xfn:"Delete file",onClick:A})]})]}),(o||s)&&c.jsx(a4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:R,onDelete:P,isDeleting:l})]}):c.jsxs(Kfn,{asset:p,paddingBottom:1,style:zle,radius:0,overflow:"hidden",isSelected:y,"aria-selected":"true",children:[c.jsxs(an,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[c.jsx(Nle,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(b),isSelected:y,children:c.jsxs(dg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(b),children:[c.jsx(ne,{as:c4,padding:2,tone:"transparent",radius:2,style:Vle,children:c.jsx(N,{muted:!0,size:2,children:c.jsx(kp,{})})}),T&&c.jsx(bt,{content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:b})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:c.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:jO,children:b})}),!T&&c.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:jO,children:b})]})}),c.jsx(dg,{align:"center",children:c.jsx(N,{size:1,muted:!0,children:k})}),c.jsx(dg,{align:"center",children:c.jsx(B,{children:c.jsx(Zfn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),c.jsx(dg,{align:"center",children:c.jsx(N,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),c.jsx(dg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:Hle,children:c.jsx(yIe,{border:!1,isSelected:!1,onAction:L})})]}),(o||s)&&c.jsx(a4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:R,onDelete:P,isDeleting:l})]})},Jfn={paddingLeft:"2.2rem"},Ule={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function ehn(e){const n=am()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:l}=e;return c.jsxs(B,{padding:4,children:[c.jsx(ne,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?c.jsx(an,{style:Ule,children:c.jsx(B,{flex:2,paddingLeft:5,children:c.jsx(Nt,{muted:!0,size:1,children:"Filename"})})}):c.jsxs(an,{gap:1,style:Ule,children:[c.jsx(B,{flex:2,style:Jfn,children:c.jsx(Nt,{muted:!0,size:1,children:"Filename"})}),c.jsx(B,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Size"})}),c.jsx(B,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Type"})}),c.jsx(B,{flex:1,children:c.jsx(Nt,{muted:!0,size:1,children:"Date added"})})]})}),c.jsxs(oe,{children:[l&&r.length===0&&c.jsx(B,{paddingTop:4,paddingBottom:2,children:c.jsx(q,{justify:"center",children:c.jsx(zr,{muted:!0})})}),r.map(u=>c.jsx(Qfn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var Wle=Object.freeze,thn=Object.defineProperty,bIe=(e,t)=>Wle(thn(e,"raw",{value:Wle(t||e.slice())})),Yle,qle;const yS=200,xIe="sanity.imageAsset",nhn="sanity.fileAsset",rhn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},ohn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yS,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xIe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?rhn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},ihn=O(an)(Yle||(Yle=bIe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),shn=O(ne)(qle||(qle=bIe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),ahn=function(t,n){const r=_r(mn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(eSe())),s=h.useRef(0),a=h.useRef(),[l,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:y,assetType:x="image",dialogHeaderTitle:b="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(L=>L.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(L=>{const W=L*yS,Y=W+yS,V=x==="image",H=V?"asset.image-list":"asset.file-list",Q=V?xIe:nhn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(ohn(W,Y,Q,_),{},{tag:H}).subscribe(F=>{f(F.length<yS),u(G=>G.concat(F)),g(!1)}))},[x,_,o]),T=h.useCallback(L=>{u(W=>W.filter(Y=>Y._id!==L))},[u]),A=h.useCallback(L=>{l.find(Y=>Y._id===L)&&C([{kind:"assetDocumentId",value:L}])},[l,C]),D=h.useCallback(L=>{L.preventDefault(),A(L.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(L=>{L.key==="Enter"&&(L.preventDefault(),A(L.currentTarget.getAttribute("data-id")))},[A]),P=h.useCallback(()=>{w&&w()},[w]),R=h.useCallback(L=>{L.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const $=h.useMemo(()=>c.jsxs(B,{padding:4,children:[c.jsx(ihn,{gap:2,children:l.map(L=>c.jsx(Bfn,{asset:L,isSelected:y.some(W=>W._id===L._id),onClick:D,onKeyPress:I,onDeleteFinished:T},L._id))}),v&&l.length===0&&c.jsx(q,{justify:"center",children:c.jsx(zr,{muted:!0})}),!v&&l.length===0&&c.jsx(N,{align:"center",muted:!0,children:"No images"})]}),[l,T,D,I,v,y]),U=h.useMemo(()=>c.jsx(ehn,{isLoading:v,assets:l,selectedAssets:y,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,l,y,D,I,T]);return c.jsxs(ca,{__unstable_autoFocus:p,header:b,id:i.current,onClickOutside:P,onClose:P,ref:n,width:2,children:[E&&!j&&c.jsx(ne,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:c.jsxs(q,{gap:[3,4],align:"center",children:[c.jsx(N,{children:c.jsx(em,{})}),c.jsxs(N,{size:1,children:["Only showing assets of accepted types: ",c.jsx("b",{children:S})]})]})}),x==="image"&&$,x==="file"&&U,l.length>0&&!d&&c.jsx(shn,{tone:"default",padding:4,children:c.jsx(q,{direction:"column",children:c.jsx(le,{type:"button",icon:hF,loading:v,onClick:R,text:"Load more",tone:"primary"})})})]})},wIe=se.memo(se.forwardRef(ahn)),CIe={name:"sanity-default",title:"Uploaded files",component:wIe,icon:fF},_Ie={name:"sanity-default",title:"Uploaded images",component:wIe,icon:xl};function lhn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function oh(e,t){return e[t]}function chn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const uhn=[{fieldPath:"_updatedAt",icon:hg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:hg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:bf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:jy,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:jy,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:jy,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:zk,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:hg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:hg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:Jm,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:kp,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:xl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:ave,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:Vge,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:bf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:Jm,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Jm,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Pl,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:Jm,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:Jm,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function dhn(e){let{documentId:t,schemaType:n}=e;const r=Ts(),{draft:o,published:i,isLoading:s}=ko(()=>JT(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),l=eB({draft:o,published:i,value:a});return s?c.jsx(p0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):c.jsx(c.Fragment,{children:l.title||t.slice(0,8)})}const tk="yyyy-MM-dd";function fhn(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t?"True":"False"})}function Gle(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Ou(n)?null:c.jsx(c.Fragment,{children:qo(n,tk)})}function Kle(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Ou(n)?null:c.jsx(c.Fragment,{children:qo(n,tk)})}function hhn(e){let{value:t}=e;var n;return c.jsxs(c.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function Zle(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Ou(r)||!Ou(n)?null:c.jsxs(c.Fragment,{children:[qo(n,tk),"  ",qo(r,tk)]})}function Km(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}function Zm(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t," ",Lr("item",t)]})}function phn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min,"  ",t.max]})}function mhn(e){let{value:t}=e;return c.jsxs(c.Fragment,{children:[t.min,"  ",t.max," items"]})}function cl(e){let{value:t}=e;const n=dr(),r=t._ref,o=n.get(t._type);return o?c.jsx(dhn,{documentId:r,schemaType:o}):null}function gi(e){let{value:t}=e;return c.jsx(c.Fragment,{children:t})}const SIe=h.createContext(void 0);function Ot(){const e=h.useContext(SIe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Ea(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Ot(),s=h.useCallback(a=>{o(a.currentTarget.value);const l=parseFloat(a.currentTarget.value);n(Number.isFinite(l)?l:null)},[n]);return c.jsx(Kr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function EIe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,l]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Ot(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;l(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return c.jsxs(q,{gap:2,children:[c.jsx(B,{flex:1,children:c.jsx(Kr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),c.jsx(B,{flex:1,children:c.jsx(Kr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function EA(e,t){const n=t.split("."),r=n[0];if(r&&Ua(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?EA(o.type,i):o}}}var Xle=Object.freeze,ghn=Object.defineProperty,kIe=(e,t)=>Xle(ghn(e,"raw",{value:Xle(t||e.slice())})),Qle,Jle;const vhn=O(B)(Qle||(Qle=kIe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),yhn=O(Nt)(Jle||(Jle=kIe([`
  max-width: 150px;
`])));function bhn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Ts(),{draft:i,published:s,isLoading:a}=ko(()=>JT(o,r,t,""),[t,o,r]),l=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:c.jsxs(Qt,{space:3,children:[n&&n.length>0&&c.jsx(_B,{presence:n}),c.jsx(yhn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return c.jsx(vhn,{children:c.jsx(Lw,{...eB({draft:i,published:s,value:l}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function QB(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const l=dr().get(o),u=wN(r),d=h.useMemo(()=>({id:r,type:l==null?void 0:l.name}),[r,l==null?void 0:l.name]),{onClick:f,href:p}=uw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return l?c.jsx(B,{...s,children:c.jsx(cv,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:c.jsx(bhn,{documentId:r,presence:u,schemaType:l})})}):null}const xhn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),whn="_debug_search_score",jIe=!1,ece=1e3,TIe="k",Chn=xhn?"Cmd":"Ctrl",wx=Tf.space[1],_hn=735,AIe=800,Kw=5,q0=2;function kA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function Shn(e,t){return jA(e).filter(n=>Ehn(n,t)).sort(u4)}function jA(e){return nKt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function u4(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function Ehn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const khn=300,TO={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function jhn(e){return e!==null}function Thn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function DIe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,l]=h.useState(n),u=_r(mn),d=h.useMemo(()=>rB(jA(s),u,{tag:"search.global",unique:!0}),[u,s]),f=jL(m=>m.pipe(ut(jhn),ce(Thn),Kn(Yt),awe(v=>wi((v==null?void 0:v.debounceTime)||khn)),Wn(i),rt(v=>co(Ce({...TO,loading:!0,options:v.options,terms:v.terms}),JJe(()=>kA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ce(g=>({hits:g})),Wn(g=>{let{hits:y}=g;return r==null?void 0:r(y)}),Xn(g=>(o==null||o(g),Ce({...TO,error:g,loading:!1,options:v.options,terms:v.terms})))),Ce(Gn).pipe(Wn(()=>r==null?void 0:r([])))),Ce({loading:!1}))),Na((v,g)=>({...v,...g}),TO),Wn(l)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const Ahn=40;function JB(e){let{availableCharacters:t=Ahn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,l){const u=tce(a);return i-=u.length,(l===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(tce).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function tce(e){var t;return(t=e.title)!=null?t:e.name}var nce=Object.freeze,Dhn=Object.defineProperty,Ihn=(e,t)=>nce(Dhn(e,"raw",{value:nce(t||e.slice())})),rce;const Phn=()=>!0,Ohn=O(N)(rce||(rce=Ihn([`
  word-break: break-word;
`]))),$hn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=dr(),{state:{fullscreen:l}}=Ot(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=DIe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),y=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:Zn(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=JB({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),b=h.useCallback(C=>{const _=C.hit.hit._type;return c.jsx(QB,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return c.jsx(fn,{arrow:!1,constrainSize:!0,content:c.jsx("div",{ref:_,children:T?S:m.terms.query&&c.jsx(B,{padding:4,children:c.jsx(q,{align:"center",height:"fill",justify:"center",children:c.jsxs(Ohn,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",m.terms.query,""]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:q0,referenceElement:s.current})},[d,m.loading,m.terms.query]);return c.jsx("div",{ref:s,children:c.jsx(uL,{"aria-label":x,filterOption:Phn,fontSize:l?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:y,placeholder:x,radius:2,ref:n,renderOption:b,renderPopover:w,value:i==null?void 0:i._ref})})});function ub(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Ot(),a=dr(),l=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=EA(m,t.fieldPath);if(Al(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(gf).flatMap(g=>g.to);if(gf(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>l(null),[l]),f=h.useCallback(()=>{o==null||o()},[o]);return c.jsx(B,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?c.jsxs(oe,{space:3,children:[c.jsx(ne,{padding:1,radius:1,shadow:1,children:c.jsx(QB,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),c.jsx(le,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):c.jsx($hn,{onSelect:l,types:u,value:r})})}function Rhn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return c.jsx(Be,{onClick:i,padding:3,pressed:n,tone:"default",children:c.jsx(q,{align:"center",justify:"space-between",gap:3,children:c.jsxs(oe,{paddingRight:2,space:2,children:[c.jsx(N,{size:1,weight:"regular",children:r}),o&&c.jsx(xr,{muted:!0,size:0,children:o})]})})})}function nk(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Ot(),s=dr(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=EA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(uo).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>Mhn(p))).filter(uo).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:ao([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),l=h.useCallback(u=>{n(u)},[n]);return c.jsx(nn,{button:c.jsx(le,{mode:"ghost",padding:3,children:c.jsxs(q,{align:"center",gap:2,justify:"space-between",children:[c.jsx(N,{size:1,weight:"regular",children:r||"Select..."}),c.jsx(B,{marginLeft:1,children:c.jsx(N,{size:1,children:c.jsx(Pl,{})})})]})}),id:o||"",menu:c.jsx(Ht,{children:a.map((u,d)=>c.jsx(Rhn,{onClick:l,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function Mhn(e){return q4(e)?e:{title:gm("".concat(e)),value:e}}const IIe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),PIe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),OIe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),$Ie=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Xe(e){return JSON.stringify(e)}const Fhn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:Zm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:Ea,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:Zm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Xe(n)):null},icon:PIe,initialValue:null,inputComponent:Ea,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ",buttonValueComponent:Zm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Xe(n)):null},icon:IIe,initialValue:null,inputComponent:Ea,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:Zm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Xe(n)):null},icon:$Ie,initialValue:null,inputComponent:Ea,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ",buttonValueComponent:Zm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Xe(n)):null},icon:OIe,initialValue:null,inputComponent:Ea,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:Zm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:Ea,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:mhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Xe(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:EIe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Xe(n)," in ").concat(t):null},initialValue:null,inputComponent:nk,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Xe(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:nk,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Xe(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:ub,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Xe(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:ub,label:"does not include",type:"arrayReferenceNotIncludes"}},RIe=h.createContext(null);function Lhn(e){let{children:t,workspace:n}=e;return c.jsx(RIe.Provider,{value:n,children:t})}function Ml(){const e=h.useContext(RIe);if(!e)throw new Error("Workspace: missing context value");return e}const bS=h.createContext(null);function Bhn(e){let{children:t,...n}=e;const r=h.useContext(bS),{unstable_sources:o}=Ml();if("source"in n){const{source:i}=n;return c.jsx(bS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?c.jsx(c.Fragment,{children:t}):c.jsx(bS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function ur(){const e=h.useContext(bS);if(!e)throw new Error("Could not find `source` context");return e}function Nhn(e){return c.jsx(B,{...e,children:c.jsxs(q,{align:"flex-start",gap:3,children:[c.jsx(ir,{tone:"caution",children:c.jsx(Zr,{})}),c.jsxs(oe,{space:4,children:[c.jsx(ir,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),c.jsx(ir,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),c.jsx(ir,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function zhn(e){let{reference:t}=e;const n=Ts(),r=h.useCallback(o=>HAe(n,o),[n]);return c.jsx(qv,{observeAsset:r,reference:t,waitPlaceholder:c.jsx(Hhn,{}),children:o=>c.jsx(Vhn,{asset:o})})}function Vhn(e){let{asset:t}=e;return c.jsx(ne,{padding:2,shadow:1,children:c.jsxs(q,{align:"center",justify:"space-between",wrap:"nowrap",children:[c.jsx(ne,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(N,{children:c.jsx(n0,{})})}),c.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[c.jsx(N,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),c.jsx(N,{size:1,muted:!0,children:LDe(t.size)})]})]})})}function Hhn(){return c.jsx(ne,{padding:2,shadow:1,children:c.jsxs(q,{align:"center",justify:"flex-start",children:[c.jsx(ne,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(N,{children:c.jsx(n0,{})})}),c.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[c.jsx(p5,{animated:!0,style:{width:"100%"},radius:1}),c.jsx(p5,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var oce=Object.freeze,Uhn=Object.defineProperty,eN=(e,t)=>oce(Uhn(e,"raw",{value:oce(t||e.slice())})),ice,sce,ace;const Whn=O(ne)(ice||(ice=eN([`
  position: relative;
  padding-bottom: 100%;
`]))),Yhn=O.img(sce||(sce=eN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),qhn=O(q)(ace||(ace=eN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function Ghn(e){let{reference:t}=e;const n=Ts(),r=h.useCallback(o=>VAe(n,o),[n]);return c.jsx(qv,{observeAsset:r,reference:t,children:o=>c.jsx(Khn,{asset:o})})}function Khn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return c.jsxs(Whn,{__unstable_checkered:!0,border:!0,children:[!n&&c.jsx(qhn,{align:"center",justify:"center",children:c.jsx(zr,{})}),c.jsx(Yhn,{onLoad:i,src:o})]})}function Zhn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?c.jsx(zhn,{reference:t}):t._type.startsWith("sanity.imageAsset")?c.jsx(Ghn,{reference:t}):null:null}var lce=Object.freeze,Xhn=Object.defineProperty,Qhn=(e,t)=>lce(Xhn(e,"raw",{value:lce(t||e.slice())})),cce;const Jhn={file:"sanity.fileAsset",image:"sanity.imageAsset"},epn=O(B)(cce||(cce=Qhn([`
  width: min(calc(100vw - 40px), 320px);
`])));function Fg(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,l]=h.useState(null),{state:{fullscreen:u}}=Ot(),{file:d,image:f}=ur().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===CIe.name);case"image":return f.assetSources.filter(E=>E.name===_Ie.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=_r(mn),g=h.useCallback(()=>{l(null),r(null)},[r]),y=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];l(j),y()},[y]),b=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:Jhn[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Nn(e,"options.accept",e==="image"?"image/*":"");return c.jsx(epn,{children:c.jsxs(oe,{space:3,children:[i&&w&&c.jsx(cm,{children:c.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:y,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&c.jsx(Zhn,{reference:o}),c.jsxs(q,{gap:2,children:[p.length===0&&c.jsx(Nhn,{padding:2}),p.length>0&&c.jsx(c.Fragment,{children:p.length>1?c.jsx(nn,{button:c.jsx(le,{fontSize:C,icon:o?TS:Vi,iconRight:Il,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:c.jsx(Ht,{children:p.map(E=>c.jsx(Be,{fontSize:C,icon:E.icon||xl,onClick:()=>b(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):c.jsx(le,{fontSize:C,icon:o?TS:Vi,mode:"ghost",onClick:()=>b(p[0]),style:{flex:o?1:0},text:_})}),o&&c.jsx(le,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const tpn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Fg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Fg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Fg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Fg("image"),label:"is not",type:"assetImageNotEqual"}};function npn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return c.jsxs(Df,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[c.jsx("option",{value:"true",children:"True"}),c.jsx("option",{value:"false",children:"False"})]})}const rpn={booleanEqual:{buttonLabel:"is",buttonValueComponent:fhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:!0,inputComponent:npn,label:"is",type:"booleanEqual"}},opn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var uce=Object.freeze,ipn=Object.defineProperty,spn=(e,t)=>uce(ipn(e,"raw",{value:uce(t||e.slice())})),dce;const fce="Include time",apn=O(N)(dce||(dce=spn([`
  cursor: default;
`])));function tN(e){let{onChange:t,value:n}=e;return c.jsxs(q,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[c.jsx(oe,{children:c.jsx(apn,{muted:!0,onClick:t,size:1,weight:"medium",children:fce})}),c.jsx(fxe,{checked:n,label:fce,onChange:t})]})}const MIe=h.createContext(void 0);function nN(){const e=h.useContext(MIe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const lpn=["January","February","March","April","May","June","July","August","September","October","November","December"],cpn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Q9(0,24);const upn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dpn=[1,2,3,4,5,6];function fpn(e){const{focusedDate:t}=nN(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return c.jsxs(q,{align:"center",flex:1,justify:"space-between",children:[c.jsxs(Qt,{paddingLeft:2,space:1,children:[c.jsx(N,{weight:"medium",children:lpn[t.getMonth()]}),c.jsx(N,{weight:"medium",children:t.getFullYear()})]}),c.jsxs(B,{children:[c.jsx(le,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),c.jsx(le,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:Vk}),c.jsx(le,{"aria-label":"Go to next month",mode:"bleed",icon:Yu,onClick:s})]})]})}var hce=Object.freeze,hpn=Object.defineProperty,FIe=(e,t)=>hce(hpn(e,"raw",{value:hce(t||e.slice())})),pce,mce;const ppn=O.svg(e=>{let{theme:t}=e;return he(pce||(pce=FIe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),mpn=O(ne)(mce||(mce=FIe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function gpn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:l}=nN(),u=o&&Id(t,o),d=l&&o&&Id(t,o),f=l&&i&&Id(t,i),p=dSe(t,s),m=s&&Id(t,s),v=Id(t,new Date),g=o&&i&&!d&&!f&&ER(t,o)&&sSe(t,i);return c.jsxs(mpn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&c.jsx(ppn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:c.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),c.jsx(N,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const vpn=e=>{const t=rSe(e);return nSe({start:t,end:iSe(t)})},ypn=e=>e.map(t=>[t,...dpn.map(n=>Fi(t,n))]),bpn=e=>ypn(vpn(e)).map(t=>({number:oSe(t[0]),days:t}));var gce=Object.freeze,xpn=Object.defineProperty,wpn=(e,t)=>gce(xpn(e,"raw",{value:gce(t||e.slice())})),vce;const Cpn=O(an)(vce||(vce=wpn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function _pn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=nN();return c.jsx(B,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:c.jsxs(Cpn,{children:[cpn.map(i=>c.jsx(B,{paddingBottom:3,paddingTop:2,children:c.jsx(N,{align:"center",size:o,weight:"medium",children:i})},i)),bpn(r).map((i,s)=>i.days.map((a,l)=>c.jsx(gpn,{date:a,onSelect:n},"".concat(s,"-").concat(l))))]})})}const Spn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function Epn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,l]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),y=h.useCallback(C=>{const _=S5t(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&sSe(_,t),E=n&&ER(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),b=h.useCallback(C=>{var _;if(upn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(Fi(f,-7)),C.key==="ArrowDown"&&p(Fi(f,7)),C.key==="ArrowLeft"&&p(Fi(f,-1)),C.key==="ArrowRight"&&p(Fi(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(D8(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&ER(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),c.jsx(MIe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:c.jsxs(B,{"data-ui":"Calendar",ref:l,children:[c.jsx(q,{children:c.jsx(B,{flex:1,children:c.jsx(fpn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),c.jsxs(B,{"data-calendar-grid":!0,onKeyDown:b,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(_pn,{onSelect:y}),Spn]})]})})}function rN(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Ot(),a=h.useCallback(l=>{r(l)},[r]);return c.jsx(Epn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var yce=Object.freeze,kpn=Object.defineProperty,jpn=(e,t)=>yce(kpn(e,"raw",{value:yce(t||e.slice())})),bce;const Tpn=O(B)(e=>{let{background:t,smallClearButton:n}=e;return he(bce||(bce=jpn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),oN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return c.jsx(Tpn,{background:r,smallClearButton:o,children:c.jsx(Kr,{...i,ref:n})})});function mu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=X5(t);break;case"start":o=$f(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var xce=Object.freeze,Apn=Object.defineProperty,LIe=(e,t)=>xce(Apn(e,"raw",{value:xce(t||e.slice())})),wce,Cce;const Y_={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},Dpn=O.span(e=>{let{theme:t}=e;return he(wce||(wce=LIe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),Ipn=O(N)(Cce||(Cce=LIe([`
  color: `,`;
`])),pe.red[500].hex);function rk(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?Y_.datetime.pattern:Y_.date.pattern,[o]),[l,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const b=new Date(i);return qo(b,a)}),p=h.useMemo(()=>qo(r||new Date,a),[a,r]),m=h.useCallback(b=>{let{dateString:w,triggerOnChange:C}=b;if(!w)return;const _=i5t(w,a,new Date),S=Ou(_);S&&(C&&n(mu({date:_,dateOnly:!t})),f(qo(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(b=>{f(b.currentTarget.value)},[]),y=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(b=>{b.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const b=i&&new Date(i);b&&m({dateString:qo(b,a),triggerOnChange:!1})},[a,m,o,i]),c.jsx(bt,{content:c.jsxs(q,{gap:2,children:[c.jsx(Ipn,{size:1,children:c.jsx(sa,{})}),c.jsxs(N,{muted:!0,size:1,children:["Must be in the format"," ",c.jsx(Dpn,{children:o?Y_.datetime.exampleDate:Y_.date.exampleDate})]})]}),disabled:!l,padding:3,placement:"top",portal:!0,children:c.jsx("div",{children:c.jsx(oN,{...s,clearButton:!!d,customValidity:l,onBlur:v,onChange:g,onClear:y,onKeyDown:x,placeholder:p,value:d})})})}function BIe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useCallback(l=>{let{date:u}=l;if(u){const d=mu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const l=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=mu({date:u,dateOnly:!t})),n({includeTime:l,date:d})},[t,n,r]),a=h.useCallback(l=>{n({includeTime:r==null?void 0:r.includeTime,date:l||null})},[n,r==null?void 0:r.includeTime]);return c.jsxs(oe,{space:3,children:[c.jsx(rk,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),c.jsx(rN,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&c.jsx(tN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function _ce(e){return c.jsx(BIe,{...e,isDateTime:!1})}function TA(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Ot(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=mu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),l=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=mu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return c.jsxs(oe,{space:3,children:[c.jsx(rk,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),c.jsx(rN,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&c.jsx(tN,{onChange:l,value:!!(o!=null&&o.includeTime)})]})}function Ppn(e){return c.jsx(TA,{...e,direction:"after",isDateTime:!1})}function Opn(e){return c.jsx(TA,{...e,direction:"before",isDateTime:!1})}function Sce(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Ot(),l=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,l()},[l]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,l()},[l]);return c.jsxs(q,{gap:2,children:[c.jsx(B,{flex:1,children:c.jsx(Kr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),c.jsx(B,{flex:1,children:c.jsxs(Df,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[c.jsx("option",{value:"days",children:"Days"}),c.jsx("option",{value:"months",children:"Months"}),c.jsx("option",{value:"years",children:"Years"})]})})]})}const $pn=-7;function NIe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Ot(),i=h.useMemo(()=>Fi(new Date,$pn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Ece({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),l=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Ece({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return c.jsx("div",{children:c.jsxs(oe,{space:3,children:[c.jsxs(q,{direction:"column",gap:3,children:[c.jsx(rk,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),c.jsx(rk,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),c.jsx(rN,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&c.jsx(tN,{onChange:l,value:!!(r!=null&&r.includeTime)})]})})}function Ece(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?mu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?mu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?mu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?mu({date:t,dateOnly:!o,roundDay:"start"}):null}}function Rpn(e){return c.jsx(NIe,{...e,isDateTime:!1})}function kce(e){return c.jsx(BIe,{...e,isDateTime:!0})}function Mpn(e){return c.jsx(TA,{...e,direction:"after",isDateTime:!0})}function Fpn(e){return c.jsx(TA,{...e,direction:"before",isDateTime:!0})}function Lpn(e){return c.jsx(NIe,{...e,isDateTime:!0})}const ga={dateAfter:{buttonLabel:"after",buttonValueComponent:Kle,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:Kle,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:Gle,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:hhn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:Gle,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},Bpn={dateAfter:{...ga.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:Ppn,type:"dateAfter"},dateBefore:{...ga.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:Opn,type:"dateBefore"},dateEqual:{...ga.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Xe(n.date)):null},inputComponent:_ce,type:"dateEqual"},dateLast:{...ga.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?AK(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Xe(o)):null},inputComponent:Sce,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...ga.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Xe(n.date)):null},inputComponent:_ce,type:"dateNotEqual"},dateRange:{...ga.dateRange,buttonValueComponent:Zle,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Xe(n.dateMin)," && ").concat(t," <= ").concat(Xe(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:TK().toISOString(),dateMin:null},inputComponent:Rpn,type:"dateRange"},dateTimeAfter:{...ga.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(n.date),")"):null},inputComponent:Mpn,type:"dateTimeAfter"},dateTimeBefore:{...ga.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Xe(n.date),")"):null},inputComponent:Fpn,type:"dateTimeBefore"},dateTimeEqual:{...ga.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Ou(r)||!t)return null;const o=(n!=null&&n.includeTime?_K(r):$f(r)).toISOString(),i=(n!=null&&n.includeTime?SK(r):X5(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Xe(o),") && dateTime(").concat(t,") < dateTime(").concat(Xe(i),")")},inputComponent:kce,type:"dateTimeEqual"},dateTimeLast:{...ga.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?AK(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:Sce,type:"dateTimeLast"},dateTimeNotEqual:{...ga.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Ou(r)||!t)return null;const o=(n!=null&&n.includeTime?_K(r):$f(r)).toISOString(),i=(n!=null&&n.includeTime?SK(r):X5(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Xe(o),") || dateTime(").concat(t,") > dateTime(").concat(Xe(i),")")},inputComponent:kce,type:"dateTimeNotEqual"},dateTimeRange:{...ga.dateRange,buttonValueComponent:Zle,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Xe(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Xe(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:TK().toISOString(),dateMin:null},inputComponent:Lpn,type:"dateTimeRange"}},Npn={numberEqual:{buttonLabel:"is",buttonValueComponent:Km,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Ea,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:Km,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Xe(n)):null},icon:PIe,initialValue:null,inputComponent:Ea,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"",buttonValueComponent:Km,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Xe(n)):null},icon:IIe,initialValue:null,inputComponent:Ea,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:Km,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Xe(n)):null},icon:$Ie,initialValue:null,inputComponent:Ea,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"",buttonValueComponent:Km,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Xe(n)):null},icon:OIe,initialValue:null,inputComponent:Ea,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:Km,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Ea,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:phn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.min)," && ").concat(t," < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:EIe,label:"is between",type:"numberRange"}};function Da(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Ot(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return c.jsx(Kr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const zpn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Da,label:"does not contain",type:"portableTextNotMatches"}},Vpn={referenceEqual:{buttonLabel:"is",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:ub,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:ub,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"",buttonValueComponent:cl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:Fg("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"",buttonValueComponent:cl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:Fg("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"",buttonValueComponent:cl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:ub,label:"document",type:"referencesDocument"}},Hpn={slugEqual:{buttonLabel:"is",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Da,label:"does not contain",type:"slugNotMatches"}},Upn={stringEqual:{buttonLabel:"is",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:nk,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:nk,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:gi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:Da,label:"does not contain",type:"stringNotMatches"}},Wpn={...Fhn,...tpn,...rpn,...Bpn,...opn,...Npn,...zpn,...Vpn,...Hpn,...Upn},Ypn=Object.values(Wpn);function Fl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const AA=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>AA(a,[...t,r.name])),o]},qpn=[],Gpn=[],Kpn=[],Zpn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Fl(o)))},Xpn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},Qpn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Fl(r)))},Jpn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Fl(o)))},emn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Fl(o)))},tmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Fl(o)))},nmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Fl(o)));return o(e,n)},rmn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Fl(i)))},omn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Fl(i)))},imn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Fl(o)))},smn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Fl(o)))},amn=e=>{const{config:t,context:n,initialValue:r}=e;return AA(t,[]).reduce((s,a)=>{let{config:l}=a;var u,d;const f=(d=(u=l.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Fl(f)))},r)};var lmn=Object.defineProperty,cmn=(e,t,n)=>t in e?lmn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AO=(e,t,n)=>(cmn(e,typeof t!="symbol"?t+"":t,n),n);class jce extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=_t(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),AO(this,"propertyName"),AO(this,"path"),AO(this,"cause"),this.propertyName=n,this.cause=o,this.path=r}}function va(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=AA(t,[]);if("reducer"in i)return s.reduce((l,u)=>{let{config:d,path:f}=u;try{return i.reducer(l,d,n)}catch(p){throw new jce({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let l=r;for(const{config:u,path:d}of s)try{l=await a(l,u,n)}catch(f){throw new jce({propertyName:o,path:d,cause:f})}return l})()}var umn=Object.defineProperty,dmn=(e,t,n)=>t in e?umn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DO=(e,t,n)=>(dmn(e,typeof t!="symbol"?t+"":t,n),n);class Ia extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>_t(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),DO(this,"name"),DO(this,"type"),DO(this,"causes"),this.name=r,this.causes=n,this.type=o}}class iN extends Error{constructor(t){super("SchemaError"),this.schema=t}}var Tce=Object.freeze,fmn=Object.defineProperty,hmn=(e,t)=>Tce(fmn(e,"raw",{value:Tce(t||e.slice())})),Ace;function Dce(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const pmn=O.text(Ace||(Ace=hmn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function mmn(e,t){const n=Dce("".concat(e," ").concat(t)),r=Bge.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=Dce(n.toString()),a=i[Math.floor(s*i.length)],l=pe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=qke(l,.4),f=bNt(l,.4),p=RQ(l,"readable",d)?RQ(l,"readable",f)?wNt(l):f:d;return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[c.jsx("rect",{width:32,height:32,rx:2,fill:l}),c.jsx(pmn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const gmn=e=>e.severity==="error";function vmn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return sr.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:mmn(t,n)}const IO=new WeakMap;function ymn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Ia({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=Cmn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{Omn({workspaces:r})}catch(i){throw new Ia({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(IO.has(i))return IO.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=va({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:Zpn})}catch(_){throw new Ia({name:p.name,type:"source",causes:[_]})}const y=Vqt({name:p.name,types:g}),x=y._validation,b=x==null?void 0:x.filter(_=>_.problems.some(gmn));if(x&&(b!=null&&b.length))throw new iN(y);const w=bmn(p),C=w.state.pipe(ce(_=>{let{client:S,authenticated:E,currentUser:j}=_;return wmn({config:p,client:S,currentUser:j,schema:y,authenticated:E,auth:w})}),Eo(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||sn(p.name),auth:w,schema:y,source:C}}),d=a.title||sn(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:_mn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:vmn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Tf,title:d,subtitle:a.subtitle,__internal:{sources:u}};return IO.set(i,f),f})}}function bmn(e){if(DYt(e.auth))return e.auth;const t=e.unstable_clientFactory||N_e,{projectId:n,dataset:r,apiHost:o}=e;return AYt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function xmn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),l=t.token?{token$:t.token}:{};return uvt(a,l)}function wmn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,l,u,d;const{dataset:f,projectId:p}=t,m=xmn(n,s),v=[],g={},y=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:y,currentUser:r,dataset:f,projectId:p,schema:o},b=n;x.client=[...Object.keys(n),...Object.keys(b.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?b[A]:b.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=va({config:t,context:x,propertyName:"schema.templates",reducer:Jpn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(uo).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Ia({name:t.name,type:"source",causes:[T]})}let C;try{C=va({config:t,context:x,initialValue:[],propertyName:"tools",reducer:Qpn})}catch(T){throw new Ia({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=va({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:nmn}),I=[];if(I.length)throw new Ia({name:t.name,type:"source",causes:I});return D.map((P,R)=>{const $=S.get(P.templateId);if(!$)throw new Error("Could not find template with ID `".concat(P.templateId,"`"));const U=o.get($.schemaType);if(!U)throw new Error("Could not find matching schema type `".concat($.schemaType,"` for template `").concat($.id,"`"));const L=P.title||$.title,W=(U==null?void 0:U.title)===L||U==null?void 0:U.title;return{id:"".concat(P.templateId,"-").concat(R),templateId:P.templateId,type:"initialValueTemplateItem",title:L,subtitle:P.subtitle||W,description:P.description||$.description,icon:P.icon||$.icon||(U==null?void 0:U.icon),initialDocumentId:P.initialDocumentId,parameters:P.parameters,schemaType:$.schemaType}}).filter(P=>{var R;return!A||T.type==="document"?!0:A===((R=S.get(P.templateId))==null?void 0:R.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Ia({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||sn(t.name),schema:o,getClient:y,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>va({config:t,context:{...x,...T},initialValue:Gpn,propertyName:"document.actions",reducer:tmn}),badges:T=>va({config:t,context:{...x,...T},initialValue:qpn,propertyName:"document.badges",reducer:emn}),unstable_fieldActions:T=>va({config:t,context:{...x,...T},initialValue:NYt,propertyName:"document.unstable_fieldActions",reducer:BYt}),inspectors:T=>va({config:t,context:{...x,...T},initialValue:Vn,propertyName:"document.inspectors",reducer:smn}),resolveProductionUrl:T=>va({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:Xpn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>va({config:t,context:{...x,...T},initialValue:Kpn,propertyName:"document.unstable_languageFilter",reducer:imn}),unstable_comments:{enabled:T=>amn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:va({config:t,context:x,initialValue:[CIe],propertyName:"formBuilder.file.assetSources",reducer:rmn}),directUploads:((l=(a=t.form)==null?void 0:a.file)==null?void 0:l.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:va({config:t,context:x,initialValue:[_Ie],propertyName:"formBuilder.image.assetSources",reducer:omn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:uhn,operators:Ypn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function Cmn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Ia({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function _mn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function Smn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function Emn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function kmn(e){const{title:t}=e;return c.jsx(B,{padding:3,children:c.jsx(N,{weight:"bold",children:t})})}const DA=h.createContext(null),IA=h.createContext(null);function zIe(){return hqe()?"dark":"light"}function VIe(e){let{children:t,scheme:n}=e;const r=zIe(),o=n==="system"?r:n;return c.jsx(f5,{scheme:o,theme:Tf,children:t})}const Ice="sanityStudio:ui:colorScheme";function jmn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?c.jsx(Amn,{scheme:r,onSchemeChange:n,children:t}):c.jsx(Tmn,{onSchemeChange:n,children:t})}function Tmn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=Pce(localStorage.getItem(Ice))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=Pce(a);for(const l of s)l()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(Ice,o)},[n,o]),c.jsx(IA.Provider,{value:r.setSnapshot,children:c.jsx(DA.Provider,{value:o,children:c.jsx(VIe,{scheme:o,children:t})})})}function Pce(e){switch(e){case"dark":case"light":return e;default:return"system"}}function Amn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return c.jsx(IA.Provider,{value:typeof n=="function"?n:!1,children:c.jsx(DA.Provider,{value:r,children:c.jsx(VIe,{scheme:r,children:t})})})}function sN(){const e=h.useContext(IA);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function HIe(){const e=h.useContext(DA);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function UIe(){const e=HIe(),t=zIe();return e==="system"?t:e}function Bc(){const e=UIe(),t=sN();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function WIe(e){const t=HIe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:Xge},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:vF},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:CF}],[t,e])}const YIe=h.createContext(null);function Dmn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>ymn(t,{basePath:r}),[t,r]);return c.jsx(YIe.Provider,{value:o,children:n})}function Cy(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:d4(r,t)}function d4(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function Zw(){const e=h.useContext(YIe);if(!e)throw new Error("Could not find `workspaces` context");return e}var Imn=Object.defineProperty,Pmn=(e,t,n)=>t in e?Imn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oce=(e,t,n)=>(Pmn(e,typeof t!="symbol"?t+"":t,n),n);class hc extends Error{constructor(t,n){super(t),Oce(this,"index"),Oce(this,"identifier"),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Cy(n.workspace,n.index)}}function Omn(e){let{workspaces:t}=e;if(t.length===0)throw new hc("At least one workspace is required.");$mn(t),Rmn(t)}function $mn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=d4(s,o);if(!i&&!t)throw new hc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const l=t&&typeof i>"u"?"default":i;if(typeof l!="string")throw new hc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=l.toLowerCase(),d=n.get(u);if(d){const f=d4(d.workspace.title,d.index);throw new hc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(l,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new hc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(l,"`"),{workspace:r,index:o})})}function Rmn(e){e.length>1&&e.every(Mmn),e.every(Fmn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new hc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Cy(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Cy(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),l=o.get(a);if(l)throw new hc("`basePath`s must be unique. Workspaces `".concat(l,"` and ")+"`".concat(Cy(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Cy(i,s))})}function Mmn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new hc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new hc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function Fmn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new hc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function Lmn(){return c.jsx(ne,{height:"fill",children:c.jsx(q,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(ta,{width:0,children:c.jsx(ne,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(q,{children:[c.jsx(B,{children:c.jsx(N,{size:1,children:c.jsx(Zr,{})})}),c.jsxs(oe,{flex:1,marginLeft:3,space:3,children:[c.jsx(N,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),c.jsx(N,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),c.jsx(N,{as:"p",muted:!0,size:1,children:c.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function Bmn(e){const{toolName:t}=e;return c.jsx(ne,{height:"fill",children:c.jsx(q,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(ta,{width:0,children:c.jsx(ne,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(q,{children:[c.jsx(B,{children:c.jsx(N,{size:1,children:c.jsx(Zr,{})})}),c.jsx(oe,{flex:1,marginLeft:3,space:3,children:c.jsxs(N,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",c.jsx("code",{children:t})]})})]})})})})})}function db(){return c.jsxs(q,{as:ne,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(N,{muted:!0,children:"Loading"}),c.jsx(zr,{muted:!0})]})}var $ce=Object.freeze,Nmn=Object.defineProperty,qIe=(e,t)=>$ce(Nmn(e,"raw",{value:$ce(t||e.slice())})),Rce,Mce;const zmn={error:"critical",warning:"caution"},Fce=O.code(Rce||(Rce=qIe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Vmn=O(N)(Mce||(Mce=qIe([`
  white-space: pre-line;
`])));function GIe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return c.jsx(oe,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",l=s.severity==="warning",u=Hmn(i);return c.jsxs(ne,{border:!0,padding:4,radius:2,tone:zmn[s.severity],children:[c.jsxs(q,{children:[c.jsx(B,{marginRight:3,children:c.jsxs(N,{muted:!0,size:1,children:[a&&c.jsx(sa,{}),l&&c.jsx(Zr,{})]})}),c.jsx(B,{flex:1,children:c.jsx(N,{size:1,weight:"semibold",children:u?c.jsxs(c.Fragment,{children:[gm(u.type),' type "',u.name,'"']}):null})})]}),c.jsx(B,{marginTop:4,children:c.jsx(ne,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(dL,{separator:c.jsx(N,{muted:!0,size:1,children:""}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(Umn(d.name),":").concat(d.type);return c.jsx(N,{title:p,size:1,textOverflow:"ellipsis",children:c.jsx(Fce,{children:p})},f)}return d.kind==="property"?c.jsx(N,{title:d.name,size:1,textOverflow:"ellipsis",children:c.jsx(Fce,{children:d.name})},f):null})})})}),c.jsx(B,{as:"ul",marginTop:4,children:c.jsx(B,{as:"li",children:c.jsxs(oe,{space:3,children:[c.jsx(Vmn,{muted:!0,size:1,children:s.message}),s.helpId&&c.jsx(N,{muted:!0,size:1,children:c.jsx("a",{href:F2e(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},o)})})}function Hmn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function Umn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function Wmn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Ymn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed(" Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=Wmn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function qmn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Ymn(t),[t]),c.jsx(ne,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:c.jsx(ta,{width:1,children:c.jsxs(oe,{space:5,children:[c.jsx(ti,{as:"h1",children:"Schema errors"}),c.jsx(GIe,{problemGroups:r})]})})})}function Gmn(e){return c.jsx(ne,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:c.jsx(q,{direction:"row",justify:"center",flex:1,align:"center",children:c.jsxs(oe,{space:4,children:[c.jsx(ti,{as:"h1",children:"Workspace not found"}),c.jsx(Qt,{children:c.jsx(le,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const KIe=h.createContext(null);function Kmn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function Zmn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],l=i[s].toLowerCase();if(a!==l)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(p7(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function Xmn(e){return h.useMemo(()=>Qmn(e),[e])}function Qmn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(p7(n),"(\\/|$)"),"i")}})}function Jmn(e,t){const n=Xmn(t),r=h.useMemo(()=>Zmn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>Kmn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return c7.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const ZIe=h.createContext(null);function egn(e){let{children:t,history:n}=e;return c.jsx(ZIe.Provider,{value:n,children:t})}function tgn(){const e=h.useContext(ZIe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const ngn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return c.jsx(KIe.Provider,{value:s,children:c.jsx(egn,{history:r,children:n})})}),rgn=()=>typeof document>"u"?QNt():XNt();function ogn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=Zw(),s=h.useMemo(()=>o||rgn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),l=h.useCallback(()=>{a(i[0].name)},[a,i]),u=Jmn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return c.jsx(ngn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return c.jsx(n,{});case"not-found":return c.jsx(r,{onNavigateToDefaultWorkspace:l});default:throw new Error("Unknown type: ".concat(u.type))}}function G0(){const e=h.useContext(KIe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var Lce=Object.freeze,ign=Object.defineProperty,sgn=(e,t)=>Lce(ign(e,"raw",{value:Lce(t||e.slice())})),Bce;const Nce={"logged-in":"","logged-out":"Signed out","no-access":""},agn=O(ne)(Bce||(Bce=sgn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),zce=e=>{if(sr.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function f4(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>zce(i),[i]),l=h.useMemo(()=>zce(s),[s]);return c.jsxs(q,{align:"center",flex:"none",gap:3,children:[c.jsx(agn,{radius:2,tone:"transparent",children:a}),c.jsxs(oe,{flex:1,space:2,children:[c.jsx(N,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&c.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&Nce[t]&&c.jsx(B,{paddingLeft:1,children:c.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:Nce[t]})}),(r||l)&&c.jsxs(q,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&c.jsx(N,{children:c.jsx(Ra,{})}),l&&c.jsx(N,{muted:!0,children:l})]})]})}const XIe=th(e=>Fo(e.map(t=>t.auth.state.pipe(ce(n=>[t.name,n])))).pipe(ce(t=>Object.fromEntries(t)))),lgn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var Vce=Object.freeze,cgn=Object.defineProperty,ugn=(e,t)=>Vce(cgn(e,"raw",{value:Vce(t||e.slice())})),Hce;const Uce=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],dgn=O(N)(Hce||(Hce=ugn([`
  a {
    color: inherit;
  }
`])));function Wce(e){const{children:t,footer:n,header:r}=e;return c.jsxs(oe,{space:6,children:[c.jsx(ne,{border:!0,radius:3,overflow:"auto",children:c.jsxs(oe,{children:[typeof r=="object"&&c.jsx(B,{children:r}),typeof r=="string"&&c.jsx(B,{paddingY:4,children:c.jsx(ti,{align:"center",size:1,children:r})}),c.jsx(B,{paddingX:1,children:c.jsx(ne,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&c.jsx(B,{children:n})]})}),c.jsxs(q,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[c.jsx(N,{size:3,children:c.jsx(ozt,{})}),c.jsx(q,{align:"center",gap:2,children:Uce.map((o,i)=>c.jsxs(se.Fragment,{children:[c.jsx(dgn,{muted:!0,size:1,children:c.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<Uce.length-1&&c.jsx(N,{size:1,muted:!0,children:""})]},o.title))})]})]})}function fgn(){var e;const t=Zw(),{activeWorkspace:n,setActiveWorkspace:r}=G0(),[o]=XIe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),l=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?l&&a?c.jsxs(oe,{space:2,children:[t.length>1&&c.jsx(q,{children:c.jsx(le,{fontSize:1,icon:dF,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),c.jsx(Wce,{header:c.jsx(B,{padding:3,children:c.jsx(f4,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:c.jsx(oe,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(l,{..._i(a,["type","__internal"]),key:i})})})]}):c.jsx(Wce,{header:"Choose your workspace",footer:c.jsx(oe,{padding:1,children:c.jsx(le,{as:"a",href:lgn,icon:Ks,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:c.jsx(oe,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return c.jsx(ne,{as:"button",radius:2,padding:2,onClick:m,children:c.jsx(f4,{icon:d==null?void 0:d.icon,iconRight:Yu,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):c.jsx(db,{})}var Yce=Object.freeze,hgn=Object.defineProperty,pgn=(e,t)=>Yce(hgn(e,"raw",{value:Yce(t||e.slice())})),qce;const mgn=O(Ht)(qce||(qce=pgn([`
  max-width: 350px;
  min-width: 250px;
`]))),Gce="Select workspace";function QIe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Bc(),i=Zw(),{activeWorkspace:s,setActiveWorkspace:a}=G0(),[l]=XIe(i),{navigateUrl:u}=Xu(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?Gce:void 0,g=t?void 0:Gce;return c.jsx(bt,{content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:c.jsx(oe,{children:c.jsx(nn,{button:c.jsx(le,{icon:Pl,mode:"bleed",text:g,disabled:!l,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:c.jsxs(mgn,{children:[c.jsx(B,{paddingX:3,paddingY:3,children:c.jsx(Nt,{size:1,muted:!0,children:"Workspaces"})}),l&&i.map(y=>{const b=l[y.name].authenticated?"logged-in":y.auth.LoginComponent?"logged-out":"no-access",w=()=>{b==="logged-in"&&y.name!==s.name&&a(y.name),b==="logged-out"&&u({path:y.basePath})};return c.jsx(Be,{onClick:w,padding:2,pressed:y.name===s.name,children:c.jsx(f4,{icon:y==null?void 0:y.icon,selected:y.name===s.name,state:b,subtitle:y==null?void 0:y.subtitle,title:(y==null?void 0:y.title)||y.name})},y.name)})]}),onClose:f,onOpen:d,popover:p})})})}function JIe(){return c.jsx(ne,{height:"fill",overflow:"auto",children:c.jsx(q,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:c.jsx(ta,{width:0,children:c.jsx(fgn,{})})})})}function ggn(){return c.jsx(c.Fragment,{children:"TODO: implement config errors screen"})}function ePe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=G0(),i=h.useCallback(()=>{var l,u;(u=(l=o.auth).logout)==null||u.call(l)},[o]);h.useEffect(()=>{const l=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{l.unsubscribe()}},[o]);const s=pTe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return c.jsx(ne,{height:"fill",children:c.jsx(ca,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:c.jsx(oe,{paddingX:3,paddingY:2,children:c.jsx(le,{text:"Sign out",onClick:i})}),children:c.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[c.jsx(N,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),c.jsxs(N,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",c.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var Kce=Object.freeze,vgn=Object.defineProperty,ygn=(e,t)=>Kce(vgn(e,"raw",{value:Kce(t||e.slice())})),Zce;const bgn=O.label(Zce||(Zce=ygn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function xgn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),c.jsx(ne,{height:"fill",children:c.jsx(ca,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:c.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[c.jsxs(N,{children:["To access your content, you need to ",c.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),c.jsx(bgn,{"aria-hidden":"true",children:"CORS URL to be added"}),c.jsx(Kr,{value:n,readOnly:!0}),c.jsx(le,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:c.jsxs(q,{align:"center",justify:"center",gap:3,children:[c.jsx(N,{weight:"medium",children:"Continue"}),c.jsx(N,{weight:"medium",children:c.jsx(r0,{})})]})})]})})})}function tPe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=_t(r)&&typeof r.message=="string"&&r.message,s=_t(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return BNt(a),r instanceof q7?c.jsx(xgn,{projectId:r==null?void 0:r.projectId}):r instanceof iN?c.jsx(qmn,{schema:r.schema}):r?c.jsx(ne,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:c.jsx(ta,{width:3,children:c.jsxs(oe,{space:4,children:[c.jsx(ti,{children:n}),c.jsx("div",{children:c.jsx(le,{onClick:a,text:"Retry",tone:"default"})}),c.jsx(ne,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:c.jsxs(oe,{space:4,children:[i&&c.jsx(xr,{size:1,children:c.jsxs("strong",{children:["Error: ",i]})}),s&&c.jsx(xr,{size:1,children:s})]})})]})})}):c.jsx(u0,{onCatch:o,children:t})}var Xce=Object.freeze,wgn=Object.defineProperty,Cgn=(e,t)=>Xce(wgn(e,"raw",{value:Xce(t||e.slice())})),Qce;const _gn=O(ne)(Qce||(Qce=Cgn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),nPe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function Sgn(){const{name:e,title:t,tools:n}=Ml(),r=Qj(h.useCallback(v=>typeof v.tool=="string"?v.tool:void 0,[])),o=h.useMemo(()=>n.find(v=>v.name===r),[r,n]),[i,s]=h.useState(!1),[a,l]=h.useState(null),u=h.useMemo(()=>{const v=t||sn(e);return r?"".concat(sn(r)," | ").concat(v):v},[r,e,t]),d=!!(o!=null&&o.controlsDocumentTitle);h.useEffect(()=>{d||(document.title=u)},[u,d]);const f=h.useCallback(v=>{s(v)},[]),p=h.useMemo(()=>({searchFullscreenOpen:i,searchFullscreenPortalEl:a,onSearchFullscreenOpenChange:f}),[i,a,f]),m=pyn();return c.jsxs(q,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[c.jsx(nPe.Provider,{value:p,children:c.jsx(m,{})}),n.length===0&&c.jsx(Lmn,{}),n.length>0&&!o&&r&&c.jsx(Bmn,{toolName:r}),i&&c.jsx(_gn,{ref:l,overflow:"auto"}),c.jsx(tPe,{heading:"The ".concat(o==null?void 0:o.name," tool crashed"),children:c.jsx(ne,{flex:1,hidden:i,children:o&&r&&c.jsx(Kdt,{scope:r,children:c.jsx(h.Suspense,{fallback:c.jsx(Egn,{}),children:h.createElement(o.component,{tool:o})})})})},o==null?void 0:o.name)]})}function Egn(){return c.jsxs(q,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(N,{muted:!0,children:"Loading"}),c.jsx(zr,{muted:!0})]})}var Jce=Object.freeze,kgn=Object.defineProperty,jgn=(e,t)=>Jce(kgn(e,"raw",{value:Jce(t||e.slice())})),eue;const Tgn=O.div(eue||(eue=jgn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),Agn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("g",{clipPath:"url(#clip0)",children:[c.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),c.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),c.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),c.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Dgn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("g",{clipPath:"url(#clip0)",children:c.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Ign=c.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),c.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),c.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),Pgn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return c.jsxs(Tgn,{"data-logo":r,children:[t==="google"&&Agn,t==="github"&&Dgn,t==="sanity"&&c.jsx(szt,{}),n&&Ign]})};var tue=Object.freeze,Ogn=Object.defineProperty,rPe=(e,t)=>tue(Ogn(e,"raw",{value:tue(t||e.slice())})),nue,rue;const ok=1,$gn=O(Ht)(nue||(nue=rPe([`
  min-width: 200px;
  max-width: 300px;
`]))),Rgn=O(B)(rue||(rue=rPe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[ok].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[ok].size});function Mgn(e){let{setScheme:t}=e;const n=WIe(t);return c.jsxs(c.Fragment,{children:[c.jsx(Dr,{}),c.jsx(B,{padding:2,children:c.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(Be,{"aria-label":i,icon:o,onClick:a,pressed:l,text:u,iconRight:l&&c.jsx(Ra,{})},s)})]})}function Fgn(){const{currentUser:e,projectId:t,auth:n}=Ml(),r=UIe(),o=sN(),i=!!(e&&Qje(e,"administrator")),s=pTe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return c.jsx(nn,{button:c.jsx(le,{mode:"bleed",padding:0,paddingX:1,children:c.jsxs(q,{align:"center",gap:1,children:[c.jsx(Va,{user:"me",size:1}),c.jsx(N,{size:ok,muted:!0,children:c.jsx(Il,{})})]})}),id:"user-menu",menu:c.jsxs($gn,{children:[c.jsx(ne,{padding:2,children:c.jsxs(q,{align:"center",children:[c.jsx(bt,{disabled:!s,portal:!0,content:s&&c.jsx(B,{padding:2,children:c.jsxs(N,{size:1,children:["Signed in with ",s]})}),children:c.jsxs(Rgn,{marginRight:3,children:[c.jsx(Va,{size:ok,user:"me"}),(e==null?void 0:e.provider)&&c.jsx(Pgn,{provider:e.provider})]})}),c.jsxs(oe,{space:2,flex:1,children:[c.jsx(N,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),c.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&c.jsx(Mgn,{setScheme:o}),c.jsx(Dr,{}),c.jsx(Be,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:Hk}),i&&c.jsx(Be,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:Kk}),n.logout&&c.jsxs(c.Fragment,{children:[c.jsx(Dr,{}),c.jsx(Be,{iconRight:mF,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var oue=Object.freeze,Lgn=Object.defineProperty,Bgn=(e,t)=>oue(Lgn(e,"raw",{value:oue(t||e.slice())})),iue;const Ngn=O(B)(iue||(iue=Bgn([`
  max-width: 300px;
`]))),oPe=33;function zgn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=uw({intent:"create",params:i}),l=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return c.jsx(bt,{disabled:t.hasPermission,portal:!0,content:c.jsx(Ngn,{padding:2,children:c.jsx(jc,{currentUser:n,operationLabel:"create this document"})}),children:c.jsx("div",{children:c.jsx(ne,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:l,padding:o==="inline"?3:4,radius:2,children:c.jsx(N,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var sue=Object.freeze,Vgn=Object.defineProperty,iPe=(e,t)=>sue(Vgn(e,"raw",{value:sue(t||e.slice())})),aue,lue;const PO=O(q)(aue||(aue=iPe([`
  min-height: 100px;
`]))),Hgn=O.strong(lue||(lue=iPe([`
  word-break: break-all;
`])));function cue(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,l=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>c.jsx(zgn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?c.jsx(PO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(Qt,{space:2,children:[c.jsx(zr,{muted:!0,size:1}),c.jsx(N,{muted:!0,size:1,children:"Loading"})]})}):!l&&s?c.jsx(PO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(N,{align:"center",muted:!0,size:1,children:["No results found for ",c.jsxs(Hgn,{children:["",s,""]})]})}):l?c.jsx(_m,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Up?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:oPe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):c.jsx(PO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(N,{align:"center",muted:!0,size:1,children:"No documents found"})})}function Ugn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function Wgn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function Ygn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>Ugn(t,o)).sort((o,i)=>Wgn(t,o,i))}var uue=Object.freeze,qgn=Object.defineProperty,Tm=(e,t)=>uue(qgn(e,"raw",{value:uue(t||e.slice())})),due,fue,hue,pue,mue,gue,vue;const Ggn=O(fn)(()=>he(due||(due=Tm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),Kgn=O(ca)(()=>he(fue||(fue=Tm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),Zgn=O(B)(hue||(hue=Tm([`
  max-width: 300px;
`]))),yue=O(q)(pue||(pue=Tm([""]))),Xgn=O(ne)(mue||(mue=Tm([`
  min-height: max-content;
`]))),Qgn=O(ne)(gue||(gue=Tm([`
  min-height: max-content;
`]))),Jgn=O(q)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return he(vue||(vue=Tm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),evn=10;function tvn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,l]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,y]=h.useState(null),{scheme:x}=Bc(),b=ni(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>Ygn(o,a),[o,a]),j=h.useCallback(L=>{l(L.currentTarget.value)},[]),k=h.useCallback(()=>s(L=>!L),[]),T=h.useCallback(()=>{s(!1),l(""),m==null||m.focus()},[m]),A=h.useCallback(L=>{L.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(L=>{(L.key==="Escape"||L.key==="Tab")&&i&&T()},[T,i]);Nr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:b,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[b,E,k,r,n,g,a]),P=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:Vi,onChange:j,placeholder:_,ref:y}),[j,r,_,a]),R=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:up,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),$=h.useMemo(()=>w?t?c.jsx(N,{size:1,children:"New document..."}):c.jsx(jc,{currentUser:b,operationLabel:"create any document"}):c.jsx(N,{size:1,children:"No document types"}),[t,b,w]),U=h.useMemo(()=>({content:c.jsx(Zgn,{padding:2,children:$}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,$]);return n==="dialog"?c.jsxs(c.Fragment,{children:[c.jsx(bt,{...U,children:c.jsx("div",{children:c.jsx(le,{...R})})}),i&&c.jsx(Kgn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:c.jsxs(yue,{direction:"column",flex:1,height:"fill",children:[c.jsx(Qgn,{padding:2,borderBottom:!0,children:c.jsx(Kr,{...P})}),c.jsx(q,{direction:"column",overflow:"hidden",children:c.jsx(cue,{...I})})]})})]}):c.jsx(Ggn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:c.jsxs(yue,{direction:"column",flex:1,forwardedAs:Qu,height:"fill",returnFocus:!0,children:[c.jsx(Xgn,{sizing:"border",children:c.jsxs(oe,{children:[c.jsx(B,{paddingX:3,paddingY:3,children:c.jsx(B,{paddingY:1,children:c.jsx(Nt,{size:1,muted:!0,children:S})})}),c.jsx(ne,{borderTop:!0,borderBottom:!0,padding:1,children:c.jsx(Kr,{...P,fontSize:1,radius:1})})]})}),c.jsx(Jgn,{$itemHeight:oPe,$maxDisplayedItems:evn,direction:"column",overflow:"hidden",children:c.jsx(cue,{...I})})]}),children:c.jsx("div",{children:c.jsx(bt,{...U,children:c.jsx("div",{children:c.jsx(le,{...R,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function nvn(){const{__internal:{staticInitialValueTemplateItems:e}}=ur(),[t,n]=YPe({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var bue=Object.freeze,rvn=Object.defineProperty,ovn=(e,t)=>bue(rvn(e,"raw",{value:bue(t||e.slice())})),xue;const ivn=O(ne)(xue||(xue=ovn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),svn=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=j0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),l=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?c.jsx(pm,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:vr(a==null?void 0:a.path)},ref:m}):null}),[a]);return c.jsx(Be,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:l?4:3,paddingLeft:4,paddingRight:3,ref:s,children:c.jsxs(q,{align:"center",children:[c.jsx(ivn,{children:c.jsx(Va,{size:1,user:n.user,status:l?"editing":"inactive"},n.user.id)}),c.jsxs(oe,{space:2,marginLeft:4,children:[c.jsx(N,{textOverflow:"ellipsis",children:n.user.displayName}),!l&&c.jsx(N,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var wue=Object.freeze,avn=Object.defineProperty,aN=(e,t)=>wue(avn(e,"raw",{value:wue(t||e.slice())})),Cue,_ue,Sue;const lvn=4,cvn=O(ne)(Cue||(Cue=aN([`
  background: transparent;
`]))),uvn=O(Ht)(_ue||(_ue=aN([`
  max-width: 350px;
  min-width: 250px;
`]))),dvn=O(oe)(Sue||(Sue=aN([`
  position: sticky;
  bottom: 0;
`])));function fvn(e){const{collapse:t}=e,n=Zxn(),{projectId:r}=Ml(),{scheme:o}=Bc(),i=n.length>0,[s,a]=h.useState(),l=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?c.jsx(nh,{icon:Kk,mode:"bleed",tone:i?"positive":void 0}):c.jsx(le,{mode:"bleed",padding:1,children:c.jsx(cvn,{children:c.jsx(kj,{maxLength:lvn,"aria-label":"Who is here",children:n.map(p=>c.jsx(Va,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return c.jsx(nn,{button:d,id:"global-presence-menu",onClose:u,menu:c.jsxs(uvn,{padding:1,children:[i&&c.jsx(oe,{children:n.map(p=>c.jsx(svn,{focused:s===p.user.id,onFocus:l,presence:p},p.user.id))}),!i&&c.jsx(B,{paddingX:3,paddingY:4,children:c.jsxs(oe,{space:3,children:[c.jsx(N,{weight:"semibold",size:2,children:"No one else is here"}),c.jsx(N,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),c.jsxs(dvn,{space:1,children:[c.jsx(Dr,{}),c.jsx(Be,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:Hk,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var Eue=Object.freeze,hvn=Object.defineProperty,lN=(e,t)=>Eue(hvn(e,"raw",{value:Eue(t||e.slice())})),kue,jue,Tue;const Aue={duration:.2},pvn={open:{opacity:1},closed:{opacity:0}},mvn={open:{x:"0%"},closed:{x:"-100%"}},gvn=O(Zi)(kue||(kue=lN([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),vvn=O(Sj(ne))(jue||(jue=lN([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),yvn=O(Sj(ne))(Tue||(Tue=lN([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function bvn(e){let{setScheme:t}=e;const n=WIe(t);return c.jsx(c.Fragment,{children:c.jsxs(ne,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[c.jsx(B,{padding:2,children:c.jsx(Nt,{size:1,muted:!0,children:"Appearance"})}),c.jsx(oe,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:l,title:u}=r;return c.jsx(oe,{as:"li",children:c.jsx(le,{"aria-label":i,icon:o,iconRight:l&&c.jsx(Ra,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:l,text:u})},s)})})]})})}const xvn=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=sN(),{auth:a,currentUser:l,projectId:u}=Ml(),d=Zw(),f=EPe(),p=!!(l&&Qje(l,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return c.jsx(eL,{children:r&&c.jsx(Qu,{autoFocus:!0,returnFocus:!0,children:c.jsxs(gvn,{onKeyDown:m,children:[c.jsx(vvn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:Aue,variants:pvn}),c.jsxs(yvn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Aue,variants:mvn,children:[c.jsx(ne,{borderBottom:!0,children:c.jsxs(oe,{space:3,padding:3,children:[c.jsxs(q,{align:"center",children:[c.jsx(q,{flex:1,align:"center",paddingRight:2,children:c.jsxs(q,{flex:1,align:"center",children:[c.jsx(B,{children:c.jsx(Va,{size:1,user:"me"})}),c.jsx(B,{flex:1,marginLeft:2,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:c.jsx(N,{textOverflow:"ellipsis",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),c.jsx(B,{children:c.jsx(le,{icon:ia,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&c.jsx(QIe,{})]})}),c.jsxs(q,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[c.jsx(ne,{flex:"none",padding:3,children:c.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),c.jsxs(q,{direction:"column",children:[s&&c.jsx(bvn,{setScheme:s}),c.jsx(ne,{borderTop:!0,flex:"none",padding:3,children:c.jsxs(oe,{as:"ul",space:1,children:[c.jsx(oe,{as:"li",children:c.jsx(le,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:Hk,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&c.jsx(oe,{as:"li",children:c.jsx(le,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:Kk,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&c.jsx(ne,{flex:"none",padding:3,borderTop:!0,children:c.jsx(oe,{children:c.jsx(le,{iconRight:mF,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function wvn(){var e;const n=((e=dr()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Bc(),o=h.useId(),[i,s]=h.useState(!1),[a,l]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:c.jsxs(c.Fragment,{children:[c.jsx(nh,{icon:Zr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:l,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&c.jsx(ca,{header:c.jsxs(oe,{space:3,children:[c.jsx(N,{weight:"semibold",children:"Configuration issues"}),c.jsx(N,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:c.jsxs(oe,{space:4,padding:4,children:[c.jsxs(ti,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),c.jsx(GIe,{problemGroups:n})]})})]})}function Due(e){const{title:t,children:n,href:r,onClick:o}=e;return c.jsx(le,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const Cvn=Oi("mod+".concat(TIe)),_vn=Oi("escape");function Svn(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=Dc(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{Cvn(a)&&(a.preventDefault(),t?i():r==null||r()),_vn(a)&&t&&o&&i()},[i,o,t,r]);Es(s)}function sPe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:l,setOnClose:u,state:{result:d}}=Ot(),f=h.useCallback(()=>{var p;a({index:(p=l==null?void 0:l.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,l]);return Svn({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?c.jsx("div",{children:t}):null}function Evn(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Mf(e,t){return t?e[t]:void 0}function kvn(e,t){var n;return(n=Mf(e,t))==null?void 0:n.initialValue}function h4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function wh(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>Xw({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Mf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:jvn({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!MNt(i)).filter(uo).join(" && ")}function Hu(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Ni(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Ch(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(l=>l.name),i=Object.values(t).filter(l=>n.map(u=>u==null?void 0:u.fieldId).includes(l.id)).filter(l=>l.documentTypes.length>0).map(l=>l.documentTypes),s=E5(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),E5(...a).sort()}function jvn(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=Hu(n,t),i=oh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function Xw(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=oh(n,t.filterName),s=Mf(o,t.operatorType),a=Hu(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var Iue=Object.freeze,Tvn=Object.defineProperty,Avn=(e,t)=>Iue(Tvn(e,"raw",{value:Iue(t||e.slice())})),Pue;const Dvn=Oi("escape"),Ivn=500,Pvn=O.div(Pue||(Pue=Avn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function cN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=Dc(),i=h.useCallback(a=>{Dvn(a)&&o&&r()},[o,r]);Es(i);const s=Ovn(t||null);return c.jsxs(c.Fragment,{children:[c.jsx(Pvn,{onClick:r}),c.jsx(Qu,{autoFocus:!1,returnFocus:!0,children:c.jsx(ne,{display:"flex",overflow:"hidden",radius:q0,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(Kw,"px - ").concat(wx,"px), ").concat(Ivn,"px"),zIndex:1},children:c.jsx(q,{children:n})})})]})}function OO(e){const t=e.getBoundingClientRect();return t.y+t.height+Kw}function Ovn(e){const[t,n]=h.useState(e&&OO(e)),r=h.useCallback(()=>{e&&n(OO(e))},[e]);return h.useEffect(()=>{e&&n(OO(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var Oue=Object.freeze,$vn=Object.defineProperty,aPe=(e,t)=>Oue($vn(e,"raw",{value:Oue(t||e.slice())})),$ue,Rue;const Rvn=O(B)($ue||($ue=aPe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),Mvn=O(q)(Rue||(Rue=aPe([`
  box-sizing: border-box;
`]))),lPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Ot();return c.jsx(Rvn,{children:c.jsx(Mvn,{align:"center",flex:1,padding:1,children:c.jsx(oN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:Vi,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function Fvn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>zvn(u,i)).map(u=>{const d=oh(r,u.filterName);return d?h4(d,u.id):null}).filter(uo),l=Bvn({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...l,...Cx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...l,...Lvn({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Cx(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},l=r.map(u=>({fieldDefinition:Hu(t,u),filterDefinition:oh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return l.length>0?[...i?[a]:[],...l]:[]}function Lvn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=Hu(n,d);return Uvn(t,f)}),l=t.length>1&&s.length>1?Cx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||sn(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=Hu(n,v);return Nvn([f],g)});return Cx({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...l,...u]}function Bvn(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(Hvn).filter(s=>Mue(s,r)).map(s=>h4(s)),i=Object.values(n).filter(Vvn).filter(s=>Mue(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(h4(a)),s),{});return[...Cx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,l]=s;return Cx({fieldDefinitions:t,filterDefinitions:n,filters:l,headerTitle:a,id:a,tone:"primary"})})]}function Nvn(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function zvn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function Mue(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function Vvn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function Hvn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function Uvn(e,t){return Ub(e,(t==null?void 0:t.documentTypes)||[]).length===0}function cPe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Ot(),o=h.useMemo(()=>{const i=oh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=Hu(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?c.jsxs("span",{children:[o.slice(0,n),""]}):c.jsx("span",{children:o}):null}function Wvn(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Ot(),o=(n=oh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):c.jsx(ml,{})}function uPe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Ot(),i=Hu(o.fields,t);return c.jsxs(oe,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&c.jsx(B,{marginLeft:4,children:c.jsx(N,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>c.jsxs(se.Fragment,{children:[c.jsx("span",{children:s}),a!==i.titlePath.length-2&&c.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:c.jsx(Yu,{})})]},a))})}),c.jsxs(q,{align:"flex-start",gap:3,children:[c.jsx(B,{style:{flexShrink:0},children:c.jsx(N,{size:n?1:2,children:c.jsx(Wvn,{filter:t})})}),c.jsx(N,{size:n?1:2,weight:"medium",children:c.jsx(cPe,{filter:t})})]})]})}function dPe(e){return h.isValidElement(e)?Yvn(mHt(e)):typeof e=="string"?e:""}function Yvn(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const $O=10;function qvn(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Ot(),s=dr(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||sn(d==null?void 0:d.name)}).filter(uo).sort():[],[n==null?void 0:n.documentTypes,s]),l=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=EA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&dPe(m==null?void 0:m.type.description)}return null}).filter(uo).sort(),d=ao(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return c.jsx(bt,{content:c.jsx(ne,{tone:"default",radius:2,style:{maxWidth:"250px"},children:c.jsxs(oe,{padding:3,space:4,children:[n&&c.jsxs(oe,{space:2,children:[c.jsx(Nt,{muted:!0,size:0,children:"Field name"}),c.jsx(Qt,{children:c.jsx(ne,{tone:"caution",padding:1,radius:2,children:c.jsx(xr,{size:0,children:n==null?void 0:n.name})})})]}),l&&c.jsxs(oe,{space:3,children:[c.jsx(Nt,{muted:!0,size:0,children:"Field description"}),c.jsx(N,{muted:!0,size:0,children:Fue(l)})]}),(r==null?void 0:r.description)&&c.jsx(N,{muted:!0,size:0,children:Fue(r.description)}),!i.length&&a.length>0&&c.jsxs(oe,{space:2,children:[c.jsxs(q,{align:"center",gap:1,children:[c.jsx(Nt,{muted:!0,size:0,children:"Used in document types"}),c.jsx(ne,{padding:1,radius:2,tone:"transparent",children:c.jsx(N,{size:0,muted:!0,children:a.length})})]}),c.jsxs(N,{size:0,weight:"regular",muted:!0,children:[a.slice(0,$O).join(", "),(a==null?void 0:a.length)>$O?" +".concat(a.length-$O," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function Fue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),""):e}const Gvn=se.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:l}}=Ot(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!l.find(g=>Ni(g)===Ni(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return c.jsx(B,{...o,children:c.jsx(le,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:c.jsx(qvn,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:c.jsx(B,{padding:3,children:c.jsx(uPe,{filter:n.filter})})})})})}),Kvn=se.memo(function(t){let{item:n}=t;return c.jsx(B,{paddingTop:1,children:c.jsx(ne,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:c.jsx(Nt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function Zvn(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),l=dr(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Ot(),m=h.useMemo(()=>Fvn({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:o,types:p}),[u,d.fields,d.filters,l,o,p]),v=h.useCallback(x=>x.type==="filter"?c.jsx(Gvn,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?c.jsx(Kvn,{item:x}):null,[t]),g=h.useCallback(x=>{const b=m[x];return b.type!=="filter"||!!f.find(w=>Ni(w)===Ni(b.filter))},[m,f]),y=h.useCallback(x=>{const b=m[x];switch(b.type){case"filter":return[...b.group?[b.group]:[],Ni(b.filter)].join("-");case"header":return"".concat(b.type,"-").concat(b.title);default:return x}},[m]);return c.jsxs(q,{direction:"column",style:{width:"300px"},children:[c.jsx(lPe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),c.jsxs(q,{children:[m.length>0&&c.jsx(_m,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:y,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&c.jsx(B,{padding:3,children:c.jsxs(N,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function Lue(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Ot(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return c.jsx(fn,{__unstable_margins:[Kw,0,0,0],content:c.jsx(cN,{anchorElement:n,onClose:i,children:c.jsx(Zvn,{onClose:i})}),open:e,placement:"bottom-start",radius:q0,portal:!0,children:c.jsx(le,{fontSize:1,icon:Ks,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const Xvn=se.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Ot(),l=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():l()},[l,u,n]);return c.jsx(B,{...o,children:c.jsx(le,{fontSize:1,iconRight:n&&Ra,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var Bue=Object.freeze,Qvn=Object.defineProperty,Jvn=(e,t)=>Bue(Qvn(e,"raw",{value:Bue(t||e.slice())})),Nue;const e0n=O(B)(Nue||(Nue=Jvn([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function t0n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=dr(),{dispatch:s,state:{terms:{types:a}}}=Ot(),[l,u]=h.useState(a),d=r0n(i,a,l,n),f=h.useCallback(b=>r(b.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var b,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(b=o==null?void 0:o.current)==null||b.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(b=>{const w=d[b];switch(w.type){case"divider":return"".concat(w.type,"-").concat(b);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return b}},[d]),g=h.useCallback(b=>b.type==="divider"?c.jsx(B,{paddingY:1,children:c.jsx(Dr,{})}):b.type==="header"?c.jsx(B,{margin:1,paddingBottom:2,paddingTop:3,children:c.jsx(Nt,{muted:!0,size:0,children:b.title})}):b.type==="item"?c.jsx(Xvn,{paddingBottom:1,selected:b.selected,type:b.item}):null,[]),y=h.useCallback(b=>d[b].type!=="item",[d]),x=h.useCallback(b=>{const w=d[b];return w.type==="item"&&w.selected},[d]);return c.jsxs(q,{direction:"column",style:{width:"250px"},children:[c.jsx(lPe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),c.jsxs(q,{children:[d.length>0&&c.jsx(_m,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&c.jsx(B,{padding:3,children:c.jsxs(N,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&c.jsx(n0n,{onClick:m,selectedTypes:a})]})}function n0n(e){let{onClick:t,selectedTypes:n}=e;return c.jsx(e0n,{padding:1,children:c.jsx(oe,{children:c.jsx(le,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function r0n(e,t,n,r){return h.useMemo(()=>{const[o,i]=E8(Shn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,l=[];return s&&l.push({title:"Selected",type:"header"}),o.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&l.push({type:"divider"}),i.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),l},[e,t,n,r])}var zue=Object.freeze,o0n=Object.defineProperty,i0n=(e,t)=>zue(o0n(e,"raw",{value:zue(t||e.slice())})),Vue;const s0n=O(le)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return he(Vue||(Vue=i0n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),a0n=["top-start","bottom-start"];function l0n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Ot(),l=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);Nr(l,[n,o]);const d=h.useMemo(()=>JB({types:a}),[a]);return c.jsx(fn,{__unstable_margins:[Kw,0,0,0],content:c.jsx(cN,{anchorElement:n,onClose:l,children:c.jsx(t0n,{})}),open:e,placement:"bottom-start",fallbackPlacements:a0n,portal:!0,radius:q0,ref:i,children:c.jsx(s0n,{fontSize:1,iconRight:Pl,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var Hue=Object.freeze,c0n=Object.defineProperty,u0n=(e,t)=>Hue(c0n(e,"raw",{value:Hue(t||e.slice())})),Uue;const RO=O(B)(Uue||(Uue=u0n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function fPe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Ot(),s=Mf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return c.jsxs(q,{align:"center",gap:1,children:[c.jsx(RO,{$flexShrink:i?1:0,children:c.jsx(ir,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(cPe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&c.jsx(RO,{$flexShrink:0,children:c.jsx(ir,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&c.jsx(RO,{$flexShrink:1,children:c.jsx(ir,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(a,{value:t==null?void 0:t.value})})})]})}function d0n(e){return c.jsx(B,{...e,children:c.jsxs(q,{align:"flex-start",gap:3,children:[c.jsx(ir,{tone:"critical",children:c.jsx(sa,{})}),c.jsxs(oe,{space:4,children:[c.jsx(ir,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),c.jsx(ir,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function f0n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return c.jsx(Be,{onClick:o,padding:3,pressed:r,tone:"default",children:c.jsxs(q,{align:"center",justify:"space-between",gap:3,children:[c.jsx(B,{paddingRight:2,children:c.jsx(N,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&c.jsx(N,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function h0n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Ot(),a=(r=oh(s.definitions.filters,t.filterName))==null?void 0:r.operators,l=h.useCallback(u=>{i({filterKey:Ni(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:c.jsx(Qt,{children:c.jsx(nn,{button:c.jsx(le,{mode:"ghost",padding:3,children:c.jsxs(q,{align:"center",gap:2,justify:"space-between",children:[c.jsx(N,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),c.jsx(B,{marginLeft:1,children:c.jsx(N,{size:1,children:c.jsx(Pl,{})})})]})}),id:o||"",menu:c.jsx(Ht,{children:a.map((u,d)=>{if(u.type==="item"){const f=Mf(s.definitions.operators,u.name);return f?c.jsx(f0n,{onClick:l,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?c.jsx(Dr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function p0n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Ot(),a=oh(i.filters,t.filterName),l=Mf(i.operators,t.operatorType),u=Hu(i.fields,t),d=Ni(t),f=h.useCallback(()=>{o({filterKey:Ni(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=l==null?void 0:l.inputComponent;return n?c.jsx(d0n,{padding:4}):c.jsx(u0,{onCatch:m,children:c.jsx(Qu,{autoFocus:!Up,returnFocus:!0,children:c.jsxs(q,{direction:"column-reverse",children:[v&&c.jsx(ne,{borderTop:!0,padding:3,children:c.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),c.jsx(ne,{padding:3,children:c.jsxs(oe,{space:3,children:[c.jsxs(q,{align:"flex-start",gap:3,justify:"space-between",children:[c.jsx(B,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:c.jsx(uPe,{filter:t,small:!s})}),s&&c.jsx(le,{fontSize:2,icon:lo,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&c.jsx(ne,{border:!0,padding:3,radius:2,tone:"transparent",children:c.jsx(N,{muted:!0,size:1,children:a.description})}),c.jsx(h0n,{filter:t,operator:l})]})})]})})})}var Wue=Object.freeze,m0n=Object.defineProperty,g0n=(e,t)=>Wue(m0n(e,"raw",{value:Wue(t||e.slice())})),Yue;const v0n=O(q)(Yue||(Yue=g0n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function y0n(e){let{filter:t}=e;return c.jsxs(v0n,{direction:"column",children:[c.jsx(p0n,{filter:t}),jIe]})}var que=Object.freeze,b0n=Object.defineProperty,PA=(e,t)=>que(b0n(e,"raw",{value:que(t||e.slice())})),Gue,Kue,Zue,Xue;const x0n=O(le)(Gue||(Gue=PA([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ye(t.sanity.radius[2])," ").concat(ye(t.sanity.radius[2])," 0")}),w0n=O(ne)(Kue||(Kue=PA([`
  position: absolute;
  right: 0;
`]))),C0n=O.div(Zue||(Zue=PA([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),_0n=O(le)(Xue||(Xue=PA([`
  border: none;
  width: 100%;
`])));function S0n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Ot(),l=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Ni(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=Xw({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return c.jsx(fn,{__unstable_margins:[Kw,0,0,0],content:c.jsx(cN,{onClose:l,children:c.jsx(y0n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:q0,children:c.jsxs(C0n,{children:[c.jsx(ne,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(_0n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:c.jsx(fPe,{filter:t,showContent:p})})}),!a&&c.jsx(w0n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:c.jsx(x0n,{"aria-label":"Delete filter",fontSize:1,icon:ia,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function hPe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Ot(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const l=r&&Ni(r),u=()=>c.jsx(le,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return c.jsxs(c.Fragment,{children:[c.jsxs(q,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[c.jsxs(q,{flex:1,gap:2,wrap:"wrap",children:[c.jsx(l0n,{}),t==null?void 0:t.map(d=>{const f=Ni(d);return c.jsx(S0n,{filter:d,initialOpen:i.current&&l===f},f)}),!n&&c.jsx(Lue,{})]}),a&&!n&&c.jsx(u,{})]}),n&&c.jsxs(q,{justify:"space-between",paddingBottom:2,paddingX:2,children:[c.jsx(Lue,{}),a&&c.jsx(u,{})]}),jIe]})}function E0n(){return c.jsx(q,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:c.jsxs(Qt,{space:3,children:[c.jsx(N,{muted:!0,children:"Use"}),c.jsx(N,{muted:!0,children:c.jsx(Uk,{})}),c.jsx(N,{muted:!0,children:"to refine your search"})]})})}function k0n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>JB({availableCharacters:t,types:n}),[t,n]);return c.jsx(ne,{border:!0,padding:2,radius:2,children:c.jsx(N,{muted:!0,size:1,children:r})})}var Que=Object.freeze,j0n=Object.defineProperty,T0n=(e,t)=>Que(j0n(e,"raw",{value:Que(t||e.slice())})),Jue;const A0n=O(ne)(Jue||(Jue=T0n([`
  cursor: default;
`])));function D0n(e){let{filter:t}=e;return c.jsx(A0n,{border:!0,padding:2,radius:2,tone:"primary",children:c.jsx(fPe,{filter:t})})}var ede=Object.freeze,I0n=Object.defineProperty,OA=(e,t)=>ede(I0n(e,"raw",{value:ede(t||e.slice())})),tde,nde,rde,ode;const P0n=40,pPe=O(le)(tde||(tde=OA([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])}),O0n=O(B)(nde||(nde=OA([`
  flex-shrink: 3;
`]))),$0n=O(B)(rde||(rde=OA([`
  flex-shrink: 2;
`]))),R0n=O.div(ode||(ode=OA([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),pPe);function M0n(e){let{index:t,maxVisibleTypePillChars:n=P0n,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Ot(),l=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return c.jsx(B,{...o,children:c.jsx(pPe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:c.jsxs(q,{align:"stretch",children:[c.jsxs(Qt,{paddingY:2,children:[c.jsx(N,{muted:!0,size:1,children:c.jsx(Yge,{})}),c.jsx(N,{children:""})]}),c.jsxs(q,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&c.jsx($0n,{paddingY:2,children:c.jsx(N,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&c.jsx(O0n,{children:c.jsx(k0n,{availableCharacters:l,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>c.jsx(D0n,{filter:f},p))]}),c.jsx(q,{align:"center",children:c.jsx(R0n,{onClick:d,children:c.jsx(q,{padding:2,children:c.jsx(N,{size:1,children:c.jsx(ia,{})})})})})]})})})}var ide=Object.freeze,F0n=Object.defineProperty,L0n=(e,t)=>ide(F0n(e,"raw",{value:ide(t||e.slice())})),sde;const B0n=36,N0n=20,z0n=40,V0n=O(ne)(sde||(sde=L0n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function mPe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Ot(),a=h.useRef(null),l=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=am(),d=h.useMemo(()=>u<2?N0n:z0n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return c.jsx(M0n,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return c.jsx(V0n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?c.jsxs(c.Fragment,{children:[c.jsx(B,{paddingBottom:2,paddingTop:4,paddingX:3,children:c.jsx(Nt,{muted:!0,size:1,children:"Recent searches"})}),c.jsx(B,{children:c.jsx(_m,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:B0n,items:s,paddingX:2,paddingY:1,renderItem:f})}),c.jsx(B,{paddingBottom:2,paddingTop:1,paddingX:2,children:c.jsx(le,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:l,padding:2,tone:"default",children:c.jsx(N,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&c.jsx(E0n,{})})}var ade=Object.freeze,H0n=Object.defineProperty,$A=(e,t)=>ade(H0n(e,"raw",{value:ade(t||e.slice())})),lde,cde,ude,dde;const U0n=Bk(lde||(lde=$A([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),W0n=O(Wk)(cde||(cde=$A([`
  animation: `,` 500ms linear infinite;
`])),U0n),Y0n=O(B)(ude||(ude=$A([`
  position: relative;
`]))),q0n=O.div(dde||(dde=$A([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),gPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:l,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Ot(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!l}),[s,l]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const y=a.length>0||f.length>0;return c.jsx(ne,{flex:"none",children:c.jsxs(q,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&c.jsx(ne,{children:c.jsx(le,{"aria-label":"Close search",icon:dF,mode:"bleed",onClick:o})}),c.jsx(B,{flex:1,children:c.jsx(oN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?W0n:Vi,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&c.jsxs(Y0n,{children:[c.jsx(le,{"aria-expanded":l,"aria-label":"Toggle filters",height:"fill",icon:Uk,mode:"bleed",onClick:m,padding:3,selected:l,tone:"default"}),y&&c.jsx(q0n,{})]})]})})});function G0n(){return c.jsx(ta,{width:0,children:c.jsxs(oe,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[c.jsx(N,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),c.jsx(N,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function K0n(){return c.jsxs(q,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[c.jsx(B,{marginBottom:1,children:c.jsx(ir,{tone:"critical",children:c.jsx(Zr,{})})}),c.jsx(ir,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),c.jsx(ir,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const qh={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var fde=Object.freeze,Z0n=Object.defineProperty,X0n=(e,t)=>fde(Z0n(e,"raw",{value:fde(t||e.slice())})),hde;const pde=[qh.relevance,{type:"divider"},qh.createdAsc,qh.createdDesc,{type:"divider"},qh.updatedAsc,qh.updatedDesc],Q0n=O(q)(hde||(hde=X0n([`
  box-sizing: border-box;
`])));function mde(e){return e.type==="divider"}function J0n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Ot(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Yt(r,t),[r,t]);return c.jsx(Be,{onClick:o,padding:3,pressed:i,tone:"default",children:c.jsx(q,{align:"center",justify:"space-between",paddingRight:2,children:c.jsx(N,{size:1,weight:"medium",children:t.title})})})}function e1n(){const{state:{ordering:e}}=Ot(),t=h.useId(),n=pde.find(r=>Yt(e,r)&&!mde(r));return n?c.jsx(ne,{borderBottom:!0,children:c.jsx(Q0n,{align:"center",flex:1,padding:2,children:c.jsx(nn,{button:c.jsx(le,{mode:"bleed",padding:2,children:c.jsxs(q,{align:"center",gap:1,justify:"space-between",children:[c.jsx(B,{marginRight:1,children:c.jsx(N,{size:1,children:c.jsx(wF,{})})}),c.jsx(Qt,{space:2,children:c.jsx(N,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:c.jsx(Ht,{children:pde.map((r,o)=>mde(r)?c.jsx(Dr,{},o):c.jsx(J0n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var gde=Object.freeze,t1n=Object.defineProperty,n1n=(e,t)=>gde(t1n(e,"raw",{value:gde(t||e.slice())})),vde;const r1n=O(ne)(vde||(vde=n1n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function o1n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return c.jsx(c.Fragment,{children:c.jsx(bt,{content:c.jsx(B,{padding:2,children:c.jsx(oe,{space:2,children:o.length?c.jsx(c.Fragment,{children:o.map(i=>c.jsxs(Qt,{space:3,children:[c.jsx(xr,{size:0,weight:"semibold",children:i.path}),c.jsx(xr,{size:0,children:i.why})]},i.path))}):c.jsx(xr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:c.jsx(r1n,{padding:1,shadow:1,tone:r,children:c.jsxs(xr,{size:0,children:["score: ",n]})})})})}var yde=Object.freeze,i1n=Object.defineProperty,s1n=(e,t)=>yde(i1n(e,"raw",{value:yde(t||e.slice())})),bde;const a1n=59,l1n=4,c1n=O(q)(bde||(bde=s1n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function vPe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:l,lastActiveIndex:u,result:d,terms:f}}=Ot(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),y=h.useCallback(x=>c.jsxs(c.Fragment,{children:[c.jsx(QB,{documentId:Zn(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&c.jsx(o1n,{data:x})]}),[s,g]);return c.jsx(q,{children:c.jsx(ne,{borderTop:l||!!(v||p||m),flex:1,children:c.jsxs(q,{direction:"column",height:"fill",children:[p&&c.jsx(e1n,{}),c.jsx(c1n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?c.jsx(K0n,{}):c.jsxs(c.Fragment,{children:[p&&c.jsx(_m,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:a1n,items:d.hits,overscan:l1n,padding:2,paddingBottom:0,ref:i,renderItem:y}),m&&c.jsx(G0n,{})]})})]})})})}var xde=Object.freeze,u1n=Object.defineProperty,yPe=(e,t)=>xde(u1n(e,"raw",{value:xde(t||e.slice())})),wde,Cde;const d1n=O(ne)(wde||(wde=yPe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),f1n=O(B)(Cde||(Cde=yPe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function h1n(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Bc(),{state:{filtersVisible:a,terms:l}}=Ot(),u=kA({terms:l});return c.jsx(sPe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:c.jsx(cm,{children:c.jsx(Qu,{autoFocus:!Up,returnFocus:!0,children:c.jsx(f1n,{children:c.jsxs(d1n,{display:"flex",height:"fill",scheme:s,tone:"default",children:[c.jsx(gPe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&c.jsx(ne,{borderTop:!0,flex:"none",children:c.jsx(hPe,{})}),u?c.jsx(vPe,{inputElement:o}):c.jsx(mPe,{inputElement:o})]})})})})})}var _de=Object.freeze,p1n=Object.defineProperty,uN=(e,t)=>_de(p1n(e,"raw",{value:_de(t||e.slice())})),Sde,Ede,kde;const m1n=O(q)(Sde||(Sde=uN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),g1n=O(q)(Ede||(Ede=uN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),v1n=O(Kr)(kde||(kde=uN([`
  padding-right: 60px;
`]))),y1n=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Ot(),s=h.useCallback(l=>{o({type:"TERMS_QUERY_SET",query:l.currentTarget.value}),r()},[o,r]),a=h.useCallback(l=>{l.key==="Enter"&&r()},[r]);return c.jsxs(g1n,{align:"center",children:[c.jsx(v1n,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:Vi,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),c.jsxs(m1n,{align:"center",height:"fill",marginRight:2,children:[c.jsx(R$,{children:Chn}),c.jsx(R$,{children:TIe.toUpperCase()})]})]})});var jde=Object.freeze,b1n=Object.defineProperty,xS=(e,t)=>jde(b1n(e,"raw",{value:jde(t||e.slice())})),Tde,Ade,Dde,Ide;const x1n=O.div(Tde||(Tde=xS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),w1n=O(ne)(Ide||(Ide=xS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?he(Ade||(Ade=xS([`
          left: `,`px;
        `])),t.x):he(Dde||(Dde=xS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(wx,"px), ").concat(_hn,"px)")},e=>{let{$position:t}=e;return t.y},wx*2,AIe);function C1n(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[l,u]=h.useState(null),{isTopLayer:d,zIndex:f}=Dc(),{scheme:p}=Bc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Ot(),y=kA({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return Nr(x,[s]),c.jsx(sPe,{hasValidTerms:y,onClose:n,onOpen:r,open:o,children:c.jsx(cm,{children:c.jsxs(Qu,{autoFocus:!Up,disabled:t,returnFocus:!0,children:[c.jsx(x1n,{style:{zIndex:f}}),c.jsxs(w1n,{$position:i,overflow:"hidden",radius:q0,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[c.jsx(gPe,{ariaInputLabel:y?"Search results":"Recent searches",onClose:n,ref:u}),v&&c.jsx(ne,{borderTop:!0,flex:"none",children:c.jsx(hPe,{})}),y?c.jsx(vPe,{inputElement:l}):c.jsx(mPe,{inputElement:l})]})]})})})}function _1n(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=S1n(e);return c.jsxs(c.Fragment,{children:[c.jsx(y1n,{onOpen:i,ref:t}),s&&c.jsx(C1n,{onClose:o,onOpen:i,open:n,position:s})]})}function Pde(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>AIe?t.x-wx:null,y:t.y-wx}}function S1n(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(Pde(e))},[e]);return h.useEffect(()=>{e&&n(Pde(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const E1n="search::recent",k1n=5,_x=2;function j1n(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:l=_x}=e;if(!t||!i||!bPe||!a)return;const u="".concat(E1n,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>Xw({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(_i(v,"created")),y={version:l,recentSearches:[v,...fb(u,l).recentSearches.filter(x=>JSON.stringify(_i(x,"created"))!==g)].slice(0,k1n)};return window.localStorage.setItem(u,JSON.stringify(y)),W1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},getRecentSearches:()=>W1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l}),removeSearch:()=>{const f={...fb(u,l),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),W1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})},removeSearchAtIndex:d=>{const f=fb(u,l);if(d<0||d>f.recentSearches.length)return W1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),W1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:l})}}}function fb(e,t){const n=bPe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function W1(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=T1n({lsKey:t,storedSearch:fb(t,s)});return A1n({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(l=>!!l.terms).map((l,u)=>({__recent:{index:u,timestamp:new Date(l.created).getTime()},filters:l.filters,query:l.terms.query,types:l.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function T1n(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==_x){const r={version:_x,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function A1n(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const l=jA(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>l.includes(p))&&f.filters.every(p=>Xw({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:_x,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),fb(r,a)}const bPe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),D1n=3;function I1n(e,t){var n;const r=jA(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>Ode(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,l)=>(Ode(l)&&(a.documentTypes[l.name]=l),wPe(l)&&(a.objectTypes[l.name]=l),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=chn(t);return $1n(s,o,i)}function P1n(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function O1n(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function $1n(e,t,n){function r(i){let{acc:s,defType:a,depth:l=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=l<=D1n,v=a.name.startsWith("_"),g=a!=null&&a.title?dPe(a.title):sn(a.name),y=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const b=n[a.type],w=t[a.type],C=wPe(a)?a:null,_=w||b||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:l+1,documentType:u,prevFieldPath:y,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:y,filterName:B1n(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((l,u)=>(r({acc:l,defType:u,documentType:s.name}),l),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(l=>l.fieldPath===s.fieldPath&&l.title===s.title&&l.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(R1n).sort(N1n)}function R1n(e){return{...e,id:O1n(e)}}function M1n(e){var t;return xPe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function xPe(e){return e.type==="array"}function Ode(e){return e.type==="document"}function wPe(e){return e.type==="object"}function F1n(e){return e.type==="string"}function L1n(e){var t;return F1n(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function B1n(e){if(L1n(e))return"stringList";if(xPe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(M1n(e))return"arrayList"}return e.type}function N1n(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function CPe(e){return typeof e.__recent<"u"}const p4="core:studio:navbar:search:";Md(p4);function z1n(e){const t="".concat(p4).concat(e);return Md&&Md.enabled(t)?Md(t):Md(p4)}function V1n(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(whn)}function H1n(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:V1n(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:qh.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const U1n=z1n("reducer");function W1n(e,t){let n="";switch(t.type.startsWith("SEARCH_REQUEST")&&(n=""),t.type.startsWith("RECENT_SEARCHES")&&(n=""),U1n(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:qh.relevance,terms:_h(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:_h(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:_h(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:kvn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Ch({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:wh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Ch({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:wh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Ni(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Ch({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:wh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Ni(u)===t.filterKey),o=Mf(e.definitions.operators,r==null?void 0:r.operatorType),i=Mf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),l=e.filters.map(u=>Ni(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:l,terms:{...e.terms,filter:wh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:l,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Ni(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:wh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:_h({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(u4);return{...e,documentTypesNarrowed:Ch({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:wh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(u4),o=Ch({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=Hu(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(l=>a.documentTypes.findIndex(u=>u===l)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:_h({...e.terms,filter:wh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Ch({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:_h({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Ch({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:_h({...e.terms,types:[]})}}default:return e}}function _h(e){if(CPe(e)){const{__recent:t,...n}=e;return n}return e}function Y1n(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=_r(mn),a=dr(),l=ni(),{search:{operators:u,filters:d}}=ur(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:P1n(I1n(a,d)),filterDefinitions:lhn(d),operatorDefinitions:Evn(u)}),[d,u,a]),y=h.useMemo(()=>j1n({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:l,version:_x}),[l,f,m,v,g,p,a]),x=h.useMemo(()=>y==null?void 0:y.getRecentSearches(),[y]),b=h.useMemo(()=>H1n({currentUser:l,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[l,m,v,n,g,x]),[w,C]=h.useReducer(W1n,b),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(b.ordering),I=h.useRef(b.pageIndex),P=h.useRef(b.terms),{handleSearch:R,searchState:$}=DIe({initialState:{...k,terms:T},onComplete:V=>C({hits:V,type:"SEARCH_REQUEST_COMPLETE"}),onError:V=>C({error:V,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),U=kA({terms:T}),L=_.map(V=>a.get(V)),W=S.filter(V=>Xw({fieldDefinitions:m,filter:V,filterDefinitions:v,operatorDefinitions:g})),Y=h.useCallback(V=>{r.current=V},[]);return h.useEffect(()=>{const V=!Yt(E,D.current),H=j!==I.current,Q=!Yt(T,P.current);if(V||H||Q){const F=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);R({options:{comments:[...CPe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(F),"findability-source: global","findability-filter-count:".concat(W.length)],limit:ece,offset:j*ece,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...L?{types:L}:{}}}),I.current=j}D.current=E,P.current=T},[W.length,S,L,R,U,E,j,$.terms,T]),h.useEffect(()=>{!U&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,U,k.hits,T.query,T.types]),c.jsx(SIe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:y,searchCommandList:o,setSearchCommandList:i,setOnClose:Y,state:{...w,fullscreen:n}},children:t})}const _Pe="3.19.1";function q1n(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(_Pe)]},tag:"module.version-check",json:!0}).pipe(ce(n=>({...n})))}function G1n(){const e=_r({apiVersion:"1"}),t=h.useMemo(()=>q1n(e),[e]);return Xje(t)}function K1n(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?c.jsx(q,{align:"center",justify:"center",padding:3,children:c.jsx(zr,{})}):c.jsxs(c.Fragment,{children:[(r===void 0||t)&&c.jsx("div",{children:Z1n}),!t&&(i==null?void 0:i.map(a=>a?c.jsx(X1n,{subSection:a},a._key):null)),c.jsxs(B,{padding:3,children:[c.jsxs(N,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",_Pe]}),!t&&s&&c.jsx(B,{paddingTop:2,children:c.jsxs(N,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const Z1n=c.jsxs(c.Fragment,{children:[c.jsx(Be,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),c.jsx(Be,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),c.jsx(Be,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),c.jsx(Dr,{})]});function X1n(e){let{subSection:t}=e;var n;return c.jsxs(c.Fragment,{children:[t.sectionTitle&&c.jsx(ne,{padding:2,paddingTop:3,marginLeft:1,children:c.jsx(Nt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?c.jsx(Be,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&c.jsx(Be,{text:r.title,size:0},r._key):null;default:return null}}),c.jsx(Dr,{})]})}var $de=Object.freeze,Q1n=Object.defineProperty,J1n=(e,t)=>$de(Q1n(e,"raw",{value:$de(t||e.slice())})),Rde;const eyn=O(Ht)(Rde||(Rde=J1n([`
  max-width: 300px;
  min-width: 200px;
`])));function tyn(){const{scheme:e}=Bc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=G1n(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return c.jsx(q,{children:c.jsx(bt,{content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:c.jsx("div",{children:c.jsx(nn,{button:c.jsx(le,{"aria-label":"Help and resources",icon:bv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:c.jsx(eyn,{children:c.jsx(K1n,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var Mde=Object.freeze,nyn=Object.defineProperty,dN=(e,t)=>Mde(nyn(e,"raw",{value:Mde(t||e.slice())})),Fde,Lde,Bde;const ryn=O(Zi)(Fde||(Fde=dN([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),oyn=O(ne)(Lde||(Lde=dN([`
  line-height: 0;
`]))),iyn=O(q)(Bde||(Bde=dN([`
  width: max-content;
`])));function syn(){const{name:e,tools:t,...n}=Ml(),r=c0().theme,o=Zw(),i=Qj(),{scheme:s}=Bc(),{href:a,onClick:l}=vCe({state:{}}),u=am(),d=typeof i.tool=="string"?i.tool:void 0,f=nvn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(nPe),g=myn(),y=EPe(),[x,b]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&b(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&ad,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?sn(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),P=h.useCallback(()=>{b(!1),_==null||_.focus()},[_]),R=h.useCallback(()=>{b(!0)},[]);return c.jsxs(ryn,{zOffset:100,"data-search-open":m,children:[c.jsx(oyn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:c.jsxs(q,{align:"center",justify:"space-between",children:[c.jsxs(iyn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&c.jsx(B,{marginRight:1,children:c.jsx(le,{mode:"bleed",icon:gF,onClick:R,ref:S})}),!k.brandingCenter&&c.jsx(B,{marginRight:1,children:c.jsx(Due,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),k.workspaces&&c.jsx(B,{marginRight:2,children:c.jsx(QIe,{collapsed:!0})}),c.jsx(B,{marginRight:k.brandingCenter?void 0:2,children:c.jsx(tvn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),c.jsx(Af,{children:c.jsx(Y1n,{fullscreen:k.searchFullscreen,children:c.jsxs(lm,{element:document.body,children:[c.jsx(d0,{element:v,children:k.searchFullscreen&&c.jsx(h1n,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&c.jsx(_1n,{})]})})}),k.tools&&c.jsx(ne,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:c.jsx(y,{activeToolName:d,closeSidebar:P,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&c.jsx(B,{marginX:1,children:c.jsx(Due,{href:a,onClick:l,title:A,children:c.jsx(g,{title:A})})}),c.jsxs(q,{gap:2,children:[(k.configIssues||k.resources)&&c.jsx(ne,{borderRight:!0,children:c.jsxs(q,{gap:1,paddingX:2,children:[k.configIssues&&c.jsx(wvn,{}),k.resources&&c.jsx(tyn,{})]})}),c.jsxs(q,{align:"center",gap:1,children:[c.jsx(fvn,{collapse:k.collapsedPresenceMenu}),k.tools&&c.jsx(Fgn,{}),k.searchFullscreen&&c.jsx(le,{"aria-label":"Open search",icon:Vi,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&c.jsx(xvn,{activeToolName:d,isOpen:x,onClose:P,tools:t})]})}const SPe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=Qj(h.useCallback(s=>({...s,tool:r,[r]:void 0}),[r]));return c.jsx(Xj,{state:i,...o,ref:n})});function ayn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Bc(),[o,i]=h.useState(null);aTe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((l,u)=>{const d=(l==null?void 0:l.title)||sn(l.name)||void 0,f=h.forwardRef(function(m,v){return c.jsx(SPe,{...m,ref:v,name:l.name})});return c.jsx(KB,{as:f,"data-as":"a",collapsedProps:{tooltipText:l.title},icon:l.icon||ml,mode:"bleed",selected:t===l.name,text:d,tooltipProps:{scheme:r}},"".concat(l.name,"-").concat(u))}),[t,r,n]);return c.jsx(GB,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function lyn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>c.jsx(oe,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||sn(o.name)||void 0,s=h.forwardRef(function(l,u){return c.jsx(SPe,{...l,ref:u,name:o.name})});return c.jsx(oe,{as:"li",children:c.jsx(le,{as:s,icon:o.icon||cve,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function cyn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?c.jsx(lyn,{isVisible:n,...r}):c.jsx(ayn,{...r})}function uyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function dyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function fyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function hyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function EPe(){return Rl({defaultComponent:cyn,pick:uyn})}function pyn(){return Rl({defaultComponent:syn,pick:dyn})}function myn(){return Rl({defaultComponent:kmn,pick:hyn})}function gyn(){return Rl({defaultComponent:Sgn,pick:fyn})}const Nde=RHt.__sanityErrorChannel;function vyn(){const{push:e}=Ei();return h.useEffect(()=>{if(Nde)return Nde.subscribe(t=>{t.error&&(yyn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function yyn(e){return e instanceof iN||e instanceof q7||e instanceof Ia}function byn(e){let{children:t,AuthenticateComponent:n=JIe,LoadingComponent:r=db,NotAuthenticatedComponent:o=ePe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,l]=h.useState("loading"),{activeWorkspace:u}=G0();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){l("unauthorized");return}l(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?c.jsx(r,{}):a==="unauthorized"?c.jsx(o,{}):a==="logged-out"?c.jsx(n,{}):c.jsx(c.Fragment,{children:t})}function xyn(e){let{children:t}=e;const n=G0().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return c.jsx(IA.Provider,{value:!1,children:c.jsx(DA.Provider,{value:r,children:c.jsx(f5,{scheme:r,theme:n,tone:"transparent",children:c.jsx(Af,{children:t})})})})}return c.jsx(f5,{theme:n,tone:"transparent",children:c.jsx(Af,{children:t})})}const wyn={toast:[100,11e3]};var zde=Object.freeze,Cyn=Object.defineProperty,kPe=(e,t)=>zde(Cyn(e,"raw",{value:zde(t||e.slice())})),Vde,Hde;O(q)(Vde||(Vde=kPe([""])));O(B).attrs({padding:4})(Hde||(Hde=kPe([""])));function _yn(e){const{basePath:t="/",tools:n}=e,r=fi.create("/:tool",o=>{const i=n.find(s=>s.name===o.tool);return i?fi.scope(i.name,"/",i.router):fi.create("/")});return fi.create(t,[fi.intents("/intent"),r])}function fN(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((l,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),l;if(l[u.name]){const p=l[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),l}const f=r.indexOf(u.name);return l[u.name]={tool:u,index:f===-1?1/0:f},l},{}),s=l=>o.indexOf(l.name)===-1,a=e.filter(s);return a.sort((l,u)=>{const d=i[l.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}function Syn(e,t){const r=fN(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function Eyn(e,t){return t&&(fN(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function kyn(e,t){return Syn(e,Eyn(e,t))}function jyn(e,t,n){const{intent:r,params:o,payload:i}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!_t(o))throw new Error("intent params must be a string");const s=fN(e),a=t!=null&&t.tool?s.find(u=>u.name===t.tool):null,l=(a?[a,...s]:s).find(u=>u&&typeof u.canHandleIntent=="function"&&u.canHandleIntent(r,o,t&&t[u.name]));if(l!=null&&l.getIntentState){const u=l.getIntentState(r,o,t&&t[l.name],i);return{type:"state",isNotFound:!1,state:{...t,tool:l.name,[l.name]:u}}}return{type:"intent",isNotFound:!0,intent:{name:r,params:o}}}function Tyn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function Ayn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=tgn(),a=h.useMemo(()=>_yn({basePath:o,tools:i}),[o,i]),[l,u]=Dyn(s,a,i);return l?c.jsx(Zdt,{onNavigate:u,router:a,state:l,children:t}):c.jsx(n,{})}function Dyn(e,t,n){var r;const o=h.useMemo(()=>{const l=t.getBasePath(),u=new RegExp("^".concat(p7(l),"(\\/|$)"),"i"),d=f=>l==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?Tyn(t,f):null}},[e,t]),i=c7.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Yt),s=h.useRef(i);h.useEffect(()=>{var l;if((i==null?void 0:i.type)==="state"&&!((l=i.state)!=null&&l.intent)){const u=kyn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const l=Ude(i,t,n,s);l?e.replace(l):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>l=>{let{path:u,replace:d}=l;const f=o.selector(u),p=Ude(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function Ude(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=jyn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function Iyn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=G0(),[s,a]=h.useState(null);return h.useEffect(()=>{const l=Fo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Xn(f=>{if(f instanceof Ia)return Ce(f);throw f}))})).pipe(ce(u=>{const d=u.filter(f=>f instanceof Ia);if(d.length)throw new Ia({name:i.name,causes:d,type:"workspace"});return u}),ce(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>l.unsubscribe()},[i]),s?c.jsx(Lhn,{workspace:s,children:c.jsx(Bhn,{source:s.unstable_sources[0],children:c.jsx(Ayn,{LoadingComponent:n,workspace:s,children:t})})}):c.jsx(n,{})}function Pyn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return c.jsx(u0,{onCatch:o,children:c.jsx(Iyn,{...n})})}jp.registerLanguage(HNt);jp.registerLanguage(y7e);jp.registerLanguage(WNt);jp.registerLanguage(qNt);jp.registerLanguage(KNt);function Oyn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const l=c.jsx(Pyn,{LoadingComponent:db,ConfigErrorsComponent:ggn,children:c.jsx(uYt,{children:t})});return c.jsx(jmn,{onSchemeChange:o,scheme:i,children:c.jsxs(pL,{paddingY:7,zOffset:wyn.toast,children:[c.jsx(vyn,{}),c.jsx(tPe,{children:c.jsx(Dmn,{config:n,basePath:r,children:c.jsx(ogn,{unstable_history:s,NotFoundComponent:Gmn,LoadingComponent:db,children:c.jsx(xyn,{children:c.jsx(aZt,{children:a?l:c.jsx(byn,{LoadingComponent:db,AuthenticateComponent:JIe,NotAuthenticatedComponent:ePe,children:l})})})})})})]})})}function $yn(){const e=gyn();return c.jsx(e,{})}function Wde(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return c.jsxs(Oyn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&c.jsx(LYt,{}),c.jsx($yn,{})]})}function Ryn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=Zke(e);return s.render(o?c.jsx(h.StrictMode,{children:c.jsx(Wde,{config:t,basePath:i,unstable_globalStyles:!0})}):c.jsx(Wde,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function _r(e){const t=ur();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const Yde="connecting";function Myn(e,t){const n=Ll();return ko(()=>n.pair.documentEvents(e,t).pipe(ce(r=>r.type),ce(r=>r!=="reconnect"),rt(r=>r?Ce("connected"):wi(200).pipe(EL("reconnecting"))),Ci(Yde),Kn()),[n.pair,e,t],Yde)}function jPe(){return ur().dataset}function Nc(e,t){const n=Ll();return ko(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function Fyn(e,t){const n=Ll();return ko(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function hN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=Ll();return ko(()=>{const o=r.pair.editState(e,t).pipe(za());return n==="low"?yn(o.pipe(ps(1)),o.pipe(gwe(1),awe(()=>wi(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function TPe(){return ur().projectId}function dr(){return ur().schema}const Lyn={isSyncing:!0},qde={isSyncing:!1};function Byn(e,t){const n=Ll();return ko(()=>n.pair.consistencyStatus(e,t).pipe(ce(r=>r?qde:Lyn)),[n.pair,t,e],qde)}function Qw(){return ur().templates}const MO=1e3*5,Gde=1e3*20,m4=1e3*60,q_=m4*60;function Ff(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Nyn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function Nyn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=eSt(r,n),i=rSt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:qo(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:qo(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:qo(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=nSt(r,n),a=Lr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:q_}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:q_};const l=tSe(r,n),u=Lr("days",l);if(l){if(t.minimal){const x=t.agoSuffix?"".concat(l,"d ago"):"".concat(l,"d");return{timestamp:l===1?"yesterday":x,refreshInterval:q_}}const y=t.agoSuffix?"".concat(l," ").concat(u," ago"):"".concat(l," ").concat(u);return{timestamp:l===1?"yesterday":y,refreshInterval:q_}}const d=Z2t(r,n),f=Lr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:m4}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:m4};const p=X2t(r,n),m=Lr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:Gde}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:Gde};const v=tSt(r,n),g=Lr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:MO}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:MO}:{timestamp:"just now",refreshInterval:MO}}const zyn={validation:[],isValidating:!1};function pN(e,t){const n=Ll();return ko(()=>n.pair.validation(e,t),[n.pair,e,t],zyn)}const Kde={isLoading:!0,enabled:!0,features:[]};function Vyn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let FO;function APe(e){const t=_r(mn);return FO||(FO=Vyn({versionedClient:t}).pipe(Eo())),ko(()=>FO.pipe(ce(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),Ci(Kde),Xn(r=>(console.error(r),Ce({isLoading:!1,enabled:!0,features:[]})))),[e],Kde)}const Hyn=th(e=>{let[t,n]=e;return wr(t.getUser(n).catch(r=>(console.error(r),null)))});function K0(e){const t=CN();return Hyn(h.useMemo(()=>[t,e],[e,t]))}function ni(){const{currentUser:e}=ur();return e}const Zde=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Xde=e=>({type:"snapshot",document:e}),Qde=e=>e.document,Uyn=e=>{const t=new Tr,n=new Pj(!0),r=new Tr,o=new Tr,i=new Tr,s=new Tr,a=x=>{const b=new L8t(x);return b.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:Zde(b),mutations:C.mutations,origin:_?"remote":"local"})},b.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:b.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},b.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},b.onConsistencyChanged=w=>{n.next(w)},b.commitHandler=w=>s.next(w),b},l=e.pipe(Na((x,b)=>b.type==="snapshot"?(x&&x.commit(),a(b.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',b.type),null):x,null),ut(x=>x!==null),Kn(),fl(1),dl()),u=e.pipe(ut(x=>x.type==="mutation"),Vy(l),ce(x=>{let[b,w]=x;return w.arrive(new xc(b)),Zde(w)})),d=t.pipe(Vy(l),Wn(x=>{let[b,w]=x;b.type==="mutation"&&w.add(new xc({mutations:b.mutations})),b.type==="commit"&&w.commit()}),Mp(Gn),za()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{l.pipe(ps(1),Wn(x=>x.commit())).subscribe()},g=yn(l.pipe(ce(x=>x.LOCAL)),r.pipe(ce(Qde)),o.pipe(ce(Qde)),u).pipe(ce(Xde),fl(1),dl()),y=yn(l.pipe(ce(x=>x.document.HEAD),ce(Xde)),i).pipe(fl(1),dl());return{updates$:yn(g,d,r,o),consistency$:n.pipe(Kn(),fl(1),dl()),remoteSnapshot$:y,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},Wyn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},Jde=(e,t)=>{const n=Uyn(t),r=Wyn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},Yyn={type:"pending",phase:"begin"},qyn={type:"pending",phase:"end"};function Gyn(e){return e.type==="mutation"}function Kyn(e){return e.transactionTotalEvents>1}function Zyn(e){const t=H9(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function Xyn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return So(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(J$(s=>s.type==="welcome"?i().pipe(J$(a=>[efe(o,a.draft),efe(r,a.published)])):Ce(s)),Na((s,a)=>{if(!Gyn(a))return{next:[a],buffer:[]};const l=s.buffer.length>0,u=Kyn(a);if(!u&&!l)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return Zyn(d)?{next:d.concat(qyn),buffer:[]}:{next:d.length===1?[Yyn]:[],buffer:d}},{next:[],buffer:[]}),yt(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ce(s=>{let[a,l]=s;return{draft:a,published:l}}))}}function efe(e,t){return{type:"snapshot",documentId:e,document:t}}const tfe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function G_(e){return t=>({...t,version:e})}function Qyn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Jyn(e,t){return wr(Qyn(e,t.mutation.params)).pipe(Wn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function DPe(e,t){const{publishedId:n,draftId:r}=t,o=Xyn(e,t).pipe(za()),i=o.pipe(ut(d=>d.type==="reconnect")),s=Jde(r,o.pipe(ut(tfe(r)))),a=Jde(n,o.pipe(ut(tfe(n)))),l=o.pipe(ut(d=>d.type==="pending")),u=yn(s.commitRequest$,a.commitRequest$).pipe(yt(d=>Jyn(e,d)),Mp(Gn),za());return{transactionsPendingEvents$:l,draft:{...s,events:yn(u,i,s.events).pipe(ce(G_("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ce(G_("draft")))},published:{...a,events:yn(u,i,a.events).pipe(ce(G_("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ce(G_("published")))}}}function zc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Am=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function Jw(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const RA=zc((e,t,n)=>new dt(r=>{r.next(DPe(e,t))}).pipe(fl(1),dl()),Jw);function ebn(e){return e.type==="snapshot"}function nfe(e){return{snapshots$:e.events.pipe(ut(ebn),ce(t=>t.document),fl(1),dl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const mN=zc((e,t,n)=>RA(e,t,n).pipe(ce(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:nfe(o),draft:nfe(i)}}),fl(1),dl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),tbn={enabled:!0},rfe={enabled:!1},IPe=zc((e,t,n)=>{const r=Am(e.schema,n);return mN(e.client,t,n).pipe(rt(o=>Fo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ce(i=>i.phase==="begin"?tbn:rfe),Ci(rfe))])),ce(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),Ci({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),fl(1),dl())},(e,t,n)=>Jw(e.client,t,n)),PPe=zc((e,t,n)=>mN(e.client,t,n).pipe(rt(r=>Fo([r.draft.snapshots$,r.published.snapshots$]).pipe(ce(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),fl(1),dl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),ik={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Am(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function g4(e){return Uu(e)?e._strengthenOnPublish?_i(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(g4):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,g4(r)]}))}const OPe={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Am(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=g4(_i(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},$Pe={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0;Am(t,s)?i.mutate([i.createIfNotExists({_type:s,...l}),...i.patch(a)]):o.mutate([o.createIfNotExists({...l,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},RPe={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Gn}},MPe={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},FPe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Am(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({..._i(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},nbn=["_createdAt","_updatedAt"],LPe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({..._i(s,nbn),_id:Am(n,i)?t:Qo(t),_type:s._type},{tag:"document.duplicate"})}},BPe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Am(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},NPe=zc((e,t,n)=>RA(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return Fo([o.consistency$,i.consistency$])}),ce(r=>{let[o,i]=r;return o&&i}),Kn(),fl(1),dl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function rbn(e){return typeof e>"u"?Ce(null):e}const obn={del:ik,delete:ik,publish:OPe,patch:$Pe,commit:RPe,discardChanges:MPe,unpublish:FPe,duplicate:LPe,restore:BPe},ibn=(e,t,n)=>{const r=obn[e];return So(()=>yn(Ce(null),rbn(r.execute(t,...n)))).pipe(bet())},zPe=new Tr;function VPe(e,t,n,r){zPe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const sbn=["publish","unpublish","discardChanges","delete"],HPe=zc(e=>{const t=zPe.pipe(mwe(o=>o.idPair.publishedId),yt(o=>o.pipe(rt(i=>PPe(e,i.idPair,i.typeName).pipe(ps(1),rt(s=>{const a=sbn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const l=NPe(e.client,i.idPair,i.typeName).pipe(ut(Boolean));return(a?l.pipe(ps(1)):Ce(!0)).pipe(rt(()=>ibn(i.operationName,s,i.extraArgs)))}),ce(()=>({type:"success",args:i})),Xn(s=>Ce({type:"error",args:i,error:s})))))),za()),n=1e3,r=t.pipe(ut(o=>o.type==="success"&&o.args.operationName==="patch"),b5(n,Ec,{leading:!0,trailing:!0}),Wn(o=>{VPe("commit",o.args.idPair,o.args.typeName,[])}));return yn(t,r.pipe(Mp(Gn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),abn=zc((e,t,n)=>RA(e,t,n).pipe(rt(r=>{let{published:o,draft:i}=r;return yn(o.remoteSnapshot$,i.remoteSnapshot$)})),Jw),lbn={isValidating:!0,validation:[]};function cbn(e){return kke(e,(t,n)=>(Uu(n)&&t.add(n._ref),t),new Set)}const ubn=[],dbn=(e,t)=>e(t).pipe(ce(n=>{let{published:r}=n;return r.available})),fbn=200,hbn=1e3;function LO(){return Eo({bufferSize:1,refCount:!0})}const pbn=zc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=IPe(e,{draftId:r,publishedId:o},n).pipe(ce(d=>{let{draft:f,published:p}=d;return f||p}),b5(fbn,Ec,{trailing:!0}),Kn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Pf(_i(d,"_rev","_updatedAt"),_i(f,"_rev","_updatedAt"))),LO()),a=i.pipe(ce(d=>cbn(d)),yt(d=>wr(d))).pipe(mwe(d=>d,{duration:()=>wi(1e3*60*30)}),yt(d=>d.pipe(met(),yt(f=>dbn(e.observeDocumentPairAvailability,f).pipe(ce(p=>[f,p]))))),Na((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Kn(Pf),LO()),l=d=>{let{id:f}=d;return go(a.pipe(pwe(p=>f in p),ce(p=>p[f])))},u=a.pipe(gwe(1),b5(hbn,Ec,{leading:!0,trailing:!0}));return Fo([i,co(Ce(null),u)]).pipe(ce(d=>{let[f]=d;return f}),Ake(d=>So(()=>d!=null&&d._type?co(Ce({isValidating:!0,revision:d._rev}),Eqt(e.getClient,d,e.schema,{getDocumentExists:l}).pipe(ce(f=>({validation:f,isValidating:!1})))):Ce({validation:ubn,isValidating:!1}))),Na((d,f)=>({...d,...f}),lbn),LO())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),mbn=zc((e,t,n)=>RA(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return yn(o.events,i.events)})),Jw);function Kc(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const gbn={commit:Kc("commit"),delete:Kc("delete"),del:Kc("del"),publish:Kc("publish"),patch:Kc("patch"),discardChanges:Kc("discardChanges"),unpublish:Kc("unpublish"),duplicate:Kc("duplicate"),restore:Kc("restore")},vbn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return VPe(e,t,n,o)};function Zc(e,t,n){return{disabled:t.disabled(n),execute:vbn(e,n.idPair,n.typeName)}}function ybn(e){return{commit:Zc("commit",RPe,e),delete:Zc("delete",ik,e),del:Zc("delete",ik,e),publish:Zc("publish",OPe,e),patch:Zc("patch",$Pe,e),discardChanges:Zc("discardChanges",MPe,e),unpublish:Zc("unpublish",FPe,e),duplicate:Zc("duplicate",LPe,e),restore:Zc("restore",BPe,e)}}const bbn=zc((e,t,n)=>{const r=HPe(e),i=PPe(e,t,n).pipe(ce(ybn));return co(Ce(gbn),yn(r.pipe(yt(()=>Gn)),i)).pipe(Eo({refCount:!0,bufferSize:1}))},(e,t,n)=>Jw(e.client,t,n)),xbn=(e,t,n,r)=>So(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),wbn=(e,t,n,r)=>So(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function ofe(e){return e.type==="welcome"}function Cbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=wbn(e,i,n,r).pipe(yt((f,p)=>p===0&&!ofe(f)?m0(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):Ce(f)),za()),[a,l]=rwe(s,ofe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>xbn(e,o,n,r);return yn(a.pipe(ps(1)),l.pipe(ut(u),b5(r.throttleTime||1e3,Ec,{leading:!0,trailing:!0}))).pipe(Ake(f=>f.type==="mutation"&&f.visibility!=="query"?wi(1200).pipe(yt(d)):d()))}function _bn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return Ce(n);const r="*[_id in [$documentId, $draftId]]._type",o=Zn(t),i=Qo(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ce(s=>s[0]))}function qp(e){return Cr(e)}const Sbn=["_key","_ref","_weak","_type"];function Ebn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function ife(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!qp(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return v4(e)}catch(r){throw r.message=n(r.message),r}}function v4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(vr(t),'")'));return v4(o,t.concat(i),!0)});if(!qp(e))return e;const r=n&&!e._key?{_key:kw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&kbn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=v4(e[i],t.concat([i])),o),r)}function kbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(vr(t),'"'));const n=Object.keys(e).filter(r=>!Sbn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(Ebn).join(", "),' at path "').concat(vr(t),'"'))}}function gN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];qp(o)&&qp(i)&&(n[r]=gN(i,o))}),n}function jbn(e){return qp(e)&&typeof e.serialize=="function"}async function MA(e,t,n){return typeof e=="function"?e(t,n):e}async function vN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(jbn(t))return vN(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await MA(s,n,r);if(!qp(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));qp(a)&&!Object.keys(a).length&&(a={_type:i}),a=ife(a,t);const l=e.get(i);if(!l)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=gN(await FA(l,n,yN,r)||{},a);return ife(u,t)}function Tbn(e,t){const n=_s(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const yN=10;function FA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yN,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Ua(e)?Dbn(e,t,n,r):Al(e)?Abn(e,t,n,r):MA(e.initialValue,t,r)}async function Abn(e,t,n,r){const o=await MA(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=Tbn(e,i);return Ua(s)?{...i,...await FA(s,t,n-1,r),_key:kw()}:i}))}async function Dbn(e,t,n,r){const o={...await MA(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const l=await FA(a.type,t,n-1,r);l!=null&&(i[a.name]=l)}));const s=gN(i,o);if(!p9(s))return e.name!=="object"&&(s._type=e.name),s}const sfe={type:"loading"};function Ibn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:Qo(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Zn(r.documentId)},["_type"]);return yn(i.pipe(ce(l=>({draft:l}))),s.pipe(ce(l=>({published:l})))).pipe(Na((l,u)=>({...l,...u}),{}),ut(l=>"draft"in l&&"published"in l),ce(l=>l.draft||l.published),Kn((l,u)=>!!l!=!!u),lwe(25)).pipe(rt(l=>{if(l)return Ce({type:"success",value:null});if(!r.templateName)return Ce({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),Ce({isResolving:!1,initialValue:void 0});const d=wr(vN(e,u,r.templateParams,o)).pipe(ce(f=>({isResolving:!1,initialValue:f}))).pipe(Xn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),Ce({type:"error",error:f}))));return yn(Ce({isResolving:!0}),d).pipe(rt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return Ce(v?{type:"error",message:"Failed to resolve initial value"}:p?sfe:{type:"success",value:m})}))}),Ci(sfe),Kn())}function Y1(e){if(M7(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:Qo(e)}}function Pbn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(mn),l={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return DPe(a,u)},initialValue(u,d){return Ibn(i,o,n,u,d)},listenQuery(u,d,f){return Cbn(a,u,d,f)},resolveTypeForDocument(u,d){return _bn(a,u,d)},pair:{consistencyStatus(u,d){return NPe(l.client,Y1(u),d)},documentEvents(u,d){return mbn(l.client,Y1(u),d)},editOperations(u,d){return bbn(l,Y1(u),d)},editState(u,d){return IPe(l,Y1(u),d)},operationEvents(u,d){return HPe({client:a,historyStore:r,schema:i}).pipe(ut(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ce(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return pbn(l,Y1(u),d)}}}}const afe={isLoaded:!1,documentType:void 0};function ZPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=Ll(),r=Zn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:afe);return h.useEffect(()=>a(afe),[r,t]),h.useEffect(()=>{if(o)return;const l=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,t,o]),o?i:s}function Obn(e,t){const n=Ts(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):Ce(void 0),[e,n,t]);return Xje(r)}function $bn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Wo(o),s=Ll(),a=bN(),l=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:l});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:l});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:l}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...l,...v.value}:l}),v.type==="error"&&d({loading:!1,error:v.error,value:l})});return d({loading:!0,error:null,value:l}),()=>m.unsubscribe()},[l,t,s,n,r,i,a]),u}function bN(){const e=ur(),t=dr(),n=ni(),r=TPe(),o=jPe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function xN(){const e=bN();return h.useCallback((t,n)=>FA(t,n,yN,e),[e])}function Rbn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function Mbn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:l}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",l("update",o)]]:[["delete draft document",l("update",r)],["delete published document",l("update",o)]];case"discardDraft":return i?[]:[["delete draft document",l("update",r)]];case"publish":return i?[]:[["update published document at its current state",l("update",o)],["delete draft document",l("update",r)],["create published document from draft",l("create",r&&{...r,_id:Zn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",l("create",r)],["delete published document",l("update",o)],["create draft document from published version",l("create",o&&{...o,_id:Qo(o._id)})]];case"update":return i?[["update published document (live-edit)",l("update",o)]]:[["update ".concat(a," document"),l("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",l("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),l("create",{...s,_id:Qo("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function Fbn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return Ce({granted:!1,reason:"Type specified was `*`"});const a=!!Rbn(r,s).liveEdit;return mN(t,{draftId:Qo(o),publishedId:Zn(o)},s).pipe(rt(l=>Fo([l.draft.snapshots$,l.published.snapshots$]).pipe(ce(u=>{let[d,f]=u;return{draft:d,published:f}}))),rt(l=>{let{draft:u,published:d}=l;const f=Mbn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ce(g=>{let{granted:y,reason:x}=g;return{granted:y,reason:y?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Fo(f).pipe(ce(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):Ce({granted:!0,reason:""})}))}const Lbn=th(Fbn);function ih(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=_r(mn),l=dr(),u=_N(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||l,[l,i]),p=h.useMemo(()=>s||u,[u,s]);return Lbn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function UPe(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const Bbn=th(UPe);function Nbn(e){let{document:t,permission:n,...r}=e;const o=_N();return Bbn({grantsStore:r.grantsStore||o,document:t,permission:n})}function WPe(e){return typeof e=="object"&&e!==null&&"serialize"in e?WPe(e.serialize()):e}function zbn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Fo(n.map(WPe).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const l=await vN(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:l}}).map(s=>wr(s).pipe(rt(a=>{let{item:l,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=l;return UPe({grantsStore:t,permission:"create",document:{_id:p?Zn(m):Qo(m),...u}}).pipe(ce(v=>{let{granted:g,reason:y}=v;const x=l.title||d.title;return{...l,granted:g,reason:y,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:l.description||d.description,icon:l.icon||d.icon}}))})))):Ce([])}const Vbn=th(zbn);function YPe(e){let{templateItems:t,...n}=e;const r=dr(),o=Qw(),i=_N(),s=bN();return Vbn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const lfe="_debug_",Hbn=typeof window>"u"?Ce({}):Yi(window,"hashchange"),qPe=co(Ce(0),Hbn).pipe(ce(()=>typeof document>"u"?"#":document.location.hash),Kn(),ce(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(lfe)).map(t=>t.substring(lfe.length)))),Ubn=qPe.pipe(ce(e=>e.find(t=>t.startsWith("roles="))),ce(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),Wbn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],cfe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Ybn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],qbn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],ufe=[{filter:'_id in path("**")',permissions:["read","history"]}],Gbn=[{filter:"!locked",permissions:["read","create","update"]}],Kbn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],dfe={administrator:Wbn,editor:cfe,developer:Ybn,contributor:qbn,viewer:ufe,restricted:Kbn,requiresApproval:Gbn,read:ufe,write:cfe},Zbn=Ubn.pipe(ce(e=>e.length?e.filter(t=>!!t&&t in dfe).flatMap(t=>dfe[t]||[]):null));async function Xbn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function Qbn(e){const t={};return e!==null&&(t.identity=e.id),t}const BO=new Map;async function Jbn(e,t,n){BO.has(t)||BO.set(t,Nke("*[".concat(t,"]")));const r=BO.get(t),o=Qbn(e),{identity:i}=o,s={...o},a=await(await $ke(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function exn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=So(()=>Ce(r.config())).pipe(rt(s=>{let{projectId:a,dataset:l}=s;if(!a||!l)throw new Error("Missing projectId or dataset");return Xbn(r,a,l)})),i=Zbn.pipe(rt(s=>s?Ce(s):o),fl(1),D7t(1e3));return{checkDocumentPermission(s,a){return i.pipe(rt(l=>txn(n,l,s,a)),Kn(Pf))}}}async function txn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await Jbn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function nxn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return rxn(r)}function rxn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(l){if(l.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(l.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}var oxn=Object.defineProperty,ixn=(e,t,n)=>t in e?oxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NO=(e,t,n)=>(ixn(e,typeof t!="symbol"?t+"":t,n),n);function ffe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function sxn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function hfe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class axn{constructor(t){NO(this,"timeline"),NO(this,"earliestTransactionId",null),NO(this,"_states"),this.timeline=t,this._states={draft:ffe(t.draftId),published:ffe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),hfe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):hfe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=sxn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=bM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}var lxn=Object.defineProperty,cxn=(e,t,n)=>t in e?lxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sh=(e,t,n)=>(cxn(e,typeof t!="symbol"?t+"":t,n),n);class uxn{constructor(t,n,r,o){Sh(this,"timeline"),Sh(this,"start"),Sh(this,"end"),Sh(this,"doc"),Sh(this,"_startDocument"),Sh(this,"_endDocument"),Sh(this,"_diff"),this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return pfe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return pfe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function pfe(e){return e.draft||e.published}var dxn=Object.defineProperty,fxn=(e,t,n)=>t in e?dxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ci=(e,t,n)=>(fxn(e,typeof t!="symbol"?t+"":t,n),n);const hxn=50;class pxn{constructor(t){ci(this,"timeline"),ci(this,"client"),ci(this,"handler"),ci(this,"version",0),ci(this,"selectionState","inactive"),ci(this,"_aligner"),ci(this,"_fetchMore",!1),ci(this,"_fetchAtLeast",0),ci(this,"_isRunning",!1),ci(this,"_isSuspended",!1),ci(this,"_didErr",!1),ci(this,"_since",null),ci(this,"_sinceTime",null),ci(this,"_rev",null),ci(this,"_revTime",null),ci(this,"_reconstruction"),this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new axn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new uxn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=hxn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await nxn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function mxn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function mfe(e){return e.draft||e.published}var gxn=Object.defineProperty,vxn=(e,t,n)=>t in e?gxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bo=(e,t,n)=>(vxn(e,typeof t!="symbol"?t+"":t,n),n);class yxn{constructor(t,n,r,o){bo(this,"type","array"),bo(this,"value"),bo(this,"length"),bo(this,"annotation"),bo(this,"extractor"),bo(this,"content"),bo(this,"elements",[]),this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=sk(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class bxn{constructor(t,n,r,o){bo(this,"type","object"),bo(this,"value"),bo(this,"keys"),bo(this,"annotation"),bo(this,"extractor"),bo(this,"content"),bo(this,"fields",{}),this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=sk(r,this.value[t],this.extractor)}}class xxn{constructor(t,n,r,o){bo(this,"type","string"),bo(this,"value"),bo(this,"annotation"),bo(this,"extractor"),bo(this,"content"),this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const l=r[r.length-1];if(mxn(l.annotation,a)){l.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,l=Math.max(0,t-o);if(l<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(l,u),this.extractor.fromValue(s))}o+=a}return r}}function sk(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new yxn(e.content,t,r,n);case"object":return new bxn(e.content,t,r,n);case"string":return new xxn(e.content,t,r,n)}return l7(t,r)}function gfe(e,t,n){return n?y4(e,n.transactionIndex+1,n.chunk.index):t?y4(e,t.start,t.index):null}function vfe(e,t){return t?y4(e,t.transactionIndex,t.chunk.index):null}function y4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function wxn(e,t,n,r,o,i){const s=sk(n,r,{fromValue(l){return gfe(e,t,l.endMeta)},fromMeta(l){return gfe(e,t,l)}}),a=sk(o,i,{fromValue(l){return vfe(e,l.startMeta)},fromMeta(l){return vfe(e,l)}});return VT(s,a)}var Cxn=Object.defineProperty,_xn=(e,t,n)=>t in e?Cxn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yfe=(e,t,n)=>(_xn(e,typeof t!="symbol"?t+"":t,n),n);class K_{constructor(){yfe(this,"_postive",[]),yfe(this,"_negative",[])}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function Sxn(e){return e==="create"||e==="editDraft"}const Exn=5*60*1e3;function kxn(e,t){return Date.parse(t)-Date.parse(e)<Exn}function bfe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=wfe(e.draftState,t.draftState),r=wfe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Sxn(e.type)&&t.type==="editDraft"&&kxn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function xfe(e){const t=!!e;return e&&b4(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function jxn(e){const t=xfe(e.draftEffect),n=xfe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function zO(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&b4(e.draftEffect.apply),o=e.publishedEffect&&b4(e.publishedEffect.apply),i=jxn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function wfe(e,t){return t==="unknown"?e:t}function b4(e){return e[0]===0&&e[1]===null}var Txn=Object.defineProperty,Axn=(e,t,n)=>t in e?Txn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,md=(e,t,n)=>(Axn(e,typeof t!="symbol"?t+"":t,n),n);let Dxn=class{constructor(t){md(this,"reachedEarliestEntry",!1),md(this,"publishedId"),md(this,"draftId"),md(this,"_transactions",new K_),md(this,"_chunks",new K_),md(this,"_possiblePendingTransactions",new Map),md(this,"_recreateTransactionsFrom"),md(this,"_trace"),this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new K_,this._chunks=new K_,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(zO(s),bfe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(zO(s),bfe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=zO(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=bM(o,a.draftEffect.revert)),a.publishedEffect&&(i=bM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=tl.wrap(t.draft,null),s=tl.wrap(t.published,null);const a=Ixn(i,s),l=mfe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),y={chunk:m,transactionIndex:v},x=i,b=s;g.draftEffect&&(i=tl.applyPatch(i,g.draftEffect.apply,y)),g.publishedEffect&&(s=tl.applyPatch(s,g.publishedEffect.apply,y));const w=tl.getType(x)!=="null",C=tl.getType(i)!=="null";tl.getType(s)!=="null"&&!C&&(s=tl.rebaseValue(x,s)),C&&!w&&(i=tl.rebaseValue(b,i))}}const d=tl.getType(i)==="null"?s:i,f=mfe(n);return wxn(this,u,a,l,d,f)}};function Ixn(e,t){return tl.getType(e)==="null"?t:e}const Cfe=Object.create(null),Pxn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const l=o||new Date().toISOString();a="".concat(a,"?time=").concat(l)}return e.request({url:a})},GPe=(e,t,n)=>{const r=Zn(t),o=Qo(t),i="".concat(r,"@").concat(n),s=Cfe[i];if(s)return s;const a=e.config().dataset,l="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:l}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return Cfe[i]=u,u},Oxn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new Dxn({enableTrace:ad,publishedId:n});return new pxn({client:t,documentId:n,documentType:r,timeline:o})},$xn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(l=>JSON.parse(l))},Rxn=e=>kke(e,(t,n)=>Uu(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function x4(e,t){return Array.isArray(e)?t(e.map(n=>x4(n,t)).filter(n=>typeof n<"u")):_t(e)?t(Object.keys(e).reduce((n,r)=>{const o=x4(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const Mxn=(e,t)=>x4(e,n=>Uu(n)?t(n):n),Fxn=(e,t)=>Mxn(e,n=>t[n._ref]?n:void 0);function Lxn(e,t,n,r){return wr(GPe(e,t,r)).pipe(yt(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=Rxn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ce(s=>Fxn(o,s)))}),ce(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),yt(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function Bxn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>GPe(t,n,r),getHistory:(n,r)=>Pxn(t,n,r),getTransactions:n=>$xn(t,n),restore:(n,r,o)=>Lxn(t,n,r,o),getTimelineController:Oxn}}const _fe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function Nxn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=ZPe(),a=h.useRef(null),l=h.useRef(_fe),u=_r(mn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Pj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=abn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),l.current.isLoading=!0},getSnapshot:()=>l.current,subscribe:m=>{const v=f.pipe(Wn(g=>g.setLoadMore(!1)),ce(g=>{var y;const x=g.timeline.mapChunks(_=>_),b=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(y=b==null?void 0:b[0])==null?void 0:y.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),Kn(J4),Xn(g=>(r==null||r(g),Ce(_fe))),Wn(g=>{l.current=g}),Wn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function Li(e,t){return c7.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const zxn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],Vxn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],Hxn=So(()=>wi(0,1e4)).pipe(Mp(zxn),ce((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:VBt(Vxn)}]})),Eo()),Uxn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},Wxn=(e,t)=>{const n=e.request("presence").pipe(ce(Uxn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Gn;return[n.pipe(za()),r]},KPe="presence_session_id",Yxn=()=>Qgt(16);function qxn(){try{return window.sessionStorage.getItem(KPe)}catch{}return null}function Gxn(e){try{window.sessionStorage.setItem(KPe,e)}catch{}return e}const Z_=qxn()||Gxn(Yxn());function Kxn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=Wxn(t,Z_),s=new Pj([]),a=s.pipe(Kn()),l=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(ut(A=>A.type==="rollCall"),ut(A=>A.sessionId!==Z_)),m=wi(0,3e4),v=So(()=>yn(a,f)).pipe(rt(()=>m),Vy(s),ce(A=>{let[,D]=A;return D}),aet(200),rt(A=>u(A)),Mp(Gn),za()),g=So(()=>d()).pipe(Mp(Gn)),y=n.connectionStatus$.pipe(ce(A=>A.type),ut(A=>A==="connected"||A==="error"),Kn()),x=qPe.pipe(ce(A=>A.find(D=>D.startsWith("presence="))),ce(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),b=x.pipe(ut(A=>A.includes("fake_others")),Wn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),Cet(Hxn)),w=x.pipe(ce(A=>A.includes("show_own"))),C=yn(g,o).pipe(ut(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=yn(C,b).pipe(Na((A,D)=>D.type==="disconnect"?_i(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=y.pipe(rt(A=>A==="connected"?yn(S,v):SL),ce(A=>Object.values(A)),rt(A=>{const D=ao(A.map(I=>I.userId));return wr(r.getUsers(D)).pipe(ce(I=>A.map(P=>({user:I.find(R=>R.id===P.userId),session:P})).filter(j)))}),kL(Yi(window,"beforeunload").pipe(rt(()=>i({type:"disconnect"})))),Eo({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(ce(A=>{const D=H9(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var P;return{user:(P=A.find(R=>R.user.id===I))==null?void 0:P.user,sessions:D[I]}})}),Vy(w),ce(A=>{let[D,I]=A;return D.filter(P=>I?!0:!P.sessions.some($=>$.sessionId===Z_))}),ce(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:_n((D.sessions||[]).map(P=>P.locations||[])).map(P=>({type:P.type,documentId:P.documentId,path:P.path,lastActiveAt:P.lastActiveAt})).reduce((P,R)=>P.concat(R),[])}})));return{setLocation:l,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(Vy(w),rt(D=>{let[I,P]=D;return wr(I).pipe(ut(R=>P||R.session.sessionId!==Z_),xet(R=>(R.session.locations||[]).filter($=>$.documentId===A).map($=>({user:R.user,lastActiveAt:R.session.lastActiveAt,path:$.path||[],sessionId:R.session.sessionId}))),swe())}))}}function Zxn(){const[e,t]=h.useState([]),n=SN();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function wN(e){const t=SN(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function Xxn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const Qxn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},Jxn=(e,t)=>{const n=localStorage.getItem(e);return Ce(n===null?t:Qxn(n,t))},ewn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),Ce(t)),twn={get:Jxn,set:ewn},ak=Object.create(null),nwn=(e,t)=>Ce(e in ak?ak[e]:t),rwn=(e,t)=>(typeof t>"u"||t===null?delete ak[e]:ak[e]=t,Ce(t)),own={get:nwn,set:rwn};let q1=null;function iwn(){if(q1!==null)return q1;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),q1=!0}catch{q1=!1}return q1}function swn(){return iwn()?twn:own}function awn(){const e=swn(),t=new Tr,n=(a,l)=>"".concat(a,"::").concat(l),r=t.pipe(rt(a=>e.set(a.key,a.value).pipe(ce(l=>({key:a.key,value:l}))))),o=(a,l)=>yn(e.get(a,l),r.pipe(ut(u=>u.key===a),ce(u=>u.value))),i=(a,l)=>{t.next({key:a,value:l})},s=a=>({forKey:l=>{const u=n(a,l);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(l,u)=>o(n(a,l),u),set:(l,u)=>i(n(a,l),u),del:l=>i(n(a,l),void 0),forNamespace:l=>s(n(a,l))});return{forNamespace:s}}const lwn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function cwn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new JBt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>oNt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),lwn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(l=>_t(l)&&typeof l.id=="string")}}function CN(){const{getClient:e,currentUser:t}=ur(),n=sd(),r=e(mn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||cwn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function _N(){const{getClient:e}=ur(),t=e(mn),n=ni(),r=sd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||exn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function ZPe(){const e=_r(mn),t=sd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||Bxn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Ts(){const e=_r(mn),t=sd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||JGt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function Ll(){const e=ur().getClient,t=dr(),n=Qw(),r=sd(),o=ZPe(),i=Ts();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||Pbn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function uwn(){const{bifur:e}=ur().__internal,t=sd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||FYt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function SN(){const{__internal:{bifur:e}}=ur(),t=sd(),n=CN(),r=uwn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||Kxn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function dwn(){const e=_r(mn),t=sd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||Xxn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function QPn(){const e=sd(),t=Ml();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||awn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const fwn=/[^\p{Alpha}\p{White_Space}]/gu,hwn=/\p{White_Space}+/u,pwn={small:0,medium:1,large:2};function mwn(e){const t=e.replace(fwn,"").split(hwn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Va(e){const{user:t,...n}=e;return _t(t)?n.withTooltip?c.jsx(gwn,{...n,user:t}):c.jsx(XPe,{...n,user:t}):c.jsx(vwn,{...e,user:t})}function gwn(e){const{user:{displayName:t}}=e;return c.jsx(bt,{content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:t})}),placement:"top",portal:!0,children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(XPe,{...e})})})}const XPe=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:l,...u}=t,[d,f]=h.useState(null),p=eZt(r.id),m=d||r==null?void 0:r.imageUrl;return c.jsx(Qbe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":l,initials:(r==null?void 0:r.displayName)&&mwn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?pwn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function vwn(e){let{user:t,...n}=e;const[r]=K0(t);return r?c.jsx(Va,{...n,user:r}):null}function Vh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Pr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Vh(a[s]||{},i,n)}}}const EN=20,ywn=3,Gd={name:"all-fields",title:"All fields",hidden:!1};function bwn(e){return Ua(e.schemaType)}function xwn(e){return W4(e.schemaType)}function wwn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...QPe(e,t)]}function QPe(e,t){return t.length===0?[]:bwn(e)?JPe(e,t):xwn(e)?eOe(e,t):[]}function JPe(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),l=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===Gd.name||u&&pw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||Gd.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),l&&($B(l)?m.push(...eOe(l.field,i)):QAe(l)&&m.push(...JPe(l.field,i))),m}function eOe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Pr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?QPe(o.item,r):[]}function xo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function Cwn(e,t){const n=_s(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function _wn(e,t){const n=_s(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function kN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=ywn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function tOe(e,t,n){return n.name===Gd.name?!0:t===void 0?!1:e.length===0&&n.name===Gd.name?!0:pw(t).includes(n.name)}function Sfe(e){return typeof e>"u"||_t(e)}function Swn(e){return typeof e>"u"||Array.isArray(e)}function Ewn(e){return typeof e>"u"||Array.isArray(e)}function kwn(e){return e.length===0||e.every(t=>_t(t))}function jwn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function Twn(e){return"_key"in e}function Awn(e){return e==null?void 0:e.every(t=>_t(t)&&Twn(t))}function fv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Yt(e,t)}function Efe(e){var t,n,r,o,i,s,a,l,u,d,f,p,m,v,g,y,x,b;const{parent:w,field:C,index:_}=e,S=Qp([...w.path,C.name]),E=drn(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!Sfe(j))throw new Error("Unexpected non-object value");const T=C.group?pw(C.group):[],A=tOe(w.groups,C.group,w.selectedGroup);if(Ua(C.type)){const D=j==null?void 0:j[C.name],I=_t(k)?k==null?void 0:k[C.name]:void 0;if(!Sfe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:_s(D),value:D}};const P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(xo(C.type.hidden,P))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const $=w.readOnly||xo(C.type.readOnly,P),U=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],L=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],W=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],Y=jN({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:fv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:U,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:L,collapsedFieldSets:W,readOnly:$,changesOpen:w.changesOpen});if(Y===null)return null;const V=kN(C.type.options,E),H=L?L.value:V.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:hi(S,w.openPath),field:Y,collapsed:H,collapsible:V.collapsible}}else if(Al(C.type)){const D=j==null?void 0:j[C.name],I=_t(k)?k==null?void 0:k[C.name]:void 0;if(W4(C.type)){const P=typeof D<"u";if(P&&!Swn(D)){const V=_s(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:V,value:D}}}if(P&&!kwn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(P&&!Awn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const R=P?jwn(D):[];if(R.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:R,schemaType:C.type}};const $=(l=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:l[C.name],U=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],L=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],W=w.readOnly||xo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),Y=Iwn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:fv(D,I),comparisonValue:I,fieldGroupState:$,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:U,collapsedFieldSets:L,level:E,path:S,readOnly:W});return Y===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:hi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:Y}}else{if(!Ewn(D)){const W=_s(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:W,value:D}}}const P=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],R=(y=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:y[C.name],$=(b=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:b[C.name],U=w.readOnly||xo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),L=Dwn({changed:fv(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:P,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:R,collapsedFieldSets:$,level:E,path:S,readOnly:U});return L===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:hi(S,w.openPath),collapsible:!1,collapsed:!1,field:L}}}else{const D=j==null?void 0:j[C.name],I=_t(k)?k==null?void 0:k[C.name]:void 0,P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(xo(C.type.hidden,P))return null;const $=w.readOnly||xo(C.type.readOnly,P),U=nOe({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:$});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:hi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:U}}}function jN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===EN)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||xo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(b=>b.default)||Gd)==null?void 0:n.name,a=[Gd,...i].flatMap(b=>{var w;const C=xo(b.hidden,r),_=b.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?b.name===Gd.name:_,E=e.changesOpen?!S:!1;return C?[]:[{disabled:E,icon:b==null?void 0:b.icon,name:b.name,selected:S,title:b.title}]}),l=a.find(b=>b.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(b=>({single:!0,field:b}))).flatMap((b,w)=>{var C,_,S,E;if(b.single){const P=b.field,R=Efe({field:P,parent:{...e,readOnly:o,groups:a,selectedGroup:l},index:w});return R?[R]:[]}const j=b.fields.map(P=>P.name),k=xo(b.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),T=xo(b.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),A=b.fields.flatMap(P=>{if(k)return[{kind:"hidden",key:"field-".concat(P.name),name:P.name,index:w}];const R=Efe({field:P,parent:{...e,readOnly:o||T,groups:a,selectedGroup:l},index:w});return R?[R]:[]}),D=kN(b.options,e.level),I=(S=(_=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[b.name])==null?void 0:_.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(b.name),_inSelectedGroup:tOe(a,b.group,l),groups:b.group?pw(b.group):[],fieldSet:{path:Qp(e.path.concat(b.name)),name:b.name,title:b.title,description:b.description,hidden:!1,level:e.level+1,members:A.filter(P=>P.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(E=b==null?void 0:b.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(b=>xn(b.path,e.path)),m=p.length?p:Vn,v=e.validation.filter(b=>xn(b.path,e.path)).map(b=>({level:b.level,message:b.item.message,path:b.path})),g=d.filter(b=>b.kind!=="hidden");if(g.length===0&&t)return null;const y=f?a.flatMap(b=>b.name===Gd.name||g.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(b.name):C.groups.includes(b.name)||C.fieldSet.members.some(_=>_.kind!=="error"&&_.groups.includes(b.name)))?b:[]):[],x=g.flatMap(b=>{if(b.kind==="error")return[b];if(b.kind==="field")return b.inSelectedGroup?[b]:[];const w=b.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...b,fieldSet:{...b.fieldSet,members:w}}]:[]});return{value:e.value,changed:fv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:vr(e.path),level:e.level,focused:xn(e.path,e.focusPath),focusPath:Q4(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:x,groups:y}}function Dwn(e){if(e.level===EN)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(xo(e.schemaType.hidden,t))return null;const r=e.readOnly||xo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>xn(u.path,e.path)),s=i.length?i:Vn,a=e.validation.filter(u=>xn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>Own({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:xn(e.path,e.focusPath),focusPath:Q4(e.path,e.focusPath),path:e.path,id:vr(e.path),level:e.level,validation:a,presence:s,members:l}}function Iwn(e){if(e.level===EN)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(xo(e.schemaType.hidden,t))return null;const r=e.readOnly||xo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>xn(u.path,e.path)),s=i.length?i:Vn,a=e.validation.filter(u=>xn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=o.flatMap((u,d)=>Pwn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:xn(e.path,e.focusPath),focusPath:Q4(e.path,e.focusPath),path:e.path,id:vr(e.path),level:e.level,validation:a,presence:s,members:l}}function Pwn(e){var t,n,r,o,i,s,a;const{arrayItem:l,parent:u,index:d}=e,f=Cwn(u.schemaType,l),p=l._key;if(!f){const j=_s(l);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:l,validTypes:u.schemaType.of}}}const m=Qp([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},y=u.readOnly||xo(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],b=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===l._key)||void 0,_=jN({schemaType:f,level:v,document:u.document,value:l,comparisonValue:C,changed:fv(l,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:b,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:y},!1),S=kN(f.options,v),E=(a=b==null?void 0:b.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:hi(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function Own(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=_wn(o.schemaType,r),a=Qp([...o.path,i]),l=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:_s(s),value:l}};const p=o.readOnly||xo(s.readOnly,{value:l,parent:o.value,document:o.document,currentUser:o.currentUser}),m=nOe({...o,path:a,schemaType:s,level:d,value:l,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:xn(a,o.openPath),item:m}}function nOe(e){const t=e.presence.filter(o=>xn(o.path,e.path)),n=t.length?t:Vn,r=e.validation.filter(o=>xn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:fv(e.value,e.comparisonValue),value:e.value,level:e.level,id:vr(e.path),readOnly:e.readOnly,focused:xn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function $wn(e){return jN(e)}function Rwn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:l,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=ni(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=$wn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:l,readOnly:f,path:Qp([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),y=aB(v.current,g);return v.current=y,y},[e,r,o,i,s,n,a,l,f,m,u,d,p])}function Mwn(e){return e.map(Bwn)}function JPn(e,t){return _n(t.map(n=>Lwn(e,n)))}const Fwn=e=>t=>!e.includes(t);function Lwn(e,t){return _n(Object.keys(t).filter(Fwn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:Gm(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:Gm(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:Gm(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:Gm(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:Gm(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:Gm(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function Bwn(e){if(e.patchType!==Wp&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==Wp)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=vke(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=fa(),o=h.useCallback(s=>{const a=s.patches,l=n(a);r.onChange(at.from(l))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return c.jsx(sB.Provider,{value:i,children:t.children})});Tf.fonts.code.family,Tf.fonts.text.family,ec.hex,ba.hex,Q1[500].hex,ba.hex,ec.hex,u2[500].hex,u2[500].hex,u2[500].hex,g3[500].hex,Q1[500].hex,y3[500].hex,v3[500].hex,Q1[500].hex,Q1[500].hex,y3[500].hex,v3[500].hex,g3[500].hex,ec.hex,ba.hex;({...Tf});const Nwn=X7(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||pF,component:h.lazy(()=>i8(()=>import("./SanityVision-77b499dd-de0d114c.js"),["static/SanityVision-77b499dd-de0d114c.js","static/json-inspector-3a48b3e8.js"])),options:o,router:fi.create("/*")}]}});var LA={},zwn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},Vwn=zwn,kfe={"text/plain":"Text","text/html":"Url",default:"Text"},Hwn="Copy to clipboard: #{key}, Enter";function Uwn(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Wwn(e,t){var n,r,o,i,s,a,l=!1;t||(t={}),n=t.debug||!1;try{o=Vwn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=kfe[t.format]||kfe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=Uwn("message"in t?t.message:Hwn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var Ywn=Wwn;function w4(e){"@babel/helpers - typeof";return w4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w4(e)}Object.defineProperty(LA,"__esModule",{value:!0});LA.CopyToClipboard=void 0;var X_=rOe(h),qwn=rOe(Ywn),Gwn=["text","onCopy","options","children"];function rOe(e){return e&&e.__esModule?e:{default:e}}function jfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Tfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jfe(Object(n),!0).forEach(function(r){TN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kwn(e,t){if(e==null)return{};var n=Zwn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zwn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Xwn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Afe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qwn(e,t,n){return t&&Afe(e.prototype,t),n&&Afe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jwn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C4(e,t)}function C4(e,t){return C4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},C4(e,t)}function eCn(e){var t=nCn();return function(){var r=lk(e),o;if(t){var i=lk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return tCn(this,o)}}function tCn(e,t){if(t&&(w4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oOe(e)}function oOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nCn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lk(e){return lk=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},lk(e)}function TN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iOe=function(e){Jwn(n,e);var t=eCn(n);function n(){var r;Xwn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),TN(oOe(r),"onClick",function(a){var l=r.props,u=l.text,d=l.onCopy,f=l.children,p=l.options,m=X_.default.Children.only(f),v=(0,qwn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return Qwn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=Kwn(o,Gwn),a=X_.default.Children.only(i);return X_.default.cloneElement(a,Tfe(Tfe({},s),{},{onClick:this.onClick}))}}]),n}(X_.default.PureComponent);LA.CopyToClipboard=iOe;TN(iOe,"defaultProps",{onCopy:void 0,options:void 0});var rCn=LA,_4=rCn.CopyToClipboard;_4.CopyToClipboard=_4;var oCn=_4;const iCn=Ie(oCn);var sCn=Nf,aCn=Ya,lCn="[object Number]";function cCn(e){return typeof e=="number"||aCn(e)&&sCn(e)==lCn}var uCn=cCn;const dCn=Ie(uCn);function Dfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ife(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dfe(Object(n),!0).forEach(function(r){fCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fCn(e,t,n){return t=hCn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hCn(e){var t=pCn(e,"string");return typeof t=="symbol"?t:String(t)}function pCn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ck(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function sOe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function aOe(e){return sOe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function lOe(e){return e._type==="@list"}function cOe(e){return e._type==="@span"}function uOe(e){return e._type==="@text"}const Pfe=["strong","em","code","underline","strike-through"];function mCn(e,t,n){if(!ck(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&ck(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>gCn(o,i,s))}function gCn(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=Pfe.indexOf(t),s=Pfe.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function vCn(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(mCn),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const l=n[a];if(!l)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(y=>y._key===p),v=m?m._type:p,g={_type:"@span",_key:l._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(ck(l)){const p=l.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(l)}}return i.children}function yCn(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!aOe(i)){n.push(i),r=void 0;continue}if(!r){r=Q_(i,o,t),n.push(r);continue}if(bCn(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=Q_(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],l=Ife(Ife({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=l}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&S4(s,i);if(a){r=a,r.children.push(i);continue}r=Q_(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&S4(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=Q_(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function bCn(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function Q_(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function S4(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(lOe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!ck(i)?S4(i,t):void 0}function dOe(e){let t="";return e.children.forEach(n=>{uOe(n)?t+=n.text:cOe(n)&&(t+=dOe(n))}),t}const xCn="html",wCn=["block","list","listItem","marks","types"],CCn=["listItem"],_Cn=["_key"];function Ofe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ofe(Object(n),!0).forEach(function(r){SCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ofe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SCn(e,t,n){return t=ECn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ECn(e){var t=kCn(e,"string");return typeof t=="symbol"?t:String(t)}function kCn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4(e,t){if(e==null)return{};var n=jCn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jCn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function TCn(e,t){const n=E4(t,wCn);return rc(rc({},e),{},{block:G1(e,t,"block"),list:G1(e,t,"list"),listItem:G1(e,t,"listItem"),marks:G1(e,t,"marks"),types:G1(e,t,"types")},n)}function G1(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?rc(rc({},o),r):o}const ACn=e=>{let{children:t,value:n}=e;return c.jsx("a",{href:n==null?void 0:n.href,children:t})},DCn={textDecoration:"underline"},ICn={em:e=>{let{children:t}=e;return c.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return c.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return c.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return c.jsx("span",{style:DCn,children:t})},"strike-through":e=>{let{children:t}=e;return c.jsx("del",{children:t})},link:ACn},PCn={number:e=>{let{children:t}=e;return c.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return c.jsx("ul",{children:t})}},OCn=e=>{let{children:t}=e;return c.jsx("li",{children:t})},eC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),fOe=e=>eC('block type "'.concat(e,'"'),"types"),$Cn=e=>eC('mark type "'.concat(e,'"'),"marks"),RCn=e=>eC('block style "'.concat(e,'"'),"block"),MCn=e=>eC('list style "'.concat(e,'"'),"list"),FCn=e=>eC('list item style "'.concat(e,'"'),"listItem");function LCn(e){console.warn(e)}const $fe={display:"none"},BCn=e=>{let{value:t,isInline:n}=e;const r=fOe(t._type);return n?c.jsx("span",{style:$fe,children:r}):c.jsx("div",{style:$fe,children:r})},NCn=e=>{let{markType:t,children:n}=e;return c.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},zCn=e=>{let{children:t}=e;return c.jsx("p",{children:t})},VCn=e=>{let{children:t}=e;return c.jsx("ul",{children:t})},HCn=e=>{let{children:t}=e;return c.jsx("li",{children:t})},UCn=()=>c.jsx("br",{}),WCn={normal:e=>{let{children:t}=e;return c.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return c.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return c.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return c.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return c.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return c.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return c.jsx("h6",{children:t})}},Rfe={types:{},block:WCn,marks:ICn,list:PCn,listItem:OCn,hardBreak:UCn,unknownType:BCn,unknownMark:NCn,unknownList:VCn,unknownListItem:HCn,unknownBlockStyle:zCn};function YCn(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=LCn}=e;const i=o||GCn,s=Array.isArray(t)?t:[t],a=yCn(s,r||xCn),l=h.useMemo(()=>n?TCn(Rfe,n):Rfe,[n]),u=h.useMemo(()=>qCn(l,i),[l,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return c.jsx(c.Fragment,{children:d})}const qCn=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return lOe(p)?i(p,m,g):aOe(p)?o(p,m,g):cOe(p)?s(p,m,g):r(p)?d(p,m,g,v):sOe(p)?a(p,m,g,v):uOe(p)?l(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=Mfe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(FCn(w),{type:w,nodeType:"listItemStyle"})}let b=v.children;if(f.style&&f.style!=="normal"){const w=E4(f,CCn);b=n({node:w,index:p,isInline:!1,renderNode:n})}return c.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:b},m)}function i(f,p,m){const v=f.children.map((b,w)=>n({node:b._key?b:rc(rc({},b),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const b=f.listItem||"bullet";t(MCn(b),{nodeType:"listStyle",type:b})}return c.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:y}=f,x=e.marks[g]||e.unknownMark,b=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t($Cn(g),{nodeType:"mark",type:g}),c.jsx(x,{text:dOe(f),value:v,markType:g,markKey:y,renderNode:n,children:b},m)}function a(f,p,m,v){const g=Mfe({node:f,index:p,isInline:v,renderNode:n}),y=E4(g,_Cn),x=y.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(RCn(x),{nodeType:"blockStyle",type:x}),c.jsx(w,rc(rc({},y),{},{value:y.node,renderNode:n}),m)}function l(f,p){if(f.text===`
`){const m=e.hardBreak;return m?c.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(fOe(f._type),{nodeType:"block",type:f._type});const y=e.unknownType;return c.jsx(y,rc({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},y=e.types[f._type];return y?c.jsx(y,rc({},g),m):null}return n};function Mfe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=vCn(t).map((a,l)=>o({node:a,isInline:!0,index:l,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function GCn(){}var KCn=w2e,ZCn=u8,XCn=ZCn(function(e,t,n){return t=t.toLowerCase(),e+(n?KCn(t):t)}),QCn=XCn;const Ffe=Ie(QCn);var JCn=u8,e_n=JCn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),t_n=e_n;const n_n=Ie(t_n);function r_n(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?c.jsx(c.Fragment,{}):typeof t=="function"?t():t}function o_n(e){const{document:t}=e,r=dr().get(t._type),{error:o,value:i}=CTe({schemaType:r,value:t});return r?o?c.jsxs(c.Fragment,{children:["Error: ",o.message]}):c.jsx(c.Fragment,{children:(i==null?void 0:i.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):c.jsxs("code",{children:["Unknown schema type: ",t._type]})}function i_n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const s_n=5e3;let VO;const hOe=()=>(VO||(VO=Yi(document,"visibilitychange").pipe(Ci(null),ce(()=>document.visibilityState==="visible"),Kn(),rt(e=>e?wi(0,s_n):Gn),Eo({refCount:!0,bufferSize:1}))),VO);function a_n(e,t){let{versionedClient:n}=t;const r=Qo(e),o=Zn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ce(s=>{let{omitted:a}=s;const l=a.filter(u=>u.reason==="existence");if(l.length!==2)return l.length===0||l.some(u=>u.id===r)?o:r}))}function l_n(e,t){const{versionedClient:n}=t;return hOe().pipe(rt(()=>a_n(e,t)),rt(r=>{if(!r)return Ce({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Xn(i=>{if(i_n(i)&&i.statusCode===404)return Ce({totalCount:0,references:[]});throw i}))}))}const c_n=th(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),u_n=th(e=>{let[t,n]=e;return hOe().pipe(rt(()=>l_n(t,{versionedClient:n})))});function d_n(e){const t=_r(mn),n=Ll(),r=Zn(e),[o,i]=c_n(h.useMemo(()=>[r,n],[n,r])),[s,a]=u_n(h.useMemo(()=>[r,t],[r,t])),l=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:l,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function f_n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=Ff(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(bt,{portal:!0,content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:c.jsx(ir,{tone:"positive",dimmed:!t,muted:!t,size:1,children:c.jsx(Nx,{"aria-label":r})})})}function h_n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=Ff(n||"",{minimal:!0,agoSuffix:!0});return c.jsx(bt,{portal:!0,content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:c.jsx(ir,{tone:"caution",dimmed:!t,muted:!t,size:1,children:c.jsx(Su,{})})})}function p_n(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=_t(i.title)&&h.isValidElement(i.title)||nT(i.title)||dCn(i.title)?i.title:null,{draft:a,published:l,isLoading:u}=ko(()=>JT(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:c.jsxs(Qt,{space:4,children:[r&&r.length>0&&c.jsx(_B,{presence:r}),c.jsx(f_n,{document:l}),c.jsx(h_n,{document:a})]});return c.jsx(Lw,{...eB({value:i,draft:a,published:l}),isPlaceholder:u,icon:t,layout:n,status:d})}function is(){throw new Error("Pane is missing router context")}const BA=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>is(),ChildLink:()=>is(),ReferenceChildLink:()=>is(),handleEditReference:()=>is(),ParameterizedLink:()=>is(),replaceCurrent:()=>is(),closeCurrentAndAfter:()=>is(),closeCurrent:()=>is(),duplicateCurrent:()=>is(),setView:()=>is(),setParams:()=>is(),setPayload:()=>is(),navigateIntent:()=>is(),createPathWithParams:()=>is()}),eOn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(BA),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return c.jsx(Xj,{...t,ref:n,state:s})}),m_n=h.createContext(null);function AN(){const e=h.useContext(m_n);if(!e)throw new Error("PaneLayout: missing context value");return e}const g_n=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:l}=h.useContext(BA);return c.jsx(Xj,{...s,ref:n,state:{panes:[...a.slice(0,l+1),[{id:r,params:i,payload:o}]]}})}),tOn=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...l}=t;return c.jsx(g_n,{...l,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:vr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),nOn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(BA),{params:s,payload:a,...l}=t,u=Wo(s),d=Wo(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return c.jsx(Xj,{ref:n,...l,state:f})});function NA(){return h.useContext(BA)}const Lfe=[];function v_n(e){const{onClick:t,type:n,value:r}=e,o=Zn(r==null?void 0:r._id),i=wN(o),s=Ts(),{ReferenceChildLink:a}=NA(),l=h.useCallback(function(d){return c.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:Lfe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return c.jsx(cv,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:t,padding:2,radius:2,children:c.jsx(p_n,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:Lfe,schemaType:n,value:r})})}var Bfe=Object.freeze,y_n=Object.defineProperty,tC=(e,t)=>Bfe(y_n(e,"raw",{value:Bfe(t||e.slice())})),Nfe,zfe,Vfe,Hfe,Ufe;const pOe=O(B)(Nfe||(Nfe=tC([`
  margin-left: auto;
`]))),b_n=O.details(zfe||(zfe=tC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),pOe),x_n=O.summary(Vfe||(Vfe=tC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),w_n=O.table(Hfe||(Hfe=tC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.space[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),C_n=O(q)(Ufe||(Ufe=tC([`
  min-height: 35px;
`]))),Wfe=e=>{const t=e.totalCount-e.references.length;return t?c.jsxs(Qt,{space:2,children:[c.jsxs(N,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),c.jsx(bt,{portal:!0,placement:"top",content:c.jsx(ta,{width:0,children:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:c.jsx(N,{size:1,muted:!0,children:c.jsx(em,{})})})]}):null};function __n(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:l}=e;const u=dr(),d=Ei(),f=h.useCallback(y=>{const x=u.get(y._type);return x?c.jsx(v_n,{type:x,value:y,onClick:l}):c.jsx(B,{padding:2,children:c.jsx(Lw,{icon:ml,title:"Preview Unavailable",subtitle:"ID: ".concat(y._id),layout:"default"})})},[u,l]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return c.jsxs(N,{as:"p",children:["Are you sure you want to ",i," ",c.jsxs("strong",{children:["",r,""]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),c.jsxs(ne,{children:[c.jsx(ne,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:c.jsxs(q,{children:[c.jsx(N,{"aria-hidden":"true",size:1,children:c.jsx(Zr,{})}),c.jsx(B,{flex:1,marginLeft:3,children:c.jsx(N,{size:1,children:o===1?c.jsxs(c.Fragment,{children:["1 document refers to ",r,""]}):c.jsxs(c.Fragment,{children:[o.toLocaleString()," documents refer to ",r,""]})})})]})}),c.jsx(B,{flex:"none",marginBottom:4,children:c.jsxs(N,{children:["You may not be able to ",i," ",r," because the following documents refer to it:"]})}),c.jsx(ne,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:c.jsxs(q,{direction:"column",children:[n.totalCount>0&&c.jsxs(oe,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(y=>c.jsx(B,{as:"li",children:f(y)},y._id)),n.totalCount>n.references.length&&c.jsx(B,{as:"li",padding:3,children:c.jsx(Wfe,{...n})})]}),t.totalCount>0&&c.jsxs(b_n,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[c.jsx(x_n,{children:c.jsx(ne,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:c.jsxs(q,{align:"center",margin:2,children:[c.jsx(B,{marginLeft:3,marginRight:4,children:c.jsx(N,{size:3,children:c.jsx(fF,{})})}),c.jsxs(q,{marginRight:4,direction:"column",children:[c.jsx(B,{marginBottom:2,children:c.jsxs(N,{children:[p," in ",v]})}),c.jsx(B,{children:c.jsx(N,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),c.jsx(pOe,{children:c.jsx(N,{muted:!0,children:c.jsx(Il,{})})})]})})}),c.jsxs(B,{overflow:"auto",paddingBottom:2,paddingX:2,children:[c.jsxs(w_n,{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,children:"Dataset"})}),c.jsx("th",{children:c.jsx(Nt,{muted:!0,size:0,children:"Document ID"})})]})}),c.jsx("tbody",{children:t.references.filter(y=>"projectId"in y).map((y,x)=>{let{projectId:b,datasetName:w,documentId:C}=y;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(N,{size:1,children:b})}),c.jsx("td",{children:c.jsx(N,{size:1,children:w||"unavailable"})}),c.jsx("td",{children:c.jsxs(C_n,{align:"center",gap:2,justify:"flex-end",children:[c.jsx(N,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&c.jsx(iCn,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:c.jsx(le,{title:"Copy ID to clipboard",mode:"bleed",icon:_u,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),c.jsx(B,{padding:2,children:c.jsx(Wfe,{...t})})]})]})]})}),c.jsx(B,{flex:"none",children:c.jsxs(N,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var Yfe=Object.freeze,S_n=Object.defineProperty,mOe=(e,t)=>Yfe(S_n(e,"raw",{value:Yfe(t||e.slice())})),qfe,Gfe;const E_n=O(B).attrs({padding:4})(qfe||(qfe=mOe([`
  box-sizing: border-box;
`]))),k_n=O(q).attrs({align:"center",direction:"column",justify:"center"})(Gfe||(Gfe=mOe([`
  height: 300px;
`])));function j_n(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:l,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=d_n(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=c.jsx(o_n,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),y=!u;return c.jsx(ca,{width:1,id:s,header:"".concat(v," document?"),footer:c.jsxs(an,{columns:y?2:1,gap:2,paddingX:4,paddingY:3,children:[c.jsx(le,{mode:"ghost",onClick:o,text:"Cancel"}),y&&c.jsx(le,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:c.jsx(E_n,{children:l&&a&&!u?c.jsx(__n,{crossDatasetReferences:l,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):c.jsxs(k_n,{"data-testid":"loading-container",children:[c.jsx(zr,{muted:!0}),c.jsx(B,{marginTop:3,children:c.jsx(N,{align:"center",muted:!0,size:1,children:"Looking for referring documents"})})]})})})}function gOe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?c.jsx(ca,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:c.jsx(q,{paddingX:4,paddingY:3,direction:"column",children:c.jsx(le,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:c.jsx(B,{padding:4,children:c.jsx(N,{children:"An error occurred while loading referencing documents."})})}):c.jsx(u0,{onCatch:r,children:c.jsx(j_n,{...e})})}const T_n={constrainSize:!0,placement:"left-start",portal:!0};function uk(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?c.jsx(Dr,{}):r.type==="group"?r.children.length===0?null:r.expanded?c.jsxs(c.Fragment,{children:[n&&c.jsx(Dr,{}),r.title&&c.jsx(B,{padding:2,paddingBottom:1,children:c.jsx(Nt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return c.jsx(uk,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Dr,{}),c.jsx(hL,{disabled:t,icon:r.icon,popover:T_n,text:r.title,children:r.children.map((o,i)=>{var s;return c.jsx(uk,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Dr,{}),c.jsx(A_n,{disabled:t,node:r})]})}function A_n(e){const{node:t}=e;return t.intent?c.jsx(I_n,{...e,intent:t.intent}):c.jsx(D_n,{...e})}function D_n(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&c.jsx(N,{size:1,children:r.disabled.reason});return c.jsx(Fw,{content:o,placement:"left",children:c.jsx(Be,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Ra,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function I_n(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&c.jsx(N,{size:1,children:o.disabled.reason}),s=uw({intent:r.type,params:r.params}),a=h.useCallback(l=>{s.onClick(l),o.onAction()},[s,o]);return c.jsx(Fw,{content:i,placement:"left",children:c.jsx(Be,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?Ra:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const P_n={constrainSize:!0,placement:"bottom",portal:!0};function k4(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&k4(n.children,t))}function O_n(e){const{nodes:t}=e,n=h.useId(),r=k4(t,"critical"),o=k4(t,"caution");return c.jsx(nn,{button:c.jsx(nh,{icon:Bo,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:c.jsx(Ht,{children:t.map((i,s)=>{var a;const l=((a=t[s-1])==null?void 0:a.type)==="group";return c.jsx(uk,{isAfterGroup:l,node:i},i.key)})}),popover:P_n})}const $_n=!1,j4=51,HO=j4*4,vOe=h.createContext(null);var Kfe=Object.freeze,R_n=Object.defineProperty,M_n=(e,t)=>Kfe(R_n(e,"raw",{value:Kfe(t||e.slice())})),Zfe;const F_n=O(Zi)(Zfe||(Zfe=M_n([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function L_n(e){let{disabled:t,element:n}=e;const{resize:r}=AN(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const l=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-l;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return c.jsx(F_n,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Xfe=Object.freeze,B_n=Object.defineProperty,N_n=(e,t)=>Xfe(B_n(e,"raw",{value:Xfe(t||e.slice())})),Qfe;const z_n=O(ne)(Qfe||(Qfe=N_n([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),rOn=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:l,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,y]=h.useState(null),{collapse:x,collapsed:b,expand:w,expandedElement:C,mount:_,panes:S}=AN(),E=S.find(z=>z.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=b?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=lr(n),P=(r=E==null?void 0:E.flex)!=null?r:u,R=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,$=(i=E==null?void 0:E.currentMaxWidth)!=null?i:l,U=h.useCallback(z=>{y(z),I.current=z},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:l,flex:u,id:d,minWidth:f,maxWidth:p})},[a,l,u,d,f,p,_,g]);const L=h.useCallback(()=>{g&&x(g)},[x,g]),W=h.useCallback(()=>{g&&w(g)},[w,g]),Y=h.useMemo(()=>({collapse:L,collapsed:b?!1:A,expand:W,index:j,isLast:T,rootElement:g}),[A,L,W,T,b,j,g]),V=h.useMemo(()=>{if(!b)return A?j4:R===0||T?f||HO:R||f||HO},[A,R,T,b,f]),H=h.useMemo(()=>{if(A)return j4;if(!(b&&T))return T?p?$??p:void 0:$??p},[A,$,T,b,p]),Q=b&&!T,F=h.useMemo(()=>!T&&!b&&c.jsx(Hv,{zOffset:"paneResizer",children:c.jsx(L_n,{disabled:A||D,element:g})}),[A,T,b,D,g]),G=h.useMemo(()=>({flex:P,minWidth:V,maxWidth:H===1/0?void 0:H}),[P,V,H]);return c.jsxs(c.Fragment,{children:[c.jsx(Hv,{zOffset:"pane",children:c.jsx(vOe.Provider,{value:Y,children:c.jsxs(z_n,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:Q,id:d,overflow:b?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:U,style:G,children:[$_n,c.jsx(lm,{element:g,children:!Q&&c.jsx(q,{direction:"column",height:"fill",children:s})})]})})}),F]})});function DN(){const e=h.useContext(vOe);if(!e)throw new Error("Pane: missing context value");return e}var Jfe=Object.freeze,V_n=Object.defineProperty,H_n=(e,t)=>Jfe(V_n(e,"raw",{value:Jfe(t||e.slice())})),ehe;const yOe=O(ne)(ehe||(ehe=H_n([`
  position: relative;
  outline: none;
`])));yOe.displayName="PaneContent__root";const oOn=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:l}=DN(),{collapsed:u}=AN();return c.jsx(yOe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:l,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var the=Object.freeze,U_n=Object.defineProperty,bOe=(e,t)=>the(U_n(e,"raw",{value:the(t||e.slice())})),nhe,rhe;const W_n=O(Zi)(nhe||(nhe=bOe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),Y_n=O(ne)(rhe||(rhe=bOe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),iOn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=DN();return c.jsx(Hv,{zOffset:"paneFooter",children:c.jsx(W_n,{"data-testid":"pane-footer",hidden:i,ref:n,children:c.jsx(Y_n,{tone:"inherit",children:c.jsx(B,{padding:o,children:r})})})})});var ohe=Object.freeze,q_n=Object.defineProperty,Z0=(e,t)=>ohe(q_n(e,"raw",{value:ohe(t||e.slice())})),ihe,she,ahe,lhe,che,uhe;const G_n=O(Zi)(ihe||(ihe=Z0([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),K_n=O(q)(she||(she=Z0([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),Z_n=O(ne)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return he(ahe||(ahe=Z0([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),X_n=O(xi)(lhe||(lhe=Z0([`
  width: 66%;
  max-width: 175px;
`]))),Q_n=O(N)(che||(che=Z0([`
  cursor: default;
  outline: none;
`]))),J_n=O(B)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return he(uhe||(uhe=Z0([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],At(n.base.bg,0),r[3])}),sOn=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:l,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=DN(),g=rw(v||null),y=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),b=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(l||a));return c.jsx(Af,{zOffset:100,children:c.jsx(G_n,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:c.jsx(Hv,{zOffset:"paneHeader",children:c.jsxs(ne,{"data-collapsed":p?"":void 0,tone:"inherit",children:[c.jsxs(K_n,{onClick:b,padding:2,sizing:"border",style:y,children:[o&&c.jsx(B,{flex:"none",padding:1,children:o}),c.jsxs(Z_n,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&c.jsx(X_n,{animated:!0,radius:1}),!s&&c.jsx(Q_n,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&c.jsx(q,{align:"center",hidden:p,children:c.jsx(Hv,{zOffset:"paneHeader",children:r})})]}),w&&c.jsxs(q,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[c.jsx(J_n,{flex:1,marginRight:a?3:0,children:l}),a&&a]}),!p&&i&&i]})})})})});function e2n(e){const{node:t,padding:n}=e;return t.type==="item"?c.jsx(t2n,{node:t,padding:n}):t.type==="group"?c.jsx(r2n,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function t2n(e){var t;const{node:n,padding:r}=e;if(n.intent)return c.jsx(n2n,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&c.jsx(N,{size:1,children:n.disabled.reason});return c.jsx(Fw,{content:o,placement:"bottom",children:c.jsx(nh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function n2n(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&c.jsx(N,{size:1,children:r.disabled.reason}),s=uw({intent:n.type,params:n.params}),a=h.useCallback(l=>{s.onClick(l),r.onAction()},[s,r]);return c.jsx(Fw,{content:i,placement:"bottom",children:c.jsx(nh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function r2n(e){var t;const{node:n,padding:r}=e;return c.jsx(nn,{button:c.jsx(nh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:ml,label:n.title,padding:r}),id:h.useId(),menu:c.jsx(Ht,{children:n.children.map((o,i)=>{var s;return c.jsx(uk,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var dhe=Object.freeze,o2n=Object.defineProperty,i2n=(e,t)=>dhe(o2n(e,"raw",{value:dhe(t||e.slice())})),fhe;const aOn=O(ne)(fhe||(fhe=i2n([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function xOe(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const s2n=tbt(xOe);function a2n(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(wOe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const l=[];for(const d of i)l.find(p=>p.key===d.id)||l.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&l.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},l.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...l,...s]}function wOe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>wOe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const l2n=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,l){return c.jsx(pm,{...a,intent:r.type,params:r.params,ref:l})}),[r]);return t.disabled?c.jsx(le,{...t,as:"a",role:"link","aria-disabled":"true"}):c.jsx(le,{...o,as:i,"data-as":"a",ref:n})});function UO(e){let{reveal:t,loading:n,children:r}=e;const o=ni();return t?c.jsx(bt,{content:n?c.jsx(B,{padding:2,children:c.jsx(N,{children:"Loading"})}):c.jsx(jc,{currentUser:o}),portal:!0,children:c.jsx("div",{children:r})}):c.jsx(c.Fragment,{children:r})}const c2n={constrainSize:!0,placement:"bottom",portal:!0},hhe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function u2n(e){let{templateItems:t}=e;const n=dr(),r=Qw(),[o,i]=YPe({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(l=>!l.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((l,u)=>(l[u.id]=u,l),{}):{},[o]);if(s)return c.jsx(UO,{reveal:!0,loading:i,children:c.jsx(le,{"aria-label":"Insufficient permissions",icon:up,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const l=t[0],u=a[l.id],d=!(u!=null&&u.granted),f=hhe(n,r,l);return f?c.jsx(UO,{reveal:d,loading:i,children:c.jsx(l2n,{"aria-label":l.title,icon:l.icon||up,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return c.jsx(nn,{button:c.jsx(le,{icon:up,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:c.jsxs(Ht,{children:[c.jsx(B,{paddingX:3,paddingTop:3,paddingBottom:2,children:c.jsx(Nt,{muted:!0,children:"Create"})}),t.map((l,u)=>{const d=a[l.id],f=!(d!=null&&d.granted),p=hhe(n,r,l),m=r.find(g=>g.id===l.templateId);if(!m||!p)return null;const v=h.forwardRef((g,y)=>f?c.jsx("button",{type:"button",disabled:!0,...g,ref:y}):c.jsx(pm,{...g,intent:p.type,params:p.params,ref:y}));return v.displayName="Link",c.jsx(UO,{reveal:f,loading:i,children:c.jsx(Be,{as:v,"data-as":f?"button":"a",text:l.title||m.title,"aria-label":f?"Insufficient permissions":l.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},l.id)})]}),popover:c2n})}function d2n(e){return e!=null}const f2n=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},lOn=h.memo(function(t){const{initialValueTemplateItems:n=Vn,menuItems:r=Vn,menuItemGroups:o=Vn,actionHandlers:i=OHt}=t,s=Qw(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),l=h.useMemo(()=>a2n({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>l.filter(xOe),[l]),d=h.useMemo(()=>l.filter(s2n),[l]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:y}=m.intent;if(!y)return null;const x=Array.isArray(y)?y[0]:y,b=Array.isArray(y)?y[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:b,menuItemIndex:v,initialDocumentId:_}}).filter(d2n).map(m=>{let{initialDocumentId:v,item:g,template:y,menuItemIndex:x,templateParams:b}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:y.id,type:"initialValueTemplateItem",title:g.title||y.title,icon:g.icon,description:y.description,parameters:b,schemaType:y.schemaType}}),[r,s]),p=h.useMemo(()=>Of([...f,...n],m=>f2n([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return c.jsxs(q,{gap:1,children:[p.length>0&&c.jsx(u2n,{templateItems:p}),u.map(m=>c.jsx(e2n,{node:m},m.key)),d.length>0&&c.jsx(O_n,{nodes:d})]})}),COe=h.createContext(null);function sh(){const e=h.useContext(COe);if(!e)throw new Error("DocumentPane: missing context value");return e}const h2n={NOTHING_TO_DELETE:"This document doesnt yet exist or is already deleted"},_Oe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=sh(),{delete:s}=Nc(t,n),[a,l]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{l(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=ih({id:t,type:n,permission:"delete"}),y=ni();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:lo,disabled:!0,label:"Delete",title:c.jsx(jc,{operationLabel:"delete this document",currentUser:y})}:{tone:"critical",icon:lo,disabled:a||!!s.disabled||g,title:s.disabled&&h2n[s.disabled]||"",label:a?"Deleting":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:c.jsx(gOe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};_Oe.action="delete";const p2n={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},SOe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Nc(t,n),[a,l]=h.useState(!1),[u,d]=ih({id:t,type:n,permission:"discardDraft"}),f=ni(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{l(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:c.jsx(c.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Eu,disabled:!0,label:"Discard changes",title:c.jsx(jc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Eu,disabled:!!s.disabled||d,title:s.disabled&&p2n[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};SOe.action="discardChanges";const m2n={NOTHING_TO_DUPLICATE:"This document doesnt yet exist so theres nothing to duplicate"},EOe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Nc(t,n),{navigateIntent:i}=Xu(),[s,a]=h.useState(!1),[l,u]=ih({id:t,type:n,permission:"duplicate"}),d=ni(),f=h.useCallback(()=>{const p=ed();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(l!=null&&l.granted)?{icon:_u,disabled:!0,label:"Duplicate",title:c.jsx(jc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:_u,disabled:s||!!o.disabled||u,label:s?"Duplicating":"Duplicate",title:o.disabled&&m2n[o.disabled]||"",onHandle:f}};EOe.action="duplicate";const kOe=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Nc(t,n),s=Fyn(t,n),{navigateIntent:a}=Xu(),l=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===l.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),l.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:c.jsx(c.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:bF,dialog:m,disabled:v}};kOe.action="restore";const g2n={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function v2n(e,t){return e==="ALREADY_PUBLISHED"&&t?c.jsx(c.Fragment,{children:c.jsxs("span",{children:["Published ",t]})}):g2n[e]}const jOe=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,l]=h.useState(null),{publish:u}=Nc(n,r),d=pN(n,r),f=Byn(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=sh(),y=hN(v,g),x=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,b=d.validation.some(_$e),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=ih({id:n,type:r,permission:"publish"}),k=ni(),T=Ff((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?v2n(u.disabled,T)||"":b?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),l("publishing")},[u]);h.useEffect(()=>{const $=d.isValidating===!1&&d.revision!==x;!w||_||!$||(b||I(),C(!1))},[_,I,b,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const $=a==="publishing"&&!D;$&&p&&m();const U=$?"published":null,W=setTimeout(()=>{l(U)},$?200:4e3);return()=>clearTimeout(W)},[p,a,D,m]);const P=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:c.jsx(jc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const R=!!(w||(t=y==null?void 0:y.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||b||u.disabled);return{disabled:R||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing":"Publish",icon:a==="published"?Ra:Nx,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:R||w?null:"Ctrl+Alt+P",onHandle:P}};jOe.action="publish";const y2n={NOT_PUBLISHED:"This document is not published"},TOe=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Nc(t,n),[a,l]=h.useState(!1),[u,d]=ih({id:t,type:n,permission:"unpublish"}),f=ni(),p=h.useCallback(()=>{l(!1),o()},[o]),m=h.useCallback(()=>{l(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:c.jsx(gOe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:AS,label:"Unpublish",title:c.jsx(jc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:AS,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?y2n[s.disabled]:"",onHandle:()=>l(!0),dialog:v}};TOe.action="unpublish";const b2n=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},cOn=!1,AOe={},uOn=Symbol("LOADING_PANE"),dOn="documentPanelPortalElement",DOe={activePanes:[]};function fOn(e){DOe.activePanes=e}function x2n(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=DOe.activePanes||[],a=t.id||ed(),l=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=l?{template:t.template}:AOe;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const w2n={};function C2n(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function _2n(e){return(e||[]).map(t=>t.map(O2n).join("|")).map(encodeURIComponent).join(";")}function S2n(e){return JSON.stringify(e)}function E2n(e){return $2n(decodeURIComponent(e))}function k2n(e){return _2n(e)}const j2n=fi.create("/",[fi.intents("/intent"),fi.create("/edit/:type/:editDocumentId",[fi.create({path:"/:params",transform:{params:{toState:C2n,toPath:S2n}}})]),fi.create({path:"/:panes",children:[fi.create("/:action",fi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:E2n,toPath:k2n}}})]),T2n=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,A2n=e=>/^[a-z0-9]+=[^=]+/i.test(e),D2n=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),IOe=["view","since","rev","inspect","comment"],I2n=Boolean;function P2n(e,t){return e.reduce((n,r)=>{if(A2n(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else D2n(r)?n.payload=M2n(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:w2n,payload:void 0})}function O2n(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,l=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!IOe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[l?"":i].concat([d.length>0&&d,u].filter(I2n).flat()).join(",")||","}function $2n(e){return e.indexOf(",{")!==-1?R2n(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return P2n(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{..._i(n.params,IOe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function R2n(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(T2n)||[];if(!r){n=n.slice(1);continue}const s=i&&POe(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function POe(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function M2n(e){return e?POe(atob(e)):void 0}const hOn=320,pOn=600,mOn=320,gOn=540,F2n={},T4="inspect:",L2n=[{id:"inspectors"},{id:"links"}],A4="sanity/desk/history",B2n="sanity/desk/validation",hb="sanity/desk/comments";var phe=Object.freeze,N2n=Object.defineProperty,z2n=(e,t)=>phe(N2n(e,"raw",{value:phe(t||e.slice())})),mhe;const ghe=O(Qbe)(mhe||(mhe=z2n([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),V2n=/[^\p{Alpha}\p{White_Space}]/gu,H2n=/\p{White_Space}+/u;function U2n(e){const t=e.replace(V2n,"").split(H2n);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function zA(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>U2n((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?c.jsx(ghe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):c.jsx(ghe,{...n})}const OOe=25,W2n={minWidth:OOe};function wS(){return c.jsx("div",{style:W2n})}var vhe=Object.freeze,Y2n=Object.defineProperty,q2n=(e,t)=>vhe(Y2n(e,"raw",{value:vhe(t||e.slice())})),yhe;const G2n={open:500,close:0},bhe=O.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return he(yhe||(yhe=q2n([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function $Oe(e){const{selected:t,userId:n}=e,[r,o]=K0(n),i=ni();return!r||o?c.jsx(bhe,{children:"@Loading"}):c.jsx(bt,{portal:!0,open:t,delay:G2n,content:c.jsxs(q,{align:"center",padding:2,gap:1,children:[c.jsx(q,{children:c.jsx(zA,{user:r})}),c.jsx(N,{size:1,children:r.displayName})]}),children:c.jsxs(bhe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var xhe=Object.freeze,K2n=Object.defineProperty,Z2n=(e,t)=>xhe(K2n(e,"raw",{value:xhe(t||e.slice())})),whe;const X2n=O(N)(whe||(whe=Z2n([`
  word-break: break-word;
`])));function Rs(e){const{children:t}=e;return c.jsx(X2n,{size:1,children:t})}var Che=Object.freeze,Q2n=Object.defineProperty,J2n=(e,t)=>Che(Q2n(e,"raw",{value:Che(t||e.slice())})),_he;const eSn=O(oe)(()=>he(_he||(_he=J2n([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),tSn=[],nSn={block:{normal:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},h1:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},h2:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},h3:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},h4:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},h5:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},h6:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},blockquote:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},code:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},number:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})},checkmarks:e=>{let{children:t}=e;return c.jsx(Rs,{children:t})}},marks:{strong:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},em:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},code:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},underline:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})},link:e=>{let{children:t}=e;return c.jsx(c.Fragment,{children:t})}},types:{mention:e=>{var t;return c.jsx($Oe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function rSn(e){const{blocks:t}=e;return c.jsx(eSn,{children:c.jsx(YCn,{value:t||tSn,components:nSn})})}const oSn=An({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),iSn=An({type:"block",name:"block",of:[oSn],styles:[{title:"Normal",value:"normal"}],lists:[]}),sSn=T$e({type:"array",name:"body",of:[iSn]}),aSn=x8.compile({name:"comments",types:[sSn]}),lSn=aSn.get("body"),cSn=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uSn=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),dSn=h.forwardRef(function(t,n){return c.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fSn=h.forwardRef(function(t,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function ROe(e){const t=h.useRef(e);return h.useMemo(()=>!Yt(t.current,e),[e])}function nC(e){return e?e==null?void 0:e.some(t=>{var n;return Wu(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Gs(r)?r.text:r.userId))}):!1}const MOe=se.createContext(null);function hSn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:l}=e,u=fo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),y=h.useMemo(()=>nC(a),[a]),x=ROe(a),b=h.useCallback(()=>{l||Ee.focus(u)},[u,l]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(Ee.getSelection(u))},[u]),_=h.useCallback(k=>{const T=Ee.getSelection(u),A=T?T.focus.offset:0,D=Ee.focusChild(u),I=Gs(D)&&D||void 0,P=k.inputType==="insertText",R=k.inputType==="deleteContentBackward",$=P&&k.data==="@",U=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,L=(I==null?void 0:I.text.substring(A-1,A))===" ",W=P&&k.data===" "&&!p;if($&&(A<1||L)){C();return}if(W||R&&((I==null?void 0:I.text.length)===1||U===((I==null?void 0:I.text.length)||0)-1)){w();return}if(Gs(D)){let Y=D.text.substring(U+1,A);P&&(Y+=k.data),R&&(Y=Y.substring(0,Y.length-1)),m(Y)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),Ee.insertChild(u,u.schemaTypes.span,{text:"@"}),g(Ee.getSelection(u))},[u]);Ti(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T,A;const D=u.schemaTypes.inlineObjects.find($=>$.name==="mention");let I;const[P,R]=v&&Ee.findByPath(u,v.focus.path)||[];if(P&&Gs(P)&&R&&D){Ee.focus(u);const $=(T=Ee.getSelection(u))==null?void 0:T.focus.offset;typeof $<"u"&&(Ee.delete(u,{anchor:{path:R,offset:P.text.lastIndexOf("@")},focus:{path:R,offset:$}},{mode:"selected"}),I=Ee.insertChild(u,D,{_type:"mention",userId:k}));const U=Ee.focusBlock(u);if(U&&Wu(U)&&I){const L=I==null?void 0:I.slice(-1)[0],W=(A=U.children[U.children.findIndex(Y=>Pr(L)&&Y._key===L._key)+1])==null?void 0:A._key;if(W){const Y=[{_key:U._key},"children",{_key:W}],V={anchor:{path:Y,offset:0},focus:{path:Y,offset:0}};Ee.select(u,V),Ee.focus(u)}}}},[u,v]),j=h.useMemo(()=>({canSubmit:y,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:b,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!l,value:a}),[y,w,u,n,r,b,o,x,S,E,i,d,p,_,C,l,a]);return c.jsx(MOe.Provider,{value:j,children:t})}function FOe(){const e=h.useContext(MOe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var She=Object.freeze,pSn=Object.defineProperty,mSn=(e,t)=>She(pSn(e,"raw",{value:She(t||e.slice())})),Ehe;const gSn=O(q)(Ehe||(Ehe=mSn([""]))),vSn={width:"50%"};function ySn(e){const{user:t,onSelect:n}=e,[r]=K0(t.id),o=c.jsx(zA,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?c.jsx(N,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):c.jsx(xi,{size:1,style:vSn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return c.jsx(ne,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:c.jsxs(q,{align:"center",gap:3,children:[c.jsxs(gSn,{align:"center",gap:2,flex:1,children:[o,c.jsx(B,{children:i})]}),!t.canBeMentioned&&c.jsx(exe,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const khe=[],bSn=O(oe)({maxWidth:"220px"}),jhe=41,xSn=4,wSn=7,CSn=O(q)({maxHeight:jhe*wSn+xSn*2+jhe/2}),_Sn=se.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,l]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){l(v)}}),[]);const d=h.useCallback(v=>c.jsx(ySn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>a?(i==null?void 0:i.filter(g=>{var y;return(y=g==null?void 0:g.displayName)==null?void 0:y.toLowerCase().includes(a.toLowerCase())}))||khe:i||khe,[i,a]);if(r)return c.jsx(bSn,{children:c.jsx(q,{align:"center",justify:"center",padding:4,children:c.jsx(zr,{muted:!0,size:1})})});const m=s||void 0;return c.jsxs(q,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&c.jsx(B,{padding:5,children:c.jsx(N,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&c.jsx(CSn,{direction:"column",flex:1,overflow:"hidden",children:c.jsx(_m,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),SSn=e=>{const{children:t}=e;return c.jsx(Rs,{children:t})},ESn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?c.jsx($Oe,{selected:r,userId:n==null?void 0:n.userId}):t},kSn={passive:!0};function jSn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const l=a.getRangeAt(0);if(!(n==null?void 0:n.contains(l.commonAncestorContainer))){o(null);return}const d=l==null?void 0:l.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,kSn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var The=Object.freeze,TSn=Object.defineProperty,LOe=(e,t)=>The(TSn(e,"raw",{value:The(t||e.slice())})),Ahe,Dhe;const ASn={outline:"none"},DSn=O(oe)(()=>he(Ahe||(Ahe=LOe([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),ISn=O(fn)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return he(Dhe||(Dhe=LOe([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function PSn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,l]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=P0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:y,mentionsMenuOpen:x,mentionsSearchTerm:b,onBeforeInput:w,value:C}=FOe(),_=h.useCallback(()=>c.jsx("span",{children:n}),[n]);Nr(h.useCallback(()=>{x&&v()},[v,x]),[a]),h.useEffect(()=>{var k;(k=f.current)==null||k.setSearchTerm(b)},[b]),h.useEffect(()=>{x&&p&&!Yt(p.anchor,p.focus)&&v()},[x,v,p]),Es(k=>{k.code==="Escape"&&x&&v()});const S=jSn({disabled:!x,rootElement:u.current}),E=h.useCallback(k=>{switch(k.key){case"Enter":if(k.shiftKey)break;if(k.preventDefault(),k.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(k.preventDefault(),k.stopPropagation(),v());break}i&&i(k)},[m,v,x,i,s]),j=h.useMemo(()=>{if(p)return;const k=(C||[]).slice(-1)[0],T=Wu(k)?k.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:k._key},"children",{_key:T._key}],offset:Gs(T)?T.text.length:0};return{focus:A,anchor:A}},[C,p]);return c.jsxs(c.Fragment,{children:[c.jsx(d0,{element:u.current,children:c.jsx(ISn,{arrow:!1,constrainSize:!0,content:c.jsx(_Sn,{ref:f,loading:y.loading,onSelect:g,options:y.data||[],inputElement:d.current}),disabled:!x,fallbackPlacements:["bottom","top"],open:x,placement:"bottom",portal:!0,ref:l,referenceElement:S})}),c.jsx(DSn,{ref:u,"data-ui":"EditableWrapStack",children:c.jsx(LEe,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:E,ref:d,renderBlock:SSn,renderChild:ESn,renderPlaceholder:_,selection:j,style:ASn,tabIndex:t?0:void 0})})]})}var Ihe=Object.freeze,OSn=Object.defineProperty,IN=(e,t)=>Ihe(OSn(e,"raw",{value:Ihe(t||e.slice())})),Phe,Ohe,$he;const CS=O(B)(Phe||(Phe=IN([`
  max-height: 20vh;
  overflow-y: auto;
`]))),$Sn=O(Dr)({height:20,width:1}),Rhe=O(le).attrs({fontSize:1,padding:2})(Ohe||(Ohe=IN([`
  /* border-radius: 50%; */
`]))),RSn=O(ne)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return he($he||($he=IN([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,CS,CS,CS)});function MSn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:l}=e,[u]=K0(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:y}=FOe(),x=l?c.jsx(zA,{user:u}):null,b=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return c.jsxs(q,{align:"flex-start",gap:2,children:[x,c.jsx(RSn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:y?"transparent":"default",children:c.jsxs(oe,{children:[c.jsx(CS,{paddingX:1,paddingY:2,sizing:"border",children:c.jsx(PSn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),c.jsxs(q,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[c.jsx(Rhe,{"aria-label":"Mention user",disabled:y,icon:uSn,mode:"bleed",onClick:b}),c.jsx($Sn,{}),c.jsx(Rhe,{"aria-label":"Send comment",disabled:!d||!m||y,icon:cSn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const FSn=9999999;function LSn(e){const{onClose:t,onConfirm:n}=e,r=Yf(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return c.jsx(Ube,{tone:"default",children:c.jsx(d0,{__unstable_elements:{boundary:r.element},children:c.jsx(oQe,{zOffset:FSn,children:c.jsx(ca,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:c.jsxs(an,{columns:2,padding:2,gap:2,children:[c.jsx(le,{text:"Cancel",mode:"ghost",onClick:o}),c.jsx(le,{onClick:i,text:"Discard",tone:"critical"})]}),children:c.jsx(oe,{padding:4,children:c.jsx(N,{children:"Do you want to discard the comment?"})})})})})})}const WO=[],BSn={behavior:"smooth",block:"center",inline:"center"},VA=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:l,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:y,readOnly:x,value:b=WO,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),[T,A]=h.useState(xE()),D=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&Ee.focus(S.current)})},[]),I=h.useCallback(()=>{A(xE())},[]),P=h.useCallback(W=>{if(W.type==="ready"&&s&&D(),W.type==="focus"&&_(!0),W.type==="blur"&&_(!1),W.type==="patch"&&S.current){const Y=Ee.getValue(S.current);u(Y||WO)}},[s,u,D]),R=h.useCallback(()=>{var W;(W=E.current)==null||W.scrollIntoView(BSn)},[]),$=h.useCallback(()=>{g(),I(),D(),R()},[g,D,I,R]),U=h.useCallback(()=>{f(),I()},[f,I]),L=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),D()}}),[D]);return h.useImperativeHandle(n,()=>({focus:D,blur(){S.current&&Ee.blur(S.current)},scrollTo:R,reset:I,discardDialogController:L}),[L,D,I,R]),c.jsxs(c.Fragment,{children:[j&&c.jsx(LSn,{onClose:d,onConfirm:U}),c.jsx(oe,{ref:E,"data-testid":"comment-input",children:c.jsx(Ee,{onChange:P,readOnly:x,ref:S,schemaType:lSn,value:b||WO,children:c.jsx(hSn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:b,children:c.jsx(Qu,{as:oe,disabled:!i||j,children:c.jsx(MSn,{currentUser:r,focusLock:i,onBlur:l,onFocus:p,onKeyDown:m,onSubmit:$,placeholder:y,withAvatar:w})})})},T)})]})}),YO=3;var Mhe=Object.freeze,NSn=Object.defineProperty,zSn=(e,t)=>Mhe(NSn(e,"raw",{value:Mhe(t||e.slice())})),Fhe;const VSn={open:500},HSn=O(N)(Fhe||(Fhe=zSn([`
  min-width: max-content;
`])));function USn(e){const{children:t,text:n}=e;return c.jsx(bt,{delay:VSn,portal:!0,placement:"top",content:c.jsx(HSn,{size:1,children:n}),padding:2,children:c.jsx(q,{children:t})})}var Lhe=Object.freeze,WSn=Object.defineProperty,BOe=(e,t)=>Lhe(WSn(e,"raw",{value:Lhe(t||e.slice())})),Bhe,Nhe;const YSn={open:500},qSn={placement:"bottom-end"},GSn=O(Zi)(Bhe||(Bhe=BOe([`
  display: flex;
`]))),KSn=O(ne)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(Nhe||(Nhe=BOe([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function ZSn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:l,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return c.jsx(kXe,{delay:YSn,children:c.jsx(GSn,{"data-root-menu":r?"true":"false",...p,children:c.jsxs(KSn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&c.jsx(USn,{text:f==="open"?"Mark as resolved":"Re-open",children:c.jsx(le,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?zk:TS,mode:"bleed",onClick:u,padding:2})}),c.jsx(nn,{id:"comment-actions-menu",button:c.jsx(le,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:Bo,mode:"bleed",padding:2}),onOpen:l,onClose:a,menu:c.jsxs(Ht,{children:[c.jsx(Be,{fontSize:1,hidden:!n,icon:Su,onClick:s,text:"Edit comment"}),c.jsx(Be,{fontSize:1,hidden:!t,icon:lo,onClick:i,text:"Delete comment",tone:"critical"}),c.jsx(Dr,{hidden:!t&&!n}),c.jsx(Be,{fontSize:1,hidden:!o,icon:bf,onClick:o,text:"Copy link to comment"})]}),popover:qSn})]})})})}var zhe=Object.freeze,XSn=Object.defineProperty,X0=(e,t)=>zhe(XSn(e,"raw",{value:zhe(t||e.slice())})),Vhe,Hhe,Uhe,Whe,Yhe,qhe;function QSn(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return c.jsx(oe,{onClick:n,children:t})}const JSn={width:"50%"},Ghe=O(N)(Vhe||(Vhe=X0([`
  min-width: max-content;
`]))),e5n=O(oe)(Hhe||(Hhe=X0([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),t5n=O(q)(Uhe||(Uhe=X0([`
  min-height: `,`px;
`])),OOe),n5n=O(ne)(Whe||(Whe=X0([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),_y=O(ZSn)(Yhe||(Yhe=X0([""]))),r5n=O(oe)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(qhe||(qhe=X0([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),_y,n[1],n[1],_y,_y,_y)}),o5n={agoSuffix:!0};function Khe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:y,authorId:x,message:b,_id:w,lastEditedAt:C}=r,[_]=K0(x),[S,E]=h.useState(b),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(b),[I,P]=h.useState(!1),R=ROe(S),$=h.useMemo(()=>nC(S),[S]),U=h.useRef(null),L=y?new Date(y):new Date,W=Ff(L,o5n),Y=qo(L,"PPPPp"),V=C?qo(new Date(C),"PPPPp"):null,H=i||a,Q=h.useCallback(()=>P(!0),[]),F=h.useCallback(()=>P(!1),[]),G=h.useCallback(()=>u==null?void 0:u(w),[w,u]),z=h.useCallback(ve=>{ve.stopPropagation(),d==null||d(w)},[w,d]),Z=h.useCallback(()=>f(w),[w,f]),K=h.useCallback(()=>{k(!1),E(D.current)},[]),J=h.useCallback(()=>{var ve;if(!$||!R){K();return}(ve=U.current)==null||ve.discardDialogController.open()},[K,R,$]),X=h.useCallback(ve=>{ve.isDefaultPrevented()||(ve.key==="Escape"&&(ve.preventDefault(),ve.stopPropagation(),J()),m&&m(ve))},[m,J]),ee=h.useCallback(()=>{var ve;(ve=U.current)==null||ve.discardDialogController.close()},[]),re=h.useCallback(()=>{var ve;(ve=U.current)==null||ve.discardDialogController.close(),K()},[K]),de=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),ie=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),fe=h.useCallback(()=>{k(ve=>!ve)},[]);Ti(j,()=>{P(!1)}),Es(ve=>{ve.key==="Escape"&&!R&&K()}),Nr(()=>{R||K()},[T]);const xe=c.jsx(zA,{user:_}),be=_!=null&&_.displayName?c.jsx(N,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):c.jsx(xi,{size:1,style:JSn});return c.jsxs(r5n,{"data-menu-open":I?"true":"false",ref:A,space:4,children:[c.jsxs(e5n,{space:1,"data-muted":H,children:[c.jsxs(q,{align:"center",gap:YO,flex:1,children:[xe,c.jsx(q,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:c.jsxs(q,{align:"flex-end",gap:2,children:[c.jsx(B,{flex:1,children:be}),!H&&c.jsxs(q,{align:"center",gap:1,children:[c.jsx(Ghe,{size:0,muted:!0,title:Y,children:W}),V&&c.jsx(Ghe,{size:0,muted:!0,title:V,children:"(edited)"})]})]})}),!j&&!H&&c.jsx(QSn,{children:c.jsx(_y,{canDelete:t,canEdit:n,isParent:s,onCopyLink:G,onDeleteStart:Z,onEditStart:fe,onMenuClose:F,onMenuOpen:Q,onStatusChange:ie,readOnly:g,status:r.status})})]}),j&&c.jsxs(q,{align:"flex-start",gap:2,children:[c.jsx(wS,{}),c.jsx(oe,{flex:1,children:c.jsx(VA,{currentUser:o,focusOnMount:!0,mentionOptions:l,onChange:E,onDiscardCancel:ee,onDiscardConfirm:re,onKeyDown:X,onSubmit:de,readOnly:g,ref:U,value:S,withAvatar:!1})})]}),!j&&c.jsxs(q,{gap:YO,children:[c.jsx(wS,{}),c.jsx(rSn,{blocks:b})]})]}),H&&c.jsxs(t5n,{gap:YO,children:[c.jsx(wS,{}),c.jsxs(q,{align:"center",gap:1,flex:1,children:[c.jsxs(N,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),c.jsx(q,{hidden:a,children:c.jsx(n5n,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:z,padding:1,radius:2,tone:"primary",children:c.jsx(N,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var Zhe=Object.freeze,i5n=Object.defineProperty,s5n=(e,t)=>Zhe(i5n(e,"raw",{value:Zhe(t||e.slice())})),Xhe;const NOe=O(ne).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(Xhe||(Xhe=s5n([`
  // ...
`])));var Qhe=Object.freeze,a5n=Object.defineProperty,PN=(e,t)=>Qhe(a5n(e,"raw",{value:Qhe(t||e.slice())})),Jhe,epe,tpe;const K1=[],Z1=5,l5n=O(NOe)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return he(Jhe||(Jhe=PN([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),c5n=O(le)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return he(epe||(epe=PN([`
    font-weight: `,`;
  `])),n)}),u5n=O(le)(tpe||(tpe=PN([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),d5n=se.memo(function(t){var n,r;const{canReply:o,currentUser:i,mentionOptions:s,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,onKeyDown:f,onPathSelect:p,onReply:m,onStatusChange:v,parentComment:g,readOnly:y,replies:x=K1,selected:b}=t,[w,C]=h.useState(K1),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useRef(null),T=h.useMemo(()=>nC(w),[w]),A=h.useCallback(()=>{const H={fieldPath:g.target.path.field,message:w,parentCommentId:g._id,status:(g==null?void 0:g.status)||"open",threadId:g.threadId};m==null||m(H),C(K1)},[m,g._id,g==null?void 0:g.status,g.target.path.field,g.threadId,w]),D=h.useCallback(()=>{var H;if(!T){C(K1);return}(H=k.current)==null||H.discardDialogController.open()},[T]),I=h.useCallback(H=>{H.isDefaultPrevented()||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),D())},[D]),P=h.useCallback(()=>{var H;(H=k.current)==null||H.discardDialogController.close()},[]),R=h.useCallback(()=>{var H,Q;C(K1),(H=k.current)==null||H.discardDialogController.close(),(Q=k.current)==null||Q.focus()},[]),$=h.useCallback(()=>{const H=vf(g.target.path.field);p==null||p(H)},[p,g.target.path.field]),U=h.useCallback(H=>{H.stopPropagation(),S(!1),E.current=!0},[]),L=h.useMemo(()=>_?x==null?void 0:x.slice(-Z1):x,[x,_]),W=h.useMemo(()=>x?x.length>Z1:!1,[x]),Y=h.useMemo(()=>"".concat((x==null?void 0:x.length)-Z1," more ").concat((x==null?void 0:x.length)-Z1===1?"comment":"comments"),[x==null?void 0:x.length]);h.useEffect(()=>{x.length>Z1&&!E.current&&S(!0)},[x]);const V=h.useMemo(()=>L.map(H=>{var Q,F;return c.jsx(oe,{as:"li","data-comment-id":H._id,children:c.jsx(Khe,{canDelete:H.authorId===i.id,canEdit:H.authorId===i.id,comment:H,currentUser:i,hasError:((Q=H._state)==null?void 0:Q.type)==="createError",isRetrying:((F=H._state)==null?void 0:F.type)==="createRetrying",mentionOptions:s,onInputKeyDown:I,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,readOnly:y})},H._id)}),[i,I,s,a,l,u,d,y,L]);return c.jsx(oe,{space:2,ref:j,children:c.jsxs(l5n,{"data-active":b?"true":"fase",onClick:$,tone:b?"primary":void 0,children:[c.jsx(u5n,{"data-ui":"GhostButton","aria-label":"Go to field"}),c.jsxs(oe,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[c.jsx(oe,{as:"li","data-comment-id":g._id,children:c.jsx(Khe,{canDelete:g.authorId===i.id,canEdit:g.authorId===i.id,comment:g,currentUser:i,hasError:((n=g._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=g._state)==null?void 0:r.type)==="createRetrying",mentionOptions:s,onCopyLink:a,onCreateRetry:l,onDelete:u,onEdit:d,onInputKeyDown:f,onStatusChange:v,readOnly:y})}),W&&!E.current&&c.jsxs(q,{gap:1,paddingY:1,sizing:"border",children:[c.jsx(wS,{}),c.jsx(c5n,{fontSize:1,iconRight:Il,mode:"bleed",onClick:U,padding:2,space:2,text:Y})]}),V,o&&c.jsx(VA,{currentUser:i,expandOnFocus:!0,mentionOptions:s,onChange:C,onDiscardCancel:P,onDiscardConfirm:R,onKeyDown:I,onSubmit:A,placeholder:"Reply",readOnly:y,ref:k,value:w})]})]})})}),f5n={close:0,open:500},npe=c.jsx(N,{muted:!0,children:c.jsx(Yu,{})}),qO=(e,t)=>c.jsx(B,{as:"li",children:c.jsx(N,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function h5n(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),l=s<r.length-1;return Array.isArray(i)?c.jsxs(h.Fragment,{children:[c.jsx(bt,{delay:f5n,content:c.jsx(oe,{space:2,padding:2,children:i.map(qO)}),children:c.jsx(B,{children:qO("...",s)})}),l&&npe]},a):c.jsxs(h.Fragment,{children:[qO(i,s),l&&npe]},a)}),[r]);return c.jsx(q,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const p5n=4,rpe=0,ope=1,m5n=2;function Q0(e){let t=e.length;for(;--t>=0;)e[t]=0}const g5n=0,zOe=1,v5n=2,y5n=3,b5n=258,ON=29,rC=256,Sx=rC+1+ON,hv=30,$N=19,VOe=2*Sx+1,ap=15,GO=16,x5n=7,RN=256,HOe=16,UOe=17,WOe=18,D4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_S=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),w5n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),YOe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C5n=512,iu=new Array((Sx+2)*2);Q0(iu);const pb=new Array(hv*2);Q0(pb);const Ex=new Array(C5n);Q0(Ex);const kx=new Array(b5n-y5n+1);Q0(kx);const MN=new Array(ON);Q0(MN);const dk=new Array(hv);Q0(dk);function KO(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let qOe,GOe,KOe;function ZO(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const ZOe=e=>e<256?Ex[e]:Ex[256+(e>>>7)],jx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},bs=(e,t,n)=>{e.bi_valid>GO-n?(e.bi_buf|=t<<e.bi_valid&65535,jx(e,e.bi_buf),e.bi_buf=t>>GO-e.bi_valid,e.bi_valid+=n-GO):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},cc=(e,t,n)=>{bs(e,n[t*2],n[t*2+1])},XOe=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},_5n=e=>{e.bi_valid===16?(jx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},S5n=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=ap;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<VOe;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>l&&(p=l,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(p=l;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},QOe=(e,t,n)=>{const r=new Array(ap+1);let o=0,i,s;for(i=1;i<=ap;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=XOe(r[a]++,a))}},E5n=()=>{let e,t,n,r,o;const i=new Array(ap+1);for(n=0,r=0;r<ON-1;r++)for(MN[r]=n,e=0;e<1<<D4[r];e++)kx[n++]=r;for(kx[n-1]=r,o=0,r=0;r<16;r++)for(dk[r]=o,e=0;e<1<<_S[r];e++)Ex[o++]=r;for(o>>=7;r<hv;r++)for(dk[r]=o<<7,e=0;e<1<<_S[r]-7;e++)Ex[256+o++]=r;for(t=0;t<=ap;t++)i[t]=0;for(e=0;e<=143;)iu[e*2+1]=8,e++,i[8]++;for(;e<=255;)iu[e*2+1]=9,e++,i[9]++;for(;e<=279;)iu[e*2+1]=7,e++,i[7]++;for(;e<=287;)iu[e*2+1]=8,e++,i[8]++;for(QOe(iu,Sx+1,i),e=0;e<hv;e++)pb[e*2+1]=5,pb[e*2]=XOe(e,5);qOe=new KO(iu,D4,rC+1,Sx,ap),GOe=new KO(pb,_S,0,hv,ap),KOe=new KO(new Array(0),w5n,0,$N,x5n)},JOe=e=>{let t;for(t=0;t<Sx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<hv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<$N;t++)e.bl_tree[t*2]=0;e.dyn_ltree[RN*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},e3e=e=>{e.bi_valid>8?jx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ipe=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},XO=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&ipe(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!ipe(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},spe=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?cc(e,o,t):(s=kx[o],cc(e,s+rC+1,t),a=D4[s],a!==0&&(o-=MN[s],bs(e,o,a)),r--,s=ZOe(r),cc(e,s,n),a=_S[s],a!==0&&(r-=dk[s],bs(e,r,a)));while(i<e.sym_next);cc(e,RN,t)},I4=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,l=-1,u;for(e.heap_len=0,e.heap_max=VOe,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=l<2?++l:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)XO(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],XO(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,XO(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],S5n(e,t),QOe(n,l,e.bl_count)},ape=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[HOe*2]++):a<=10?e.bl_tree[UOe*2]++:e.bl_tree[WOe*2]++,a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},lpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,l=7,u=4;for(s===0&&(l=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<l&&i===s)){if(a<u)do cc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(cc(e,i,e.bl_tree),a--),cc(e,HOe,e.bl_tree),bs(e,a-3,2)):a<=10?(cc(e,UOe,e.bl_tree),bs(e,a-3,3)):(cc(e,WOe,e.bl_tree),bs(e,a-11,7));a=0,o=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}},k5n=e=>{let t;for(ape(e,e.dyn_ltree,e.l_desc.max_code),ape(e,e.dyn_dtree,e.d_desc.max_code),I4(e,e.bl_desc),t=$N-1;t>=3&&e.bl_tree[YOe[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},j5n=(e,t,n,r)=>{let o;for(bs(e,t-257,5),bs(e,n-1,5),bs(e,r-4,4),o=0;o<r;o++)bs(e,e.bl_tree[YOe[o]*2+1],3);lpe(e,e.dyn_ltree,t-1),lpe(e,e.dyn_dtree,n-1)},T5n=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return rpe;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return ope;for(n=32;n<rC;n++)if(e.dyn_ltree[n*2]!==0)return ope;return rpe};let cpe=!1;const A5n=e=>{cpe||(E5n(),cpe=!0),e.l_desc=new ZO(e.dyn_ltree,qOe),e.d_desc=new ZO(e.dyn_dtree,GOe),e.bl_desc=new ZO(e.bl_tree,KOe),e.bi_buf=0,e.bi_valid=0,JOe(e)},t3e=(e,t,n,r)=>{bs(e,(g5n<<1)+(r?1:0),3),e3e(e),jx(e,n),jx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},D5n=e=>{bs(e,zOe<<1,3),cc(e,RN,iu),_5n(e)},I5n=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===m5n&&(e.strm.data_type=T5n(e)),I4(e,e.l_desc),I4(e,e.d_desc),s=k5n(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?t3e(e,t,n,r):e.strategy===p5n||i===o?(bs(e,(zOe<<1)+(r?1:0),3),spe(e,iu,pb)):(bs(e,(v5n<<1)+(r?1:0),3),j5n(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),spe(e,e.dyn_ltree,e.dyn_dtree)),JOe(e),r&&e3e(e)},P5n=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(kx[n]+rC+1)*2]++,e.dyn_dtree[ZOe(t)*2]++),e.sym_next===e.sym_end);var O5n=A5n,$5n=t3e,R5n=I5n,M5n=P5n,F5n=D5n,L5n={_tr_init:O5n,_tr_stored_block:$5n,_tr_flush_block:R5n,_tr_tally:M5n,_tr_align:F5n};const B5n=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var Tx=B5n;const N5n=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},z5n=new Uint32Array(N5n()),V5n=(e,t,n,r)=>{const o=z5n,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Do=V5n,Gp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Dm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:H5n,_tr_stored_block:P4,_tr_flush_block:U5n,_tr_tally:hf,_tr_align:W5n}=L5n,{Z_NO_FLUSH:pf,Z_PARTIAL_FLUSH:Y5n,Z_FULL_FLUSH:q5n,Z_FINISH:ja,Z_BLOCK:upe,Z_OK:Vo,Z_STREAM_END:dpe,Z_STREAM_ERROR:wc,Z_DATA_ERROR:G5n,Z_BUF_ERROR:QO,Z_DEFAULT_COMPRESSION:K5n,Z_FILTERED:Z5n,Z_HUFFMAN_ONLY:J_,Z_RLE:X5n,Z_FIXED:Q5n,Z_DEFAULT_STRATEGY:J5n,Z_UNKNOWN:eEn,Z_DEFLATED:HA}=Dm,tEn=9,nEn=15,rEn=8,oEn=29,iEn=256,O4=iEn+1+oEn,sEn=30,aEn=19,lEn=2*O4+1,cEn=15,Wt=3,Kd=258,Cc=Kd+Wt+1,uEn=32,Kv=42,FN=57,$4=69,R4=73,M4=91,F4=103,lp=113,Sy=666,zi=1,J0=2,Kp=3,e1=4,dEn=3,cp=(e,t)=>(e.msg=Gp[t],t),fpe=e=>e*2-(e>4?9:0),Od=e=>{let t=e.length;for(;--t>=0;)e[t]=0},fEn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let hEn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,mf=hEn;const Ms=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},qs=(e,t)=>{U5n(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ms(e.strm)},un=(e,t)=>{e.pending_buf[e.pending++]=t},X1=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},L4=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=Tx(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Do(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},n3e=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Cc?e.strstart-(e.w_size-Cc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+Kd;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=Kd-(p-r),r=p-Kd,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead},Zv=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Cc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),fEn(e),r+=t),e.strm.avail_in===0)break;if(n=L4(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Wt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=mf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=mf(e,e.ins_h,e.window[o+Wt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Wt)););}while(e.lookahead<Cc&&e.strm.avail_in!==0)},r3e=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==ja||t===pf||r!==o+e.strm.avail_in)))break;s=t===ja&&r===o+e.strm.avail_in?1:0,P4(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ms(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(L4(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?e1:t!==pf&&t!==ja&&e.strm.avail_in===0&&e.strstart===e.block_start?J0:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(L4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===ja)&&t!==pf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===ja&&e.strm.avail_in===0&&r===o?1:0,P4(e,e.block_start,r,s),e.block_start+=r,Ms(e.strm)),s?Kp:zi)},JO=(e,t)=>{let n,r;for(;;){if(e.lookahead<Cc){if(Zv(e),e.lookahead<Cc&&t===pf)return zi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=mf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Cc&&(e.match_length=n3e(e,n)),e.match_length>=Wt)if(r=hf(e,e.strstart-e.match_start,e.match_length-Wt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Wt){e.match_length--;do e.strstart++,e.ins_h=mf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=mf(e,e.ins_h,e.window[e.strstart+1]);else r=hf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(qs(e,!1),e.strm.avail_out===0))return zi}return e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===ja?(qs(e,!0),e.strm.avail_out===0?Kp:e1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?zi:J0},Xm=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Cc){if(Zv(e),e.lookahead<Cc&&t===pf)return zi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Wt&&(e.ins_h=mf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Wt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Cc&&(e.match_length=n3e(e,n),e.match_length<=5&&(e.strategy===Z5n||e.match_length===Wt&&e.strstart-e.match_start>4096)&&(e.match_length=Wt-1)),e.prev_length>=Wt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Wt,r=hf(e,e.strstart-1-e.prev_match,e.prev_length-Wt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=mf(e,e.ins_h,e.window[e.strstart+Wt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Wt-1,e.strstart++,r&&(qs(e,!1),e.strm.avail_out===0))return zi}else if(e.match_available){if(r=hf(e,0,e.window[e.strstart-1]),r&&qs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return zi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=hf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Wt-1?e.strstart:Wt-1,t===ja?(qs(e,!0),e.strm.avail_out===0?Kp:e1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?zi:J0},pEn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=Kd){if(Zv(e),e.lookahead<=Kd&&t===pf)return zi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Wt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+Kd;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=Kd-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Wt?(n=hf(e,1,e.match_length-Wt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=hf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(qs(e,!1),e.strm.avail_out===0))return zi}return e.insert=0,t===ja?(qs(e,!0),e.strm.avail_out===0?Kp:e1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?zi:J0},mEn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Zv(e),e.lookahead===0)){if(t===pf)return zi;break}if(e.match_length=0,n=hf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(qs(e,!1),e.strm.avail_out===0))return zi}return e.insert=0,t===ja?(qs(e,!0),e.strm.avail_out===0?Kp:e1):e.sym_next&&(qs(e,!1),e.strm.avail_out===0)?zi:J0};function Yl(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Ey=[new Yl(0,0,0,0,r3e),new Yl(4,4,8,4,JO),new Yl(4,5,16,8,JO),new Yl(4,6,32,32,JO),new Yl(4,4,16,16,Xm),new Yl(8,16,32,32,Xm),new Yl(8,16,128,128,Xm),new Yl(8,32,128,256,Xm),new Yl(32,128,258,1024,Xm),new Yl(32,258,258,4096,Xm)],gEn=e=>{e.window_size=2*e.w_size,Od(e.head),e.max_lazy_match=Ey[e.level].max_lazy,e.good_match=Ey[e.level].good_length,e.nice_match=Ey[e.level].nice_length,e.max_chain_length=Ey[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Wt-1,e.match_available=0,e.ins_h=0};function vEn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=HA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(lEn*2),this.dyn_dtree=new Uint16Array((2*sEn+1)*2),this.bl_tree=new Uint16Array((2*aEn+1)*2),Od(this.dyn_ltree),Od(this.dyn_dtree),Od(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cEn+1),this.heap=new Uint16Array(2*O4+1),Od(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*O4+1),Od(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const oC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Kv&&t.status!==FN&&t.status!==$4&&t.status!==R4&&t.status!==M4&&t.status!==F4&&t.status!==lp&&t.status!==Sy?1:0},o3e=e=>{if(oC(e))return cp(e,wc);e.total_in=e.total_out=0,e.data_type=eEn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?FN:t.wrap?Kv:lp,e.adler=t.wrap===2?0:1,t.last_flush=-2,H5n(t),Vo},i3e=e=>{const t=o3e(e);return t===Vo&&gEn(e.state),t},yEn=(e,t)=>oC(e)||e.state.wrap!==2?wc:(e.state.gzhead=t,Vo),s3e=(e,t,n,r,o,i)=>{if(!e)return wc;let s=1;if(t===K5n&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>tEn||n!==HA||r<8||r>15||t<0||t>9||i<0||i>Q5n||r===8&&s!==1)return cp(e,wc);r===8&&(r=9);const a=new vEn;return e.state=a,a.strm=e,a.status=Kv,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Wt-1)/Wt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,i3e(e)},bEn=(e,t)=>s3e(e,t,HA,nEn,rEn,J5n),xEn=(e,t)=>{if(oC(e)||t>upe||t<0)return e?cp(e,wc):wc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Sy&&t!==ja)return cp(e,e.avail_out===0?QO:wc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Ms(e),e.avail_out===0)return n.last_flush=-1,Vo}else if(e.avail_in===0&&fpe(t)<=fpe(r)&&t!==ja)return cp(e,QO);if(n.status===Sy&&e.avail_in!==0)return cp(e,QO);if(n.status===Kv&&n.wrap===0&&(n.status=lp),n.status===Kv){let o=HA+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=J_||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=uEn),o+=31-o%31,X1(n,o),n.strstart!==0&&(X1(n,e.adler>>>16),X1(n,e.adler&65535)),e.adler=1,n.status=lp,Ms(e),n.pending!==0)return n.last_flush=-1,Vo}if(n.status===FN){if(e.adler=0,un(n,31),un(n,139),un(n,8),n.gzhead)un(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),un(n,n.gzhead.time&255),un(n,n.gzhead.time>>8&255),un(n,n.gzhead.time>>16&255),un(n,n.gzhead.time>>24&255),un(n,n.level===9?2:n.strategy>=J_||n.level<2?4:0),un(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(un(n,n.gzhead.extra.length&255),un(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Do(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=$4;else if(un(n,0),un(n,0),un(n,0),un(n,0),un(n,0),un(n,n.level===9?2:n.strategy>=J_||n.level<2?4:0),un(n,dEn),n.status=lp,Ms(e),n.pending!==0)return n.last_flush=-1,Vo}if(n.status===$4){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Do(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Ms(e),n.pending!==0)return n.last_flush=-1,Vo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Do(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=R4}if(n.status===R4){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Do(e.adler,n.pending_buf,n.pending-o,o)),Ms(e),n.pending!==0)return n.last_flush=-1,Vo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,un(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Do(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=M4}if(n.status===M4){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Do(e.adler,n.pending_buf,n.pending-o,o)),Ms(e),n.pending!==0)return n.last_flush=-1,Vo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,un(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Do(e.adler,n.pending_buf,n.pending-o,o))}n.status=F4}if(n.status===F4){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ms(e),n.pending!==0))return n.last_flush=-1,Vo;un(n,e.adler&255),un(n,e.adler>>8&255),e.adler=0}if(n.status=lp,Ms(e),n.pending!==0)return n.last_flush=-1,Vo}if(e.avail_in!==0||n.lookahead!==0||t!==pf&&n.status!==Sy){let o=n.level===0?r3e(n,t):n.strategy===J_?mEn(n,t):n.strategy===X5n?pEn(n,t):Ey[n.level].func(n,t);if((o===Kp||o===e1)&&(n.status=Sy),o===zi||o===Kp)return e.avail_out===0&&(n.last_flush=-1),Vo;if(o===J0&&(t===Y5n?W5n(n):t!==upe&&(P4(n,0,0,!1),t===q5n&&(Od(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ms(e),e.avail_out===0))return n.last_flush=-1,Vo}return t!==ja?Vo:n.wrap<=0?dpe:(n.wrap===2?(un(n,e.adler&255),un(n,e.adler>>8&255),un(n,e.adler>>16&255),un(n,e.adler>>24&255),un(n,e.total_in&255),un(n,e.total_in>>8&255),un(n,e.total_in>>16&255),un(n,e.total_in>>24&255)):(X1(n,e.adler>>>16),X1(n,e.adler&65535)),Ms(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Vo:dpe)},wEn=e=>{if(oC(e))return wc;const t=e.state.status;return e.state=null,t===lp?cp(e,G5n):Vo},CEn=(e,t)=>{let n=t.length;if(oC(e))return wc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==Kv||r.lookahead)return wc;if(o===1&&(e.adler=Tx(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Od(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Zv(r);r.lookahead>=Wt;){let l=r.strstart,u=r.lookahead-(Wt-1);do r.ins_h=mf(r,r.ins_h,r.window[l+Wt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=Wt-1,Zv(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Wt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Vo};var _En=bEn,SEn=s3e,EEn=i3e,kEn=o3e,jEn=yEn,TEn=xEn,AEn=wEn,DEn=CEn,IEn="pako deflate (from Nodeca project)",mb={deflateInit:_En,deflateInit2:SEn,deflateReset:EEn,deflateResetKeep:kEn,deflateSetHeader:jEn,deflate:TEn,deflateEnd:AEn,deflateSetDictionary:DEn,deflateInfo:IEn};const PEn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var OEn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)PEn(n,r)&&(e[r]=n[r])}}return e},$En=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},UA={assign:OEn,flattenChunks:$En};let a3e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a3e=!1}const Ax=new Uint8Array(256);for(let e=0;e<256;e++)Ax[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ax[254]=Ax[254]=1;var REn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const MEn=(e,t)=>{if(t<65534&&e.subarray&&a3e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var FEn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=Ax[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return MEn(i,o)},LEn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Ax[e[n]]>t?n:t},Dx={string2buf:REn,buf2string:FEn,utf8border:LEn};function BEn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var l3e=BEn;const c3e=Object.prototype.toString,{Z_NO_FLUSH:NEn,Z_SYNC_FLUSH:zEn,Z_FULL_FLUSH:VEn,Z_FINISH:HEn,Z_OK:fk,Z_STREAM_END:UEn,Z_DEFAULT_COMPRESSION:WEn,Z_DEFAULT_STRATEGY:YEn,Z_DEFLATED:qEn}=Dm;function iC(e){this.options=UA.assign({level:WEn,method:qEn,chunkSize:16384,windowBits:15,memLevel:8,strategy:YEn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l3e,this.strm.avail_out=0;let n=mb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==fk)throw new Error(Gp[n]);if(t.header&&mb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Dx.string2buf(t.dictionary):c3e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=mb.deflateSetDictionary(this.strm,r),n!==fk)throw new Error(Gp[n]);this._dict_set=!0}}iC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?HEn:NEn,typeof e=="string"?n.input=Dx.string2buf(e):c3e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===zEn||i===VEn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=mb.deflate(n,i),o===UEn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=mb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===fk;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};iC.prototype.onData=function(e){this.chunks.push(e)};iC.prototype.onEnd=function(e){e===fk&&(this.result=UA.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function LN(e,t){const n=new iC(t);if(n.push(e,!0),n.err)throw n.msg||Gp[n.err];return n.result}function GEn(e,t){return t=t||{},t.raw=!0,LN(e,t)}function KEn(e,t){return t=t||{},t.gzip=!0,LN(e,t)}var ZEn=iC,XEn=LN,QEn=GEn,JEn=KEn,ekn=Dm,tkn={Deflate:ZEn,deflate:XEn,deflateRaw:QEn,gzip:JEn,constants:ekn};const e2=16209,nkn=16191;var rkn=function(t,n){let r,o,i,s,a,l,u,d,f,p,m,v,g,y,x,b,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),l=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,y=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=y[m&b];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>l){t.msg="invalid distance too far back",A.mode=e2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=e2;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=e2;break e}else{w=y[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=nkn;break e}else{t.msg="invalid literal/length code",A.mode=e2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const Qm=15,hpe=852,ppe=592,mpe=0,e3=1,gpe=2,okn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ikn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),skn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),akn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lkn=(e,t,n,r,o,i,s,a)=>{const l=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(Qm+1),A=new Uint16Array(Qm+1);let D=null,I,P,R;for(u=0;u<=Qm;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=l,p=Qm;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),y=1,u=1;u<=Qm;u++)if(y<<=1,y-=T[u],y<0)return-1;if(y>0&&(e===mpe||p!==1))return-1;for(A[1]=0,u=1;u<Qm;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===mpe?(j=D=s,k=20):e===e3?(j=okn,D=ikn,k=257):(j=skn,D=akn,k=0),b=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===e3&&x>hpe||e===gpe&&x>ppe)return 1;for(;;){I=u-g,s[d]+1<k?(P=0,R=s[d]):s[d]>=k?(P=D[s[d]-k],R=j[s[d]-k]):(P=32+64,R=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(b>>g)+C]=I<<24|P<<16|R|0;while(C!==0);for(w=1<<u-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(b&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,y=1<<v;v+g<p&&(y-=T[v+g],!(y<=0));)v++,y<<=1;if(x+=1<<v,e===e3&&x>hpe||e===gpe&&x>ppe)return 1;_=b&S,o[_]=m<<24|v<<16|E-i|0}}return b!==0&&(o[E+b]=u-g<<24|64<<16|0),a.bits=m,0};var gb=lkn;const ckn=0,u3e=1,d3e=2,{Z_FINISH:vpe,Z_BLOCK:ukn,Z_TREES:t2,Z_OK:Zp,Z_STREAM_END:dkn,Z_NEED_DICT:fkn,Z_STREAM_ERROR:Ha,Z_DATA_ERROR:f3e,Z_MEM_ERROR:h3e,Z_BUF_ERROR:hkn,Z_DEFLATED:ype}=Dm,WA=16180,bpe=16181,xpe=16182,wpe=16183,Cpe=16184,_pe=16185,Spe=16186,Epe=16187,kpe=16188,jpe=16189,hk=16190,Xc=16191,t3=16192,Tpe=16193,n3=16194,Ape=16195,Dpe=16196,Ipe=16197,Ppe=16198,n2=16199,r2=16200,Ope=16201,$pe=16202,Rpe=16203,Mpe=16204,Fpe=16205,r3=16206,Lpe=16207,Bpe=16208,pr=16209,p3e=16210,m3e=16211,pkn=852,mkn=592,gkn=15,vkn=gkn,Npe=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ykn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Im=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<WA||t.mode>m3e?1:0},g3e=e=>{if(Im(e))return Ha;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=WA,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(pkn),t.distcode=t.distdyn=new Int32Array(mkn),t.sane=1,t.back=-1,Zp},v3e=e=>{if(Im(e))return Ha;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,g3e(e)},y3e=(e,t)=>{let n;if(Im(e))return Ha;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ha:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v3e(e))},b3e=(e,t)=>{if(!e)return Ha;const n=new ykn;e.state=n,n.strm=e,n.window=null,n.mode=WA;const r=y3e(e,t);return r!==Zp&&(e.state=null),r},bkn=e=>b3e(e,vkn);let zpe=!0,o3,i3;const xkn=e=>{if(zpe){o3=new Int32Array(512),i3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(gb(u3e,e.lens,0,288,o3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;gb(d3e,e.lens,0,32,i3,0,e.work,{bits:5}),zpe=!1}e.lencode=o3,e.lenbits=9,e.distcode=i3,e.distbits=5},x3e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},wkn=(e,t)=>{let n,r,o,i,s,a,l,u,d,f,p,m,v,g,y=0,x,b,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Im(e)||!e.output||!e.input&&e.avail_in!==0)return Ha;n=e.state,n.mode===Xc&&(n.mode=t3),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=l,j=Zp;e:for(;;)switch(n.mode){case WA:if(n.wrap===0){n.mode=t3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=Do(n.check,k,2,0),u=0,d=0,n.mode=bpe;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=pr;break}if((u&15)!==ype){e.msg="unknown compression method",n.mode=pr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=pr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?jpe:Xc,u=0,d=0;break;case bpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==ype){e.msg="unknown compression method",n.mode=pr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=pr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Do(n.check,k,2,0)),u=0,d=0,n.mode=xpe;case xpe:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=Do(n.check,k,4,0)),u=0,d=0,n.mode=wpe;case wpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Do(n.check,k,2,0)),u=0,d=0,n.mode=Cpe;case Cpe:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Do(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=_pe;case _pe:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=Do(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=Spe;case Spe:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Do(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Epe;case Epe:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Do(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=kpe;case kpe:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=pr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Xc;break;case jpe:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=Npe(u),u=0,d=0,n.mode=hk;case hk:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,fkn;e.adler=n.check=1,n.mode=Xc;case Xc:if(t===ukn||t===t2)break e;case t3:if(n.last){u>>>=d&7,d-=d&7,n.mode=r3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Tpe;break;case 1:if(xkn(n),n.mode=n2,t===t2){u>>>=2,d-=2;break e}break;case 2:n.mode=Dpe;break;case 3:e.msg="invalid block type",n.mode=pr}u>>>=2,d-=2;break;case Tpe:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pr;break}if(n.length=u&65535,u=0,d=0,n.mode=n3,t===t2)break e;case n3:n.mode=Ape;case Ape:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,l-=m,s+=m,n.length-=m;break}n.mode=Xc;break;case Dpe:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pr;break}n.have=0,n.mode=Ipe;case Ipe:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=gb(ckn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=pr;break}n.have=0,n.mode=Ppe;case Ppe:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=pr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===pr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=pr;break}if(n.lenbits=9,T={bits:n.lenbits},j=gb(u3e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=pr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=gb(d3e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=pr;break}if(n.mode=n2,t===t2)break e;case n2:n.mode=r2;case r2:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,rkn(e,p),s=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===Xc&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(b&&!(b&240)){for(C=x,_=b,S=w;y=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,b===0){n.mode=Fpe;break}if(b&32){n.back=-1,n.mode=Xc;break}if(b&64){e.msg="invalid literal/length code",n.mode=pr;break}n.extra=b&15,n.mode=Ope;case Ope:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=$pe;case $pe:for(;y=n.distcode[u&(1<<n.distbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(b&240)){for(C=x,_=b,S=w;y=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,b&64){e.msg="invalid distance code",n.mode=pr;break}n.offset=w,n.extra=b&15,n.mode=Rpe;case Rpe:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pr;break}n.mode=Mpe;case Mpe:if(l===0)break e;if(m=p-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=r2);break;case Fpe:if(l===0)break e;o[s++]=n.length,l--,n.mode=r2;break;case r3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Do(n.check,o,p,s-p):Tx(n.check,o,p,s-p)),p=l,n.wrap&4&&(n.flags?u:Npe(u))!==n.check){e.msg="incorrect data check",n.mode=pr;break}u=0,d=0}n.mode=Lpe;case Lpe:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=pr;break}u=0,d=0}n.mode=Bpe;case Bpe:j=dkn;break e;case pr:j=f3e;break e;case p3e:return h3e;case m3e:default:return Ha}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<pr&&(n.mode<r3||t!==vpe))&&x3e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Do(n.check,o,p,e.next_out-p):Tx(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Xc?128:0)+(n.mode===n2||n.mode===n3?256:0),(f===0&&p===0||t===vpe)&&j===Zp&&(j=hkn),j},Ckn=e=>{if(Im(e))return Ha;let t=e.state;return t.window&&(t.window=null),e.state=null,Zp},_kn=(e,t)=>{if(Im(e))return Ha;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Zp):Ha},Skn=(e,t)=>{const n=t.length;let r,o,i;return Im(e)||(r=e.state,r.wrap!==0&&r.mode!==hk)?Ha:r.mode===hk&&(o=1,o=Tx(o,t,n,0),o!==r.check)?f3e:(i=x3e(e,t,n,n),i?(r.mode=p3e,h3e):(r.havedict=1,Zp))};var Ekn=v3e,kkn=y3e,jkn=g3e,Tkn=bkn,Akn=b3e,Dkn=wkn,Ikn=Ckn,Pkn=_kn,Okn=Skn,$kn="pako inflate (from Nodeca project)",su={inflateReset:Ekn,inflateReset2:kkn,inflateResetKeep:jkn,inflateInit:Tkn,inflateInit2:Akn,inflate:Dkn,inflateEnd:Ikn,inflateGetHeader:Pkn,inflateSetDictionary:Okn,inflateInfo:$kn};function Rkn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mkn=Rkn;const w3e=Object.prototype.toString,{Z_NO_FLUSH:Fkn,Z_FINISH:Lkn,Z_OK:Ix,Z_STREAM_END:s3,Z_NEED_DICT:a3,Z_STREAM_ERROR:Bkn,Z_DATA_ERROR:Vpe,Z_MEM_ERROR:Nkn}=Dm;function sC(e){this.options=UA.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l3e,this.strm.avail_out=0;let n=su.inflateInit2(this.strm,t.windowBits);if(n!==Ix)throw new Error(Gp[n]);if(this.header=new Mkn,su.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Dx.string2buf(t.dictionary):w3e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=su.inflateSetDictionary(this.strm,t.dictionary),n!==Ix)))throw new Error(Gp[n])}sC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Lkn:Fkn,w3e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=su.inflate(n,s),i===a3&&o&&(i=su.inflateSetDictionary(n,o),i===Ix?i=su.inflate(n,s):i===Vpe&&(i=a3));n.avail_in>0&&i===s3&&n.state.wrap>0&&e[n.next_in]!==0;)su.inflateReset(n),i=su.inflate(n,s);switch(i){case Bkn:case Vpe:case a3:case Nkn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===s3))if(this.options.to==="string"){let l=Dx.utf8border(n.output,n.next_out),u=n.next_out-l,d=Dx.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Ix&&a===0)){if(i===s3)return i=su.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};sC.prototype.onData=function(e){this.chunks.push(e)};sC.prototype.onEnd=function(e){e===Ix&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=UA.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function BN(e,t){const n=new sC(t);if(n.push(e),n.err)throw n.msg||Gp[n.err];return n.result}function zkn(e,t){return t=t||{},t.raw=!0,BN(e,t)}var Vkn=sC,Hkn=BN,Ukn=zkn,Wkn=BN,Ykn=Dm,qkn={Inflate:Vkn,inflate:Hkn,inflateRaw:Ukn,ungzip:Wkn,constants:Ykn};const{Deflate:Gkn,deflate:Kkn,deflateRaw:Zkn,gzip:Xkn}=tkn,{Inflate:Qkn,inflate:Jkn,inflateRaw:ejn,ungzip:tjn}=qkn;var njn=Gkn,rjn=Kkn,ojn=Zkn,ijn=Xkn,sjn=Qkn,ajn=Jkn,ljn=ejn,cjn=tjn,ujn=Dm,C3e={Deflate:njn,deflate:rjn,deflateRaw:ojn,gzip:ijn,Inflate:sjn,inflate:ajn,inflateRaw:ljn,ungzip:cjn,constants:ujn};function djn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _3e(e,t){return Xv(e)?e[Number(t)]:e[t]}function S3e(e,t){if(e){var n=t.shift(),r=_3e(e,n);return t.length&&(Xv(r)||Px(r))?S3e(r,t):r}}function Xv(e){return Array.isArray(e)}function Px(e){return e&&typeof e=="object"}function l3(e,t,n){if(Xv(e)){e[Number(t)]=n;return}if(Px(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function Hpe(e){if(Xv(e))return e.slice(0);if(Px(e))return djn({},e);throw new Error("shallowClone: source must be an object or an array")}function fjn(e,t){return t?S3e(e,t.split("/")):e}function hjn(e,t,n){if(!t){if(Xv(n)||Px(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(fjn(e,t)===n)return e;for(var r=Hpe(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var l=_3e(i,a);if(l===void 0&&(l={},l3(i,a,l)),!Xv(l)&&!Px(l))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=l;var u=Hpe(i);l3(s,a,u),s=u}else l3(s,a,n)}return r}const pv=[],B4={},pjn="auto",mjn=1,pk=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],Upe=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function E3e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const gjn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function vjn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function k3e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[l,u]=a;return"&".concat(l,"=").concat(u)})].join("")}const j3e=h.createContext(null);function t1(){const e=h.useContext(j3e);if(!e)throw new Error("Props: missing context value");return e}const yjn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=t1();return c.jsxs(q,{as:"label",padding:3,children:[c.jsx(B,{marginRight:2,style:{lineHeight:0},children:c.jsx(jj,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),c.jsx(B,{paddingY:1,children:c.jsx(N,{size:1,weight:"semibold",children:n.name})})]})}),bjn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=t1();return c.jsxs(B,{padding:3,children:[c.jsx(N,{size:1,weight:"semibold",children:n.name}),c.jsx(B,{marginTop:2,children:c.jsx(Kr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),xjn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=t1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,l]of s)if(l===r)return a;return""},[n,r]);return c.jsxs(B,{padding:3,children:[c.jsx(N,{size:1,weight:"semibold",children:n.name}),c.jsx(B,{marginTop:2,children:c.jsx(Df,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,l=n.options[a];o(n.name,l)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return c.jsx("option",{value:a,children:a},a)})})})]})}),wjn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=t1();return c.jsxs(B,{padding:3,children:[c.jsx(N,{size:1,weight:"semibold",children:n.name}),c.jsx(B,{marginTop:2,children:c.jsx(Kr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),Cjn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=t1();return c.jsxs(B,{padding:3,children:[c.jsx(N,{size:1,weight:"semibold",children:n.name}),c.jsx(B,{marginTop:2,children:c.jsx(hxe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function _jn(e){const{schema:t,value:n}=e;return t.type==="boolean"?c.jsx(yjn,{schema:t,value:n}):t.type==="number"?c.jsx(bjn,{schema:t,value:n}):t.type==="select"?c.jsx(xjn,{schema:t,value:n}):t.type==="string"?c.jsx(wjn,{schema:t,value:n}):t.type==="text"?c.jsx(Cjn,{schema:t,value:n}):c.jsx(B,{padding:2,children:c.jsxs(N,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",c.jsxs("code",{children:[t.name,": ",t.type]})]})})}const Sjn=h.memo(function(){const{schemas:t,value:n}=t1();return c.jsxs(B,{padding:2,children:[t.length===0&&c.jsx(B,{padding:2,children:c.jsx(N,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>c.jsx(_jn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),mv=Yt,T3e=h.createContext(null);function Xa(){const e=h.useContext(T3e);if(!e)throw new Error("Workshop: missing context value");return e}const Ejn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,kjn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function jjn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return Ejn(t)}function Tjn(e){const t=kjn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function Ajn(e){if(e.length===0)return"";const t=Tjn(e);return C3e.inflate(t,{to:"string"})}function Djn(e){if(e.length===0)return"";const t=C3e.deflate(e);return jjn(t)}function Ijn(e){return Djn(JSON.stringify(e))}function Wpe(e){try{return JSON.parse(Ajn(e))}catch{return{}}}function Pjn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const Ojn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=Xa(),s=i.value,a=h.useRef(s),[{schemas:l,value:u},d]=h.useState({schemas:[],value:Wpe(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,y)=>{o({type:"workshop/props/setPropValue",name:g,value:y})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:l,setPropValue:m,unregisterProp:p,value:u}),[f,l,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(y=>{const x=Pjn(y,g);return mv(y,x)?y:x})}),[r]),h.useEffect(()=>{const g=Ijn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:Wpe(String(s))||{}})))},[s]),c.jsx(j3e.Provider,{value:v,children:n})});function $jn(){return{name:"props",title:"Properties",inspector:Sjn,provider:Ojn}}const A3e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:l,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=pv,collections:v=pv,frameUrl:g="/frame/",scopes:y,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const b=h.useMemo(()=>[$jn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>vjn(y,l),[l,y]),_=h.useMemo(()=>({plugins:b,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:l,payload:u,scheme:d,scope:w,scopes:y,story:C,title:x,viewport:f,zoom:p}),[b,n,o,v,s,g,a,l,u,d,w,y,C,x,f,p]);let S=r;for(const E of b)E.provider&&(S=h.createElement(E.provider,{options:E.options||B4},S));return c.jsx(T3e.Provider,{value:_,children:S})});function D3e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return mv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return mv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return mv(e.payload,n)?e:{...e,payload:n}}return e}const Ype=(()=>{try{return{}.ROOT_PATH}catch{return}})(),Rjn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,Mjn=/\/@fs\//g,Fjn=/\?([a-z]{1})=([0-9]+)/g;function qpe(e){let t=decodeURIComponent(e);return t=e.replace(Rjn,"").replace(Mjn,"/").replace(Fjn,""),Ype?Ljn(t,Ype+"/"):t}function Ljn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const Bjn=h.memo(function(){const{story:t}=Xa(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:l}=s;r({error:a,errorInfo:l})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?c.jsx(ne,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:c.jsx(zjn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{hidden:!0,children:t.title}),c.jsx(h.Suspense,{fallback:c.jsx(Njn,{story:t}),children:c.jsx(ne,{as:"main",height:"fill",children:c.jsx(u0,{onCatch:o,children:h.createElement(t.component)})})})]}):c.jsx(c.Fragment,{})}),Njn=h.memo(function(t){const{story:n}=t;return c.jsxs(c.Fragment,{children:[c.jsxs("h1",{hidden:!0,children:["Loading ",c.jsx("em",{children:n.title}),""]}),c.jsx(q,{align:"center",as:"main",height:"fill",justify:"center",children:c.jsx(zr,{muted:!0})})]})}),zjn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return c.jsx(B,{padding:4,children:c.jsxs(oe,{space:4,children:[c.jsx(ti,{as:"h1",size:[1,1,2],children:n.message}),c.jsx(B,{children:c.jsx(le,{onClick:o,text:"Retry"})}),n.stack&&c.jsx(xr,{size:1,children:qpe(n.stack)}),r&&c.jsx(xr,{size:1,children:"Component stack:"+qpe(r.componentStack)})]})})});function I3e(e){return Array.isArray(e)}function P3e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function Vjn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const l=a.data;if(I3e(l)){for(const u of l)if(P3e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function Hjn(){const e=typeof window>"u"?{}:gjn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>Vjn(),[]),i=h.useMemo(()=>E3e(),[]),[s,a]=h.useState(null),[l,u]=h.useState(null),d=h.useCallback(b=>{i.publish(b),o.message.publish(b)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:y},x]=h.useState(()=>Hjn());return h.useEffect(()=>i.subscribe(b=>x(w=>D3e(w,b))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),c.jsx(pL,{children:c.jsx(lm,{element:s,children:c.jsx(d0,{element:l,children:c.jsx(A3e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:y,children:c.jsxs(ne,{height:"fill",ref:a,children:[c.jsx(Bjn,{}),c.jsx("div",{"data-portal":"",ref:u})]})})})})})});var Gpe=Object.freeze,Ujn=Object.defineProperty,Wjn=(e,t)=>Gpe(Ujn(e,"raw",{value:Gpe(t||e.slice())})),Kpe;Fge(Kpe||(Kpe=Wjn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var Zpe=Object.freeze,Yjn=Object.defineProperty,qjn=(e,t)=>Zpe(Yjn(e,"raw",{value:Zpe(t||e.slice())})),Xpe;const Gjn=h.memo(_xe),Kjn=O(ne)(Xpe||(Xpe=qjn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),Zjn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>c.jsx(Xjn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return c.jsx(Zi,{style:i,children:c.jsx(Kjn,{padding:2,shadow:1,children:c.jsx(Sxe,{space:1,children:s})})})});function Xjn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return c.jsx(Gjn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var Qpe=Object.freeze,Qjn=Object.defineProperty,Jjn=(e,t)=>Qpe(Qjn(e,"raw",{value:Qpe(t||e.slice())})),Jpe;const eTn=O(ne)(Jpe||(Jpe=Jjn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),eme=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),tTn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=Xa(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),l=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(eTn,{display:u,flex:1,children:c.jsxs(q,{direction:"column",height:"fill",children:[l&&c.jsx(Zjn,{currentTabId:i,onTabChange:s,tabs:o}),l&&o.map(d=>c.jsx(PQe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&c.jsx(eme,{component:d.plugin.inspector,options:d.plugin.options||B4})},d.id)),!l&&(a==null?void 0:a.plugin.inspector)&&c.jsx(B,{flex:1,overflow:"auto",children:c.jsx(eme,{component:a.plugin.inspector,options:a.plugin.options||B4})})]})})}),tme=Bx;function nTn(){const{broadcast:e,scope:t,story:n,title:r}=Xa(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return c.jsx(rTn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const rTn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return c.jsxs(dL,{separator:c.jsx(N,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[c.jsx(N,{size:[2,2,1],weight:"bold",children:c.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&c.jsx(N,{align:"center",size:[2,2,1],children:r}),o&&c.jsx(N,{size:[2,2,1],children:o})]})}),oTn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=Xa(),a=h.useMemo(()=>n==="/"?void 0:k3e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return c.jsx(le,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:r0,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function iTn(){const{broadcast:e,scheme:t}=Xa(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return c.jsx(sTn,{dark:t==="dark",onToggleScheme:n})}const sTn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return c.jsx(le,{fontSize:1,icon:n?vF:CF,mode:"bleed",onClick:r,padding:2})}),aTn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=Xa(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return c.jsx(cTn,{disabled:!n,setViewport:o,viewport:r})}),lTn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},cTn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return c.jsx(nn,{button:c.jsx(le,{disabled:r,fontSize:1,iconRight:Pl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=pk.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:c.jsx(Ht,{children:pk.map(s=>c.jsx(Be,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:lTn})});function uTn(){const{broadcast:e,story:t,zoom:n}=Xa(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return c.jsx(fTn,{disabled:!t,setZoom:r,zoom:n})}const dTn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},fTn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return c.jsx(nn,{button:c.jsx(le,{disabled:r,fontSize:1,iconRight:Pl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=Upe.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:c.jsx(Ht,{children:Upe.map(s=>c.jsx(Be,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:dTn})}),hTn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=am(),{story:a,title:l}=Xa();return c.jsx(ne,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:c.jsxs(q,{gap:1,children:[c.jsx(B,{display:["block","block","none"],flex:"none",children:c.jsx(le,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:gF,mode:"bleed",onClick:i,padding:2,selected:r})}),c.jsxs(q,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&c.jsx(N,{weight:"bold",children:(a==null?void 0:a.title)||l}),s>=2&&c.jsx(nTn,{})]}),c.jsx(B,{display:["block","block","none"],flex:"none",children:c.jsx(le,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:Uk,mode:"bleed",onClick:o,padding:2,selected:n})}),c.jsx(B,{display:["none","none","block"],flex:"none",children:c.jsxs(Qt,{space:1,children:[c.jsx(oTn,{}),c.jsx(aTn,{}),c.jsx(uTn,{}),c.jsx(iTn,{})]})})]})})});function O3e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,l]=s;return O3e((r==null?void 0:r.children)||[],l,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function pTn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},l={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=l}let r={};for(const i of Object.values(n))r=hjn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...O3e(e,s,i));return o}const mTn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return c.jsx(oe,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return c.jsx(ne,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:c.jsx(N,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),gTn=h.memo(function(t){const{items:n}=t;return c.jsx(Txe,{space:1,children:c.jsx($3e,{items:n})})}),$3e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=Xa(),l=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:c.jsx(c.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return c.jsx(vTn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?c.jsx(zb,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:l,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?c.jsx(yTn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:l},u.name):c.jsx(zb,{text:"unknown"},d)})}),[n,s,a,l,r,i])}),vTn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>c.jsx($3e,{basePath:o,items:r.items}),[r,o]);return c.jsx(zb,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),yTn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>c.jsx(zb,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return c.jsx(zb,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var nme=Object.freeze,bTn=Object.defineProperty,xTn=(e,t)=>nme(bTn(e,"raw",{value:nme(t||e.slice())})),rme;const wTn=O(ne)(rme||(rme=xTn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),CTn={flex:"none"},_Tn={lineHeight:0},STn=[2,2,1],ETn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=Xa(),s=h.useMemo(()=>pTn(n,i),[n,i]),[a,l]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return pv;const v=a.toLowerCase(),g=[];for(const y of i)for(const x of y.stories)((m=y.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:y,story:x});return g},[a,i]),d=h.useCallback(m=>l(m.currentTarget.value),[]),f=h.useCallback(()=>l(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),l(""))},[o]);return c.jsx(kTn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),kTn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:l}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return c.jsx(wTn,{display:u,flex:1,children:c.jsxs(q,{direction:"column",height:"fill",children:[c.jsx(Zi,{style:CTn,children:c.jsx(ne,{padding:2,shadow:1,style:_Tn,children:c.jsx(Kr,{border:!1,clearButton:!!l,fontSize:STn,icon:Vi,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:l})})}),c.jsxs(ne,{flex:1,overflow:"auto",children:[l&&r.length>0&&c.jsx(B,{padding:2,children:c.jsx(mTn,{matches:r,onStoryClick:a})}),!l&&o.type==="list"&&c.jsx(B,{padding:2,children:c.jsx(gTn,{items:o.items})})]})]})})});var ome=Object.freeze,jTn=Object.defineProperty,TTn=(e,t)=>ome(jTn(e,"raw",{value:ome(t||e.slice())})),ime;const ATn=O.iframe(ime||(ime=TTn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),DTn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:l,title:u,viewport:d,zoom:f}=Xa(),p=pk.find(w=>w.name===d)||pk[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>k3e({baseUrl:i,path:s,payload:a,scheme:l,viewport:d,zoom:f})),y=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),b=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return c.jsx(ne,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:c.jsxs(q,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&c.jsx(ta,{width:0,children:c.jsxs(oe,{padding:4,space:4,children:[c.jsx(ti,{align:"center",children:u}),c.jsx(N,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&c.jsx(zr,{muted:!0}),c.jsx(ta,{height:"fill",hidden:!o||s==="/",style:y,width:"auto",children:c.jsx(ne,{height:"fill",shadow:1,children:c.jsx(ATn,{ref:n,src:g,style:b})})})]})})});function ITn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var l;(l=t==null?void 0:t.contentWindow)==null||l.postMessage(n,window.location.origin),n=[],r=null},0)}function i(l){const u=l.data;if(I3e(u)){for(const d of u)if(P3e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(l){l!=null&&l.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(l){n.push(l),o()},subscribe(l){return e.add(l),()=>{e.delete(l)}}},setElement(l){const u=t;t=l,l?s():u&&a(u)}}}function sme(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...l}=o;return{frameReady:n||!1,path:r,payload:l,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function ame(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==pjn&&(s.viewport=o),i&&i!==mjn&&(s.zoom=i),t)for(const[a,l]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=l;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,l=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>E3e(),[]),d=h.useMemo(()=>ITn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:y,payload:x,scheme:b,viewport:w,zoom:C},_]=h.useState(()=>sme(i.get(),a)),S=am(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(b),I=h.useRef(y),P=h.useRef({scheme:b,viewport:w,zoom:C,...x}),R=h.useCallback(V=>{u.publish(V),d.message.publish(V)},[u,d]),$=h.useMemo(()=>tme(V=>i.push(V),150),[i]),U=h.useMemo(()=>tme(V=>i.replace(V),150),[i]),L=h.useCallback(()=>{j(V=>!V),T(!1)},[]),W=h.useCallback(()=>{j(!1),T(V=>!V)},[]),Y=h.useRef(S);return h.useEffect(()=>{Y.current<2&&S>=2&&(j(!1),T(!1)),Y.current=S},[S]),h.useEffect(()=>{j(!1)},[y]),h.useEffect(()=>()=>$.cancel(),[$]),h.useEffect(()=>()=>U.cancel(),[U]),h.useEffect(()=>u.subscribe(V=>{_(H=>{const Q=D3e(H,V),F=!mv(H,Q);if(F){if(V.type==="workshop/setPath"){if(I.current!==Q.path){I.current=Q.path;const G=ame(Q,!1);$({path:Q.path,query:G})}}else if(V.type!=="workshop/setState"){const G=ame(Q);mv(P.current,G)||(P.current=G,U({path:Q.path,query:G}))}}return F?Q:H})}),[$,U,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(V=>{const H=sme(V,void 0,g);R({type:"workshop/setState",value:H})}),[R,g,i]),h.useEffect(()=>{D.current=b,s(b)},[s,b]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,R({type:"workshop/setScheme",value:a}))},[R,a]),o.scopes?c.jsx(A3e,{config:o,broadcast:R,channel:u,frameReady:g,origin:"main",path:y,payload:x,scheme:b,viewport:w,zoom:C,children:c.jsx(pL,{children:c.jsx(lm,{element:f,children:c.jsx(d0,{element:m,children:c.jsxs(q,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[l&&c.jsx(hTn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:W,onNavigatorToggle:L}),c.jsxs(q,{flex:1,children:[c.jsx(ETn,{collections:o.collections,expanded:E}),c.jsx(DTn,{frameRef:d.setElement,hidden:E||k}),c.jsx(tTn,{expanded:k})]}),c.jsx("div",{"data-portal":"",ref:v})]})})})})}):c.jsx(c.Fragment,{children:"No scopes"})});function PTn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:l}=e,[u,d]=h.useState(pv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(pv)},[a,u]),m=h.useMemo(()=>nC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),y=h.useCallback(()=>{var w,C;d(pv),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),b=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:n})]});return c.jsx(VA,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:y,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:b,readOnly:l,ref:f,value:u})}var lme=Object.freeze,OTn=Object.defineProperty,R3e=(e,t)=>lme(OTn(e,"raw",{value:lme(t||e.slice())})),cme,ume;const $Tn=O(q)(cme||(cme=R3e([`
  min-height: 25px;
`]))),RTn=O(le)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return he(ume||(ume=R3e([`
    --card-fg-color: `,`;
  `])),n)});function MTn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,mentionOptions:s,onNewThreadCreate:a,onPathSelect:l,readOnly:u}=e,d=h.useCallback(()=>{l==null||l(vf(i))},[i,l]),f=h.useCallback(v=>{const g={fieldPath:i,message:v,parentCommentId:void 0,status:"open",threadId:ed()};a==null||a(g)},[a,i]),p=h.useMemo(()=>(t==null?void 0:t.map(v=>v.title))||[],[t]),m=p[p.length-1];return c.jsxs(oe,{space:2,children:[c.jsx($Tn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:c.jsx(oe,{flex:1,children:c.jsx(q,{align:"center",children:c.jsx(RTn,{"aria-label":"Go to ".concat(m," field"),mode:"bleed",onClick:d,padding:2,children:c.jsx(h5n,{maxLength:3,titlePath:p})})})})}),n&&c.jsx(NOe,{children:c.jsx(PTn,{currentUser:o,fieldName:m,mentionOptions:s,onNewThreadCreate:f,readOnly:u})}),c.jsx(oe,{space:2,children:r})]})}const dme={open:{title:"No open comments yet",message:c.jsxs("span",{children:["Open comments on this document ",c.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:c.jsxs(c.Fragment,{children:["Resolved comments on this document ",c.jsx("br",{}),"will be shown here."]})}};function FTn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?c.jsx(q,{align:"center",justify:"center",flex:1,padding:4,children:c.jsx(q,{align:"center",children:c.jsx(N,{size:1,muted:!0,children:"Something went wrong"})})}):r?c.jsx(q,{align:"center",justify:"center",flex:1,padding:4,children:c.jsxs(q,{align:"center",gap:2,children:[c.jsx(zr,{muted:!0,size:1}),c.jsx(N,{size:1,muted:!0,children:"Loading comments..."})]})}):o?c.jsx(q,{align:"center",justify:"center",flex:1,sizing:"border",children:c.jsx(ta,{width:0,padding:4,children:c.jsxs(oe,{space:3,children:[c.jsx(N,{align:"center",size:1,muted:!0,weight:"semibold",children:dme[t].title}),c.jsx(N,{align:"center",size:1,muted:!0,children:dme[t].message})]})})}):null}const LTn={behavior:"smooth",block:"start",inline:"nearest"};function BTn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const NTn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:y,selectedPath:x,status:b}=t,[w,C]=h.useState(null),_=h.useCallback(k=>{const T=document==null?void 0:document.querySelector('[data-comment-id="'.concat(k,'"]'));T&&T.scrollIntoView(LTn)},[]),S=h.useCallback((k,T)=>{m==null||m(k,T)},[m]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const E=h.useMemo(()=>Object.entries(BTn(r)),[r]),j=!s&&!i&&E.length>0;return c.jsxs(q,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[c.jsx(FTn,{error:i,hasNoComments:E.length===0,loading:s,status:b}),j&&c.jsx(oe,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:c.jsx(lm,{element:w,children:E==null?void 0:E.map(k=>{let[T,A]=k;const D=A[0].breadcrumbs,I=A[0].threadId;return c.jsx(oe,{as:"li","data-group-id":I,paddingTop:3,children:c.jsx(MTn,{breadcrumbs:D,canCreateNewThread:b==="open",currentUser:o,fieldPath:T,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:y,children:A.map(P=>{var R,$;const U=P.replies.slice().reverse(),L=b==="open"&&((R=P.parentComment._state)==null?void 0:R.type)!=="createError"&&(($=P.parentComment._state)==null?void 0:$.type)!=="createRetrying",W=x==null?void 0:x.threadId,Y=(x==null?void 0:x.threadId)===P.threadId,V=(x==null?void 0:x.fieldPath)===P.fieldPath,H=Y||V&&!W;return c.jsx(d5n,{canReply:L,currentUser:o,mentionOptions:a,onCopyLink:l,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:Q=>S(Q,P.threadId),onReply:v,onStatusChange:g,parentComment:P.parentComment,readOnly:y,replies:U,selected:H},P.parentComment._id)})},T)},T)})})})]})}),zTn=se.memo(NTn),VTn={thread:{title:"Delete this comment thread?",body:"All comments in this thread will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function HTn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:l,confirmButtonText:u}=VTn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return c.jsx(ca,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:c.jsxs(an,{columns:2,padding:2,gap:2,children:[c.jsx(le,{text:"Cancel",mode:"ghost",onClick:n}),c.jsx(le,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:c.jsxs(oe,{padding:4,space:4,children:[c.jsx(N,{children:l}),s&&c.jsx(ir,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var fme=Object.freeze,UTn=Object.defineProperty,WTn=(e,t)=>fme(UTn(e,"raw",{value:fme(t||e.slice())})),hme;const YTn=O(exe)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=pe.purple[r].hex,i=pe.purple[n].hex;return he(hme||(hme=WTn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function qTn(){return c.jsx(YTn,{children:"Beta"})}var pme=Object.freeze,GTn=Object.defineProperty,KTn=(e,t)=>pme(GTn(e,"raw",{value:pme(t||e.slice())})),mme;const ZTn=O(B)(mme||(mme=KTn([`
  max-width: 280px;
`])));function XTn(e){const{onDismiss:t}=e;return c.jsx(fn,{content:c.jsx(ZTn,{padding:4,children:c.jsxs(oe,{space:3,children:[c.jsx(N,{weight:"semibold",size:1,children:"Collaborate in One Place"}),c.jsx(N,{size:1,children:"Add a comment on any field. All comments for this document will be here, grouped by field."}),c.jsx(q,{justify:"flex-end",marginTop:2,children:c.jsx(le,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const NN=h.createContext(null);function QTn(e){const t={};return e!==null&&(t.identity=e.id),t}const c3=new Map;async function JTn(e,t,n){c3.has(t)||c3.set(t,Nke("*[".concat(t,"]")));const r=c3.get(t),o=QTn(e),{identity:i}=o,s={...o},a=await(await $ke(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function eAn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await JTn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const gme={data:[],error:null,loading:!0};let vme=null;function tAn(e){const{documentValue:t}=e,n=dwn(),r=CN(),o=_r(mn),[i,s]=h.useState(gme),a=h.useMemo(()=>{const u=n.get().pipe(ce(v=>{var g;return(g=v.members)==null?void 0:g.filter(y=>!y.isRobot)})).pipe(rt(async v=>{const g=v.map(x=>{let{id:b}=x;return b});return await r.getUsers(g)}),ce(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=vme,f=d?Ce(d):o.observable.fetch('*[_type == "system.group"]');return YJe([u,f]).pipe(yt(async v=>{let[g,y]=v;d||(vme=y);const x=g==null?void 0:g.map(async w=>{const _=[...y.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await eAn(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ce(v=>({error:null,loading:!1,data:hm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const l=Ce(gme),d=co(l,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function nAn(e){const{documentId:t,documentType:n}=e||{},r=dr().get(n),{title:o}=Ml(),{createPathWithParams:i,params:s}=NA(),a=Ts(),l=ko(()=>!t||!r?Ce(null):JT(a,r,t,""),[t,a,r]),{published:u,draft:d}=l||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:hb}),y="".concat(window.location.origin).concat(g);return{documentTitle:f,url:y,workspaceTitle:o}},[i,f,s,o])}}function rAn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:l,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,y=Qj(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=Ml(),b=h.useMemo(()=>x.find(k=>k.name===y),[y,x]),{getNotificationValue:w}=nAn({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||ed(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:P=""}=w({commentId:T})||{},R={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:P},$={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:R,tool:(b==null?void 0:b.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a($),!t){try{await m($)}catch(U){throw l==null||l($._id,U),U}return}try{await t.create($)}catch(U){throw l==null||l($._id,U),U}},[b==null?void 0:b.name,g,t,r,o,i,w,s,a,l,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function M3e(){const e=h.useContext(NN);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function oAn(){const e=h.useContext(z3e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function zN(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=APe("studioComments"),{enabled:i}=ur().document.unstable_comments,s=i({documentType:n,documentId:Zn(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const F3e=h.createContext(null),iAn=1,L3e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(iAn),sAn=e=>{try{window.localStorage.setItem(L3e,JSON.stringify(e))}catch{}},aAn=()=>{try{const e=window.localStorage.getItem(L3e);return e?JSON.parse(e):!1}catch{return!1}};function lAn(e){const{children:t}=e,[n,r]=h.useState(aAn()),o=h.useCallback(()=>{r(!0),sAn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return c.jsx(F3e.Provider,{value:i,children:t})}function cAn(){const e=h.useContext(F3e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function uAn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function dAn(e,t){switch(t.type){case"COMMENTS_SET":{const n=uAn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const fAn={comments:{}},hAn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},pAn="_createdAt",mAn="desc",gAn=['_type == "comment"',"target.document._ref == $documentId"],vAn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,yAn="order(".concat(pAn," ").concat(mAn,")"),yme="*[".concat(gAn.join(" && "),"] ").concat(vAn," | ").concat(yAn);function bAn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(dAn,fAn),[i,s]=h.useState(t!==null),[a,l]=h.useState(null),u=h.useMemo(()=>({documentId:Zn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(yme,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){l(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(yme,u,hAn).pipe(Xn(g=>(l(g),Ce(g)))):Ce(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function B3e(e,t){var n;const r=vf(t),o=r[0];if(o&&Ua(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=vr(r.slice(1));return s?B3e(i.type,s):i}}}function xAn(e,t){if(typeof t=="number")return t;const n=O9(e,t);return n===-1?!1:n}function wAn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=vf(r),s=[];let a=null;return i.forEach((l,u)=>{var d,f,p;const m=i.slice(0,u+1),v=i.slice(0,u),g=B3e(n,vr(m)),y=l.hasOwnProperty("_key"),x=yl(o,v),b=yl(o,m),w={document:o,currentUser:t,parent:x,value:b};if(y&&Array.isArray(x)){const C=xAn(x,l),_=typeof C=="number";s.push({invalid:C===!1,isArrayItem:!0,title:_?"#".concat(Number(C)+1):"Unknown array item"});return}if(g!=null&&g.type){const C=xo(g.type.hidden,w);s.push({invalid:C,isArrayItem:!1,title:Uv(g.type)}),a=g.type;return}if(Al(a)){const C=yl(o,v),_=C==null?void 0:C._type,S=(d=a==null?void 0:a.of)==null?void 0:d.find(D=>D.name===_),E=(f=S==null?void 0:S.fields)==null?void 0:f.find(D=>D.name===l);if(!E){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const j=Uv(E==null?void 0:E.type),k=xo((p=S==null?void 0:S.type)==null?void 0:p.hidden,w),T=xo(E==null?void 0:E.type.hidden,w),A=k||T;s.push({invalid:A,isArrayItem:!1,title:j}),a=E==null?void 0:E.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function CAn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const l=wAn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(l.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:l,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const N4=[],N3e={open:N4,resolved:N4},_An={data:N3e,error:null,loading:!1},SAn={data:[],error:null,loading:!1},z4=async()=>{await Promise.resolve()},o2={execute:z4},EAn={comments:_An,create:o2,edit:o2,getComment:()=>{},getCommentPath:()=>null,isRunningSetup:!1,mentionOptions:SAn,remove:o2,selectedPath:null,setSelectedPath:z4,setStatus:z4,status:"open",update:o2},kAn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=zN({documentId:r,documentType:o});return i?c.jsx(jAn,{...t}):c.jsx(NN.Provider,{value:EAn,children:n})}),jAn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState(null),[a,l]=h.useState("open"),{client:u,runSetup:d,isRunningSetup:f}=oAn(),p=Zn(r),m=hN(p,o,"low"),v=h.useMemo(()=>m.draft||m.published,[m.draft,m.published]),{dispatch:g,data:y=N4,error:x,loading:b}=bAn({documentId:p,client:u}),w=tAn(h.useMemo(()=>({documentValue:v}),[v])),C=dr().get(o),_=ni(),{name:S,dataset:E,projectId:j}=Ml(),k=h.useMemo(()=>{if(!C||!_)return N3e;const Y=j0(y,["_createdAt"],["desc"]),V=CAn({comments:Y,schemaType:C,currentUser:_,documentValue:v});return{open:V.filter(H=>H.parentComment.status==="open"),resolved:V.filter(H=>H.parentComment.status==="resolved")}},[_,y,v,C]),T=h.useCallback(Y=>k.open.filter(V=>V.threadId===Y).length,[k.open]),A=h.useCallback(Y=>y==null?void 0:y.find(V=>V._id===Y),[y]),D=h.useCallback(Y=>{const V=A(Y);return V?V.target.path.field:null},[A]),I=h.useCallback(Y=>{if(Y===null){s(null);return}setTimeout(()=>{s(Y)})},[]),P=h.useCallback(async Y=>{var V,H;const Q=((H=(V=y==null?void 0:y.find(F=>F._id===Y._id))==null?void 0:V._state)==null?void 0:H.type)==="createError";g({type:"COMMENT_ADDED",payload:{...Y,_state:Q?{type:"createRetrying"}:void 0}})},[y,g]),R=h.useCallback((Y,V)=>{g({type:"COMMENT_UPDATED",payload:{_id:Y,...V}})},[g]),$=h.useCallback((Y,V)=>{g({type:"COMMENT_UPDATED",payload:{_id:Y,...V}})},[g]),U=h.useCallback((Y,V)=>{g({type:"COMMENT_UPDATED",payload:{_id:Y,_state:{error:V,type:"createError"}}})},[g]),{operation:L}=rAn(h.useMemo(()=>({client:u,currentUser:_,dataset:E,documentId:p,documentType:o,projectId:j,schemaType:C,workspace:S,getThreadLength:T,runSetup:d,onCreate:P,onCreateError:U,onEdit:$,onUpdate:R}),[u,_,E,p,o,j,C,S,T,d,P,U,$,R])),W=h.useMemo(()=>({setSelectedPath:I,selectedPath:i,isRunningSetup:f,status:a,setStatus:l,getComment:A,getCommentPath:D,comments:{data:k,error:x,loading:b||f},create:{execute:L.create},remove:{execute:L.remove},edit:{execute:L.edit},update:{execute:L.update},mentionOptions:w}),[I,i,f,a,A,D,k,x,b,L.create,L.remove,L.edit,L.update,w]);return c.jsx(NN.Provider,{value:W,children:n})}),z3e=h.createContext(null);function TAn(e){const{children:t}=e,{dataset:n,projectId:r}=Ml(),o=_r(mn),[i,s]=h.useState(null),[a,l]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:"v2022-05-09",dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{l(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),l(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){l(!1);return}const y=d(g);s(y),await y.create(m)}catch(v){throw v}finally{l(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return c.jsx(z3e.Provider,{value:p,children:t})}const AAn=O(ne)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),DAn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return c.jsx(AAn,{ref:n,children:c.jsxs(q,{padding:2,children:[c.jsxs(q,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[c.jsx(N,{as:"h1",size:1,weight:"semibold",children:"Comments"}),c.jsx(qTn,{})]}),c.jsxs(q,{flex:"none",padding:1,gap:2,children:[c.jsx(nn,{id:"comment-status-menu-button",button:c.jsx(le,{text:sn(i),fontSize:1,padding:2,mode:"bleed",iconRight:Il,space:2}),menu:c.jsxs(Ht,{style:{width:"180px"},children:[c.jsx(Be,{fontSize:1,iconRight:i==="open"?Ra:void 0,onClick:s,text:"Open comments"}),c.jsx(Be,{fontSize:1,iconRight:i==="resolved"?Ra:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),c.jsx(le,{"aria-label":"Close comments",fontSize:1,icon:Qge,mode:"bleed",onClick:r,padding:2})]})]})})});function IAn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[l,u]=h.useState(null),d=h.useRef(null),f=ni(),{params:p,createPathWithParams:m,setParams:v}=NA(),g=Wo(p)||AOe,y=h.useRef(g==null?void 0:g.comment),x=Ei().push,{onPathOpen:b,ready:w}=sh(),{isDismissed:C,setDismissed:_}=cAn(),{comments:S,create:E,edit:j,getComment:k,getCommentPath:T,isRunningSetup:A,mentionOptions:D,remove:I,selectedPath:P,setSelectedPath:R,setStatus:$,status:U,update:L}=M3e(),W=h.useMemo(()=>S.data[U],[S,U]),Y=h.useMemo(()=>S.loading||!w,[S.loading,w]),V=h.useCallback(ie=>{$(ie),R(null)},[R,$]),H=h.useCallback(()=>{t(),R(null)},[t,R]),Q=h.useCallback(ie=>{const fe=m({...p,comment:ie}),xe="".concat(window.location.origin).concat(fe);navigator.clipboard.writeText(xe).then(()=>{x({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{x({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[m,p,x]),F=h.useCallback(ie=>{const fe=k(ie);fe&&E.execute({fieldPath:fe.target.path.field,id:fe._id,message:fe.message,parentCommentId:fe.parentCommentId,status:fe.status,threadId:fe.threadId})},[E,k]),G=h.useCallback(()=>{s||(r(!1),i(null))},[s]),z=h.useCallback((ie,fe)=>{b(ie),R({fieldPath:vr(ie),origin:"inspector",threadId:fe||null})},[b,R]),Z=h.useCallback(ie=>{E.execute(ie),R({fieldPath:ie.fieldPath,origin:"inspector",threadId:ie.threadId})},[E,R]),K=h.useCallback(ie=>{E.execute(ie)},[E]),J=h.useCallback((ie,fe)=>{j.execute(ie,fe)},[j]),X=h.useCallback((ie,fe)=>{L.execute(ie,{status:fe})},[L]),ee=h.useCallback(ie=>{var fe;const xe=W.find(ve=>{var qe;return((qe=ve.parentComment)==null?void 0:qe._id)===ie}),be=!!(xe&&((fe=xe==null?void 0:xe.replies)==null?void 0:fe.length)>0);r(!0),i({commentId:ie,isParent:be})},[W]),re=h.useCallback(async ie=>{try{a(!0),await I.execute(ie),G()}catch(fe){u(fe)}finally{a(!1)}},[G,I]),de=h.useCallback((ie,fe)=>{fe&&requestAnimationFrame(()=>{var xe;R({fieldPath:fe,origin:"inspector",threadId:null}),(xe=d.current)==null||xe.scrollToComment(ie),v({...p,comment:void 0}),y.current=void 0})},[p,v,R]);return h.useEffect(()=>{const ie=T(y.current||"");ie&&!Y&&y.current&&de(y.current,ie)},[T,de,Y]),c.jsxs(h.Fragment,{children:[o&&n&&c.jsx(HTn,{...o,error:l,loading:s,onClose:G,onConfirm:re}),c.jsxs(q,{direction:"column",overflow:"hidden",height:"fill",children:[c.jsx(XTn,{onDismiss:_,open:!C,placement:"left-start",children:c.jsx(DAn,{onClose:H,onViewChange:V,view:U})}),f&&c.jsx(zTn,{comments:W,currentUser:f,error:S.error,loading:Y,mentionOptions:D,onCopyLink:Q,onCreateRetry:F,onDelete:ee,onEdit:J,onNewThreadCreate:Z,onPathSelect:z,onReply:K,onStatusChange:X,readOnly:A,ref:d,selectedPath:P,status:U})]})]})}function PAn(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=zN({documentId:t,documentType:n});return{hidden:!r,icon:Kge,showAsAction:!0,title:"Comments"}}const OAn={name:hb,component:IAn,useMenuItem:PAn};var bme=Object.freeze,$An=Object.defineProperty,V3e=(e,t)=>bme($An(e,"raw",{value:bme(t||e.slice())})),xme,wme;const Cme={open:500},RAn=O(N)(xme||(xme=V3e([`
  width: max-content;
`]))),MAn=O(oe)(wme||(wme=V3e([`
  width: 320px;
`])));function FAn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:l,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),y=h.useRef(null),x=t>0,b=h.useCallback(()=>p(!1),[p]),w=h.useCallback(()=>{l(),b()},[b,l]),C=h.useMemo(()=>nC(m),[m]),_=h.useCallback(()=>{var T;if(!C){b();return}(T=y.current)==null||T.discardDialogController.open()},[b,C]),S=h.useCallback(T=>{T.isDefaultPrevented()||(T.key==="Escape"&&(T.preventDefault(),T.stopPropagation(),_()),d&&d(T))},[d,_]),E=h.useCallback(()=>{var T;(T=y.current)==null||T.discardDialogController.close()},[]),j=h.useCallback(()=>{var T;(T=y.current)==null||T.discardDialogController.close(),b(),u()},[b,u]);Nr(_,[v]);const k=c.jsxs(c.Fragment,{children:["Add comment to ",c.jsx("b",{children:r})]});if(!x){const T=c.jsx(MAn,{padding:2,space:4,children:c.jsx(VA,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:E,onDiscardConfirm:j,onKeyDown:S,onSubmit:w,placeholder:k,readOnly:o,ref:y,value:m})});return c.jsx(fn,{constrainSize:!0,content:T,fallbackPlacements:["left-start"],open:f,placement:"bottom-end",portal:!0,ref:g,children:c.jsx("div",{children:c.jsx(bt,{delay:Cme,disabled:f,portal:!0,placement:"top",content:c.jsx(B,{padding:2,children:c.jsx(N,{size:1,children:"Add comment"})}),children:c.jsx(le,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:dSn,mode:"bleed",onClick:a,padding:2,selected:f})})})})}return c.jsx(bt,{portal:!0,placement:"top",content:c.jsx(B,{padding:2,sizing:"border",children:c.jsxs(RAn,{size:1,children:["View comment",t>1?"s":""]})}),delay:Cme,fallbackPlacements:["bottom"],children:c.jsx(le,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:c.jsxs(q,{align:"center",gap:2,children:[c.jsx(N,{size:1,children:c.jsx(fSn,{})}),c.jsx(N,{size:0,children:t>9?"9+":t})]})})})}var _me=Object.freeze,LAn=Object.defineProperty,H3e=(e,t)=>_me(LAn(e,"raw",{value:_me(t||e.slice())})),Sme,Eme;const BAn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function NAn(e){const{documentId:t,documentType:n}=sh(),{isEnabled:r}=zN({documentId:t,documentType:n});return r?c.jsx(HAn,{...e}):e.renderDefault(e)}const kme={behavior:"smooth",block:"start",inline:"nearest"},zAn=O(Sj.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=pe.blue[o.dark?900:50].hex;return he(Sme||(Sme=H3e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),VAn=O(oe)(Eme||(Eme=H3e([`
  position: relative;
`])));function HAn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),[i,s]=h.useState(!1),a=h.useRef(null),{element:l}=Yf(),{openInspector:u,inspector:d}=sh(),f=ni(),{comments:p,create:m,isRunningSetup:v,mentionOptions:g,selectedPath:y,setSelectedPath:x,setStatus:b,status:w}=M3e(),C=sYe(a),_=h.useMemo(()=>Uv(e.schemaType),[e.schemaType]),S=h.useMemo(()=>p.data[w],[p.data,w]),[E,j]=h.useState(!1),k=h.useMemo(()=>(d==null?void 0:d.name)===hb,[d==null?void 0:d.name]),T=h.useMemo(()=>!k||(y==null?void 0:y.origin)==="field"?!1:(y==null?void 0:y.fieldPath)===vr(e.path),[k,e.path,y==null?void 0:y.fieldPath,y==null?void 0:y.origin]),A=h.useMemo(()=>{var V;const H=vr(e.path);return(V=S.find(Q=>Q.fieldPath===H))==null?void 0:V.threadId},[S,e.path]),D=h.useMemo(()=>{const V=vr(e.path);return p.data.open.map(Q=>Q.fieldPath===V?Q.commentsCount:0).reduce((Q,F)=>Q+F,0)||0},[p.data.open,e.path]),I=D>0,P=h.useCallback(V=>{if(k&&i&&V){const H=document.querySelector('[data-group-id="'.concat(V,'"]'));H&&(H.scrollIntoView(kme),s(!1))}},[i,k]),R=h.useCallback(()=>u(hb),[u]),$=h.useCallback(()=>{I&&w==="resolved"&&b("open"),I?(n(!1),u(hb)):n(V=>!V),A&&(s(!0),P(A),x({fieldPath:vr(e.path),origin:"field",threadId:null}))},[I,w,A,b,u,P,x,e.path]),U=h.useCallback(()=>{if(r){const V=ed(),H={fieldPath:vr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:V};m.execute(H),R(),b("open"),o(null),requestAnimationFrame(()=>{x({fieldPath:vr(e.path),origin:"field",threadId:V}),s(!0),P(V)})}},[m,R,P,e.path,x,b,r]),L=h.useCallback(()=>o(null),[]);h.useEffect(()=>{A&&P(A)},[A,P]);const W=h.useMemo(()=>({...kme,boundary:l,scrollMode:"if-needed",block:"start"}),[l]);h.useEffect(()=>{T&&a.current&&ox(a.current,W)},[l,T,e.path,W,y]),h.useEffect(()=>{j(C&&T);const H=setTimeout(()=>{j(!1)},1200);return()=>clearTimeout(H)},[S,C,T,e.path,y]);const Y=h.useMemo(()=>({button:f&&c.jsx(FAn,{count:Number(D),currentUser:f,fieldTitle:_,isRunningSetup:v,mentionOptions:g,onChange:o,onClick:$,onCommentAdd:U,onDiscard:L,open:t,setOpen:n,value:r}),hasComments:I,isAddingComment:t}),[f,D,_,g,$,U,L,t,r,v,I]);return c.jsxs(VAn,{ref:a,children:[c.jsx(eL,{children:E&&c.jsx(zAn,{animate:"animate",exit:"exit",initial:"initial",variants:BAn})}),e.renderDefault({...e,__internal_comments:Y})]})}function UAn(e){return c.jsx(TAn,{children:c.jsx(lAn,{children:e.renderDefault(e)})})}const WAn=X7({name:"sanity/desk/comments",document:{inspectors:[OAn]},form:{components:{field:NAn}},studio:{components:{layout:UAn}}}),U3e=h.createContext(null);function W3e(){const e=h.useContext(U3e);if(!e)throw new Error("DeskTool: missing context value");return e}const YAn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},qAn={create:b3,delete:lo,discardDraft:ia,initial:b3,editDraft:Su,editLive:Su,publish:Nx,unpublish:AS};function Y3e(e){return YAn[e]}function GAn(e){return qAn[e]}function KAn(e){let{maxLength:t,userIds:n}=e;return c.jsx(kj,{maxLength:t,children:n.map(r=>c.jsx(Va,{user:r,withTooltip:!0},r))})}var jme=Object.freeze,ZAn=Object.defineProperty,wp=(e,t)=>jme(ZAn(e,"raw",{value:jme(t||e.slice())})),Tme,Ame,Dme,Ime,Pme,Ome,$me;const SS=O(q)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return he(Tme||(Tme=wp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),XAn=O(le)(e=>{let{$selected:t,$disabled:n}=e;return he(Ime||(Ime=wp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),SS,SS,t&&he(Ame||(Ame=wp([`
      `,`::before {
        background: transparent;
      }
    `])),SS),n&&he(Dme||(Dme=wp([`
      cursor: not-allowed;
    `]))))}),QAn=O(B)(Pme||(Pme=wp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),JAn=O(N)(Ome||(Ome=wp([`
  text-transform: capitalize;
`]))),eDn=O(B)($me||($me=wp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ye(t.sanity.space[1]))}),Rme={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function tDn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:l}=e;const u=GAn(l),d=Array.from(t.authors),f=l!=="delete",p=h.useMemo(()=>{const v=new Date(a);return qo(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return c.jsx(XAn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":Rme[t.type],children:c.jsx(B,{paddingX:2,children:c.jsxs(q,{align:"stretch",children:[c.jsx(SS,{align:"center",children:c.jsx(QAn,{padding:2,children:c.jsx(N,{size:2,children:u&&h.createElement(u)})})}),c.jsxs(oe,{space:2,margin:2,children:[o&&c.jsx(q,{children:c.jsx(ne,{padding:1,radius:2,shadow:1,tone:i?"primary":Rme[t.type],children:c.jsx(Nt,{muted:!0,size:0,children:"Latest"})})}),c.jsx(B,{children:c.jsx(JAn,{size:1,weight:"medium",children:Y3e(l)||c.jsx("code",{children:l})})}),c.jsx(eDn,{paddingX:1,children:c.jsx(N,{size:0,muted:!0,children:p})})]}),c.jsx(q,{flex:1,justify:"flex-end",align:"center",children:c.jsx(KAn,{maxLength:3,userIds:d})})]})})})}var Mme=Object.freeze,nDn=Object.defineProperty,mk=(e,t)=>Mme(nDn(e,"raw",{value:Mme(t||e.slice())})),Fme,Lme,Bme,Nme;const rDn=O(oe)(Fme||(Fme=mk([`
  max-width: 200px;
`]))),oDn=O(q)(Lme||(Lme=mk([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),iDn=O(B)(e=>{let{$visible:t}=e;return he(Nme||(Nme=mk([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&he(Bme||(Bme=mk([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),V4=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[l,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const y=g===0,x=d&&g===d.length-1||!1;return c.jsxs(B,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[c.jsx(tDn,{chunk:m,isFirst:y,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&c.jsx(q,{align:"center",justify:"center",padding:4,children:c.jsx(zr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),c.jsxs(iDn,{$visible:!f||l,"data-ui":"timeline",children:[d.length===0&&c.jsxs(rDn,{padding:3,space:3,children:[c.jsx(N,{size:1,weight:"semibold",children:"No document history"}),c.jsx(N,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&c.jsx(oDn,{direction:"column",children:c.jsx(_m,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};V4.displayName="Timeline";function sDn(){return c.jsxs(q,{align:"flex-start",gap:3,padding:4,children:[c.jsx(ir,{tone:"critical",children:c.jsx(sa,{})}),c.jsxs(oe,{space:4,children:[c.jsx(ir,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),c.jsx(ir,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var zme=Object.freeze,aDn=Object.defineProperty,lDn=(e,t)=>zme(aDn(e,"raw",{value:zme(t||e.slice())})),Vme;const cDn=O(fn)(Vme||(Vme=lDn([`
  overflow: hidden;
  overflow: clip;
`])));function uDn(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:l,isDeleted:u}=sh(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),y=Ei(),x=Li(l,L=>L.chunks),b=Li(l,L=>L.isLoading),w=Li(l,L=>L.hasMoreChunks),C=Li(l,L=>L.realRevChunk),_=Li(l,L=>L.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(L=>{d&&(L.key==="Escape"||L.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);Nr(j,[p,v]),Es(k);const T=h.useCallback(L=>{try{const[W,Y]=l.findRangeForRev(L);i("closed"),o(W,Y)}catch(W){y.push({closable:!0,description:W.message,status:"error",title:"Unable to load revision"})}},[i,o,l,y]),A=h.useCallback(L=>{try{const[W,Y]=l.findRangeForSince(L);i("closed"),o(W,Y)}catch(W){y.push({closable:!0,description:W.message,status:"error",title:"Unable to load revision"})}},[i,o,l,y]),D=h.useCallback(()=>{b||l.loadMore()},[b,l]),I=s?c.jsx(sDn,{}):c.jsxs(c.Fragment,{children:[n==="rev"&&c.jsx(V4,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&c.jsx(V4,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),P=dDn((t==null?void 0:t.endTimestamp)||""),R=t?"".concat(f2e(Y3e(t.type)),": ").concat(P):"Latest version",$=t?"Since: ".concat(P):"Since: unknown version",U=n==="rev"?R:$;return c.jsx(cDn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:c.jsx(le,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Pl,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?U:"Loading history"})})}function dDn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return qo(n,"MMM d, yyyy, hh:mm a")},[e])}const fDn=O(ne)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function q3e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return c.jsxs(fDn,{...s,as:t,children:[c.jsxs(q,{padding:2,children:[c.jsx(B,{flex:1,padding:3,children:c.jsx(N,{as:"h1",size:1,weight:"semibold",children:i})}),c.jsx(B,{flex:"none",padding:1,children:c.jsx(le,{"aria-label":r,fontSize:1,icon:ia,mode:"bleed",onClick:o,padding:2})})]}),n]})}var Hme=Object.freeze,hDn=Object.defineProperty,pDn=(e,t)=>Hme(hDn(e,"raw",{value:Hme(t||e.slice())})),Ume;const mDn=O.div(Ume||(Ume=pDn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function gDn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=l=>{l.preventDefault(),t(l.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return c.jsxs(mDn,{onMouseDown:o,children:[c.jsx("span",{}),c.jsx("span",{})]})}var Wme=Object.freeze,vDn=Object.defineProperty,yDn=(e,t)=>Wme(vDn(e,"raw",{value:Wme(t||e.slice())})),Yme;const bDn=O(B)(Yme||(Yme=yDn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function vOn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),l=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{l.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=l.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return c.jsxs(bDn,{as:t,...i,ref:a,style:m,children:[n,c.jsx(gDn,{onResize:p,onResizeStart:f})]})}function xDn(){return c.jsx(r_n,{ms:300,children:c.jsxs(q,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[c.jsx(zr,{muted:!0}),c.jsx(B,{marginTop:3,children:c.jsx(N,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function wDn(e){const t=new Map;return eA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var qme=Object.freeze,CDn=Object.defineProperty,_Dn=(e,t)=>qme(CDn(e,"raw",{value:qme(t||e.slice())})),Gme;const SDn=O(B7)(Gme||(Gme=_Dn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function EDn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=sh(),a=h.useRef(null),l=Li(i,y=>y.diff),u=Li(i,y=>y.onOlderRevision),d=Li(i,y=>y.selectionState),f=Li(i,y=>y.sinceTime),p=d==="loading",m=!u,v=se.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:AHt,rootDiff:l,isComparingCurrent:m,value:s}),[n,l,m,r,s]),g=se.useMemo(()=>l?wDn(l):[],[l]);return c.jsxs(q,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(q3e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:c.jsxs(q,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[c.jsx(B,{flex:1,children:c.jsx(uDn,{mode:"since",chunk:f,placement:"bottom-start"})}),c.jsx(B,{flex:"none",children:c.jsx(Wi,{annotations:g,description:"Changes by",portal:!0,children:c.jsx(kj,{maxLength:4,"aria-label":"Changes by",children:g.map(y=>{let{author:x}=y;return c.jsx(Va,{user:x},x)})})})})]})}),c.jsx(ne,{flex:1,children:c.jsx(lm,{element:a.current,children:c.jsx(SDn,{"data-ui":"Scroller",ref:a,children:c.jsx(B,{flex:1,padding:4,children:c.jsx(kDn,{diff:l,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function kDn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?c.jsx(XM,{}):o?c.jsx(xDn,{}):n?c.jsx(QTe.Provider,{value:r,children:c.jsx(Hw,{diff:n,schemaType:i})}):c.jsx(XM,{})}const jDn={name:A4,useMenuItem:()=>{const{features:e}=W3e();return{hidden:!e.reviewChanges,icon:bF,title:"Review changes"}},component:EDn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function TDn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!_t(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const l=i.fields.find(u=>u.name===a);if(!l)throw new Error("Field type not found: .".concat(a));i=l.type,o.push(i);continue}if(typeof a=="number"){if(!$J(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const l=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":_t(s)?u.name===(s==null?void 0:s._type):!1);if(!l)throw new Error("Item type not found: [".concat(a,"]"));i=l,o.push(i);continue}if(_t(a)&&a._key){if(!$J(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>_t(d)&&d._key===a._key),!_t(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>_t(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const ADn={error:sa,warning:Zr,info:em},DDn={error:"critical",warning:"caution",info:"primary"};function IDn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=sh(),a=h.useCallback(l=>{r(l),n(l)},[n,r]);return c.jsxs(q,{direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(q3e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),c.jsxs(ne,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&c.jsx(B,{padding:2,children:c.jsx(N,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&c.jsx(oe,{space:2,children:i.map((l,u)=>c.jsx(PDn,{marker:l,onOpen:a,schemaType:o,value:s},u))})]})]})}function PDn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return c.jsxs(u0,{onCatch:a,children:[s&&c.jsx(ne,{padding:3,radius:2,tone:"critical",children:c.jsxs(N,{size:1,children:["ERROR: ",s.error.message]})}),!s&&c.jsx(ne,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:DDn[t.level],children:c.jsxs(q,{align:"flex-start",gap:3,children:[c.jsx(B,{flex:"none",children:c.jsx(N,{size:1,children:h.createElement(ADn[t.level])})}),c.jsxs(oe,{flex:1,space:2,children:[c.jsx(ODn,{path:t.path,schemaType:r,value:o}),c.jsx(N,{muted:!0,size:1,children:t.item.message})]})]})})]})}function ODn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>TDn({path:t,schemaType:n,value:r}),[t,n,r]);return c.jsx(N,{size:1,children:o.map((i,s)=>c.jsxs(h.Fragment,{children:[s>0&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),c.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function $Dn(e){const{documentId:t,documentType:n}=e,{validation:r}=pN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(A$e),s=o.some(D$e),a=h.useMemo(()=>i?sa:s?Zr:zk,[i,s]),l=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:l,showAsAction:!0}}const RDn={name:B2n,component:IDn,useMenuItem:$Dn},MDn=[jOe,TOe,SOe,EOe,_Oe,kOe],FDn=[b2n],LDn=[RDn,jDn],BDn=X7(e=>({name:"@sanity/desk-tool",document:{actions:t=>Array.from(new Set([...t,...MDn])),badges:t=>Array.from(new Set([...t,...FDn])),inspectors:t=>Array.from(new Set([...t,...LDn]))},plugins:[WAn()],tools:[{name:(e==null?void 0:e.name)||"desk",title:(e==null?void 0:e.title)||"Desk",icon:(e==null?void 0:e.icon)||sve,component:h.lazy(()=>i8(()=>import("./index-dd34e89c-c1139ffd.js"),["static/index-dd34e89c-c1139ffd.js","static/json-inspector-3a48b3e8.js"]).then(function(t){return t.index})),canHandleIntent:(t,n)=>!!(t==="edit"&&n.id||t==="create"&&n.type||t==="create"&&n.template),controlsDocumentTitle:!0,getIntentState:x2n,options:e,router:j2n}]}));function NDn(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const l=o[s];return!l||l.hidden?null:{action:"".concat(T4).concat(i.name),group:l.showAsAction?void 0:"inspectors",icon:l.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=l.hotkeys)==null?void 0:a.join("+"),showAsAction:l.showAsAction,title:l.title,tone:l.tone}}).filter(Boolean)}function zDn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:n0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function VDn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:eve,shortcut:"Ctrl+Alt+O"}:null}function HDn(e){const t=NDn(e),n=[VDn(e)].filter(Boolean);return[...t,zDn(e),...n]}const UDn=e=>_t(e)&&typeof e._id=="string"&&typeof e._type=="string";function WDn(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=ur().document,s=_et(e);if(r)throw r;return h.useEffect(()=>{s.pipe(lwe(500),rt(a=>UDn(a)?wr(i({document:a})):Ce(void 0)),Xn(a=>{const l=_t(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:o})},[i,s]),t}function YDn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(l=>l.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const qDn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Wo(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),c.jsx(c.Fragment,{})});function GDn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,l]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,l(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{l(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),c.jsx(c.Fragment,{children:r.map((f,p)=>f.useMenuItem&&c.jsx(qDn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const KDn=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,i=dr(),s=Qw(),{actions:a,badges:l,unstable_fieldActions:u,unstable_languageFilter:d,inspectors:f}=ur().document,p=SN(),m=NA(),v=m.setParams,{features:g}=W3e(),{push:y}=Ei(),{options:x,menuItemGroups:b=L2n,title:w=null,views:C=[]}=r,_=Wo(x),S=_.id,E=Zn(S),j=x.type,k=Wo(m.params)||F2n,T=Wo(m.payload),{templateName:A,templateParams:D}=h.useMemo(()=>YDn(s,{documentType:j,templateName:_.template,templateParams:_.templateParameters,panePayload:T,urlTemplate:k.template}),[j,_,k,T,s]),I=$bn({documentId:E,documentType:j,templateName:A,templateParams:D}),P=Wo(I),{patch:R}=Nc(E,j),$=hN(E,j),{validation:U}=pN(E,j),L=Myn(E,j),W=i.get(j),Y=($==null?void 0:$.draft)||($==null?void 0:$.published)||P.value,[V,H]=h.useState(!1),[Q,F]=h.useState([]),G=h.useMemo(()=>a({schemaType:j,documentId:E}),[a,E,j]),z=h.useMemo(()=>l({schemaType:j,documentId:E}),[l,E,j]),Z=h.useMemo(()=>d({schemaType:j,documentId:E}),[E,j,d]),K=Wo(U),J=Wo(C),[X,ee]=h.useState(()=>k.path?vf(k.path):[]),re=k.view||J[0]&&J[0].id||null,[de,ie]=h.useState("closed"),[fe,xe]=h.useState(null),be=Nxn({documentId:E,documentType:j,onError:xe,rev:k.rev,since:k.since}),ve=Li(be,Ye=>Ye.onOlderRevision),qe=Li(be,Ye=>Ye.revTime),Le=Li(be,Ye=>Ye.sinceAttributes),ot=Li(be,Ye=>Ye.timelineDisplayed),Qe=Li(be,Ye=>Ye.timelineReady),lt=Li(be,Ye=>Ye.isPristine),_e=h.useMemo(()=>Qe?!($!=null&&$.draft)&&!($!=null&&$.published)&&!lt:!1,[$==null?void 0:$.draft,$==null?void 0:$.published,lt,Qe]),me=WDn(Y),[We,Ge]=h.useState([]);h.useEffect(()=>{const Ye=p.documentPresence(E).subscribe(Mn=>{Ge(Mn)});return()=>{Ye.unsubscribe()}},[E,p]);const $e=h.useMemo(()=>f({documentId:E,documentType:j}),[E,j,f]),[xt,Tt]=h.useState(()=>k.inspect||null),Et=h.useRef(k.inspect);h.useEffect(()=>{Et.current!==k.inspect&&(Et.current=k.inspect,Tt(k.inspect||null))},[k.inspect]);const Kt=$e==null?void 0:$e.find(Ye=>Ye.name===xt),Ai=$e.find(Ye=>Ye.name===A4),ts=(Kt==null?void 0:Kt.name)===A4,As=!!Y,Ut=h.useMemo(()=>HDn({currentInspector:Kt,features:g,hasValue:As,inspectorMenuItems:Q,inspectors:$e,previewUrl:me}),[Kt,g,As,Q,$e,me]),Hr=k.inspect==="on",Bl=ts?Le:($==null?void 0:$.published)||null,Qa=h.useMemo(()=>W?u({documentId:E,documentType:j,schemaType:W}):[],[E,j,u,W]),ri=L==="connected"&&$.ready&&(Qe||!!fe),Rn=h.useMemo(()=>ve?ot||{_id:Y._id,_type:Y._type}:Y,[ve,ot,Y]),$r=h.useCallback((Ye,Mn)=>{v({...k,since:Ye,rev:Mn||void 0})},[k,v]),Qr=h.useCallback(Ye=>{ee(Ye),p.setLocation([{type:"document",documentId:E,path:Ye,lastActiveAt:new Date().toISOString()}])},[E,p,ee]),He=h.useCallback(Ye=>{ee([])},[ee]),gt=h.useRef(()=>{throw new Error("Nope")});gt.current=Ye=>{R.execute(Mwn(Ye.patches),P.value)};const Qn=h.useCallback(Ye=>gt.current(Ye),[]),gn=h.useCallback(Ye=>{var Mn,jn,jo,ch;const Hc=Ye&&$e.find(ii=>ii.name===Ye);if(Ye&&!Hc){console.warn('No inspector named "'.concat(Ye,'"'));return}if(Kt){if(Hc){const ii=(jn=(Mn=Hc.onClose)==null?void 0:Mn.call(Hc,{params:k}))!=null?jn:{params:k};Tt(null),Et.current=void 0,v({...ii.params,inspect:void 0});return}if(Kt){const ii=(ch=(jo=Kt.onClose)==null?void 0:jo.call(Kt,{params:k}))!=null?ch:{params:k};Tt(null),Et.current=void 0,v({...ii.params,inspect:void 0})}}},[Kt,$e,k,v]),oi=h.useCallback((Ye,Mn)=>{var jn,jo,ch,Hc;const ii=$e.find(JN=>JN.name===Ye);if(!ii){console.warn('No inspector named "'.concat(Ye,'"'));return}if((Kt==null?void 0:Kt.name)===ii.name){v({...k,...Mn,inspect:ii.name});return}let s1=k;Kt&&(s1=((jo=(jn=ii.onClose)==null?void 0:jn.call(ii,{params:s1}))!=null?jo:{params:s1}).params);const w$e=(Hc=(ch=ii.onOpen)==null?void 0:ch.call(ii,{params:s1}))!=null?Hc:{params:s1};Tt(ii.name),Et.current=ii.name,v({...w$e.params,...Mn,inspect:ii.name})},[Kt,$e,k,v]),ho=h.useCallback(()=>{Ai&&gn(Ai.name)},[gn,Ai]),ns=h.useCallback(()=>{g.reviewChanges&&Ai&&oi(Ai.name)},[g.reviewChanges,oi,Ai]),Ds=h.useCallback(()=>m.closeCurrent(),[m]),Nl=h.useCallback(()=>m.duplicateCurrent(),[m]),Vc=h.useCallback(function(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Hr;v(Ye?{...k,inspect:"on"}:_i(k,"inspect"))},[Hr,k,v]),Pm=h.useCallback(Ye=>{if(Ye.action==="production-preview"&&me)return window.open(me),!0;if(Ye.action==="inspect")return Vc(!0),!0;if(Ye.action==="reviewChanges")return ns(),!0;if(typeof Ye.action=="string"&&Ye.action.startsWith(T4)){const Mn=Ye.action.slice(T4.length),jn=$e.find(jo=>jo.name===Mn);if(jn)return jn.name===xt?gn(jn.name):oi(jn.name),!0}return!1},[gn,ns,xt,$e,oi,me,Vc]),ah=h.useCallback(Ye=>{for(const Mn of Ut)if(Mn.shortcut&&Oi(Mn.shortcut,Ye)){Ye.preventDefault(),Ye.stopPropagation(),Pm(Mn);return}},[Pm,Ut]),lh=h.useCallback(()=>Vc(!1),[Vc]),[o1,u$e]=h.useState([]),[d$e,YN]=h.useState(),[qN,GN]=h.useState(),[KN,ZN]=h.useState(),f$e=h.useCallback((Ye,Mn)=>{GN(jn=>Vh(jn,Ye,Mn))},[]),h$e=h.useCallback((Ye,Mn)=>{ZN(jn=>Vh(jn,Ye,Mn))},[]),p$e=h.useCallback((Ye,Mn)=>YN(jn=>Vh(jn,Ye,Mn)),[]),m$e=Y._createdAt?"update":"create",XN=!!(W!=null&&W.liveEdit),ZA=Y._id?Y._id:"dummy-id",g$e=h.useMemo(()=>({...Y,_id:XN?Zn(ZA):Qo(ZA)}),[XN,Y,ZA]),[i1,XA]=Nbn({document:g$e,permission:m$e}),QN=!(Y!=null&&Y._id),v$e=h.useMemo(()=>{var Ye;const Mn=!XA&&!(i1!=null&&i1.granted),jn=!vK(W,"update"),jo=QN&&!vK(W,"create"),ch=L==="reconnecting",Hc=(Ye=$.transactionSyncLock)==null?void 0:Ye.enabled;return!ri||qe!==null||Mn||jn||jo||ch||Hc||V||_e},[L,$.transactionSyncLock,QN,_e,V,XA,i1==null?void 0:i1.granted,ri,qe,W]),QA=Rwn(W,{value:Rn,readOnly:v$e,comparisonValue:Bl,focusPath:X,openPath:o1,collapsedPaths:qN,presence:We,validation:K,collapsedFieldSets:KN,fieldGroupState:d$e,changesOpen:ts}),cC=h.useRef(QA);cC.current=QA;const JA=h.useCallback(Ye=>{wwn(cC.current,Ye).forEach(jn=>{jn.type==="expandPath"&&GN(jo=>Vh(jo,jn.path,!1)),jn.type==="expandFieldSet"&&ZN(jo=>Vh(jo,jn.path,!1)),jn.type==="setSelectedGroup"&&YN(jo=>Vh(jo,jn.path,jn.groupName))}),u$e(Ye)},[cC]),y$e={actions:G,activeViewId:re,badges:z,changesOpen:ts,closeInspector:gn,collapsedFieldSets:KN,collapsedPaths:qN,compareValue:Bl,connectionState:L,displayed:Rn,documentId:E,documentIdRaw:S,documentType:j,editState:$,fieldActions:Qa,focusPath:X,inspector:Kt||null,inspectors:$e,menuItems:Ut,onBlur:He,onChange:Qn,onFocus:Qr,onPathOpen:JA,onHistoryClose:ho,onHistoryOpen:ns,onInspectClose:lh,onKeyUp:ah,onMenuAction:Pm,onPaneClose:Ds,onPaneSplit:Nl,onSetActiveFieldGroup:p$e,onSetCollapsedPath:f$e,onSetCollapsedFieldSet:h$e,openInspector:oi,index:n,inspectOpen:Hr,validation:K,menuItemGroups:b||[],paneKey:o,previewUrl:me,ready:ri,schemaType:W,isPermissionsLoading:XA,permissions:i1,setTimelineMode:ie,setTimelineRange:$r,setIsDeleting:H,isDeleting:V,isDeleted:_e,timelineError:fe,timelineMode:de,timelineStore:be,title:w,value:Y,views:J,formState:QA,unstable_languageFilter:Z};h.useEffect(()=>{L==="reconnecting"&&y({id:"sanity/desk/reconnecting",status:"warning",title:c.jsx(c.Fragment,{children:"Connection lost. Reconnecting"})})},[L,y]),h.useEffect(()=>{var Ye;if(ri&&k.path){const{path:Mn,...jn}=k,jo=nRe((Ye=cC.current)==null?void 0:Ye.value,vf(Mn));ee(jo),JA(jo),m.setParams(jn)}},[k,E,JA,ri,m]);const[b$e,x$e]=h.useState([]);return c.jsxs(COe.Provider,{value:y$e,children:[$e.length>0&&c.jsx(GDn,{documentId:E,documentType:j,inspectors:$e,onMenuItems:F}),Qa.length>0&&W&&c.jsx(Nw,{actions:Qa,documentId:E,documentType:j,onActions:x$e,path:Vn,schemaType:W}),c.jsx(Uw,{actions:b$e,path:Vn,children:c.jsx(kAn,{documentId:E,documentType:j,children:t})})]})});KDn.displayName="DocumentPaneProvider";var ZDn=Object.defineProperty,XDn=(e,t,n)=>t in e?ZDn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kme=(e,t,n)=>(XDn(e,typeof t!="symbol"?t+"":t,n),n);class tn extends Error{constructor(t,n,r,o){super(t),Kme(this,"path"),Kme(this,"helpId");const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var Pn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Pn||{});const QDn=["_id","_type","_createdAt","_updatedAt","_rev"];function H4(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return QDn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(l=>H4(l,r)).join(","),"}")}const i=r.length>0&&H4(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function JDn(e,t){return t.map(n=>H4(e,n.field.split("."))).join(", ")}const G3e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},eIn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},tIn=G3e,Zme=[G3e,eIn];var nIn=Object.defineProperty,rIn=(e,t,n)=>t in e?nIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oIn=(e,t,n)=>(rIn(e,typeof t!="symbol"?t+"":t,n),n);function K3e(e,t,n){return e instanceof Lf?e.serialize({path:n,index:t}):e}class Lf{constructor(t,n){this._context=t,oIn(this,"spec"),this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new tn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(Pn.TITLE_REQUIRED)}if(!r&&!o)throw new tn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new tn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Lf(this._context);return n.spec={...this.spec,...t||{}},n}}function Z3e(e,t,n){return new Lf(e).group("sorting").title("Sort by ".concat(t.title)).icon(wF).action("setSortOrder").params({by:t.by,extendedProjection:n})}function X3e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Zme):Zme).map(o=>Z3e(e,o,JDn(r,o.by)))}var iIn=Object.defineProperty,sIn=(e,t,n)=>t in e?iIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xme=(e,t,n)=>(sIn(e,typeof t!="symbol"?t+"":t,n),n);function Q3e(e,t,n){return e instanceof Ox?e.serialize({path:n,index:t}):e}class Ox{constructor(t,n){this._context=t,Xme(this,"_id"),Xme(this,"_title"),this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new Ox(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new Ox(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new tn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new tn("`title` is required for a menu item group",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);return{id:n,title:r}}}const J3e=/([^A-Za-z0-9-_.])/;function aC(e,t,n){if(typeof e!="string")throw new tn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(J3e)||[];if(r)throw new tn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new tn("Structure node id cannot start with __edit__",t,n);return e}function YA(e,t){if(t)return t;const n=Ffe(e);return J3e.test(n)?Ffe(Ske(e)):n}var aIn=Object.defineProperty,lIn=(e,t,n)=>t in e?aIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cIn=(e,t,n)=>(lIn(e,typeof t!="symbol"?t+"":t,n),n);class $x{constructor(t){cIn(this,"spec"),this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:YA(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new tn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!s)throw new tn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);return{id:aC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,l)=>K3e(a,l,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,l)=>Q3e(a,l,t.path))}}clone(t){const n=new $x;return n.spec={...this.spec,...t||{}},n}}async function e$e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Zn(t),o=Qo(t);return(await e(mn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}var uIn=Object.defineProperty,dIn=(e,t,n)=>t in e?uIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fIn=(e,t,n)=>(dIn(e,typeof t!="symbol"?t+"":t,n),n);class VN{constructor(){fIn(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||n_n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new tn("`id` is required for view item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new tn("`title` is required for view item",t.path,t.index).withHelpUrl(Pn.TITLE_REQUIRED);return{id:aC(n,t.path,t.index),title:r,icon:o}}}function hIn(e){return typeof e.serialize=="function"}function t$e(e,t,n){return hIn(e)?e.serialize({path:n,index:t}):e}var pIn=Object.defineProperty,mIn=(e,t,n)=>t in e?pIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gIn=(e,t,n)=>(mIn(e,typeof t!="symbol"?t+"":t,n),n);const vIn=e=>_t(e)&&e.type==="component";class qA extends VN{constructor(t){const n=vIn(t)?{...t}:{options:{}};super(),gIn(this,"spec"),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new tn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(Pn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new qA;return n.spec={...this.spec,...t||{}},n}}var yIn=Object.defineProperty,bIn=(e,t,n)=>t in e?yIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xIn=(e,t,n)=>(bIn(e,typeof t!="symbol"?t+"":t,n),n);class GA extends VN{constructor(t){super(),xIn(this,"spec"),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new GA;return n.spec={...this.spec,...t||{}},n}}const n$e=e=>new GA(e),wIn=e=>new qA(e);var CIn=Object.freeze({__proto__:null,ComponentViewBuilder:qA,FormViewBuilder:GA,GenericViewBuilder:VN,component:wIn,form:n$e,maybeSerializeView:t$e}),_In=Object.defineProperty,SIn=(e,t,n)=>t in e?_In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EIn=(e,t,n)=>(SIn(e,typeof t!="symbol"?t+"":t,n),n);const kIn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const l=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await e$e(n,r)),!a)throw new tn("Failed to resolve document, and no type provided in parameters.",l,u);return t({documentId:r,schemaType:a})}};class Bf{constructor(t,n){this._context=t,EIn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:YA(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new tn("`id` is required for document nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!s||!s.id)throw new tn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(Pn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new tn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[n$e()]).map((d,f)=>t$e(d,f,t)),l=a.map(d=>d.id),u=ao(l.filter((d,f)=>l.includes(d,f+1)));if(u.length>0)throw new tn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||kIn(this._context),id:aC(i,t,n),type:"document",options:jIn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Bf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function jIn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function TIn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Bf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function AIn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Qme=["default","card","media","detail","block"],r$e=Symbol("Document type list canHandleIntent"),HN=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",l=r,u=((o=l.options)==null?void 0:o.filter)||"",d=((i=l.options)==null?void 0:i.params)||{},f=l.schemaTypeName?[l.schemaTypeName]:UN(u,d),p=l.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};HN.identity=r$e;var DIn=Object.defineProperty,IIn=(e,t,n)=>t in e?DIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PIn=(e,t,n)=>(IIn(e,typeof t!="symbol"?t+"":t,n),n);class KA{constructor(t,n){this._context=t,PIn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new tn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!o.templateId)throw new tn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);const a=s.find(l=>l.id===o.templateId);if(!a)throw new tn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new KA(this._context);return n.spec={...this.spec,...t},n}}function OIn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function $In(e,t,n){return e instanceof KA?e.serialize({path:n,index:t}):e}function RIn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a=abt({type:i&&i.schemaType,template:o.templateId},Boolean),l=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Lf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||up).intent({type:"create",params:l}).serialize()})}var MIn=Object.defineProperty,FIn=(e,t,n)=>t in e?MIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jme=(e,t,n)=>(FIn(e,typeof t!="symbol"?t+"":t,n),n);function LIn(){}const o$e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&HN(e,t,{pane:r,index:o})};class i$e{constructor(){Jme(this,"initialValueTemplatesSpecified",!1),Jme(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:YA(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Qme.includes(o))throw new tn("`layout` must be one of ".concat(Qme.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>$In(s,a,r));return{id:aC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||LIn,canHandleIntent:this.spec.canHandleIntent||o$e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>K3e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>Q3e(s,a,r))}}}var BIn=Object.defineProperty,NIn=(e,t,n)=>t in e?BIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zIn=(e,t,n)=>(NIn(e,typeof t!="symbol"?t+"":t,n),n);const VIn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new tn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(Pn.QUERY_PROVIDED_FOR_FILTER);return r},HIn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||e$e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new Bf(e).id("editor").documentId(t).schemaType(""))};class lC extends i$e{constructor(t,n){super(),this._context=t,zIn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new tn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(Pn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new tn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(Pn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),F2e(Pn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||HIn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||mn.apiVersion,filter:VIn(this.spec,t)}}}clone(t){const n=new lC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=UIn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=WIn(n.spec)),n}getSpec(){return this.spec}}function UIn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(UN(i,s)));if(a.length!==0)return a.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:up}))}function WIn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=UN(n,r);return o.length===1?o[0]:void 0}function UN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=YIn(e,t);return n.length===0&&(n=qIn(e,t)),n}function YIn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function qIn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}var GIn=Object.defineProperty,KIn=(e,t,n)=>t in e?GIn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZIn=(e,t,n)=>(KIn(e,typeof t!="symbol"?t+"":t,n),n);const XIn=e=>e instanceof n1?"ListBuilder":nPn(e)?"Promise":Array.isArray(e)?"array":typeof e,QIn=e=>e.type==="listItem",JIn=(e,t,n)=>(n.pane.items||[]).filter(uPn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||o$e(e,t,n),ePn=(e,t)=>{const o=(t.parent.items.filter(QIn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function tPn(e,t,n){if(e instanceof r1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||XIn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new tn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(Pn.INVALID_LIST_ITEM)}return e}function nPn(e){return _t(e)&&typeof e.then=="function"}class n1 extends i$e{constructor(t,n){super(),this._context=t,ZIn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new tn("`id` is required for lists",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new tn("`items` must be an array of items",t.path,t.index).withHelpUrl(Pn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,l)=>tPn(a,l,o)),s=i.filter((a,l)=>Cke(i,{id:a.id},l+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),l=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new tn("List items with same ID found (".concat(l,")"),t.path,t.index).withHelpUrl(Pn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||JIn,child:this.spec.child||ePn,items:i}}clone(t){const n=new n1(this._context);return n.spec={...this.spec,...t||{}},n}}var rPn=Object.defineProperty,oPn=(e,t,n)=>t in e?rPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iPn=(e,t,n)=>(oPn(e,typeof t!="symbol"?t+"":t,n),n);class r1{constructor(t,n){this._context=t,iPn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:YA(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new tn("`id` is required for list items",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new tn("`title` is required for list items",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const l=this._context.schema.get(i);if(!l)throw new tn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(Pn.SCHEMA_TYPE_NOT_FOUND);i=l}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof $x||o instanceof lC||o instanceof Bf||o instanceof n1?o.serialize(s):o;if(typeof a=="function"){const l=a;a=(u,d)=>l(u,{...d,serializeOptions:s})}return{...this.spec,id:aC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new r1(this._context);return n.spec={...this.spec,...t||{}},n}}var sPn=Object.defineProperty,aPn=(e,t,n)=>t in e?sPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lPn=(e,t,n)=>(aPn(e,typeof t!="symbol"?t+"":t,n),n);const cPn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Bf(e).id("documentEditor").documentId(n)};class WN extends r1{constructor(t,n){super(t,n),this._context=t,lPn(this,"spec"),this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new tn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(Pn.SCHEMA_TYPE_REQUIRED);const r=n.child||cPn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new WN(this._context);return n.spec={...this.spec,...t||{}},n}}function uPn(e){return _t(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}var dPn=Object.defineProperty,fPn=(e,t,n)=>t in e?dPn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hPn=(e,t,n)=>(fPn(e,typeof t!="symbol"?t+"":t,n),n);class gk extends lC{constructor(t,n){super(t),this._context=t,hPn(this,"spec"),this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new gk(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new gk(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===r$e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function pPn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const mPn=["sanity.imageAsset","sanity.fileAsset"];function gPn(e){return mPn.includes(e)}function vPn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function yPn(e){return e.type==="list"}function bPn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&vPn(r)}).filter(n=>!gPn(n))}function s$e(e){return bPn(e).map(n=>a$e(e,n))}function a$e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||sn(t);return new r1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,l=yPn(a)?a.items.find(d=>d.id===i):null;let u=l$e(e,t);return l&&l.title&&(u=u.title(l.title)),u})}function l$e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const l=a.title||sn(i),u=pPn(a);return new gk(e).id(s.id||i).title(s.title||l).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(tIn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||HN).menuItems(s.menuItems||[...X3e(e,a),new Lf(e).group("layout").title("Compact view").icon(dve).action("setLayout").params({layout:"default"}),new Lf(e).group("layout").title("Detailed view").icon(fve).action("setLayout").params({layout:"detail"})])}function xPn(e){return!e||typeof e=="string"?!1:!!e.icon}function wPn(e){const t=s$e(e);return new n1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>xPn(n.getSchemaType())))}function CPn(e){let{defaultDocumentNode:t,source:n}=e;const r=Emn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new Bf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Zn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>wPn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return l$e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return a$e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return s$e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Bf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return AIn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new n1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new r1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Lf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Ox(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return RIn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new lC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new WN(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return Z3e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return X3e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return TIn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return OIn(o,...a)},initialValueTemplateItem:(s,a)=>new KA(o,{id:s,parameters:a,templateId:s}),component:s=>sr.isValidElementType(s)?new $x().component(s):new $x(s),divider:()=>({id:eSe("__divider__"),type:"divider"}),view:CIn,context:o};return i}function yOn(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=ur(),a=Smn(s),l=Ll(),u=h.useMemo(()=>CPn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:l}):u.defaults(),[u,n,a,l]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return c.jsx(U3e.Provider,{value:p,children:r})}const _Pn={}.SANITY_STUDIO_API_VERSION||"2023-11-05",SPn=c$e("production","Missing environment variable: NEXT_PUBLIC_SANITY_DATASET"),EPn=c$e("i07j33y4","Missing environment variable: NEXT_PUBLIC_SANITY_PROJECT_ID");function c$e(e,t){if(e===void 0)throw new Error(t);return e}const kPn=Mx({name:"skill",title:"Skill",type:"document",fields:[An({name:"title",title:"Title",description:"Title of the skill",type:"string"}),An({name:"progress",title:"Progress",type:"number",description:"Progressof skill from 0 to 100%",validation:e=>e.min(0).max(100)}),An({name:"image",title:"Image",type:"image",options:{hotspot:!0}})]}),jPn=Mx({name:"experience",title:"Experience",type:"document",fields:[An({name:"jobTitle",title:"JobTitle",type:"string"}),An({name:"companyImage",title:"CompanyImage",type:"image",options:{hotspot:!0}}),An({name:"company",title:"Company",type:"string"}),An({name:"dateStarted",title:"DateStarted",type:"string"}),An({name:"dateEnded",title:"DateEnded",type:"string"}),An({name:"isCurrentlyWorkingHere",title:"IsCurrentlyWorkingHere",type:"boolean"}),An({name:"technologies",title:"Technologies",type:"array",of:[{type:"reference",to:{type:"skill"}}]}),An({name:"points",title:"Points",type:"array",of:[{type:"string"}]})]}),TPn=Mx({name:"project",title:"Project",type:"document",fields:[An({name:"title",title:"Title",type:"string"}),An({name:"linkToBuild",title:"Link To Build",type:"string"}),An({name:"summary",title:"Summary",type:"array",of:[{type:"string"}]}),An({name:"image",title:"Image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative Text"}]}),An({name:"technologies",title:"Technologies",type:"array",of:[{type:"reference",to:{type:"skill"}}]})]}),APn=Mx({name:"pageInfo",title:"PageInfo",type:"document",fields:[An({name:"name",title:"Name",type:"string"}),An({name:"backgroundInformation",title:"Background Information",type:"string"}),An({name:"email",title:"Email",type:"string"}),An({name:"role",title:"Role",type:"string"}),An({name:"address",title:"Address",type:"string"}),An({name:"phoneNumber",title:"Phone Number",type:"number"}),An({name:"heroImage",title:"Hero Image",type:"image",options:{hotspot:!0}}),An({name:"profilePic",title:"Profile Pic",type:"image",options:{hotspot:!0}})]}),DPn=Mx({name:"social",title:"Social",type:"document",fields:[An({name:"title",title:"title",description:"Platform for social media",type:"string"}),An({name:"url",title:"url",type:"url"})]}),IPn={types:[APn,TPn,jPn,kPn,DPn]},PPn={basePath:"/studio",projectId:EPn,dataset:SPn,schema:IPn,plugins:[BDn(),Nwn({defaultApiVersion:_Pn})]};Ryn(document.getElementById("sanity"),PPn,{reactStrictMode:!1,basePath:"/"});export{Lw as $,dF as A,le as B,ta as C,KDn as D,_r as E,q as F,mn as G,ti as H,Tr as I,ce as J,Ci as K,Xn as L,Na as M,Wk as N,ne as O,rOn as P,Pf as Q,Yt as R,Bhn as S,N as T,Wn as U,awe as V,Bk as W,Kr as X,Vi as Y,F7 as Z,cOn as _,sr as a,Byn as a$,So as a0,yt as a1,m0 as a2,Ce as a3,za as a4,rwe as a5,yn as a6,b5 as a7,ps as a8,Ake as a9,i8 as aA,Ei as aB,sh as aC,Fyn as aD,QPn as aE,he as aF,ye as aG,ko as aH,ia as aI,WPn as aJ,Nb as aK,sA as aL,YPn as aM,vAe as aN,a2n as aO,xOe as aP,s2n as aQ,Li as aR,uDn as aS,e2n as aT,O_n as aU,bt as aV,HFe as aW,kOe as aX,Sj as aY,se as aZ,Ff as a_,co as aa,Yi as ab,wi as ac,Ec as ad,bKt as ae,Ts as af,NA as ag,wN as ah,OPn as ai,p_n as aj,Yu as ak,cv as al,kp as am,nFe as an,Zr as ao,gs as ap,Ie as aq,Vb as ar,Oj as as,hn as at,zt as au,Xu as av,Qj as aw,_t as ax,Ll as ay,MPn as az,sOn as b,ni as b$,rw as b0,ZPn as b1,YPe as b2,qPn as b3,Qw as b4,lYt as b5,ad as b6,oQe as b7,d0 as b8,dOn as b9,pOn as bA,mOn as bB,hOn as bC,Ml as bD,fOn as bE,u0 as bF,yOn as bG,m_n as bH,aOn as bI,vOn as bJ,gOn as bK,rt as bL,Kn as bM,Fxe as bN,ed as bO,tn as bP,Nt as bQ,xr as bR,F2e as bS,EL as bT,pet as bU,ca as bV,o_n as bW,PQe as bX,Nc as bY,yF as bZ,e0 as b_,iOn as ba,Oi as bb,ks as bc,VPn as bd,uOn as be,UPn as bf,vr as bg,g_n as bh,tOn as bi,nOn as bj,_i as bk,BA as bl,lwe as bm,Sxe as bn,_xe as bo,CTe as bp,B7 as bq,Tj as br,lm as bs,QE as bt,LUt as bu,Af as bv,AFe as bw,Nx as bx,Hv as by,HPn as bz,lOn as c,JPn as c0,nn as c1,Il as c2,Ht as c3,Be as c4,Qt as c5,exe as c6,hN as c7,$Je as c8,wr as c9,SL as ca,fS as cb,fn as cc,Dc as cd,Nr as ce,Es as cf,an as cg,HO as ch,Qgt as ci,fl as cj,dl as ck,j4 as cl,yve as cm,$Pn as cn,uft as co,Pu as cp,Df as cq,_u as cr,sa as cs,fL as ct,YFe as cu,Hwe as cv,Bx as cw,bv as cx,pe as cy,eOn as d,B as e,DN as f,dr as g,ur as h,Wo as i,c as j,jL as k,vf as l,Pr as m,pc as n,gf as o,AN as p,Zn as q,h as r,O as s,zr as t,W3e as u,oe as v,Yk as w,r_n as x,_m as y,oOn as z};
